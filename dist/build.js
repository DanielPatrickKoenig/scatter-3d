!function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/dist/",e(e.s=239)}([function(t,e){function n(t,e){"createCanvas"===t&&(K=null),Z[t]=e}function i(t){if(null==t||"object"!=typeof t)return t;var e=t,n=U.call(t);if("[object Array]"===n){if(!N(t)){e=[];for(var r=0,a=t.length;r<a;r++)e[r]=i(t[r])}}else if(H[n]){if(!N(t)){var o=t.constructor;if(t.constructor.from)e=o.from(t);else{e=new o(t.length);for(var r=0,a=t.length;r<a;r++)e[r]=i(t[r])}}}else if(!G[n]&&!N(t)&&!A(t)){e={};for(var s in t)t.hasOwnProperty(s)&&(e[s]=i(t[s]))}return e}function r(t,e,n){if(!M(e)||!M(t))return n?i(e):t;for(var a in e)if(e.hasOwnProperty(a)){var o=t[a],s=e[a];!M(s)||!M(o)||_(s)||_(o)||A(s)||A(o)||S(s)||S(o)||N(s)||N(o)?!n&&a in t||(t[a]=i(e[a],!0)):r(o,s,n)}return t}function a(t,e){for(var n=t[0],i=1,a=t.length;i<a;i++)n=r(n,t[i],e);return n}function o(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function s(t,e,n){for(var i in e)e.hasOwnProperty(i)&&(n?null!=e[i]:null==t[i])&&(t[i]=e[i]);return t}function l(){return K||(K=J().getContext("2d")),K}function c(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n}return-1}function u(t,e){function n(){}var i=t.prototype;n.prototype=e.prototype,t.prototype=new n;for(var r in i)i.hasOwnProperty(r)&&(t.prototype[r]=i[r]);t.prototype.constructor=t,t.superClass=e}function h(t,e,n){t="prototype"in t?t.prototype:t,e="prototype"in e?e.prototype:e,s(t,e,n)}function d(t){if(t)return"string"!=typeof t&&"number"==typeof t.length}function p(t,e,n){if(t&&e)if(t.forEach&&t.forEach===W)t.forEach(e,n);else if(t.length===+t.length)for(var i=0,r=t.length;i<r;i++)e.call(n,t[i],i,t);else for(var a in t)t.hasOwnProperty(a)&&e.call(n,t[a],a,t)}function f(t,e,n){if(t&&e){if(t.map&&t.map===X)return t.map(e,n);for(var i=[],r=0,a=t.length;r<a;r++)i.push(e.call(n,t[r],r,t));return i}}function g(t,e,n,i){if(t&&e){if(t.reduce&&t.reduce===q)return t.reduce(e,n,i);for(var r=0,a=t.length;r<a;r++)n=e.call(i,n,t[r],r,t);return n}}function m(t,e,n){if(t&&e){if(t.filter&&t.filter===$)return t.filter(e,n);for(var i=[],r=0,a=t.length;r<a;r++)e.call(n,t[r],r,t)&&i.push(t[r]);return i}}function v(t,e,n){if(t&&e)for(var i=0,r=t.length;i<r;i++)if(e.call(n,t[i],i,t))return t[i]}function y(t,e){var n=Y.call(arguments,2);return function(){return t.apply(e,n.concat(Y.call(arguments)))}}function x(t){var e=Y.call(arguments,1);return function(){return t.apply(this,e.concat(Y.call(arguments)))}}function _(t){return"[object Array]"===U.call(t)}function b(t){return"function"==typeof t}function w(t){return"[object String]"===U.call(t)}function M(t){var e=typeof t;return"function"===e||!!t&&"object"===e}function S(t){return!!G[U.call(t)]}function T(t){return!!H[U.call(t)]}function A(t){return"object"==typeof t&&"number"==typeof t.nodeType&&"object"==typeof t.ownerDocument}function C(t){return t!==t}function L(t){for(var e=0,n=arguments.length;e<n;e++)if(null!=arguments[e])return arguments[e]}function E(t,e){return null!=t?t:e}function I(t,e,n){return null!=t?t:null!=e?e:n}function P(){return Function.call.apply(Y,arguments)}function D(t){if("number"==typeof t)return[t,t,t,t];var e=t.length;return 2===e?[t[0],t[1],t[0],t[1]]:3===e?[t[0],t[1],t[2],t[1]]:t}function R(t,e){if(!t)throw new Error(e)}function O(t){return null==t?null:"function"==typeof t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function k(t){t[Q]=!0}function N(t){return t[Q]}function z(t){function e(t,e){n?i.set(t,e):i.set(e,t)}var n=_(t);this.data={};var i=this;t instanceof z?t.each(e):t&&p(t,e)}function B(t){return new z(t)}function V(t,e){for(var n=new t.constructor(t.length+e.length),i=0;i<t.length;i++)n[i]=t[i];var r=t.length;for(i=0;i<e.length;i++)n[i+r]=e[i];return n}function F(){}var G={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},H={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},U=Object.prototype.toString,j=Array.prototype,W=j.forEach,$=j.filter,Y=j.slice,X=j.map,q=j.reduce,Z={},J=function(){return Z.createCanvas()};Z.createCanvas=function(){return document.createElement("canvas")};var K,Q="__ec_primitive__";z.prototype={constructor:z,get:function(t){return this.data.hasOwnProperty(t)?this.data[t]:null},set:function(t,e){return this.data[t]=e},each:function(t,e){void 0!==e&&(t=y(t,e));for(var n in this.data)this.data.hasOwnProperty(n)&&t(this.data[n],n)},removeKey:function(t){delete this.data[t]}},e.$override=n,e.clone=i,e.merge=r,e.mergeAll=a,e.extend=o,e.defaults=s,e.createCanvas=J,e.getContext=l,e.indexOf=c,e.inherits=u,e.mixin=h,e.isArrayLike=d,e.each=p,e.map=f,e.reduce=g,e.filter=m,e.find=v,e.bind=y,e.curry=x,e.isArray=_,e.isFunction=b,e.isString=w,e.isObject=M,e.isBuiltInObject=S,e.isTypedArray=T,e.isDom=A,e.eqNaN=C,e.retrieve=L,e.retrieve2=E,e.retrieve3=I,e.slice=P,e.normalizeCssArray=D,e.assert=R,e.trim=O,e.setAsPrimitive=k,e.isPrimitive=N,e.createHashMap=B,e.concatArray=V,e.noop=F},function(t,e,n){function i(t,e){return function(n,i,r){if(!e&&this._disposed)return void this.id;n=n&&n.toLowerCase(),nt.prototype[t].call(this,n,i,r)}}function r(){nt.call(this)}function a(t,e,n){function i(t,e){return t.__prio-e.__prio}n=n||{},"string"==typeof e&&(e=$t[e]),this.id,this.group,this._dom=t;var a=this._zr=J.init(t,{renderer:n.renderer||"canvas",devicePixelRatio:n.devicePixelRatio,width:n.width,height:n.height});this._throttledZrFlush=mt(K.bind(a.flush,a),17);var e=K.clone(e);e&&st(e,!0),this._theme=e,this._chartsViews=[],this._chartsMap={},this._componentsViews=[],this._componentsMap={},this._coordSysMgr=new at;var o=this._api=M(this);et(Wt,i),et(Ht,i),this._scheduler=new _t(this,o,Ht,Wt),nt.call(this,this._ecEventProcessor=new S),this._messageCenter=new r,this._initEvents(),this.resize=K.bind(this.resize,this),this._pendingActions=[],a.animation.on("frame",this._onframe,this),p(a,this),K.setAsPrimitive(this)}function o(t,e,n){if(this._disposed)return void this.id;var i,r=this._model,a=this._coordSysMgr.getCoordinateSystems();e=ft.parseFinder(r,e);for(var o=0;o<a.length;o++){var s=a[o];if(s[t]&&null!=(i=s[t](r,e,n)))return i}}function s(t){var e=t._model,n=t._scheduler;n.restorePipelines(e),n.prepareStageTasks(),f(t,"component",e,n),f(t,"chart",e,n),n.plan()}function l(t,e,n,i,r){function a(i){i&&i.__alive&&i[e]&&i[e](i.__model,o,t._api,n)}var o=t._model;if(!i)return void Tt(t._componentsViews.concat(t._chartsViews),a);var s={};s[i+"Id"]=n[i+"Id"],s[i+"Index"]=n[i+"Index"],s[i+"Name"]=n[i+"Name"];var l={mainType:i,query:s};r&&(l.subType=r);var c=n.excludeSeriesId;null!=c&&(c=K.createHashMap(ft.normalizeToArray(c))),o&&o.eachComponent(l,function(e){c&&null!=c.get(e.id)||a(t["series"===i?"_chartsMap":"_componentsMap"][e.__viewId])},t)}function c(t,e){var n=t._chartsMap,i=t._scheduler;e.eachSeries(function(t){i.updateStreamModes(t,n[t.__viewId])})}function u(t,e){var n=t.type,i=t.escapeConnect,r=Ft[n],a=r.actionInfo,o=(a.update||"update").split(":"),c=o.pop();o=null!=o[0]&&Lt(o[0]),this[Ot]=!0;var u=[t],h=!1;t.batch&&(h=!0,u=K.map(t.batch,function(e){return e=K.defaults(K.extend({},e),t),e.batch=null,e}));var d,p=[],f="highlight"===n||"downplay"===n;Tt(u,function(t){d=r.action(t,this._model,this._api),d=d||K.extend({},t),d.type=a.event||d.type,p.push(d),f?l(this,c,t,"series"):o&&l(this,c,t,o.main,o.sub)},this),"none"===c||f||o||(this[kt]?(s(this),Bt.update.call(this,t),this[kt]=!1):Bt[c].call(this,t)),d=h?{type:a.event||n,escapeConnect:i,batch:p}:p[0],this[Ot]=!1,!e&&this._messageCenter.trigger(d.type,d)}function h(t){for(var e=this._pendingActions;e.length;){var n=e.shift();u.call(this,n,t)}}function d(t){!t&&this.trigger("updated")}function p(t,e){t.on("rendered",function(){e.trigger("rendered"),!t.animation.isFinished()||e[kt]||e._scheduler.unfinished||e._pendingActions.length||e.trigger("finished")})}function f(t,e,n,i){function r(t){var e="_ec_"+t.id+"_"+t.type,r=s[e];if(!r){var u=Lt(t.type);r=new(a?ht.getClass(u.main,u.sub):dt.getClass(u.sub)),r.init(n,c),s[e]=r,o.push(r),l.add(r.group)}t.__viewId=r.__id=e,r.__alive=!0,r.__model=t,r.group.__ecComponentInfo={mainType:t.mainType,index:t.componentIndex},!a&&i.prepareView(r,t,n,c)}for(var a="component"===e,o=a?t._componentsViews:t._chartsViews,s=a?t._componentsMap:t._chartsMap,l=t._zr,c=t._api,u=0;u<o.length;u++)o[u].__alive=!1;a?n.eachComponent(function(t,e){"series"!==t&&r(e)}):n.eachSeries(r);for(var u=0;u<o.length;){var h=o[u];h.__alive?u++:(!a&&h.renderTask.dispose(),l.remove(h.group),h.dispose(n,c),o.splice(u,1),delete s[h.__id],h.__id=h.group.__ecComponentInfo=null)}}function g(t){t.clearColorPalette(),t.eachSeries(function(t){t.clearColorPalette()})}function m(t,e,n,i){v(t,e,n,i),Tt(t._chartsViews,function(t){t.__alive=!1}),y(t,e,n,i),Tt(t._chartsViews,function(t){t.__alive||t.remove(e,n)})}function v(t,e,n,i,r){Tt(r||t._componentsViews,function(t){var r=t.__model;t.render(r,e,n,i),w(r,t)})}function y(t,e,n,i,r){var a,o=t._scheduler;e.eachSeries(function(e){var n=t._chartsMap[e.__viewId];n.__alive=!0;var s=n.renderTask;o.updatePayload(s,i),r&&r.get(e.uid)&&s.dirty(),a|=s.perform(o.getPerformArgs(s)),n.group.silent=!!e.get("silent"),w(e,n),b(e,n)}),o.unfinished|=a,_(t,e),yt(t._zr.dom,e)}function x(t,e){Tt(jt,function(n){n(t,e)})}function _(t,e){var n=t._zr,i=n.storage,r=0;i.traverse(function(t){r++}),r>e.get("hoverLayerThreshold")&&!tt.node&&e.eachSeries(function(e){if(!e.preventUsingHoverLayer){var n=t._chartsMap[e.__viewId];n.__alive&&n.group.traverse(function(t){t.useHoverLayer=!0})}})}function b(t,e){var n=t.get("blendMode")||null;e.group.traverse(function(t){t.isGroup||t.style.blend!==n&&t.setStyle("blend",n),t.eachPendingDisplayable&&t.eachPendingDisplayable(function(t){t.setStyle("blend",n)})})}function w(t,e){var n=t.get("z"),i=t.get("zlevel");e.group.traverse(function(t){"group"!==t.type&&(null!=n&&(t.z=n),null!=i&&(t.zlevel=i))})}function M(t){var e=t._coordSysMgr;return K.extend(new rt(t),{getCoordinateSystems:K.bind(e.getCoordinateSystems,e),getComponentByElement:function(e){for(;e;){var n=e.__ecComponentInfo;if(null!=n)return t._model.getComponent(n.mainType,n.index);e=e.parent}}})}function S(){this.eventInfo}function T(t){function e(t,e){for(var i=0;i<t.length;i++){t[i][n]=e}}var n="__connectUpdateStatus";Tt(Gt,function(i,r){t._messageCenter.on(r,function(i){if(qt[t.group]&&0!==t[n]){if(i&&i.escapeConnect)return;var r=t.makeActionFromEvent(i),a=[];Tt(Xt,function(e){e!==t&&e.group===t.group&&a.push(e)}),e(a,0),Tt(a,function(t){1!==t[n]&&t.dispatchAction(r)}),e(a,2)}})})}function A(t,e,n){var i=I(t);if(i)return i;var r=new a(t,e,n);return r.id="ec_"+Zt++,Xt[r.id]=r,ft.setAttribute(t,Kt,r.id),T(r),r}function C(t){if(K.isArray(t)){var e=t;t=null,Tt(e,function(e){null!=e.group&&(t=e.group)}),t=t||"g_"+Jt++,Tt(e,function(e){e.group=t})}return qt[t]=!0,t}function L(t){qt[t]=!1}function E(t){"string"==typeof t?t=Xt[t]:t instanceof a||(t=I(t)),t instanceof a&&!t.isDisposed()&&t.dispose()}function I(t){return Xt[ft.getAttribute(t,Kt)]}function P(t){return Xt[t]}function D(t,e){$t[t]=e}function R(t){Ut.push(t)}function O(t,e){G(Ht,t,e,It)}function k(t){jt.push(t)}function N(t,e,n){"function"==typeof e&&(n=e,e="");var i=Ct(t)?t.type:[t,t={event:e}][0];t.event=(t.event||i).toLowerCase(),e=t.event,St(Nt.test(i)&&Nt.test(e)),Ft[i]||(Ft[i]={action:n,actionInfo:t}),Gt[e]=i}function z(t,e){at.register(t,e)}function B(t){var e=at.get(t);if(e)return e.getDimensionsInfo?e.getDimensionsInfo():e.dimensions.slice()}function V(t,e){G(Wt,t,e,Pt,"layout")}function F(t,e){G(Wt,t,e,Dt,"visual")}function G(t,e,n,i,r){(At(e)||Ct(e))&&(n=e,e=i);var a=_t.wrapStageHandler(n,r);return a.__prio=e,a.__raw=n,t.push(a),a}function H(t,e){Yt[t]=e}function U(t){return ct.extend(t)}function j(t){return ht.extend(t)}function W(t){return ut.extend(t)}function $(t){return dt.extend(t)}function Y(t){K.$override("createCanvas",t)}function X(t,e,n){Mt.registerMap(t,e,n)}function q(t){var e=Mt.retrieveMap(t);return e&&e[0]&&{geoJson:e[0].geoJSON,specialAreas:e[0].specialAreas}}var Z=n(5),J=(Z.__DEV__,n(74)),K=n(0),Q=n(24),tt=n(11),et=n(94),nt=n(38),it=n(163),rt=n(176),at=n(21),ot=n(326),st=n(327),lt=n(329),ct=n(13),ut=n(14),ht=n(80),dt=n(25),pt=n(2),ft=n(4),gt=n(33),mt=gt.throttle,vt=n(330),yt=n(331),xt=n(332),_t=n(333),bt=n(334),wt=n(335);n(177);var Mt=n(103),St=K.assert,Tt=K.each,At=K.isFunction,Ct=K.isObject,Lt=ct.parseClassType,Et={zrender:"4.2.0"},It=1e3,Pt=1e3,Dt=3e3,Rt={PROCESSOR:{FILTER:It,SERIES_FILTER:800,STATISTIC:5e3},VISUAL:{LAYOUT:Pt,PROGRESSIVE_LAYOUT:1100,GLOBAL:2e3,CHART:Dt,POST_CHART_LAYOUT:3500,COMPONENT:4e3,BRUSH:5e3}},Ot="__flagInMainProcess",kt="__optionUpdated",Nt=/^[a-zA-Z0-9_]+$/;r.prototype.on=i("on",!0),r.prototype.off=i("off",!0),r.prototype.one=i("one",!0),K.mixin(r,nt);var zt=a.prototype;zt._onframe=function(){if(!this._disposed){var t=this._scheduler;if(this[kt]){var e=this[kt].silent;this[Ot]=!0,s(this),Bt.update.call(this),this[Ot]=!1,this[kt]=!1,h.call(this,e),d.call(this,e)}else if(t.unfinished){var n=1,i=this._model,r=this._api;t.unfinished=!1;do{var a=+new Date;t.performSeriesTasks(i),t.performDataProcessorTasks(i),c(this,i),t.performVisualTasks(i),y(this,this._model,r,"remain"),n-=+new Date-a}while(n>0&&t.unfinished);t.unfinished||this._zr.flush()}}},zt.getDom=function(){return this._dom},zt.getZr=function(){return this._zr},zt.setOption=function(t,e,n){if(this._disposed)return void this.id;var i;if(Ct(e)&&(n=e.lazyUpdate,i=e.silent,e=e.notMerge),this[Ot]=!0,!this._model||e){var r=new ot(this._api),a=this._theme,o=this._model=new it;o.scheduler=this._scheduler,o.init(null,null,a,r)}this._model.setOption(t,Ut),n?(this[kt]={silent:i},this[Ot]=!1):(s(this),Bt.update.call(this),this._zr.flush(),this[kt]=!1,this[Ot]=!1,h.call(this,i),d.call(this,i))},zt.setTheme=function(){console.error("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},zt.getModel=function(){return this._model},zt.getOption=function(){return this._model&&this._model.getOption()},zt.getWidth=function(){return this._zr.getWidth()},zt.getHeight=function(){return this._zr.getHeight()},zt.getDevicePixelRatio=function(){return this._zr.painter.dpr||window.devicePixelRatio||1},zt.getRenderedCanvas=function(t){if(tt.canvasSupported){t=t||{},t.pixelRatio=t.pixelRatio||1,t.backgroundColor=t.backgroundColor||this._model.get("backgroundColor");return this._zr.painter.getRenderedCanvas(t)}},zt.getSvgDataUrl=function(){if(tt.svgSupported){var t=this._zr,e=t.storage.getDisplayList();return K.each(e,function(t){t.stopAnimation(!0)}),t.painter.pathToDataUrl()}},zt.getDataURL=function(t){if(this._disposed)return void this.id;t=t||{};var e=t.excludeComponents,n=this._model,i=[],r=this;Tt(e,function(t){n.eachComponent({mainType:t},function(t){var e=r._componentsMap[t.__viewId];e.group.ignore||(i.push(e),e.group.ignore=!0)})});var a="svg"===this._zr.painter.getType()?this.getSvgDataUrl():this.getRenderedCanvas(t).toDataURL("image/"+(t&&t.type||"png"));return Tt(i,function(t){t.group.ignore=!1}),a},zt.getConnectedDataURL=function(t){if(this._disposed)return void this.id;if(tt.canvasSupported){var e=this.group,n=Math.min,i=Math.max;if(qt[e]){var r=1/0,a=1/0,o=-1/0,s=-1/0,l=[],c=t&&t.pixelRatio||1;K.each(Xt,function(c,u){if(c.group===e){var h=c.getRenderedCanvas(K.clone(t)),d=c.getDom().getBoundingClientRect();r=n(d.left,r),a=n(d.top,a),o=i(d.right,o),s=i(d.bottom,s),l.push({dom:h,left:d.left,top:d.top})}}),r*=c,a*=c,o*=c,s*=c;var u=o-r,h=s-a,d=K.createCanvas();d.width=u,d.height=h;var p=J.init(d);return t.connectedBackgroundColor&&p.add(new pt.Rect({shape:{x:0,y:0,width:u,height:h},style:{fill:t.connectedBackgroundColor}})),Tt(l,function(t){var e=new pt.Image({style:{x:t.left*c-r,y:t.top*c-a,image:t.dom}});p.add(e)}),p.refreshImmediately(),d.toDataURL("image/"+(t&&t.type||"png"))}return this.getDataURL(t)}},zt.convertToPixel=K.curry(o,"convertToPixel"),zt.convertFromPixel=K.curry(o,"convertFromPixel"),zt.containPixel=function(t,e){if(this._disposed)return void this.id;var n,i=this._model;return t=ft.parseFinder(i,t),K.each(t,function(t,i){i.indexOf("Models")>=0&&K.each(t,function(t){var r=t.coordinateSystem;if(r&&r.containPoint)n|=!!r.containPoint(e);else if("seriesModels"===i){var a=this._chartsMap[t.__viewId];a&&a.containPoint&&(n|=a.containPoint(e,t))}},this)},this),!!n},zt.getVisual=function(t,e){var n=this._model;t=ft.parseFinder(n,t,{defaultMainType:"series"});var i=t.seriesModel,r=i.getData(),a=t.hasOwnProperty("dataIndexInside")?t.dataIndexInside:t.hasOwnProperty("dataIndex")?r.indexOfRawIndex(t.dataIndex):null;return null!=a?r.getItemVisual(a,e):r.getVisual(e)},zt.getViewOfComponentModel=function(t){return this._componentsMap[t.__viewId]},zt.getViewOfSeriesModel=function(t){return this._chartsMap[t.__viewId]};var Bt={prepareAndUpdate:function(t){s(this),Bt.update.call(this,t)},update:function(t){var e=this._model,n=this._api,i=this._zr,r=this._coordSysMgr,a=this._scheduler;if(e){a.restoreData(e,t),a.performSeriesTasks(e),r.create(e,n),a.performDataProcessorTasks(e,t),c(this,e),r.update(e,n),g(e),a.performVisualTasks(e,t),m(this,e,n,t);var o=e.get("backgroundColor")||"transparent";if(tt.canvasSupported)i.setBackgroundColor(o);else{var s=Q.parse(o);o=Q.stringify(s,"rgb"),0===s[3]&&(o="transparent")}x(e,n)}},updateTransform:function(t){var e=this._model,n=this,i=this._api;if(e){var r=[];e.eachComponent(function(a,o){var s=n.getViewOfComponentModel(o);if(s&&s.__alive)if(s.updateTransform){var l=s.updateTransform(o,e,i,t);l&&l.update&&r.push(s)}else r.push(s)});var a=K.createHashMap();e.eachSeries(function(r){var o=n._chartsMap[r.__viewId];if(o.updateTransform){var s=o.updateTransform(r,e,i,t);s&&s.update&&a.set(r.uid,1)}else a.set(r.uid,1)}),g(e),this._scheduler.performVisualTasks(e,t,{setDirty:!0,dirtyMap:a}),y(n,e,i,t,a),x(e,this._api)}},updateView:function(t){var e=this._model;e&&(dt.markUpdateMethod(t,"updateView"),g(e),this._scheduler.performVisualTasks(e,t,{setDirty:!0}),m(this,this._model,this._api,t),x(e,this._api))},updateVisual:function(t){Bt.update.call(this,t)},updateLayout:function(t){Bt.update.call(this,t)}};zt.resize=function(t){if(this._disposed)return void this.id;this._zr.resize(t);var e=this._model;if(this._loadingFX&&this._loadingFX.resize(),e){var n=e.resetOption("media"),i=t&&t.silent;this[Ot]=!0,n&&s(this),Bt.update.call(this),this[Ot]=!1,h.call(this,i),d.call(this,i)}},zt.showLoading=function(t,e){if(this._disposed)return void this.id;if(Ct(t)&&(e=t,t=""),t=t||"default",this.hideLoading(),Yt[t]){var n=Yt[t](this._api,e),i=this._zr;this._loadingFX=n,i.add(n)}},zt.hideLoading=function(){if(this._disposed)return void this.id;this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},zt.makeActionFromEvent=function(t){var e=K.extend({},t);return e.type=Gt[t.type],e},zt.dispatchAction=function(t,e){if(this._disposed)return void this.id;if(Ct(e)||(e={silent:!!e}),Ft[t.type]&&this._model){if(this[Ot])return void this._pendingActions.push(t);u.call(this,t,e.silent),e.flush?this._zr.flush(!0):!1!==e.flush&&tt.browser.weChat&&this._throttledZrFlush(),h.call(this,e.silent),d.call(this,e.silent)}},zt.appendData=function(t){if(this._disposed)return void this.id;var e=t.seriesIndex;this.getModel().getSeriesByIndex(e).appendData(t),this._scheduler.unfinished=!0},zt.on=i("on",!1),zt.off=i("off",!1),zt.one=i("one",!1);var Vt=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];zt._initEvents=function(){Tt(Vt,function(t){var e=function(e){var n,i=this.getModel(),r=e.target;if("globalout"===t)n={};else if(r&&null!=r.dataIndex){var a=r.dataModel||i.getSeriesByIndex(r.seriesIndex);n=a&&a.getDataParams(r.dataIndex,r.dataType,r)||{}}else r&&r.eventData&&(n=K.extend({},r.eventData));if(n){var o=n.componentType,s=n.componentIndex;"markLine"!==o&&"markPoint"!==o&&"markArea"!==o||(o="series",s=n.seriesIndex);var l=o&&null!=s&&i.getComponent(o,s),c=l&&this["series"===l.mainType?"_chartsMap":"_componentsMap"][l.__viewId];n.event=e,n.type=t,this._ecEventProcessor.eventInfo={targetEl:r,packedEvent:n,model:l,view:c},this.trigger(t,n)}};e.zrEventfulCallAtLast=!0,this._zr.on(t,e,this)},this),Tt(Gt,function(t,e){this._messageCenter.on(e,function(t){this.trigger(e,t)},this)},this)},zt.isDisposed=function(){return this._disposed},zt.clear=function(){if(this._disposed)return void this.id;this.setOption({series:[]},!0)},zt.dispose=function(){if(this._disposed)return void this.id;this._disposed=!0,ft.setAttribute(this.getDom(),Kt,"");var t=this._api,e=this._model;Tt(this._componentsViews,function(n){n.dispose(e,t)}),Tt(this._chartsViews,function(n){n.dispose(e,t)}),this._zr.dispose(),delete Xt[this.id]},K.mixin(a,nt),S.prototype={constructor:S,normalizeQuery:function(t){var e={},n={},i={};if(K.isString(t)){var r=Lt(t);e.mainType=r.main||null,e.subType=r.sub||null}else{var a=["Index","Name","Id"],o={name:1,dataIndex:1,dataType:1};K.each(t,function(t,r){for(var s=!1,l=0;l<a.length;l++){var c=a[l],u=r.lastIndexOf(c);if(u>0&&u===r.length-c.length){var h=r.slice(0,u);"data"!==h&&(e.mainType=h,e[c.toLowerCase()]=t,s=!0)}}o.hasOwnProperty(r)&&(n[r]=t,s=!0),s||(i[r]=t)})}return{cptQuery:e,dataQuery:n,otherQuery:i}},filter:function(t,e,n){function i(t,e,n,i){return null==t[n]||e[i||n]===t[n]}var r=this.eventInfo;if(!r)return!0;var a=r.targetEl,o=r.packedEvent,s=r.model,l=r.view;if(!s||!l)return!0;var c=e.cptQuery,u=e.dataQuery;return i(c,s,"mainType")&&i(c,s,"subType")&&i(c,s,"index","componentIndex")&&i(c,s,"name")&&i(c,s,"id")&&i(u,o,"name")&&i(u,o,"dataIndex")&&i(u,o,"dataType")&&(!l.filterForExposedEvent||l.filterForExposedEvent(t,e.otherQuery,a,o))},afterTrigger:function(){this.eventInfo=null}};var Ft={},Gt={},Ht=[],Ut=[],jt=[],Wt=[],$t={},Yt={},Xt={},qt={},Zt=new Date-0,Jt=new Date-0,Kt="_echarts_instance_",Qt=L;F(2e3,vt),R(st),O(900,lt),H("default",xt),N({type:"highlight",event:"highlight",update:"highlight"},K.noop),N({type:"downplay",event:"downplay",update:"downplay"},K.noop),D("light",bt),D("dark",wt);var te={};e.version="4.6.0",e.dependencies=Et,e.PRIORITY=Rt,e.init=A,e.connect=C,e.disConnect=L,e.disconnect=Qt,e.dispose=E,e.getInstanceByDom=I,e.getInstanceById=P,e.registerTheme=D,e.registerPreprocessor=R,e.registerProcessor=O,e.registerPostUpdate=k,e.registerAction=N,e.registerCoordinateSystem=z,e.getCoordinateSystemDimensions=B,e.registerLayout=V,e.registerVisual=F,e.registerLoading=H,e.extendComponentModel=U,e.extendComponentView=j,e.extendSeriesModel=W,e.extendChartView=$,e.setCanvasCreator=Y,e.registerMap=X,e.getMap=q,e.dataTool=te;var ee=n(179);!function(){for(var t in ee)ee.hasOwnProperty(t)&&(e[t]=ee[t])}()},function(t,e,n){function i(t){return ot.extend(t)}function r(t,e){return nt.extendFromString(t,e)}function a(t,e){kt[t]=e}function o(t){if(kt.hasOwnProperty(t))return kt[t]}function s(t,e,n,i){var r=nt.createFromString(t,e);return n&&("center"===i&&(n=c(n,r.getBoundingRect())),u(r,n)),r}function l(t,e,n){var i=new lt({style:{image:t,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(t){if("center"===n){var r={width:t.width,height:t.height};i.setStyle(c(e,r))}}});return i}function c(t,e){var n,i=e.width/e.height,r=t.height*i;return r<=t.width?n=t.height:(r=t.width,n=r/i),{x:t.x+t.width/2-r/2,y:t.y+t.height/2-n/2,width:r,height:n}}function u(t,e){if(t.applyTransform){var n=t.getBoundingRect(),i=n.calculateTransform(e);t.applyTransform(i)}}function h(t){return Tt.subPixelOptimizeLine(t.shape,t.shape,t.style),t}function d(t){return Tt.subPixelOptimizeRect(t.shape,t.shape,t.style),t}function p(t){return null!=t&&"none"!==t}function f(t){if("string"!=typeof t)return t;var e=Bt.get(t);return e||(e=it.lift(t,-.1),Vt<1e4&&(Bt.set(t,e),Vt++)),e}function g(t){if(t.__hoverStlDirty){t.__hoverStlDirty=!1;var e=t.__hoverStl;if(!e)return void(t.__cachedNormalStl=t.__cachedNormalZ2=null);var n=t.__cachedNormalStl={};t.__cachedNormalZ2=t.z2;var i=t.style;for(var r in e)null!=e[r]&&(n[r]=i[r]);n.fill=i.fill,n.stroke=i.stroke}}function m(t){var e=t.__hoverStl;if(e&&!t.__highlighted){var n=t.__zr,i=t.useHoverLayer&&n&&"canvas"===n.painter.type;if(t.__highlighted=i?"layer":"plain",!(t.isGroup||!n&&t.useHoverLayer)){var r=t,a=t.style;i&&(r=n.addHover(t),a=r.style),V(a),i||g(r),a.extendFrom(e),v(a,e,"fill"),v(a,e,"stroke"),B(a),i||(t.dirty(!1),t.z2+=Et)}}}function v(t,e,n){!p(e[n])&&p(t[n])&&(t[n]=f(t[n]))}function y(t){var e=t.__highlighted;if(e&&(t.__highlighted=!1,!t.isGroup))if("layer"===e)t.__zr&&t.__zr.removeHover(t);else{var n=t.style,i=t.__cachedNormalStl;i&&(V(n),t.setStyle(i),B(n));var r=t.__cachedNormalZ2;null!=r&&t.z2-r===Et&&(t.z2=r)}}function x(t,e,n){var i,r=Dt,a=Dt;t.__highlighted&&(r=Pt,i=!0),e(t,n),t.__highlighted&&(a=Pt,i=!0),t.isGroup&&t.traverse(function(t){!t.isGroup&&e(t,n)}),i&&t.__highDownOnUpdate&&t.__highDownOnUpdate(r,a)}function _(t,e){e=t.__hoverStl=!1!==e&&(t.hoverStyle||e||{}),t.__hoverStlDirty=!0,t.__highlighted&&(t.__cachedNormalStl=null,y(t),m(t))}function b(t){!T(this,t)&&!this.__highByOuter&&x(this,m)}function w(t){!T(this,t)&&!this.__highByOuter&&x(this,y)}function M(t){this.__highByOuter|=1<<(t||0),x(this,m)}function S(t){!(this.__highByOuter&=~(1<<(t||0)))&&x(this,y)}function T(t,e){return t.__highDownSilentOnTouch&&e.zrByTouch}function A(t,e){C(t,!0),x(t,_,e)}function C(t,e){var n=!1===e;if(t.__highDownSilentOnTouch=t.highDownSilentOnTouch,t.__highDownOnUpdate=t.highDownOnUpdate,!n||t.__highDownDispatcher){var i=n?"off":"on";t[i]("mouseover",b)[i]("mouseout",w),t[i]("emphasis",M)[i]("normal",S),t.__highByOuter=t.__highByOuter||0,t.__highDownDispatcher=!n}}function L(t){return!(!t||!t.__highDownDispatcher)}function E(t){var e=Ot[t];return null==e&&Rt<=32&&(e=Ot[t]=Rt++),e}function I(t,e,n,i,r,a,o){r=r||Lt;var s,l=r.labelFetcher,c=r.labelDataIndex,u=r.labelDimIndex,h=n.getShallow("show"),d=i.getShallow("show");(h||d)&&(l&&(s=l.getFormattedLabel(c,"normal",null,u)),null==s&&(s=et.isFunction(r.defaultText)?r.defaultText(c,r):r.defaultText));var p=h?s:null,f=d?et.retrieve2(l?l.getFormattedLabel(c,"emphasis",null,u):null,s):null;null==p&&null==f||(D(t,n,a,r),D(e,i,o,r,!0)),t.text=p,e.text=f}function P(t,e,n){var i=t.style;e&&(V(i),t.setStyle(e),B(i)),i=t.__hoverStl,n&&i&&(V(i),et.extend(i,n),B(i))}function D(t,e,n,i,r){return O(t,e,i,r),n&&et.extend(t,n),t}function R(t,e,n){var i,r={isRectText:!0};!1===n?i=!0:r.autoColor=n,O(t,e,r,i)}function O(t,e,n,i){if(n=n||Lt,n.isRectText){var r;n.getTextPosition?r=n.getTextPosition(e,i):"outside"===(r=e.getShallow("position")||(i?null:"inside"))&&(r="top"),t.textPosition=r,t.textOffset=e.getShallow("offset");var a=e.getShallow("rotate");null!=a&&(a*=Math.PI/180),t.textRotation=a,t.textDistance=et.retrieve2(e.getShallow("distance"),i?null:5)}var o,s=e.ecModel,l=s&&s.option.textStyle,c=k(e);if(c){o={};for(var u in c)if(c.hasOwnProperty(u)){var h=e.getModel(["rich",u]);N(o[u]={},h,l,n,i)}}return t.rich=o,N(t,e,l,n,i,!0),n.forceRich&&!n.textStyle&&(n.textStyle={}),t}function k(t){for(var e;t&&t!==t.ecModel;){var n=(t.option||Lt).rich;if(n){e=e||{};for(var i in n)n.hasOwnProperty(i)&&(e[i]=1)}t=t.parentModel}return e}function N(t,e,n,i,r,a){n=!r&&n||Lt,t.textFill=z(e.getShallow("color"),i)||n.color,t.textStroke=z(e.getShallow("textBorderColor"),i)||n.textBorderColor,t.textStrokeWidth=et.retrieve2(e.getShallow("textBorderWidth"),n.textBorderWidth),r||(a&&(t.insideRollbackOpt=i,B(t)),null==t.textFill&&(t.textFill=i.autoColor)),t.fontStyle=e.getShallow("fontStyle")||n.fontStyle,t.fontWeight=e.getShallow("fontWeight")||n.fontWeight,t.fontSize=e.getShallow("fontSize")||n.fontSize,t.fontFamily=e.getShallow("fontFamily")||n.fontFamily,t.textAlign=e.getShallow("align"),t.textVerticalAlign=e.getShallow("verticalAlign")||e.getShallow("baseline"),t.textLineHeight=e.getShallow("lineHeight"),t.textWidth=e.getShallow("width"),t.textHeight=e.getShallow("height"),t.textTag=e.getShallow("tag"),a&&i.disableBox||(t.textBackgroundColor=z(e.getShallow("backgroundColor"),i),t.textPadding=e.getShallow("padding"),t.textBorderColor=z(e.getShallow("borderColor"),i),t.textBorderWidth=e.getShallow("borderWidth"),t.textBorderRadius=e.getShallow("borderRadius"),t.textBoxShadowColor=e.getShallow("shadowColor"),t.textBoxShadowBlur=e.getShallow("shadowBlur"),t.textBoxShadowOffsetX=e.getShallow("shadowOffsetX"),t.textBoxShadowOffsetY=e.getShallow("shadowOffsetY")),t.textShadowColor=e.getShallow("textShadowColor")||n.textShadowColor,t.textShadowBlur=e.getShallow("textShadowBlur")||n.textShadowBlur,t.textShadowOffsetX=e.getShallow("textShadowOffsetX")||n.textShadowOffsetX,t.textShadowOffsetY=e.getShallow("textShadowOffsetY")||n.textShadowOffsetY}function z(t,e){return"auto"!==t?t:e&&e.autoColor?e.autoColor:null}function B(t){var e,n=t.textPosition,i=t.insideRollbackOpt;if(i&&null==t.textFill){var r=i.autoColor,a=i.isRectText,o=i.useInsideStyle,s=!1!==o&&(!0===o||a&&n&&"string"==typeof n&&n.indexOf("inside")>=0),l=!s&&null!=r;(s||l)&&(e={textFill:t.textFill,textStroke:t.textStroke,textStrokeWidth:t.textStrokeWidth}),s&&(t.textFill="#fff",null==t.textStroke&&(t.textStroke=r,null==t.textStrokeWidth&&(t.textStrokeWidth=2))),l&&(t.textFill=r)}t.insideRollback=e}function V(t){var e=t.insideRollback;e&&(t.textFill=e.textFill,t.textStroke=e.textStroke,t.textStrokeWidth=e.textStrokeWidth,t.insideRollback=null)}function F(t,e){var n=e&&e.getModel("textStyle");return et.trim([t.fontStyle||n&&n.getShallow("fontStyle")||"",t.fontWeight||n&&n.getShallow("fontWeight")||"",(t.fontSize||n&&n.getShallow("fontSize")||12)+"px",t.fontFamily||n&&n.getShallow("fontFamily")||"sans-serif"].join(" "))}function G(t,e,n,i,r,a){if("function"==typeof r&&(a=r,r=null),i&&i.isAnimationEnabled()){var o=t?"Update":"",s=i.getShallow("animationDuration"+o),l=i.getShallow("animationEasing"+o),c=i.getShallow("animationDelay"+o);"function"==typeof c&&(c=c(r,i.getAnimationDelayParams?i.getAnimationDelayParams(e,r):null)),"function"==typeof s&&(s=s(r)),s>0?e.animateTo(n,s,c||0,l,a,!!a):(e.stopAnimation(),e.attr(n),a&&a())}else e.stopAnimation(),e.attr(n),a&&a()}function H(t,e,n,i,r){G(!0,t,e,n,i,r)}function U(t,e,n,i,r){G(!1,t,e,n,i,r)}function j(t,e){for(var n=rt.identity([]);t&&t!==e;)rt.mul(n,t.getLocalTransform(),n),t=t.parent;return n}function W(t,e,n){return e&&!et.isArrayLike(e)&&(e=st.getLocalTransform(e)),n&&(e=rt.invert([],e)),at.applyTransform([],t,e)}function $(t,e,n){var i=0===e[4]||0===e[5]||0===e[0]?1:Math.abs(2*e[4]/e[0]),r=0===e[4]||0===e[5]||0===e[2]?1:Math.abs(2*e[4]/e[2]),a=["left"===t?-i:"right"===t?i:0,"top"===t?-r:"bottom"===t?r:0];return a=W(a,e,n),Math.abs(a[0])>Math.abs(a[1])?a[0]>0?"right":"left":a[1]>0?"bottom":"top"}function Y(t,e,n,i){function r(t){var e={position:at.clone(t.position),rotation:t.rotation};return t.shape&&(e.shape=et.extend({},t.shape)),e}if(t&&e){var a=function(t){var e={};return t.traverse(function(t){!t.isGroup&&t.anid&&(e[t.anid]=t)}),e}(t);e.traverse(function(t){if(!t.isGroup&&t.anid){var e=a[t.anid];if(e){var i=r(t);t.attr(r(e)),H(t,i,n,t.dataIndex)}}})}}function X(t,e){return et.map(t,function(t){var n=t[0];n=At(n,e.x),n=Ct(n,e.x+e.width);var i=t[1];return i=At(i,e.y),i=Ct(i,e.y+e.height),[n,i]})}function q(t,e){var n=At(t.x,e.x),i=Ct(t.x+t.width,e.x+e.width),r=At(t.y,e.y),a=Ct(t.y+t.height,e.y+e.height);if(i>=n&&a>=r)return{x:n,y:r,width:i-n,height:a-r}}function Z(t,e,n){e=et.extend({rectHover:!0},e);var i=e.style={strokeNoScale:!0};if(n=n||{x:-1,y:-1,width:2,height:2},t)return 0===t.indexOf("image://")?(i.image=t.slice(8),et.defaults(i,n),new lt(e)):s(t.replace("path://",""),e,n,"center")}function J(t,e,n,i,r){for(var a=0,o=r[r.length-1];a<r.length;a++){var s=r[a];if(K(t,e,n,i,s[0],s[1],o[0],o[1]))return!0;o=s}}function K(t,e,n,i,r,a,o,s){var l=n-t,c=i-e,u=o-r,h=s-a,d=Q(u,h,l,c);if(tt(d))return!1;var p=t-r,f=e-a,g=Q(p,f,l,c)/d;if(g<0||g>1)return!1;var m=Q(p,f,u,h)/d;return!(m<0||m>1)}function Q(t,e,n,i){return t*i-n*e}function tt(t){return t<=1e-6&&t>=-1e-6}var et=n(0),nt=n(164),it=n(24),rt=n(15),at=n(7),ot=n(10),st=n(93),lt=n(47);e.Image=lt;var ct=n(46);e.Group=ct;var ut=n(39);e.Text=ut;var ht=n(169);e.Circle=ht;var dt=n(315);e.Sector=dt;var pt=n(316);e.Ring=pt;var ft=n(171);e.Polygon=ft;var gt=n(173);e.Polyline=gt;var mt=n(97);e.Rect=mt;var vt=n(174);e.Line=vt;var yt=n(319);e.BezierCurve=yt;var xt=n(320);e.Arc=xt;var _t=n(321);e.CompoundPath=_t;var bt=n(99);e.LinearGradient=bt;var wt=n(322);e.RadialGradient=wt;var Mt=n(8);e.BoundingRect=Mt;var St=n(100);e.IncrementalDisplayable=St;var Tt=n(98),At=Math.max,Ct=Math.min,Lt={},Et=1,It={color:"textFill",textBorderColor:"textStroke",textBorderWidth:"textStrokeWidth"},Pt="emphasis",Dt="normal",Rt=1,Ot={},kt={},Nt=nt.mergePath,zt=Tt.subPixelOptimize,Bt=et.createHashMap(),Vt=0;a("circle",ht),a("sector",dt),a("ring",pt),a("polygon",ft),a("polyline",gt),a("rect",mt),a("line",vt),a("bezierCurve",yt),a("arc",xt),e.Z2_EMPHASIS_LIFT=Et,e.CACHED_LABEL_STYLE_PROPERTIES=It,e.extendShape=i,e.extendPath=r,e.registerShape=a,e.getShapeClass=o,e.makePath=s,e.makeImage=l,e.mergePath=Nt,e.resizePath=u,e.subPixelOptimizeLine=h,e.subPixelOptimizeRect=d,e.subPixelOptimize=zt,e.setElementHoverStyle=_,e.setHoverStyle=A,e.setAsHighDownDispatcher=C,e.isHighDownDispatcher=L,e.getHighlightDigit=E,e.setLabelStyle=I,e.modifyLabelStyle=P,e.setTextStyle=D,e.setText=R,e.getFont=F,e.updateProps=H,e.initProps=U,e.getTransform=j,e.applyTransform=W,e.transformDirection=$,e.groupTransition=Y,e.clipPointsByRect=X,e.clipRectByRect=q,e.createIcon=Z,e.linePolygonIntersect=J,e.lineLineIntersect=K},function(t,e,n){function i(t){return t.replace(/^\s+|\s+$/g,"")}function r(t,e,n,i){var r=e[1]-e[0],a=n[1]-n[0];if(0===r)return 0===a?n[0]:(n[0]+n[1])/2;if(i)if(r>0){if(t<=e[0])return n[0];if(t>=e[1])return n[1]}else{if(t>=e[0])return n[0];if(t<=e[1])return n[1]}else{if(t===e[0])return n[0];if(t===e[1])return n[1]}return(t-e[0])/r*a+n[0]}function a(t,e){switch(t){case"center":case"middle":t="50%";break;case"left":case"top":t="0%";break;case"right":case"bottom":t="100%"}return"string"==typeof t?i(t).match(/%$/)?parseFloat(t)/100*e:parseFloat(t):null==t?NaN:+t}function o(t,e,n){return null==e&&(e=10),e=Math.min(Math.max(0,e),20),t=(+t).toFixed(e),n?t:+t}function s(t){return t.sort(function(t,e){return t-e}),t}function l(t){if(t=+t,isNaN(t))return 0;for(var e=1,n=0;Math.round(t*e)/e!==t;)e*=10,n++;return n}function c(t){var e=t.toString(),n=e.indexOf("e");if(n>0){var i=+e.slice(n+1);return i<0?-i:0}var r=e.indexOf(".");return r<0?0:e.length-1-r}function u(t,e){var n=Math.log,i=Math.LN10,r=Math.floor(n(t[1]-t[0])/i),a=Math.round(n(Math.abs(e[1]-e[0]))/i),o=Math.min(Math.max(-r+a,0),20);return isFinite(o)?o:20}function h(t,e,n){if(!t[e])return 0;var i=b.reduce(t,function(t,e){return t+(isNaN(e)?0:e)},0);if(0===i)return 0;for(var r=Math.pow(10,n),a=b.map(t,function(t){return(isNaN(t)?0:t)/i*r*100}),o=100*r,s=b.map(a,function(t){return Math.floor(t)}),l=b.reduce(s,function(t,e){return t+e},0),c=b.map(a,function(t,e){return t-s[e]});l<o;){for(var u=Number.NEGATIVE_INFINITY,h=null,d=0,p=c.length;d<p;++d)c[d]>u&&(u=c[d],h=d);++s[h],c[h]=0,++l}return s[e]/r}function d(t){var e=2*Math.PI;return(t%e+e)%e}function p(t){return t>-w&&t<w}function f(t){if(t instanceof Date)return t;if("string"==typeof t){var e=M.exec(t);if(!e)return new Date(NaN);if(e[8]){var n=+e[4]||0;return"Z"!==e[8].toUpperCase()&&(n-=e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,n,+(e[5]||0),+e[6]||0,+e[7]||0))}return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,+e[7]||0)}return null==t?new Date(NaN):new Date(Math.round(t))}function g(t){return Math.pow(10,m(t))}function m(t){if(0===t)return 0;var e=Math.floor(Math.log(t)/Math.LN10);return t/Math.pow(10,e)>=10&&e++,e}function v(t,e){var n,i=m(t),r=Math.pow(10,i),a=t/r;return n=e?a<1.5?1:a<2.5?2:a<4?3:a<7?5:10:a<1?1:a<2?2:a<3?3:a<5?5:10,t=n*r,i>=-20?+t.toFixed(i<0?-i:0):t}function y(t,e){var n=(t.length-1)*e+1,i=Math.floor(n),r=+t[i-1],a=n-i;return a?r+a*(t[i]-r):r}function x(t){function e(t,n,i){return t.interval[i]<n.interval[i]||t.interval[i]===n.interval[i]&&(t.close[i]-n.close[i]==(i?-1:1)||!i&&e(t,n,1))}t.sort(function(t,n){return e(t,n,0)?-1:1});for(var n=-1/0,i=1,r=0;r<t.length;){for(var a=t[r].interval,o=t[r].close,s=0;s<2;s++)a[s]<=n&&(a[s]=n,o[s]=s?1:1-i),n=a[s],i=o[s];a[0]===a[1]&&o[0]*o[1]!=1?t.splice(r,1):r++}return t}function _(t){return t-parseFloat(t)>=0}var b=n(0),w=1e-4,M=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d\d)(?::(\d\d)(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;e.linearMap=r,e.parsePercent=a,e.round=o,e.asc=s,e.getPrecision=l,e.getPrecisionSafe=c,e.getPixelPrecision=u,e.getPercentWithPrecision=h,e.MAX_SAFE_INTEGER=9007199254740991,e.remRadian=d,e.isRadianAroundZero=p,e.parseDate=f,e.quantity=g,e.quantityExponent=m,e.nice=v,e.quantile=y,e.reformIntervals=x,e.isNumeric=_},function(t,e,n){function i(t){return t instanceof Array?t:null==t?[]:[t]}function r(t,e,n){if(t){t[e]=t[e]||{},t.emphasis=t.emphasis||{},t.emphasis[e]=t.emphasis[e]||{};for(var i=0,r=n.length;i<r;i++){var a=n[i];!t.emphasis[e].hasOwnProperty(a)&&t[e].hasOwnProperty(a)&&(t.emphasis[e][a]=t[e][a])}}}function a(t){return!M(t)||S(t)||t instanceof Date?t:t.value}function o(t){return M(t)&&!(t instanceof Array)}function s(t,e){e=(e||[]).slice();var n=_.map(t||[],function(t,e){return{exist:t}});return w(e,function(t,i){if(M(t)){for(var r=0;r<n.length;r++)if(!n[r].option&&null!=t.id&&n[r].exist.id===t.id+"")return n[r].option=t,void(e[i]=null);for(var r=0;r<n.length;r++){var a=n[r].exist;if(!(n[r].option||null!=a.id&&null!=t.id||null==t.name||u(t)||u(a)||a.name!==t.name+""))return n[r].option=t,void(e[i]=null)}}}),w(e,function(t,e){if(M(t)){for(var i=0;i<n.length;i++){var r=n[i].exist;if(!n[i].option&&!u(r)&&null==t.id){n[i].option=t;break}}i>=n.length&&n.push({option:t})}}),n}function l(t){var e=_.createHashMap();w(t,function(t,n){var i=t.exist;i&&e.set(i.id,t)}),w(t,function(t,n){var i=t.option;_.assert(!i||null==i.id||!e.get(i.id)||e.get(i.id)===t,"id duplicates: "+(i&&i.id)),i&&null!=i.id&&e.set(i.id,t),!t.keyInfo&&(t.keyInfo={})}),w(t,function(t,n){var i=t.exist,r=t.option,a=t.keyInfo;if(M(r)){if(a.name=null!=r.name?r.name+"":i?i.name:T+n,i)a.id=i.id;else if(null!=r.id)a.id=r.id+"";else{var o=0;do{a.id="\0"+a.name+"\0"+o++}while(e.get(a.id))}e.set(a.id,t)}})}function c(t){var e=t.name;return!(!e||!e.indexOf(T))}function u(t){return M(t)&&t.id&&0===(t.id+"").indexOf("\0_ec_\0")}function h(t,e){function n(t,e,n){for(var r=0,a=t.length;r<a;r++)for(var o=t[r].seriesId,s=i(t[r].dataIndex),l=n&&n[o],c=0,u=s.length;c<u;c++){var h=s[c];l&&l[h]?l[h]=null:(e[o]||(e[o]={}))[h]=1}}function r(t,e){var n=[];for(var i in t)if(t.hasOwnProperty(i)&&null!=t[i])if(e)n.push(+i);else{var a=r(t[i],!0);a.length&&n.push({seriesId:i,dataIndex:a})}return n}var a={},o={};return n(t||[],a),n(e||[],o,a),[r(a),r(o)]}function d(t,e){return null!=e.dataIndexInside?e.dataIndexInside:null!=e.dataIndex?_.isArray(e.dataIndex)?_.map(e.dataIndex,function(e){return t.indexOfRawIndex(e)}):t.indexOfRawIndex(e.dataIndex):null!=e.name?_.isArray(e.name)?_.map(e.name,function(e){return t.indexOfName(e)}):t.indexOfName(e.name):void 0}function p(){var t="__\0ec_inner_"+C+++"_"+Math.random().toFixed(5);return function(e){return e[t]||(e[t]={})}}function f(t,e,n){if(_.isString(e)){var i={};i[e+"Index"]=0,e=i}var r=n&&n.defaultMainType;!r||g(e,r+"Index")||g(e,r+"Id")||g(e,r+"Name")||(e[r+"Index"]=0);var a={};return w(e,function(i,r){var i=e[r];if("dataIndex"===r||"dataIndexInside"===r)return void(a[r]=i);var o=r.match(/^(\w+)(Index|Id|Name)$/)||[],s=o[1],l=(o[2]||"").toLowerCase();if(!(!s||!l||null==i||"index"===l&&"none"===i||n&&n.includeMainTypes&&_.indexOf(n.includeMainTypes,s)<0)){var c={mainType:s};"index"===l&&"all"===i||(c[l]=i);var u=t.queryComponents(c);a[s+"Models"]=u,a[s+"Model"]=u[0]}}),a}function g(t,e){return t&&t.hasOwnProperty(e)}function m(t,e,n){t.setAttribute?t.setAttribute(e,n):t[e]=n}function v(t,e){return t.getAttribute?t.getAttribute(e):t[e]}function y(t){return"auto"===t?b.domSupported?"html":"richText":t||"html"}function x(t,e){var n=_.createHashMap(),i=[];return _.each(t,function(t){var r=e(t);(n.get(r)||(i.push(r),n.set(r,[]))).push(t)}),{keys:i,buckets:n}}var _=n(0),b=n(11),w=_.each,M=_.isObject,S=_.isArray,T="series\0",A=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"],C=0;e.normalizeToArray=i,e.defaultEmphasis=r,e.TEXT_STYLE_OPTIONS=A,e.getDataItemValue=a,e.isDataItemOption=o,e.mappingToExists=s,e.makeIdAndName=l,e.isNameSpecified=c,e.isIdInner=u,e.compressBatches=h,e.queryDataIndex=d,e.makeInner=p,e.parseFinder=f,e.setAttribute=m,e.getAttribute=v,e.getTooltipRenderMode=y,e.groupData=x},function(t,e,n){(function(t){var n;"undefined"!=typeof window?n=window.__DEV__:void 0!==t&&(n=t.__DEV__),void 0===n&&(n=!0);var i=n;e.__DEV__=i}).call(e,n(57))},function(t,e,n){function i(t,e,n,i,r){var a=0,o=0;null==i&&(i=1/0),null==r&&(r=1/0);var s=0;e.eachChild(function(l,c){var u,h,d=l.position,p=l.getBoundingRect(),f=e.childAt(c+1),g=f&&f.getBoundingRect();if("horizontal"===t){var m=p.width+(g?-g.x+p.x:0);u=a+m,u>i||l.newline?(a=0,u=m,o+=s+n,s=p.height):s=Math.max(s,p.height)}else{var v=p.height+(g?-g.y+p.y:0);h=o+v,h>r||l.newline?(a+=s+n,o=0,h=v,s=p.width):s=Math.max(s,p.width)}l.newline||(d[0]=a,d[1]=o,"horizontal"===t?a=u+n:o=h+n)})}function r(t,e,n){var i=e.width,r=e.height,a=f(t.x,i),o=f(t.y,r),s=f(t.x2,i),l=f(t.y2,r);return(isNaN(a)||isNaN(parseFloat(t.x)))&&(a=0),(isNaN(s)||isNaN(parseFloat(t.x2)))&&(s=i),(isNaN(o)||isNaN(parseFloat(t.y)))&&(o=0),(isNaN(l)||isNaN(parseFloat(t.y2)))&&(l=r),n=g.normalizeCssArray(n||0),{width:Math.max(s-a-n[1]-n[3],0),height:Math.max(l-o-n[0]-n[2],0)}}function a(t,e,n){n=g.normalizeCssArray(n||0);var i=e.width,r=e.height,a=f(t.left,i),o=f(t.top,r),s=f(t.right,i),l=f(t.bottom,r),c=f(t.width,i),u=f(t.height,r),h=n[2]+n[0],p=n[1]+n[3],m=t.aspect;switch(isNaN(c)&&(c=i-s-p-a),isNaN(u)&&(u=r-l-h-o),null!=m&&(isNaN(c)&&isNaN(u)&&(m>i/r?c=.8*i:u=.8*r),isNaN(c)&&(c=m*u),isNaN(u)&&(u=c/m)),isNaN(a)&&(a=i-s-c-p),isNaN(o)&&(o=r-l-u-h),t.left||t.right){case"center":a=i/2-c/2-n[3];break;case"right":a=i-c-p}switch(t.top||t.bottom){case"middle":case"center":o=r/2-u/2-n[0];break;case"bottom":o=r-u-h}a=a||0,o=o||0,isNaN(c)&&(c=i-p-a-(s||0)),isNaN(u)&&(u=r-h-o-(l||0));var v=new d(a+n[3],o+n[0],c,u);return v.margin=n,v}function o(t,e,n,i,r){var o=!r||!r.hv||r.hv[0],s=!r||!r.hv||r.hv[1],l=r&&r.boundingMode||"all";if(o||s){var c;if("raw"===l)c="group"===t.type?new d(0,0,+e.width||0,+e.height||0):t.getBoundingRect();else if(c=t.getBoundingRect(),t.needLocalTransform()){var u=t.getLocalTransform();c=c.clone(),c.applyTransform(u)}e=a(h.defaults({width:c.width,height:c.height},e),n,i);var p=t.position,f=o?e.x-c.x:0,g=s?e.y-c.y:0;t.attr("position","raw"===l?[f,g]:[p[0]+f,p[1]+g])}}function s(t,e){return null!=t[y[e][0]]||null!=t[y[e][1]]&&null!=t[y[e][2]]}function l(t,e,n){function i(n,i){var o={},l=0,c={},u=0;if(m(n,function(e){c[e]=t[e]}),m(n,function(t){r(e,t)&&(o[t]=c[t]=e[t]),a(o,t)&&l++,a(c,t)&&u++}),s[i])return a(e,n[1])?c[n[2]]=null:a(e,n[2])&&(c[n[1]]=null),c;if(2!==u&&l){if(l>=2)return o;for(var h=0;h<n.length;h++){var d=n[h];if(!r(o,d)&&r(t,d)){o[d]=t[d];break}}return o}return c}function r(t,e){return t.hasOwnProperty(e)}function a(t,e){return null!=t[e]&&"auto"!==t[e]}function o(t,e,n){m(t,function(t){e[t]=n[t]})}!h.isObject(n)&&(n={});var s=n.ignoreSize;!h.isArray(s)&&(s=[s,s]);var l=i(y[0],0),c=i(y[1],1);o(y[0],t,l),o(y[1],t,c)}function c(t){return u({},t)}function u(t,e){return e&&t&&m(v,function(n){e.hasOwnProperty(n)&&(t[n]=e[n])}),t}var h=n(0),d=n(8),p=n(3),f=p.parsePercent,g=n(9),m=h.each,v=["left","right","top","bottom","width","height"],y=[["width","left","right"],["height","top","bottom"]],x=i,_=h.curry(i,"vertical"),b=h.curry(i,"horizontal");e.LOCATION_PARAMS=v,e.HV_NAMES=y,e.box=x,e.vbox=_,e.hbox=b,e.getAvailableSize=r,e.getLayoutRect=a,e.positionElement=o,e.sizeCalculable=s,e.mergeLayoutParam=l,e.getLayoutParams=c,e.copyLayoutParams=u},function(t,e){function n(t,e){var n=new M(2);return null==t&&(t=0),null==e&&(e=0),n[0]=t,n[1]=e,n}function i(t,e){return t[0]=e[0],t[1]=e[1],t}function r(t){var e=new M(2);return e[0]=t[0],e[1]=t[1],e}function a(t,e,n){return t[0]=e,t[1]=n,t}function o(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function s(t,e,n,i){return t[0]=e[0]+n[0]*i,t[1]=e[1]+n[1]*i,t}function l(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function c(t){return Math.sqrt(u(t))}function u(t){return t[0]*t[0]+t[1]*t[1]}function h(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t}function d(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t}function p(t,e){return t[0]*e[0]+t[1]*e[1]}function f(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function g(t,e){var n=c(e);return 0===n?(t[0]=0,t[1]=0):(t[0]=e[0]/n,t[1]=e[1]/n),t}function m(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}function v(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])}function y(t,e){return t[0]=-e[0],t[1]=-e[1],t}function x(t,e,n,i){return t[0]=e[0]+i*(n[0]-e[0]),t[1]=e[1]+i*(n[1]-e[1]),t}function _(t,e,n){var i=e[0],r=e[1];return t[0]=n[0]*i+n[2]*r+n[4],t[1]=n[1]*i+n[3]*r+n[5],t}function b(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}function w(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}var M="undefined"==typeof Float32Array?Array:Float32Array,S=c,T=u,A=m,C=v;e.create=n,e.copy=i,e.clone=r,e.set=a,e.add=o,e.scaleAndAdd=s,e.sub=l,e.len=c,e.length=S,e.lenSquare=u,e.lengthSquare=T,e.mul=h,e.div=d,e.dot=p,e.scale=f,e.normalize=g,e.distance=m,e.dist=A,e.distanceSquare=v,e.distSquare=C,e.negate=y,e.lerp=x,e.applyTransform=_,e.min=b,e.max=w},function(t,e,n){function i(t,e,n,i){n<0&&(t+=n,n=-n),i<0&&(e+=i,i=-i),this.x=t,this.y=e,this.width=n,this.height=i}var r=n(7),a=n(15),o=r.applyTransform,s=Math.min,l=Math.max;i.prototype={constructor:i,union:function(t){var e=s(t.x,this.x),n=s(t.y,this.y);this.width=l(t.x+t.width,this.x+this.width)-e,this.height=l(t.y+t.height,this.y+this.height)-n,this.x=e,this.y=n},applyTransform:function(){var t=[],e=[],n=[],i=[];return function(r){if(r){t[0]=n[0]=this.x,t[1]=i[1]=this.y,e[0]=i[0]=this.x+this.width,e[1]=n[1]=this.y+this.height,o(t,t,r),o(e,e,r),o(n,n,r),o(i,i,r),this.x=s(t[0],e[0],n[0],i[0]),this.y=s(t[1],e[1],n[1],i[1]);var a=l(t[0],e[0],n[0],i[0]),c=l(t[1],e[1],n[1],i[1]);this.width=a-this.x,this.height=c-this.y}}}(),calculateTransform:function(t){var e=this,n=t.width/e.width,i=t.height/e.height,r=a.create();return a.translate(r,r,[-e.x,-e.y]),a.scale(r,r,[n,i]),a.translate(r,r,[t.x,t.y]),r},intersect:function(t){if(!t)return!1;t instanceof i||(t=i.create(t));var e=this,n=e.x,r=e.x+e.width,a=e.y,o=e.y+e.height,s=t.x,l=t.x+t.width,c=t.y,u=t.y+t.height;return!(r<s||l<n||o<c||u<a)},contain:function(t,e){var n=this;return t>=n.x&&t<=n.x+n.width&&e>=n.y&&e<=n.y+n.height},clone:function(){return new i(this.x,this.y,this.width,this.height)},copy:function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}},i.create=function(t){return new i(t.x,t.y,t.width,t.height)};var c=i;t.exports=c},function(t,e,n){function i(t){return isNaN(t)?"-":(t=(t+"").split("."),t[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:""))}function r(t,e){return t=(t||"").toLowerCase().replace(/-(.)/g,function(t,e){return e.toUpperCase()}),e&&t&&(t=t.charAt(0).toUpperCase()+t.slice(1)),t}function a(t){return null==t?"":(t+"").replace(y,function(t,e){return x[e]})}function o(t,e,n){f.isArray(e)||(e=[e]);var i=e.length;if(!i)return"";for(var r=e[0].$vars||[],o=0;o<r.length;o++){var s=_[o];t=t.replace(b(s),b(s,0))}for(var l=0;l<i;l++)for(var c=0;c<r.length;c++){var u=e[l][r[c]];t=t.replace(b(_[c],l),n?a(u):u)}return t}function s(t,e,n){return f.each(e,function(e,i){t=t.replace("{"+i+"}",n?a(e):e)}),t}function l(t,e){t=f.isString(t)?{color:t,extraCssText:e}:t||{};var n=t.color,i=t.type,e=t.extraCssText,r=t.renderMode||"html",o=t.markerId||"X";return n?"html"===r?"subItem"===i?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+a(n)+";"+(e||"")+'"></span>':'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+a(n)+";"+(e||"")+'"></span>':{renderMode:r,content:"{marker"+o+"|}  ",style:{color:n}}:""}function c(t,e){return t+="","0000".substr(0,e-t.length)+t}function u(t,e,n){"week"!==t&&"month"!==t&&"quarter"!==t&&"half-year"!==t&&"year"!==t||(t="MM-dd\nyyyy");var i=m.parseDate(e),r=n?"UTC":"",a=i["get"+r+"FullYear"](),o=i["get"+r+"Month"]()+1,s=i["get"+r+"Date"](),l=i["get"+r+"Hours"](),u=i["get"+r+"Minutes"](),h=i["get"+r+"Seconds"](),d=i["get"+r+"Milliseconds"]();return t=t.replace("MM",c(o,2)).replace("M",o).replace("yyyy",a).replace("yy",a%100).replace("dd",c(s,2)).replace("d",s).replace("hh",c(l,2)).replace("h",l).replace("mm",c(u,2)).replace("m",u).replace("ss",c(h,2)).replace("s",h).replace("SSS",c(d,3))}function h(t){return t?t.charAt(0).toUpperCase()+t.substr(1):t}function d(t){return g.getBoundingRect(t.text,t.font,t.textAlign,t.textVerticalAlign,t.textPadding,t.textLineHeight,t.rich,t.truncate)}function p(t,e,n,i,r,a,o,s){return g.getBoundingRect(t,e,n,i,r,s,a,o)}var f=n(0),g=n(17),m=n(3),v=f.normalizeCssArray,y=/([&<>"'])/g,x={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},_=["a","b","c","d","e","f","g"],b=function(t,e){return"{"+t+(null==e?"":e)+"}"},w=g.truncateText;e.addCommas=i,e.toCamelCase=r,e.normalizeCssArray=v,e.encodeHTML=a,e.formatTpl=o,e.formatTplSimple=s,e.getTooltipMarker=l,e.formatTime=u,e.capitalFirst=h,e.truncateText=w,e.getTextBoundingRect=d,e.getTextRect=p},function(t,e,n){function i(t){r.call(this,t),this.path=null}var r=n(59),a=n(0),o=n(49),s=n(311),l=n(159),c=l.prototype.getCanvasPattern,u=Math.abs,h=new o(!0);i.prototype={constructor:i,type:"path",__dirtyPath:!0,strokeContainThreshold:5,segmentIgnoreThreshold:0,subPixelOptimize:!1,brush:function(t,e){var n=this.style,i=this.path||h,r=n.hasStroke(),a=n.hasFill(),o=n.fill,s=n.stroke,l=a&&!!o.colorStops,u=r&&!!s.colorStops,d=a&&!!o.image,p=r&&!!s.image;if(n.bind(t,this,e),this.setTransform(t),this.__dirty){var f;l&&(f=f||this.getBoundingRect(),this._fillGradient=n.getGradient(t,o,f)),u&&(f=f||this.getBoundingRect(),this._strokeGradient=n.getGradient(t,s,f))}l?t.fillStyle=this._fillGradient:d&&(t.fillStyle=c.call(o,t)),u?t.strokeStyle=this._strokeGradient:p&&(t.strokeStyle=c.call(s,t));var g=n.lineDash,m=n.lineDashOffset,v=!!t.setLineDash,y=this.getGlobalScale();if(i.setScale(y[0],y[1],this.segmentIgnoreThreshold),this.__dirtyPath||g&&!v&&r?(i.beginPath(t),g&&!v&&(i.setLineDash(g),i.setLineDashOffset(m)),this.buildPath(i,this.shape,!1),this.path&&(this.__dirtyPath=!1)):(t.beginPath(),this.path.rebuildPath(t)),a)if(null!=n.fillOpacity){var x=t.globalAlpha;t.globalAlpha=n.fillOpacity*n.opacity,i.fill(t),t.globalAlpha=x}else i.fill(t);if(g&&v&&(t.setLineDash(g),t.lineDashOffset=m),r)if(null!=n.strokeOpacity){var x=t.globalAlpha;t.globalAlpha=n.strokeOpacity*n.opacity,i.stroke(t),t.globalAlpha=x}else i.stroke(t);g&&v&&t.setLineDash([]),null!=n.text&&(this.restoreTransform(t),this.drawRectText(t,this.getBoundingRect()))},buildPath:function(t,e,n){},createPathProxy:function(){this.path=new o},getBoundingRect:function(){var t=this._rect,e=this.style,n=!t;if(n){var i=this.path;i||(i=this.path=new o),this.__dirtyPath&&(i.beginPath(),this.buildPath(i,this.shape,!1)),t=i.getBoundingRect()}if(this._rect=t,e.hasStroke()){var r=this._rectWithStroke||(this._rectWithStroke=t.clone());if(this.__dirty||n){r.copy(t);var a=e.lineWidth,s=e.strokeNoScale?this.getLineScale():1;e.hasFill()||(a=Math.max(a,this.strokeContainThreshold||4)),s>1e-10&&(r.width+=a/s,r.height+=a/s,r.x-=a/s/2,r.y-=a/s/2)}return r}return t},contain:function(t,e){var n=this.transformCoordToLocal(t,e),i=this.getBoundingRect(),r=this.style;if(t=n[0],e=n[1],i.contain(t,e)){var a=this.path.data;if(r.hasStroke()){var o=r.lineWidth,l=r.strokeNoScale?this.getLineScale():1;if(l>1e-10&&(r.hasFill()||(o=Math.max(o,this.strokeContainThreshold)),s.containStroke(a,o/l,t,e)))return!0}if(r.hasFill())return s.contain(a,t,e)}return!1},dirty:function(t){null==t&&(t=!0),t&&(this.__dirtyPath=t,this._rect=null),this.__dirty=this.__dirtyText=!0,this.__zr&&this.__zr.refresh(),this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(t){return this.animate("shape",t)},attrKV:function(t,e){"shape"===t?(this.setShape(e),this.__dirtyPath=!0,this._rect=null):r.prototype.attrKV.call(this,t,e)},setShape:function(t,e){var n=this.shape;if(n){if(a.isObject(t))for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);else n[t]=e;this.dirty(!0)}return this},getLineScale:function(){var t=this.transform;return t&&u(t[0]-1)>1e-10&&u(t[3]-1)>1e-10?Math.sqrt(u(t[0]*t[3]-t[2]*t[1])):1}},i.extend=function(t){var e=function(e){i.call(this,e),t.style&&this.style.extendFrom(t.style,!1);var n=t.shape;if(n){this.shape=this.shape||{};var r=this.shape;for(var a in n)!r.hasOwnProperty(a)&&n.hasOwnProperty(a)&&(r[a]=n[a])}t.init&&t.init.call(this,e)};a.inherits(e,i);for(var n in t)"style"!==n&&"shape"!==n&&(e.prototype[n]=t[n]);return e},a.inherits(i,r);var d=i;t.exports=d},function(t,e){var n={};n="object"==typeof wx&&"function"==typeof wx.getSystemInfoSync?{browser:{},os:{},node:!1,wxa:!0,canvasSupported:!0,svgSupported:!1,touchEventsSupported:!0,domSupported:!1}:"undefined"==typeof document&&"undefined"!=typeof self?{browser:{},os:{},node:!1,worker:!0,canvasSupported:!0,domSupported:!1}:"undefined"==typeof navigator?{browser:{},os:{},node:!0,worker:!1,canvasSupported:!0,svgSupported:!0,domSupported:!1}:function(t){var e={},n={},i=t.match(/Firefox\/([\d.]+)/),r=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/.+?rv:(([\d.]+))/),a=t.match(/Edge\/([\d.]+)/),o=/micromessenger/i.test(t);return i&&(n.firefox=!0,n.version=i[1]),r&&(n.ie=!0,n.version=r[1]),a&&(n.edge=!0,n.version=a[1]),o&&(n.weChat=!0),{browser:n,os:e,node:!1,canvasSupported:!!document.createElement("canvas").getContext,svgSupported:"undefined"!=typeof SVGRect,touchEventsSupported:"ontouchstart"in window&&!n.ie&&!n.edge,pointerEventsSupported:"onpointerdown"in window&&(n.edge||n.ie&&n.version>=11),domSupported:"undefined"!=typeof document}}(navigator.userAgent);var i=n;t.exports=i},function(t,e,n){function i(t,e,n){this.parentModel=e,this.ecModel=n,this.option=t}function r(t,e,n){for(var i=0;i<e.length&&(!e[i]||null!=(t=t&&"object"==typeof t?t[e[i]]:null));i++);return null==t&&n&&(t=n.get(e)),t}function a(t,e){var n=y(t).getParent;return n?n.call(t,e):t.parentModel}var o=n(0),s=n(11),l=n(4),c=l.makeInner,u=n(29),h=u.enableClassExtend,d=u.enableClassCheck,p=n(308),f=n(309),g=n(310),m=n(323),v=o.mixin,y=c();i.prototype={constructor:i,init:null,mergeOption:function(t){o.merge(this.option,t,!0)},get:function(t,e){return null==t?this.option:r(this.option,this.parsePath(t),!e&&a(this,t))},getShallow:function(t,e){var n=this.option,i=null==n?n:n[t],r=!e&&a(this,t);return null==i&&r&&(i=r.getShallow(t)),i},getModel:function(t,e){var n,o=null==t?this.option:r(this.option,t=this.parsePath(t));return e=e||(n=a(this,t))&&n.getModel(t),new i(o,e,this.ecModel)},isEmpty:function(){return null==this.option},restoreData:function(){},clone:function(){return new(0,this.constructor)(o.clone(this.option))},setReadOnly:function(t){},parsePath:function(t){return"string"==typeof t&&(t=t.split(".")),t},customizeGetParent:function(t){y(this).getParent=t},isAnimationEnabled:function(){if(!s.node){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}}},h(i),d(i),v(i,p),v(i,f),v(i,g),v(i,m);var x=i;t.exports=x},function(t,e,n){function i(t){var e=[];return r.each(g.getClassesByMainType(t),function(t){e=e.concat(t.prototype.dependencies||[])}),e=r.map(e,function(t){return c(t).main}),"dataset"!==t&&r.indexOf(e,"dataset")<=0&&e.unshift("dataset"),e}var r=n(0),a=n(12),o=n(60),s=n(29),l=s.enableClassManagement,c=s.parseClassType,u=n(4),h=u.makeInner,d=n(6),p=n(324),f=h(),g=a.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(t,e,n,i){a.call(this,t,e,n,i),this.uid=o.getUID("ec_cpt_model")},init:function(t,e,n,i){this.mergeDefaultAndTheme(t,n)},mergeDefaultAndTheme:function(t,e){var n=this.layoutMode,i=n?d.getLayoutParams(t):{},a=e.getTheme();r.merge(t,a.get(this.mainType)),r.merge(t,this.getDefaultOption()),n&&d.mergeLayoutParam(t,i,n)},mergeOption:function(t,e){r.merge(this.option,t,!0);var n=this.layoutMode;n&&d.mergeLayoutParam(this.option,t,n)},optionUpdated:function(t,e){},getDefaultOption:function(){var t=f(this);if(!t.defaultOption){for(var e=[],n=this.constructor;n;){var i=n.prototype.defaultOption;i&&e.push(i),n=n.superClass}for(var a={},o=e.length-1;o>=0;o--)a=r.merge(a,e[o],!0);t.defaultOption=a}return t.defaultOption},getReferringComponents:function(t){return this.ecModel.queryComponents({mainType:t,index:this.get(t+"Index",!0),id:this.get(t+"Id",!0)})}});l(g,{registerWhenExtend:!0}),o.enableSubTypeDefaulter(g),o.enableTopologicalTravel(g,i),r.mixin(g,p);var m=g;t.exports=m},function(t,e,n){function i(t){var e=t.name;x.isNameSpecified(t)||(t.name=r(t)||e)}function r(t){var e=t.getRawData(),n=e.mapDimension("seriesName",!0),i=[];return d.each(n,function(t){var n=e.getDimensionInfo(t);n.displayName&&i.push(n.displayName)}),i.join(" ")}function a(t){return t.model.getRawData().count()}function o(t){var e=t.model;return e.setData(e.getRawData().cloneShallow()),s}function s(t,e){t.end>e.outputData.count()&&e.model.getRawData().cloneShallow(e.outputData)}function l(t,e){d.each(t.CHANGABLE_METHODS,function(n){t.wrapMethod(n,d.curry(c,e))})}function c(t){var e=u(t);e&&e.setOutputEnd(this.count())}function u(t){var e=(t.ecModel||{}).scheduler,n=e&&e.getPipeline(t.uid);if(n){var i=n.currentTask;if(i){var r=i.agentStubMap;r&&(i=r.get(t.uid))}return i}}var h=n(5),d=(h.__DEV__,n(0)),p=n(11),f=n(9),g=f.formatTime,m=f.encodeHTML,v=f.addCommas,y=f.getTooltipMarker,x=n(4),_=n(13),b=n(175),w=n(101),M=n(6),S=M.getLayoutParams,T=M.mergeLayoutParam,A=n(102),C=A.createTask,L=n(30),E=L.prepareSource,I=L.getSource,P=n(40),D=P.retrieveRawValue,R=x.makeInner(),O=_.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendVisualProvider:null,visualColorAccessPath:"itemStyle.color",visualBorderColorAccessPath:"itemStyle.borderColor",layoutMode:null,init:function(t,e,n,r){this.seriesIndex=this.componentIndex,this.dataTask=C({count:a,reset:o}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(t,n),E(this);var s=this.getInitialData(t,n);l(s,this),this.dataTask.context.data=s,R(this).dataBeforeProcessed=s,i(this)},mergeDefaultAndTheme:function(t,e){var n=this.layoutMode,i=n?S(t):{},r=this.subType;_.hasClass(r)&&(r+="Series"),d.merge(t,e.getTheme().get(this.subType)),d.merge(t,this.getDefaultOption()),x.defaultEmphasis(t,"label",["show"]),this.fillDataTextStyle(t.data),n&&T(t,i,n)},mergeOption:function(t,e){t=d.merge(this.option,t,!0),this.fillDataTextStyle(t.data);var n=this.layoutMode;n&&T(this.option,t,n),E(this);var r=this.getInitialData(t,e);l(r,this),this.dataTask.dirty(),this.dataTask.context.data=r,R(this).dataBeforeProcessed=r,i(this)},fillDataTextStyle:function(t){if(t&&!d.isTypedArray(t))for(var e=["show"],n=0;n<t.length;n++)t[n]&&t[n].label&&x.defaultEmphasis(t[n],"label",e)},getInitialData:function(){},appendData:function(t){this.getRawData().appendData(t.data)},getData:function(t){var e=u(this);if(e){var n=e.context.data;return null==t?n:n.getLinkedData(t)}return R(this).data},setData:function(t){var e=u(this);if(e){var n=e.context;n.data!==t&&e.modifyOutputEnd&&e.setOutputEnd(t.count()),n.outputData=t,e!==this.dataTask&&(n.data=t)}R(this).data=t},getSource:function(){return I(this)},getRawData:function(){return R(this).dataBeforeProcessed},getBaseAxis:function(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis()},formatTooltip:function(t,e,n,i){function r(t){return{renderMode:i,content:m(v(t)),style:l}}var a=this;i=i||"html";var o="html"===i?"<br/>":"\n",s="richText"===i,l={},c=0,u=this.getData(),h=u.mapDimension("defaultedTooltip",!0),p=h.length,f=this.getRawValue(t),_=d.isArray(f),b=u.getItemVisual(t,"color");d.isObject(b)&&b.colorStops&&(b=(b.colorStops[0]||{}).color),b=b||"transparent";var w=p>1||_&&!p?function(n){function r(t,n){var r=u.getDimensionInfo(n);if(r&&!1!==r.otherDims.tooltip){var h=r.type,d="sub"+a.seriesIndex+"at"+c,f=y({color:b,type:"subItem",renderMode:i,markerId:d}),x="string"==typeof f?f:f.content,_=(o?x+m(r.displayName||"-")+": ":"")+m("ordinal"===h?t+"":"time"===h?e?"":g("yyyy/MM/dd hh:mm:ss",t):v(t));_&&p.push(_),s&&(l[d]=b,++c)}}var o=d.reduce(n,function(t,e,n){var i=u.getDimensionInfo(n);return t|=i&&!1!==i.tooltip&&null!=i.displayName},0),p=[];h.length?d.each(h,function(e){r(D(u,t,e),e)}):d.each(n,r);var f=o?s?"\n":"<br/>":"",x=f+p.join(f||", ");return{renderMode:i,content:x,style:l}}(f):r(p?D(u,t,h[0]):_?f[0]:f),M=w.content,S=a.seriesIndex+"at"+c,T=y({color:b,type:"item",renderMode:i,markerId:S});l[S]=b,++c;var A=u.getName(t),C=this.name;x.isNameSpecified(this)||(C=""),C=C?m(C)+(e?": ":o):"";var L="string"==typeof T?T:T.content;return{html:e?L+C+M:C+L+(A?m(A)+": "+M:M),markers:l}},isAnimationEnabled:function(){if(p.node)return!1;var t=this.getShallow("animation");return t&&this.getData().count()>this.getShallow("animationThreshold")&&(t=!1),t},restoreData:function(){this.dataTask.dirty()},getColorFromPalette:function(t,e,n){var i=this.ecModel,r=b.getColorFromPalette.call(this,t,e,n);return r||(r=i.getColorFromPalette(t,e,n)),r},coordDimToDataDim:function(t){return this.getRawData().mapDimension(t,!0)},getProgressive:function(){return this.get("progressive")},getProgressiveThreshold:function(){return this.get("progressiveThreshold")},getAxisTooltipData:null,getTooltipPosition:null,pipeTask:null,preventIncremental:null,pipelineContext:null});d.mixin(O,w),d.mixin(O,b);var k=O;t.exports=k},function(t,e){function n(){var t=new h(6);return i(t),t}function i(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function r(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function a(t,e,n){var i=e[0]*n[0]+e[2]*n[1],r=e[1]*n[0]+e[3]*n[1],a=e[0]*n[2]+e[2]*n[3],o=e[1]*n[2]+e[3]*n[3],s=e[0]*n[4]+e[2]*n[5]+e[4],l=e[1]*n[4]+e[3]*n[5]+e[5];return t[0]=i,t[1]=r,t[2]=a,t[3]=o,t[4]=s,t[5]=l,t}function o(t,e,n){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+n[0],t[5]=e[5]+n[1],t}function s(t,e,n){var i=e[0],r=e[2],a=e[4],o=e[1],s=e[3],l=e[5],c=Math.sin(n),u=Math.cos(n);return t[0]=i*u+o*c,t[1]=-i*c+o*u,t[2]=r*u+s*c,t[3]=-r*c+u*s,t[4]=u*a+c*l,t[5]=u*l-c*a,t}function l(t,e,n){var i=n[0],r=n[1];return t[0]=e[0]*i,t[1]=e[1]*r,t[2]=e[2]*i,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*r,t}function c(t,e){var n=e[0],i=e[2],r=e[4],a=e[1],o=e[3],s=e[5],l=n*o-a*i;return l?(l=1/l,t[0]=o*l,t[1]=-a*l,t[2]=-i*l,t[3]=n*l,t[4]=(i*s-o*r)*l,t[5]=(a*r-n*s)*l,t):null}function u(t){var e=n();return r(e,t),e}var h="undefined"==typeof Float32Array?Array:Float32Array;e.create=n,e.identity=i,e.copy=r,e.mul=a,e.translate=o,e.rotate=s,e.scale=l,e.invert=c,e.clone=u},function(t,e,n){"use strict";function i(t){return"[object Array]"===T.call(t)}function r(t){return void 0===t}function a(t){return null!==t&&!r(t)&&null!==t.constructor&&!r(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function o(t){return"[object ArrayBuffer]"===T.call(t)}function s(t){return"undefined"!=typeof FormData&&t instanceof FormData}function l(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer}function c(t){return"string"==typeof t}function u(t){return"number"==typeof t}function h(t){return null!==t&&"object"==typeof t}function d(t){return"[object Date]"===T.call(t)}function p(t){return"[object File]"===T.call(t)}function f(t){return"[object Blob]"===T.call(t)}function g(t){return"[object Function]"===T.call(t)}function m(t){return h(t)&&g(t.pipe)}function v(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams}function y(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}function x(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)}function _(t,e){if(null!==t&&void 0!==t)if("object"!=typeof t&&(t=[t]),i(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.call(null,t[a],a,t)}function b(){function t(t,n){"object"==typeof e[n]&&"object"==typeof t?e[n]=b(e[n],t):e[n]=t}for(var e={},n=0,i=arguments.length;n<i;n++)_(arguments[n],t);return e}function w(){function t(t,n){"object"==typeof e[n]&&"object"==typeof t?e[n]=w(e[n],t):e[n]="object"==typeof t?w({},t):t}for(var e={},n=0,i=arguments.length;n<i;n++)_(arguments[n],t);return e}function M(t,e,n){return _(e,function(e,i){t[i]=n&&"function"==typeof e?S(e,n):e}),t}var S=n(143),T=Object.prototype.toString;t.exports={isArray:i,isArrayBuffer:o,isBuffer:a,isFormData:s,isArrayBufferView:l,isString:c,isNumber:u,isObject:h,isUndefined:r,isDate:d,isFile:p,isBlob:f,isFunction:g,isStream:m,isURLSearchParams:v,isStandardBrowserEnv:x,forEach:_,merge:b,deepMerge:w,extend:M,trim:y}},function(t,e,n){function i(t,e){k[t]=e}function r(t,e){e=e||O;var n=t+":"+e;if(I[n])return I[n];for(var i=(t+"").split("\n"),r=0,a=0,o=i.length;a<o;a++)r=Math.max(v(i[a],e).width,r);return P>D&&(P=0,I={}),P++,I[n]=r,r}function a(t,e,n,i,r,a,l,c){return l?s(t,e,n,i,r,a,l,c):o(t,e,n,i,r,a,c)}function o(t,e,n,i,a,o,s){var u=y(t,e,a,o,s),h=r(t,e);a&&(h+=a[1]+a[3]);var d=u.outerHeight,p=l(0,h,n),f=c(0,d,i),g=new w(p,f,h,d);return g.lineHeight=u.lineHeight,g}function s(t,e,n,i,r,a,o,s){var u=x(t,{rich:o,truncate:s,font:e,textAlign:n,textPadding:r,textLineHeight:a}),h=u.outerWidth,d=u.outerHeight,p=l(0,h,n),f=c(0,d,i);return new w(p,f,h,d)}function l(t,e,n){return"right"===n?t-=e:"center"===n&&(t-=e/2),t}function c(t,e,n){return"middle"===n?t-=e/2:"bottom"===n&&(t-=e),t}function u(t,e,n){var i=e.textPosition,r=e.textDistance,a=n.x,o=n.y;r=r||0;var s=n.height,l=n.width,c=s/2,u="left",h="top";switch(i){case"left":a-=r,o+=c,u="right",h="middle";break;case"right":a+=r+l,o+=c,h="middle";break;case"top":a+=l/2,o-=r,u="center",h="bottom";break;case"bottom":a+=l/2,o+=s+r,u="center";break;case"inside":a+=l/2,o+=c,u="center",h="middle";break;case"insideLeft":a+=r,o+=c,h="middle";break;case"insideRight":a+=l-r,o+=c,u="right",h="middle";break;case"insideTop":a+=l/2,o+=r,u="center";break;case"insideBottom":a+=l/2,o+=s-r,u="center",h="bottom";break;case"insideTopLeft":a+=r,o+=r;break;case"insideTopRight":a+=l-r,o+=r,u="right";break;case"insideBottomLeft":a+=r,o+=s-r,h="bottom";break;case"insideBottomRight":a+=l-r,o+=s-r,u="right",h="bottom"}return t=t||{},t.x=a,t.y=o,t.textAlign=u,t.textVerticalAlign=h,t}function h(t,e,n){return u({},{textPosition:t,textDistance:n},e)}function d(t,e,n,i,r){if(!e)return"";var a=(t+"").split("\n");r=p(e,n,i,r);for(var o=0,s=a.length;o<s;o++)a[o]=f(a[o],r);return a.join("\n")}function p(t,e,n,i){i=A({},i),i.font=e;var n=C(n,"...");i.maxIterations=C(i.maxIterations,2);var a=i.minChar=C(i.minChar,0);i.cnCharWidth=r("",e);var o=i.ascCharWidth=r("a",e);i.placeholder=C(i.placeholder,"");for(var s=t=Math.max(0,t-1),l=0;l<a&&s>=o;l++)s-=o;var c=r(n,e);return c>s&&(n="",c=0),s=t-c,i.ellipsis=n,i.ellipsisWidth=c,i.contentWidth=s,i.containerWidth=t,i}function f(t,e){var n=e.containerWidth,i=e.font,a=e.contentWidth;if(!n)return"";var o=r(t,i);if(o<=n)return t;for(var s=0;;s++){if(o<=a||s>=e.maxIterations){t+=e.ellipsis;break}var l=0===s?g(t,a,e.ascCharWidth,e.cnCharWidth):o>0?Math.floor(t.length*a/o):0;t=t.substr(0,l),o=r(t,i)}return""===t&&(t=e.placeholder),t}function g(t,e,n,i){for(var r=0,a=0,o=t.length;a<o&&r<e;a++){var s=t.charCodeAt(a);r+=0<=s&&s<=127?n:i}return a}function m(t){return r("",t)}function v(t,e){return k.measureText(t,e)}function y(t,e,n,i,r){null!=t&&(t+="");var a=C(i,m(e)),o=t?t.split("\n"):[],s=o.length*a,l=s,c=!0;if(n&&(l+=n[0]+n[2]),t&&r){c=!1;var u=r.outerHeight,h=r.outerWidth;if(null!=u&&l>u)t="",o=[];else if(null!=h)for(var d=p(h-(n?n[1]+n[3]:0),e,r.ellipsis,{minChar:r.minChar,placeholder:r.placeholder}),g=0,v=o.length;g<v;g++)o[g]=f(o[g],d)}return{lines:o,height:s,outerHeight:l,lineHeight:a,canCacheByTextString:c}}function x(t,e){var n={lines:[],width:0,height:0};if(null!=t&&(t+=""),!t)return n;for(var i,a=R.lastIndex=0;null!=(i=R.exec(t));){var o=i.index;o>a&&_(n,t.substring(a,o)),_(n,i[2],i[1]),a=R.lastIndex}a<t.length&&_(n,t.substring(a,t.length));var s=n.lines,l=0,c=0,u=[],h=e.textPadding,p=e.truncate,f=p&&p.outerWidth,g=p&&p.outerHeight;h&&(null!=f&&(f-=h[1]+h[3]),null!=g&&(g-=h[0]+h[2]));for(var v=0;v<s.length;v++){for(var y=s[v],x=0,b=0,w=0;w<y.tokens.length;w++){var S=y.tokens[w],T=S.styleName&&e.rich[S.styleName]||{},A=S.textPadding=T.textPadding,E=S.font=T.font||e.font,I=S.textHeight=C(T.textHeight,m(E));if(A&&(I+=A[0]+A[2]),S.height=I,S.lineHeight=L(T.textLineHeight,e.textLineHeight,I),S.textAlign=T&&T.textAlign||e.textAlign,S.textVerticalAlign=T&&T.textVerticalAlign||"middle",null!=g&&l+S.lineHeight>g)return{lines:[],width:0,height:0};S.textWidth=r(S.text,E);var P=T.textWidth,D=null==P||"auto"===P;if("string"==typeof P&&"%"===P.charAt(P.length-1))S.percentWidth=P,u.push(S),P=0;else{if(D){P=S.textWidth;var O=T.textBackgroundColor,k=O&&O.image;k&&(k=M.findExistImage(k),M.isImageReady(k)&&(P=Math.max(P,k.width*I/k.height)))}var N=A?A[1]+A[3]:0;P+=N;var z=null!=f?f-b:null;null!=z&&z<P&&(!D||z<N?(S.text="",S.textWidth=P=0):(S.text=d(S.text,z-N,E,p.ellipsis,{minChar:p.minChar}),S.textWidth=r(S.text,E),P=S.textWidth+N))}b+=S.width=P,T&&(x=Math.max(x,S.lineHeight))}y.width=b,y.lineHeight=x,l+=x,c=Math.max(c,b)}n.outerWidth=n.width=C(e.textWidth,c),n.outerHeight=n.height=C(e.textHeight,l),h&&(n.outerWidth+=h[1]+h[3],n.outerHeight+=h[0]+h[2]);for(var v=0;v<u.length;v++){var S=u[v],B=S.percentWidth;S.width=parseInt(B,10)/100*c}return n}function _(t,e,n){for(var i=""===e,r=e.split("\n"),a=t.lines,o=0;o<r.length;o++){var s=r[o],l={styleName:n,text:s,isLineHolder:!s&&!i};if(o)a.push({tokens:[l]});else{var c=(a[a.length-1]||(a[0]={tokens:[]})).tokens,u=c.length;1===u&&c[0].isLineHolder?c[0]=l:(s||!u||i)&&c.push(l)}}}function b(t){var e=(t.fontSize||t.fontFamily)&&[t.fontStyle,t.fontWeight,(t.fontSize||12)+"px",t.fontFamily||"sans-serif"].join(" ");return e&&E(e)||t.textFont||t.font}var w=n(8),M=n(96),S=n(0),T=S.getContext,A=S.extend,C=S.retrieve2,L=S.retrieve3,E=S.trim,I={},P=0,D=5e3,R=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g,O="12px sans-serif",k={};k.measureText=function(t,e){var n=T();return n.font=e||O,n.measureText(t)},e.DEFAULT_FONT=O,e.$override=i,e.getWidth=r,e.getBoundingRect=a,e.adjustTextX=l,e.adjustTextY=c,e.calculateTextPosition=u,e.adjustTextPositionOnRect=h,e.truncateText=d,e.getLineHeight=m,e.measureText=v,e.parsePlainText=y,e.parseRichText=x,e.makeFont=b},function(t,e,n){function i(t){return t._rawCount>65535?P:R}function r(t){var e=t.constructor;return e===Array?t.slice():new e(t)}function a(t,e){v.each(O.concat(e.__wrappedMethods||[]),function(n){e.hasOwnProperty(n)&&(t[n]=e[n])}),t.__wrappedMethods=e.__wrappedMethods,v.each(k,function(n){t[n]=v.clone(e[n])}),t._calculationInfo=v.extend(e._calculationInfo)}function o(t,e,n,i,r){var a=I[e.type],o=i-1,s=e.name,l=t[s][o];if(l&&l.length<n){for(var c=new a(Math.min(r-o*n,n)),u=0;u<l.length;u++)c[u]=l[u];t[s][o]=c}for(var h=i*n;h<r;h+=n)t[s].push(new a(Math.min(r-h,n)))}function s(t){var e=t._invertedIndicesMap;v.each(e,function(n,i){var r=t._dimensionInfos[i],a=r.ordinalMeta;if(a){n=e[i]=new D(a.categories.length);for(var o=0;o<n.length;o++)n[o]=L;for(var o=0;o<t._count;o++)n[t.get(i,o)]=o}})}function l(t,e,n){var i;if(null!=e){var r=t._chunkSize,a=Math.floor(n/r),o=n%r,s=t.dimensions[e],l=t._storage[s][a];if(l){i=l[o];var c=t._dimensionInfos[s].ordinalMeta;c&&c.categories.length&&(i=c.categories[i])}}return i}function c(t){return t}function u(t){return t<this._count&&t>=0?this._indices[t]:-1}function h(t,e){var n=t._idList[e];return null==n&&(n=l(t,t._idDimIdx,e)),null==n&&(n=E+e),n}function d(t){return v.isArray(t)||(t=[t]),t}function p(t,e){var n=t.dimensions,i=new N(v.map(n,t.getDimensionInfo,t),t.hostModel);a(i,t);for(var r=i._storage={},o=t._storage,s=0;s<n.length;s++){var l=n[s];o[l]&&(v.indexOf(e,l)>=0?(r[l]=f(o[l]),i._rawExtent[l]=g(),i._extent[l]=null):r[l]=o[l])}return i}function f(t){for(var e=new Array(t.length),n=0;n<t.length;n++)e[n]=r(t[n]);return e}function g(){return[1/0,-1/0]}var m=n(5),v=(m.__DEV__,n(0)),y=n(12),x=n(41),_=n(61),b=n(40),w=b.defaultDimValueGetters,M=b.DefaultDataProvider,S=n(63),T=S.summarizeDimensions,A=n(180),C=v.isObject,L=-1,E="e\0\0",I={float:"undefined"==typeof Float64Array?Array:Float64Array,int:"undefined"==typeof Int32Array?Array:Int32Array,ordinal:Array,number:Array,time:Array},P="undefined"==typeof Uint32Array?Array:Uint32Array,D="undefined"==typeof Int32Array?Array:Int32Array,R="undefined"==typeof Uint16Array?Array:Uint16Array,O=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_rawData","_chunkSize","_chunkCount","_dimValueGetter","_count","_rawCount","_nameDimIdx","_idDimIdx"],k=["_extent","_approximateExtent","_rawExtent"],N=function(t,e){t=t||["x","y"];for(var n={},i=[],r={},a=0;a<t.length;a++){var o=t[a];v.isString(o)?o=new A({name:o}):o instanceof A||(o=new A(o));var s=o.name;o.type=o.type||"float",o.coordDim||(o.coordDim=s,o.coordDimIndex=0),o.otherDims=o.otherDims||{},i.push(s),n[s]=o,o.index=a,o.createInvertedIndices&&(r[s]=[])}this.dimensions=i,this._dimensionInfos=n,this.hostModel=e,this.dataType,this._indices=null,this._count=0,this._rawCount=0,this._storage={},this._nameList=[],this._idList=[],this._optionModels=[],this._visual={},this._layout={},this._itemVisuals=[],this.hasItemVisual={},this._itemLayouts=[],this._graphicEls=[],this._chunkSize=1e5,this._chunkCount=0,this._rawData,this._rawExtent={},this._extent={},this._approximateExtent={},this._dimensionsSummary=T(this),this._invertedIndicesMap=r,this._calculationInfo={},this.userOutput=this._dimensionsSummary.userOutput},z=N.prototype;z.type="list",z.hasItemOption=!0,z.getDimension=function(t){return"number"!=typeof t&&(isNaN(t)||this._dimensionInfos.hasOwnProperty(t))||(t=this.dimensions[t]),t},z.getDimensionInfo=function(t){return this._dimensionInfos[this.getDimension(t)]},z.getDimensionsOnCoord=function(){return this._dimensionsSummary.dataDimsOnCoord.slice()},z.mapDimension=function(t,e){var n=this._dimensionsSummary;if(null==e)return n.encodeFirstDimNotExtra[t];var i=n.encode[t];return!0===e?(i||[]).slice():i&&i[e]},z.initData=function(t,e,n){(_.isInstance(t)||v.isArrayLike(t))&&(t=new M(t,this.dimensions.length)),this._rawData=t,this._storage={},this._indices=null,this._nameList=e||[],this._idList=[],this._nameRepeatCount={},n||(this.hasItemOption=!1),this.defaultDimValueGetter=w[this._rawData.getSource().sourceFormat],this._dimValueGetter=n=n||this.defaultDimValueGetter,this._dimValueGetterArrayRows=w.arrayRows,this._rawExtent={},this._initDataFromProvider(0,t.count()),t.pure&&(this.hasItemOption=!1)},z.getProvider=function(){return this._rawData},z.appendData=function(t){var e=this._rawData,n=this.count();e.appendData(t);var i=e.count();e.persistent||(i+=n),this._initDataFromProvider(n,i)},z.appendValues=function(t,e){for(var n=this._chunkSize,i=this._storage,r=this.dimensions,a=r.length,l=this._rawExtent,c=this.count(),u=c+Math.max(t.length,e?e.length:0),h=this._chunkCount,d=0;d<a;d++){var p=r[d];l[p]||(l[p]=g()),i[p]||(i[p]=[]),o(i,this._dimensionInfos[p],n,h,u),this._chunkCount=i[p].length}for(var f=new Array(a),m=c;m<u;m++){for(var v=m-c,y=Math.floor(m/n),x=m%n,_=0;_<a;_++){var p=r[_],b=this._dimValueGetterArrayRows(t[v]||f,p,v,_);i[p][y][x]=b;var w=l[p];b<w[0]&&(w[0]=b),b>w[1]&&(w[1]=b)}e&&(this._nameList[m]=e[v])}this._rawCount=this._count=u,this._extent={},s(this)},z._initDataFromProvider=function(t,e){if(!(t>=e)){for(var n,i=this._chunkSize,r=this._rawData,a=this._storage,l=this.dimensions,c=l.length,u=this._dimensionInfos,h=this._nameList,d=this._idList,p=this._rawExtent,f=this._nameRepeatCount={},m=this._chunkCount,v=0;v<c;v++){var y=l[v];p[y]||(p[y]=g());var x=u[y];0===x.otherDims.itemName&&(n=this._nameDimIdx=v),0===x.otherDims.itemId&&(this._idDimIdx=v),a[y]||(a[y]=[]),o(a,x,i,m,e),this._chunkCount=a[y].length}for(var _=new Array(c),b=t;b<e;b++){_=r.getItem(b,_);for(var w=Math.floor(b/i),M=b%i,S=0;S<c;S++){var y=l[S],T=a[y][w],A=this._dimValueGetter(_,y,b,S);T[M]=A;var C=p[y];A<C[0]&&(C[0]=A),A>C[1]&&(C[1]=A)}if(!r.pure){var L=h[b];if(_&&null==L)if(null!=_.name)h[b]=L=_.name;else if(null!=n){var E=l[n],I=a[E][w];if(I){L=I[M];var P=u[E].ordinalMeta;P&&P.categories.length&&(L=P.categories[L])}}var D=null==_?null:_.id;null==D&&null!=L&&(f[L]=f[L]||0,D=L,f[L]>0&&(D+="__ec__"+f[L]),f[L]++),null!=D&&(d[b]=D)}}!r.persistent&&r.clean&&r.clean(),this._rawCount=this._count=e,this._extent={},s(this)}},z.count=function(){return this._count},z.getIndices=function(){var t,e=this._indices;if(e){var n=e.constructor,r=this._count;if(n===Array){t=new n(r);for(var a=0;a<r;a++)t[a]=e[a]}else t=new n(e.buffer,0,r)}else for(var n=i(this),t=new n(this.count()),a=0;a<t.length;a++)t[a]=a;return t},z.get=function(t,e){if(!(e>=0&&e<this._count))return NaN;var n=this._storage;if(!n[t])return NaN;e=this.getRawIndex(e);var i=Math.floor(e/this._chunkSize),r=e%this._chunkSize;return n[t][i][r]},z.getByRawIndex=function(t,e){if(!(e>=0&&e<this._rawCount))return NaN;var n=this._storage[t];if(!n)return NaN;var i=Math.floor(e/this._chunkSize),r=e%this._chunkSize;return n[i][r]},z._getFast=function(t,e){var n=Math.floor(e/this._chunkSize),i=e%this._chunkSize;return this._storage[t][n][i]},z.getValues=function(t,e){var n=[];v.isArray(t)||(e=t,t=this.dimensions);for(var i=0,r=t.length;i<r;i++)n.push(this.get(t[i],e));return n},z.hasValue=function(t){for(var e=this._dimensionsSummary.dataDimsOnCoord,n=0,i=e.length;n<i;n++)if(isNaN(this.get(e[n],t)))return!1;return!0},z.getDataExtent=function(t){t=this.getDimension(t);var e=this._storage[t],n=g();if(!e)return n;var i,r=this.count(),a=!this._indices;if(a)return this._rawExtent[t].slice();if(i=this._extent[t])return i.slice();i=n;for(var o=i[0],s=i[1],l=0;l<r;l++){var c=this._getFast(t,this.getRawIndex(l));c<o&&(o=c),c>s&&(s=c)}return i=[o,s],this._extent[t]=i,i},z.getApproximateExtent=function(t){return t=this.getDimension(t),this._approximateExtent[t]||this.getDataExtent(t)},z.setApproximateExtent=function(t,e){e=this.getDimension(e),this._approximateExtent[e]=t.slice()},z.getCalculationInfo=function(t){return this._calculationInfo[t]},z.setCalculationInfo=function(t,e){C(t)?v.extend(this._calculationInfo,t):this._calculationInfo[t]=e},z.getSum=function(t){var e=this._storage[t],n=0;if(e)for(var i=0,r=this.count();i<r;i++){var a=this.get(t,i);isNaN(a)||(n+=a)}return n},z.getMedian=function(t){var e=[];this.each(t,function(t,n){isNaN(t)||e.push(t)});var n=[].concat(e).sort(function(t,e){return t-e}),i=this.count();return 0===i?0:i%2==1?n[(i-1)/2]:(n[i/2]+n[i/2-1])/2},z.rawIndexOf=function(t,e){var n=t&&this._invertedIndicesMap[t],i=n[e];return null==i||isNaN(i)?L:i},z.indexOfName=function(t){for(var e=0,n=this.count();e<n;e++)if(this.getName(e)===t)return e;return-1},z.indexOfRawIndex=function(t){if(t>=this._rawCount||t<0)return-1;if(!this._indices)return t;var e=this._indices,n=e[t];if(null!=n&&n<this._count&&n===t)return t;for(var i=0,r=this._count-1;i<=r;){var a=(i+r)/2|0;if(e[a]<t)i=a+1;else{if(!(e[a]>t))return a;r=a-1}}return-1},z.indicesOfNearest=function(t,e,n){var i=this._storage,r=i[t],a=[];if(!r)return a;null==n&&(n=1/0);for(var o=1/0,s=-1,l=0,c=0,u=this.count();c<u;c++){var h=e-this.get(t,c),d=Math.abs(h);d<=n&&((d<o||d===o&&h>=0&&s<0)&&(o=d,s=h,l=0),h===s&&(a[l++]=c))}return a.length=l,a},z.getRawIndex=c,z.getRawDataItem=function(t){if(this._rawData.persistent)return this._rawData.getItem(this.getRawIndex(t));for(var e=[],n=0;n<this.dimensions.length;n++){var i=this.dimensions[n];e.push(this.get(i,t))}return e},z.getName=function(t){var e=this.getRawIndex(t);return this._nameList[e]||l(this,this._nameDimIdx,e)||""},z.getId=function(t){return h(this,this.getRawIndex(t))},z.each=function(t,e,n,i){"use strict";if(this._count){"function"==typeof t&&(i=n,n=e,e=t,t=[]),n=n||i||this,t=v.map(d(t),this.getDimension,this);for(var r=t.length,a=0;a<this.count();a++)switch(r){case 0:e.call(n,a);break;case 1:e.call(n,this.get(t[0],a),a);break;case 2:e.call(n,this.get(t[0],a),this.get(t[1],a),a);break;default:for(var o=0,s=[];o<r;o++)s[o]=this.get(t[o],a);s[o]=a,e.apply(n,s)}}},z.filterSelf=function(t,e,n,r){"use strict";if(this._count){"function"==typeof t&&(r=n,n=e,e=t,t=[]),n=n||r||this,t=v.map(d(t),this.getDimension,this);for(var a=this.count(),o=i(this),s=new o(a),l=[],h=t.length,p=0,f=t[0],g=0;g<a;g++){var m,y=this.getRawIndex(g);if(0===h)m=e.call(n,g);else if(1===h){var x=this._getFast(f,y);m=e.call(n,x,g)}else{for(var _=0;_<h;_++)l[_]=this._getFast(f,y);l[_]=g,m=e.apply(n,l)}m&&(s[p++]=y)}return p<a&&(this._indices=s),this._count=p,this._extent={},this.getRawIndex=this._indices?u:c,this}},z.selectRange=function(t){"use strict";if(this._count){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);var r=e.length;if(r){var a=this.count(),o=i(this),s=new o(a),l=0,h=e[0],d=t[h][0],p=t[h][1],f=!1;if(!this._indices){var g=0;if(1===r){for(var m=this._storage[e[0]],v=0;v<this._chunkCount;v++)for(var y=m[v],x=Math.min(this._count-v*this._chunkSize,this._chunkSize),_=0;_<x;_++){var b=y[_];(b>=d&&b<=p||isNaN(b))&&(s[l++]=g),g++}f=!0}else if(2===r){for(var m=this._storage[h],w=this._storage[e[1]],M=t[e[1]][0],S=t[e[1]][1],v=0;v<this._chunkCount;v++)for(var y=m[v],T=w[v],x=Math.min(this._count-v*this._chunkSize,this._chunkSize),_=0;_<x;_++){var b=y[_],A=T[_];(b>=d&&b<=p||isNaN(b))&&(A>=M&&A<=S||isNaN(A))&&(s[l++]=g),g++}f=!0}}if(!f)if(1===r)for(var _=0;_<a;_++){var C=this.getRawIndex(_),b=this._getFast(h,C);(b>=d&&b<=p||isNaN(b))&&(s[l++]=C)}else for(var _=0;_<a;_++){for(var L=!0,C=this.getRawIndex(_),v=0;v<r;v++){var E=e[v],b=this._getFast(n,C);(b<t[E][0]||b>t[E][1])&&(L=!1)}L&&(s[l++]=this.getRawIndex(_))}return l<a&&(this._indices=s),this._count=l,this._extent={},this.getRawIndex=this._indices?u:c,this}}},z.mapArray=function(t,e,n,i){"use strict";"function"==typeof t&&(i=n,n=e,e=t,t=[]),n=n||i||this;var r=[];return this.each(t,function(){r.push(e&&e.apply(this,arguments))},n),r},z.map=function(t,e,n,i){"use strict";n=n||i||this,t=v.map(d(t),this.getDimension,this);var r=p(this,t);r._indices=this._indices,r.getRawIndex=r._indices?u:c;for(var a=r._storage,o=[],s=this._chunkSize,l=t.length,h=this.count(),f=[],g=r._rawExtent,m=0;m<h;m++){for(var y=0;y<l;y++)f[y]=this.get(t[y],m);f[l]=m;var x=e&&e.apply(n,f);if(null!=x){"object"!=typeof x&&(o[0]=x,x=o);for(var _=this.getRawIndex(m),b=Math.floor(_/s),w=_%s,M=0;M<x.length;M++){var S=t[M],T=x[M],A=g[S],C=a[S];C&&(C[b][w]=T),T<A[0]&&(A[0]=T),T>A[1]&&(A[1]=T)}}}return r},z.downSample=function(t,e,n,r){for(var a=p(this,[t]),o=a._storage,s=[],l=Math.floor(1/e),c=o[t],h=this.count(),d=this._chunkSize,f=a._rawExtent[t],g=new(i(this))(h),m=0,v=0;v<h;v+=l){l>h-v&&(l=h-v,s.length=l);for(var y=0;y<l;y++){var x=this.getRawIndex(v+y),_=Math.floor(x/d),b=x%d;s[y]=c[_][b]}var w=n(s),M=this.getRawIndex(Math.min(v+r(s,w)||0,h-1)),S=Math.floor(M/d),T=M%d;c[S][T]=w,w<f[0]&&(f[0]=w),w>f[1]&&(f[1]=w),g[m++]=M}return a._count=m,a._indices=g,a.getRawIndex=u,a},z.getItemModel=function(t){var e=this.hostModel;return new y(this.getRawDataItem(t),e,e&&e.ecModel)},z.diff=function(t){var e=this;return new x(t?t.getIndices():[],this.getIndices(),function(e){return h(t,e)},function(t){return h(e,t)})},z.getVisual=function(t){var e=this._visual;return e&&e[t]},z.setVisual=function(t,e){if(C(t))for(var n in t)t.hasOwnProperty(n)&&this.setVisual(n,t[n]);else this._visual=this._visual||{},this._visual[t]=e},z.setLayout=function(t,e){if(C(t))for(var n in t)t.hasOwnProperty(n)&&this.setLayout(n,t[n]);else this._layout[t]=e},z.getLayout=function(t){return this._layout[t]},z.getItemLayout=function(t){return this._itemLayouts[t]},z.setItemLayout=function(t,e,n){this._itemLayouts[t]=n?v.extend(this._itemLayouts[t]||{},e):e},z.clearItemLayouts=function(){this._itemLayouts.length=0},z.getItemVisual=function(t,e,n){var i=this._itemVisuals[t],r=i&&i[e];return null!=r||n?r:this.getVisual(e)},z.setItemVisual=function(t,e,n){var i=this._itemVisuals[t]||{},r=this.hasItemVisual;if(this._itemVisuals[t]=i,C(e))for(var a in e)e.hasOwnProperty(a)&&(i[a]=e[a],r[a]=!0);else i[e]=n,r[e]=!0},z.clearAllVisual=function(){this._visual={},this._itemVisuals=[],this.hasItemVisual={}};var B=function(t){t.seriesIndex=this.seriesIndex,t.dataIndex=this.dataIndex,t.dataType=this.dataType};z.setItemGraphicEl=function(t,e){var n=this.hostModel;e&&(e.dataIndex=t,e.dataType=this.dataType,e.seriesIndex=n&&n.seriesIndex,"group"===e.type&&e.traverse(B,e)),this._graphicEls[t]=e},z.getItemGraphicEl=function(t){return this._graphicEls[t]},z.eachItemGraphicEl=function(t,e){v.each(this._graphicEls,function(n,i){n&&t&&t.call(e,n,i)})},z.cloneShallow=function(t){if(!t){var e=v.map(this.dimensions,this.getDimensionInfo,this);t=new N(e,this.hostModel)}if(t._storage=this._storage,a(t,this),this._indices){var n=this._indices.constructor;t._indices=new n(this._indices)}else t._indices=null;return t.getRawIndex=t._indices?u:c,t},z.wrapMethod=function(t,e){var n=this[t];"function"==typeof n&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var t=n.apply(this,arguments);return e.apply(this,[t].concat(v.slice(arguments)))})},z.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"],z.CHANGABLE_METHODS=["filterSelf","selectRange"];var V=N;t.exports=V},function(t,e,n){function i(t,e){if("image"!==this.type){var n=this.style,i=this.shape;i&&"line"===i.symbolType?n.stroke=t:this.__isEmptyBrush?(n.stroke=t,n.fill=e||"#fff"):(n.fill&&(n.fill=t),n.stroke&&(n.stroke=t)),this.dirty(!1)}}function r(t,e,n,r,a,l,c){var u=0===t.indexOf("empty");u&&(t=t.substr(5,1).toLowerCase()+t.substr(6));var h;return h=0===t.indexOf("image://")?o.makeImage(t.slice(8),new s(e,n,r,a),c?"center":"cover"):0===t.indexOf("path://")?o.makePath(t.slice(7),{},new s(e,n,r,a),c?"center":"cover"):new v({shape:{symbolType:t,x:e,y:n,width:r,height:a}}),h.__isEmptyBrush=u,h.setColor=i,h.setColor(l),h}var a=n(0),o=n(2),s=n(8),l=n(17),c=l.calculateTextPosition,u=o.extendShape({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var n=e.cx,i=e.cy,r=e.width/2,a=e.height/2;t.moveTo(n,i-a),t.lineTo(n+r,i+a),t.lineTo(n-r,i+a),t.closePath()}}),h=o.extendShape({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var n=e.cx,i=e.cy,r=e.width/2,a=e.height/2;t.moveTo(n,i-a),t.lineTo(n+r,i),t.lineTo(n,i+a),t.lineTo(n-r,i),t.closePath()}}),d=o.extendShape({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var n=e.x,i=e.y,r=e.width/5*3,a=Math.max(r,e.height),o=r/2,s=o*o/(a-o),l=i-a+o+s,c=Math.asin(s/o),u=Math.cos(c)*o,h=Math.sin(c),d=Math.cos(c),p=.6*o,f=.7*o;t.moveTo(n-u,l+s),t.arc(n,l,o,Math.PI-c,2*Math.PI+c),t.bezierCurveTo(n+u-h*p,l+s+d*p,n,i-f,n,i),t.bezierCurveTo(n,i-f,n-u+h*p,l+s+d*p,n-u,l+s),t.closePath()}}),p=o.extendShape({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var n=e.height,i=e.width,r=e.x,a=e.y,o=i/3*2;t.moveTo(r,a),t.lineTo(r+o,a+n),t.lineTo(r,a+n/4*3),t.lineTo(r-o,a+n),t.lineTo(r,a),t.closePath()}}),f={line:o.Line,rect:o.Rect,roundRect:o.Rect,square:o.Rect,circle:o.Circle,diamond:h,pin:d,arrow:p,triangle:u},g={line:function(t,e,n,i,r){r.x1=t,r.y1=e+i/2,r.x2=t+n,r.y2=e+i/2},rect:function(t,e,n,i,r){r.x=t,r.y=e,r.width=n,r.height=i},roundRect:function(t,e,n,i,r){r.x=t,r.y=e,r.width=n,r.height=i,r.r=Math.min(n,i)/4},square:function(t,e,n,i,r){var a=Math.min(n,i);r.x=t,r.y=e,r.width=a,r.height=a},circle:function(t,e,n,i,r){r.cx=t+n/2,r.cy=e+i/2,r.r=Math.min(n,i)/2},diamond:function(t,e,n,i,r){r.cx=t+n/2,r.cy=e+i/2,r.width=n,r.height=i},pin:function(t,e,n,i,r){r.x=t+n/2,r.y=e+i/2,r.width=n,r.height=i},arrow:function(t,e,n,i,r){r.x=t+n/2,r.y=e+i/2,r.width=n,r.height=i},triangle:function(t,e,n,i,r){r.cx=t+n/2,r.cy=e+i/2,r.width=n,r.height=i}},m={};a.each(f,function(t,e){m[e]=new t});var v=o.extendShape({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(t,e,n){var i=c(t,e,n),r=this.shape;return r&&"pin"===r.symbolType&&"inside"===e.textPosition&&(i.y=n.y+.4*n.height),i},buildPath:function(t,e,n){var i=e.symbolType;if("none"!==i){var r=m[i];r||(i="rect",r=m[i]),g[i](e.x,e.y,e.width,e.height,r.shape),r.buildPath(t,r.shape,n)}}});e.createSymbol=r},function(t,e){t.exports=function(t,e,n,i,r,a){var o,s=t=t||{},l=typeof t.default;"object"!==l&&"function"!==l||(o=t,s=t.default);var c="function"==typeof s?s.options:s;e&&(c.render=e.render,c.staticRenderFns=e.staticRenderFns,c._compiled=!0),n&&(c.functional=!0),r&&(c._scopeId=r);var u;if(a?(u=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},c._ssrRegister=u):i&&(u=i),u){var h=c.functional,d=h?c.render:c.beforeCreate;h?(c._injectStyles=u,c.render=function(t,e){return u.call(e),d(t,e)}):c.beforeCreate=d?[].concat(d,u):[u]}return{esModule:o,exports:s,options:c}}},function(t,e,n){function i(){this._coordinateSystems=[]}var r=n(0),a={};i.prototype={constructor:i,create:function(t,e){var n=[];r.each(a,function(i,r){var a=i.create(t,e);n=n.concat(a||[])}),this._coordinateSystems=n},update:function(t,e){r.each(this._coordinateSystems,function(n){n.update&&n.update(t,e)})},getCoordinateSystems:function(){return this._coordinateSystems.slice()}},i.register=function(t,e){a[t]=e},i.get=function(t){return a[t]};var o=i;t.exports=o},function(t,e,n){function i(t,e){var n,i,a,o=t.type,s=e.getMin(),l=e.getMax(),c=null!=s,u=null!=l,h=t.getExtent();"ordinal"===o?n=e.getCategories().length:(i=e.get("boundaryGap"),g.isArray(i)||(i=[i||0,i||0]),"boolean"==typeof i[0]&&(i=[0,0]),i[0]=x.parsePercent(i[0],1),i[1]=x.parsePercent(i[1],1),a=h[1]-h[0]||Math.abs(h[0])),null==s&&(s="ordinal"===o?n?0:NaN:h[0]-i[0]*a),null==l&&(l="ordinal"===o?n?n-1:NaN:h[1]+i[1]*a),"dataMin"===s?s=h[0]:"function"==typeof s&&(s=s({min:h[0],max:h[1]})),"dataMax"===l?l=h[1]:"function"==typeof l&&(l=l({min:h[0],max:h[1]})),(null==s||!isFinite(s))&&(s=NaN),(null==l||!isFinite(l))&&(l=NaN),t.setBlank(g.eqNaN(s)||g.eqNaN(l)||"ordinal"===o&&!t.getOrdinalMeta().categories.length),e.getNeedCrossZero()&&(s>0&&l>0&&!c&&(s=0),s<0&&l<0&&!u&&(l=0));var d=e.ecModel;if(d&&"time"===o){var p,f=b("bar",d);if(g.each(f,function(t){p|=t.getBaseAxis()===e.axis}),p){var m=w(f),v=r(s,l,e,m);s=v.min,l=v.max}}return[s,l]}function r(t,e,n,i){var r=n.axis.getExtent(),a=r[1]-r[0],o=M(i,n.axis);if(void 0===o)return{min:t,max:e};var s=1/0;g.each(o,function(t){s=Math.min(t.offset,s)});var l=-1/0;g.each(o,function(t){l=Math.max(t.offset+t.width,l)}),s=Math.abs(s),l=Math.abs(l);var c=s+l,u=e-t,h=1-(s+l)/a,d=u/h-u;return e+=d*(l/c),t-=d*(s/c),{min:t,max:e}}function a(t,e){var n=i(t,e),r=null!=e.getMin(),a=null!=e.getMax(),o=e.get("splitNumber");"log"===t.type&&(t.base=e.get("logBase"));var s=t.type;t.setExtent(n[0],n[1]),t.niceExtent({splitNumber:o,fixMin:r,fixMax:a,minInterval:"interval"===s||"time"===s?e.get("minInterval"):null,maxInterval:"interval"===s||"time"===s?e.get("maxInterval"):null});var l=e.get("interval");null!=l&&t.setInterval&&t.setInterval(l)}function o(t,e){if(e=e||t.get("type"))switch(e){case"category":return new m(t.getOrdinalMeta?t.getOrdinalMeta():t.getCategories(),[1/0,-1/0]);case"value":return new v;default:return(y.getClass(e)||v).create(t)}}function s(t){var e=t.scale.getExtent(),n=e[0],i=e[1];return!(n>0&&i>0||n<0&&i<0)}function l(t){var e=t.getLabelModel().get("formatter"),n="category"===t.type?t.scale.getExtent()[0]:null;return"string"==typeof e?e=function(e){return function(n){return n=t.scale.getLabel(n),e.replace("{value}",null!=n?n:"")}}(e):"function"==typeof e?function(i,r){return null!=n&&(r=i-n),e(c(t,i),r)}:function(e){return t.scale.getLabel(e)}}function c(t,e){return"category"===t.type?t.scale.getLabel(e):e}function u(t){var e=t.model,n=t.scale;if(e.get("axisLabel.show")&&!n.isBlank()){var i,r,a="category"===t.type,o=n.getExtent();a?r=n.count():(i=n.getTicks(),r=i.length);var s,c=t.getLabelModel(),u=l(t),d=1;r>40&&(d=Math.ceil(r/40));for(var p=0;p<r;p+=d){var f=i?i[p]:o[0]+p,g=u(f),m=c.getTextRect(g),v=h(m,c.get("rotate")||0);s?s.union(v):s=v}return s}}function h(t,e){var n=e*Math.PI/180,i=t.plain(),r=i.width,a=i.height,o=r*Math.cos(n)+a*Math.sin(n),s=r*Math.sin(n)+a*Math.cos(n);return new S(i.x,i.y,o,s)}function d(t){var e=t.get("interval");return null==e?"auto":e}function p(t){return"category"===t.type&&0===d(t.getLabelModel())}var f=n(5),g=(f.__DEV__,n(0)),m=n(339),v=n(82),y=n(81),x=n(3),_=n(83),b=_.prepareLayoutBarSeries,w=_.makeColumnLayout,M=_.retrieveColumnLayout,S=n(8);n(340),n(184),e.getScaleExtent=i,e.niceScaleExtent=a,e.createScaleByModel=o,e.ifAxisCrossZero=s,e.makeLabelFormatter=l,e.getAxisRawValue=c,e.estimateLabelUnionRect=u,e.getOptionCategoryInterval=d,e.shouldShowAllLabels=p},function(t,e,n){function i(t,e,n,i){return n=n||{},i||!f.canvasSupported?r(t,e,n):f.browser.firefox&&null!=e.layerX&&e.layerX!==e.offsetX?(n.zrX=e.layerX,n.zrY=e.layerY):null!=e.offsetX?(n.zrX=e.offsetX,n.zrY=e.offsetY):r(t,e,n),n}function r(t,e,n){if(t.getBoundingClientRect&&f.domSupported){var i=e.clientX,r=e.clientY;if("CANVAS"===t.nodeName.toUpperCase()){var s=t.getBoundingClientRect();return n.zrX=i-s.left,void(n.zrY=r-s.top)}var l=t[x]||(t[x]={}),c=o(a(t,l),l);if(c)return c(_,i,r),n.zrX=_[0],void(n.zrY=_[1])}n.zrX=n.zrY=0}function a(t,e){var n=e.markers;if(n)return n;n=e.markers=[];for(var i=["left","right"],r=["top","bottom"],a=0;a<4;a++){var o=document.createElement("div"),s=o.style,l=a%2,c=(a>>1)%2;s.cssText=["position:absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","width:0","height:0",i[l]+":0",r[c]+":0",i[1-l]+":auto",r[1-c]+":auto",""].join("!important;"),t.appendChild(o),n.push(o)}return n}function o(t,e){for(var n=e.transformer,i=e.srcCoords,r=!0,a=[],o=[],s=0;s<4;s++){var l=t[s].getBoundingClientRect(),c=2*s,u=l.left,h=l.top;a.push(u,h),r&=i&&u===i[c]&&h===i[c+1],o.push(t[s].offsetLeft,t[s].offsetTop)}return r?n:(e.srcCoords=a,e.transformer=m(a,o))}function s(t){return t||window.event}function l(t,e,n){if(e=s(e),null!=e.zrX)return e;var r=e.type;if(r&&r.indexOf("touch")>=0){var a="touchend"!==r?e.targetTouches[0]:e.changedTouches[0];a&&i(t,a,e,n)}else i(t,e,e,n),e.zrDelta=e.wheelDelta?e.wheelDelta/120:-(e.detail||0)/3;var o=e.button;return null==e.which&&void 0!==o&&y.test(e.type)&&(e.which=1&o?1:2&o?3:4&o?2:0),e}function c(t,e,n,i){v?t.addEventListener(e,n,i):t.attachEvent("on"+e,n)}function u(t,e,n,i){v?t.removeEventListener(e,n,i):t.detachEvent("on"+e,n)}function h(t){return 2===t.which||3===t.which}function d(t){return t.which>1}var p=n(38);e.Dispatcher=p;var f=n(11),g=n(298),m=g.buildTransformer,v="undefined"!=typeof window&&!!window.addEventListener,y=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,x="___zrEVENTSAVED",_=[],b=v?function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0}:function(t){t.returnValue=!1,t.cancelBubble=!0};e.clientToLocal=i,e.getNativeEvent=s,e.normalizeEvent=l,e.addEventListener=c,e.removeEventListener=u,e.stop=b,e.isMiddleOrRightButtonOnMouseUpDown=h,e.notLeftMouse=d},function(t,e,n){function i(t){return t=Math.round(t),t<0?0:t>255?255:t}function r(t){return t=Math.round(t),t<0?0:t>360?360:t}function a(t){return t<0?0:t>1?1:t}function o(t){return i(t.length&&"%"===t.charAt(t.length-1)?parseFloat(t)/100*255:parseInt(t,10))}function s(t){return a(t.length&&"%"===t.charAt(t.length-1)?parseFloat(t)/100:parseFloat(t))}function l(t,e,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}function c(t,e,n){return t+(e-t)*n}function u(t,e,n,i,r){return t[0]=e,t[1]=n,t[2]=i,t[3]=r,t}function h(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function d(t,e){A&&h(A,e),A=T.put(t,A||e.slice())}function p(t,e){if(t){e=e||[];var n=T.get(t);if(n)return h(e,n);t+="";var i=t.replace(/ /g,"").toLowerCase();if(i in S)return h(e,S[i]),d(t,e),e;if("#"!==i.charAt(0)){var r=i.indexOf("("),a=i.indexOf(")");if(-1!==r&&a+1===i.length){var l=i.substr(0,r),c=i.substr(r+1,a-(r+1)).split(","),p=1;switch(l){case"rgba":if(4!==c.length)return void u(e,0,0,0,1);p=s(c.pop());case"rgb":return 3!==c.length?void u(e,0,0,0,1):(u(e,o(c[0]),o(c[1]),o(c[2]),p),d(t,e),e);case"hsla":return 4!==c.length?void u(e,0,0,0,1):(c[3]=s(c[3]),f(c,e),d(t,e),e);case"hsl":return 3!==c.length?void u(e,0,0,0,1):(f(c,e),d(t,e),e);default:return}}u(e,0,0,0,1)}else{if(4===i.length){var g=parseInt(i.substr(1),16);return g>=0&&g<=4095?(u(e,(3840&g)>>4|(3840&g)>>8,240&g|(240&g)>>4,15&g|(15&g)<<4,1),d(t,e),e):void u(e,0,0,0,1)}if(7===i.length){var g=parseInt(i.substr(1),16);return g>=0&&g<=16777215?(u(e,(16711680&g)>>16,(65280&g)>>8,255&g,1),d(t,e),e):void u(e,0,0,0,1)}}}}function f(t,e){var n=(parseFloat(t[0])%360+360)%360/360,r=s(t[1]),a=s(t[2]),o=a<=.5?a*(r+1):a+r-a*r,c=2*a-o;return e=e||[],u(e,i(255*l(c,o,n+1/3)),i(255*l(c,o,n)),i(255*l(c,o,n-1/3)),1),4===t.length&&(e[3]=t[3]),e}function g(t){if(t){var e,n,i=t[0]/255,r=t[1]/255,a=t[2]/255,o=Math.min(i,r,a),s=Math.max(i,r,a),l=s-o,c=(s+o)/2;if(0===l)e=0,n=0;else{n=c<.5?l/(s+o):l/(2-s-o);var u=((s-i)/6+l/2)/l,h=((s-r)/6+l/2)/l,d=((s-a)/6+l/2)/l;i===s?e=d-h:r===s?e=1/3+u-d:a===s&&(e=2/3+h-u),e<0&&(e+=1),e>1&&(e-=1)}var p=[360*e,n,c];return null!=t[3]&&p.push(t[3]),p}}function m(t,e){var n=p(t);if(n){for(var i=0;i<3;i++)n[i]=e<0?n[i]*(1-e)|0:(255-n[i])*e+n[i]|0,n[i]>255?n[i]=255:t[i]<0&&(n[i]=0);return w(n,4===n.length?"rgba":"rgb")}}function v(t){var e=p(t);if(e)return((1<<24)+(e[0]<<16)+(e[1]<<8)+ +e[2]).toString(16).slice(1)}function y(t,e,n){if(e&&e.length&&t>=0&&t<=1){n=n||[];var r=t*(e.length-1),o=Math.floor(r),s=Math.ceil(r),l=e[o],u=e[s],h=r-o;return n[0]=i(c(l[0],u[0],h)),n[1]=i(c(l[1],u[1],h)),n[2]=i(c(l[2],u[2],h)),n[3]=a(c(l[3],u[3],h)),n}}function x(t,e,n){if(e&&e.length&&t>=0&&t<=1){var r=t*(e.length-1),o=Math.floor(r),s=Math.ceil(r),l=p(e[o]),u=p(e[s]),h=r-o,d=w([i(c(l[0],u[0],h)),i(c(l[1],u[1],h)),i(c(l[2],u[2],h)),a(c(l[3],u[3],h))],"rgba");return n?{color:d,leftIndex:o,rightIndex:s,value:r}:d}}function _(t,e,n,i){if(t=p(t))return t=g(t),null!=e&&(t[0]=r(e)),null!=n&&(t[1]=s(n)),null!=i&&(t[2]=s(i)),w(f(t),"rgba")}function b(t,e){if((t=p(t))&&null!=e)return t[3]=a(e),w(t,"rgba")}function w(t,e){if(t&&t.length){var n=t[0]+","+t[1]+","+t[2];return"rgba"!==e&&"hsva"!==e&&"hsla"!==e||(n+=","+t[3]),e+"("+n+")"}}var M=n(157),S={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]},T=new M(20),A=null,C=y,L=x;e.parse=p,e.lift=m,e.toHex=v,e.fastLerp=y,e.fastMapToColor=C,e.lerp=x,e.mapToColor=L,e.modifyHSL=_,e.modifyAlpha=b,e.stringify=w},function(t,e,n){function i(){this.group=new u,this.uid=h.getUID("viewChart"),this.renderTask=m({plan:o,reset:s}),this.renderTask.context={view:this}}function r(t,e,n){if(t&&(t.trigger(e,n),t.isGroup&&!f.isHighDownDispatcher(t)))for(var i=0,a=t.childCount();i<a;i++)r(t.childAt(i),e,n)}function a(t,e,n){var i=p.queryDataIndex(t,e),a=e&&null!=e.highlightKey?f.getHighlightDigit(e.highlightKey):null;null!=i?c(p.normalizeToArray(i),function(e){r(t.getItemGraphicEl(e),n,a)}):t.eachItemGraphicEl(function(t){r(t,n,a)})}function o(t){return x(t.model)}function s(t){var e=t.model,n=t.ecModel,i=t.api,r=t.payload,a=e.pipelineContext.progressiveRender,o=t.view,s=r&&y(r).updateMethod,l=a?"incrementalPrepareRender":s&&o[s]?s:"render";return"render"!==l&&o[l](e,n,i,r),b[l]}var l=n(0),c=l.each,u=n(46),h=n(60),d=n(29),p=n(4),f=n(2),g=n(102),m=g.createTask,v=n(50),y=p.makeInner(),x=v();i.prototype={type:"chart",init:function(t,e){},render:function(t,e,n,i){},highlight:function(t,e,n,i){a(t.getData(),i,"emphasis")},downplay:function(t,e,n,i){a(t.getData(),i,"normal")},remove:function(t,e){this.group.removeAll()},dispose:function(){},incrementalPrepareRender:null,incrementalRender:null,updateTransform:null,filterForExposedEvent:null};var _=i.prototype;_.updateView=_.updateLayout=_.updateVisual=function(t,e,n,i){this.render(t,e,n,i)},d.enableClassExtend(i,["dispose"]),d.enableClassManagement(i,{registerWhenExtend:!0}),i.markUpdateMethod=function(t,e){y(t).updateMethod=e};var b={incrementalPrepareRender:{progress:function(t,e){e.view.incrementalRender(t,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:!0,progress:function(t,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}},w=i;t.exports=w},function(t,e,n){function i(t,e,n){n=n||{};var i,r,a,o,c=n.byIndex,u=n.stackedCoordDimension,h=!(!t||!t.get("stack"));if(s(e,function(t,n){l(t)&&(e[n]=t={name:t}),h&&!t.isExtraCoord&&(c||i||!t.ordinalMeta||(i=t),r||"ordinal"===t.type||"time"===t.type||u&&u!==t.coordDim||(r=t))}),!r||c||i||(c=!0),r){a="__\0ecstackresult",o="__\0ecstackedover",i&&(i.createInvertedIndices=!0);var d=r.coordDim,p=r.type,f=0;s(e,function(t){t.coordDim===d&&f++}),e.push({name:a,coordDim:d,coordDimIndex:f,type:p,isExtraCoord:!0,isCalculationCoord:!0}),f++,e.push({name:o,coordDim:o,coordDimIndex:f,type:p,isExtraCoord:!0,isCalculationCoord:!0})}return{stackedDimension:r&&r.name,stackedByDimension:i&&i.name,isStackedByIndex:c,stackedOverDimension:o,stackResultDimension:a}}function r(t,e){return!!e&&e===t.getCalculationInfo("stackedDimension")}function a(t,e){return r(t,e)?t.getCalculationInfo("stackResultDimension"):e}var o=n(0),s=o.each,l=o.isString;e.enableDataStack=i,e.isDimensionStacked=r,e.getStackedDimension=a},function(t,e){function n(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var a=i(r);return[n].concat(r.sources.map(function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"})).concat([a]).join("\n")}return[n].join("\n")}function i(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var i=n(e,t);return e[2]?"@media "+e[2]+"{"+i+"}":i}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},r=0;r<this.length;r++){var a=this[r][0];"number"==typeof a&&(i[a]=!0)}for(r=0;r<t.length;r++){var o=t[r];"number"==typeof o[0]&&i[o[0]]||(n&&!o[2]?o[2]=n:n&&(o[2]="("+o[2]+") and ("+n+")"),e.push(o))}},e}},function(t,e,n){function i(t){for(var e=0;e<t.length;e++){var n=t[e],i=u[n.id];if(i){i.refs++;for(var r=0;r<i.parts.length;r++)i.parts[r](n.parts[r]);for(;r<n.parts.length;r++)i.parts.push(a(n.parts[r]));i.parts.length>n.parts.length&&(i.parts.length=n.parts.length)}else{for(var o=[],r=0;r<n.parts.length;r++)o.push(a(n.parts[r]));u[n.id]={id:n.id,refs:1,parts:o}}}}function r(){var t=document.createElement("style");return t.type="text/css",h.appendChild(t),t}function a(t){var e,n,i=document.querySelector("style["+v+'~="'+t.id+'"]');if(i){if(f)return g;i.parentNode.removeChild(i)}if(y){var a=p++;i=d||(d=r()),e=o.bind(null,i,a,!1),n=o.bind(null,i,a,!0)}else i=r(),e=s.bind(null,i),n=function(){i.parentNode.removeChild(i)};return e(t),function(i){if(i){if(i.css===t.css&&i.media===t.media&&i.sourceMap===t.sourceMap)return;e(t=i)}else n()}}function o(t,e,n,i){var r=n?"":i.css;if(t.styleSheet)t.styleSheet.cssText=x(e,r);else{var a=document.createTextNode(r),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(a,o[e]):t.appendChild(a)}}function s(t,e){var n=e.css,i=e.media,r=e.sourceMap;if(i&&t.setAttribute("media",i),m.ssrId&&t.setAttribute(v,e.id),r&&(n+="\n/*# sourceURL="+r.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}var l="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!l)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var c=n(246),u={},h=l&&(document.head||document.getElementsByTagName("head")[0]),d=null,p=0,f=!1,g=function(){},m=null,v="data-vue-ssr-id",y="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());t.exports=function(t,e,n,r){f=n,m=r||{};var a=c(t,e);return i(a),function(e){for(var n=[],r=0;r<a.length;r++){var o=a[r],s=u[o.id];s.refs--,n.push(s)}e?(a=c(t,e),i(a)):a=[];for(var r=0;r<n.length;r++){var s=n[r];if(0===s.refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete u[s.id]}}}};var x=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(t,e,n){function i(t){var e={main:"",sub:""};return t&&(t=t.split(p),e.main=t[0]||"",e.sub=t[1]||""),e}function r(t){d.assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(t),'componentType "'+t+'" illegal')}function a(t,e){t.$constructor=t,t.extend=function(t){var e=this,n=function(){t.$constructor?t.$constructor.apply(this,arguments):e.apply(this,arguments)};return d.extend(n.prototype,t),n.extend=this.extend,n.superCall=s,n.superApply=l,d.inherits(n,this),n.superClass=e,n}}function o(t){var e=["__\0is_clz",g++,Math.random().toFixed(3)].join("_");t.prototype[e]=!0,t.isInstance=function(t){return!(!t||!t[e])}}function s(t,e){var n=d.slice(arguments,2);return this.superClass.prototype[e].apply(t,n)}function l(t,e,n){return this.superClass.prototype[e].apply(t,n)}function c(t,e){function n(t){var e=a[t.main];return e&&e[f]||(e=a[t.main]={},e[f]=!0),e}e=e||{};var a={};if(t.registerClass=function(t,e){if(e)if(r(e),e=i(e),e.sub){if(e.sub!==f){var o=n(e);o[e.sub]=t}}else a[e.main]=t;return t},t.getClass=function(t,e,n){var i=a[t];if(i&&i[f]&&(i=e?i[e]:null),n&&!i)throw new Error(e?"Component "+t+"."+(e||"")+" not exists. Load it first.":t+".type should be specified.");return i},t.getClassesByMainType=function(t){t=i(t);var e=[],n=a[t.main];return n&&n[f]?d.each(n,function(t,n){n!==f&&e.push(t)}):e.push(n),e},t.hasClass=function(t){return t=i(t),!!a[t.main]},t.getAllClassMainTypes=function(){var t=[];return d.each(a,function(e,n){t.push(n)}),t},t.hasSubTypes=function(t){t=i(t);var e=a[t.main];return e&&e[f]},t.parseClassType=i,e.registerWhenExtend){var o=t.extend;o&&(t.extend=function(e){var n=o.call(this,e);return t.registerClass(n,e.type)})}return t}function u(t,e){}var h=n(5),d=(h.__DEV__,n(0)),p=".",f="___EC__COMPONENT__CONTAINER___",g=0;e.parseClassType=i,e.enableClassExtend=a,e.enableClassCheck=o,e.enableClassManagement=c,e.setReadOnly=u},function(t,e,n){function i(t){var e=t.option.source,n=N;if(C(e))n=z;else if(S(e)){0===e.length&&(n=R);for(var i=0,r=e.length;i<r;i++){var a=e[i];if(null!=a){if(S(a)){n=R;break}if(A(a)){n=O;break}}}}else if(A(e)){for(var o in e)if(e.hasOwnProperty(o)&&L(e[o])){n=k;break}}else if(null!=e)throw new Error("Invalid data");F(t).sourceFormat=n}function r(t){return F(t).source}function a(t){F(t).datasetMap=b()}function o(t){var e=t.option,n=e.data,i=C(n)?z:D,r=!1,a=e.seriesLayoutBy,o=e.sourceHeader,l=e.dimensions,c=p(t);if(c){var u=c.option;n=u.source,i=F(c).sourceFormat,r=!0,a=a||u.seriesLayoutBy,null==o&&(o=u.sourceHeader),l=l||u.dimensions}var h=s(n,i,a,o,l);F(t).source=new I({data:n,fromDataset:r,seriesLayoutBy:a,sourceFormat:i,dimensionsDefine:h.dimensionsDefine,startIndex:h.startIndex,dimensionsDetectCount:h.dimensionsDetectCount,encodeDefine:e.encode})}function s(t,e,n,i,r){if(!t)return{dimensionsDefine:l(r)};var a,o;if(e===R)"auto"===i||null==i?c(function(t){null!=t&&"-"!==t&&(T(t)?null==o&&(o=1):o=0)},n,t,10):o=i?1:0,r||1!==o||(r=[],c(function(t,e){r[e]=null!=t?t:""},n,t)),a=r?r.length:n===B?t.length:t[0]?t[0].length:null;else if(e===O)r||(r=u(t));else if(e===k)r||(r=[],w(t,function(t,e){r.push(e)}));else if(e===D){var s=x(t[0]);a=S(s)&&s.length||1}return{startIndex:o,dimensionsDefine:l(r),dimensionsDetectCount:a}}function l(t){if(t){var e=b();return M(t,function(t,n){if(t=E({},A(t)?t:{name:t}),null==t.name)return t;t.name+="",null==t.displayName&&(t.displayName=t.name);var i=e.get(t.name);return i?t.name+="-"+i.count++:e.set(t.name,{count:1}),t})}}function c(t,e,n,i){if(null==i&&(i=1/0),e===B)for(var r=0;r<n.length&&r<i;r++)t(n[r]?n[r][0]:null,r);else for(var a=n[0]||[],r=0;r<a.length&&r<i;r++)t(a[r],r)}function u(t){for(var e,n=0;n<t.length&&!(e=t[n++]););if(e){var i=[];return w(e,function(t,e){i.push(e)}),i}}function h(t,e,n){function i(t,e,n){for(var i=0;i<n;i++)t.push(e+i)}function r(t){var e=t.dimsDef;return e?e.length:1}var a={},o=p(e);if(!o||!t)return a;var s,l,c=[],u=[],h=e.ecModel,d=F(h).datasetMap,f=o.uid+"_"+n.seriesLayoutBy;t=t.slice(),w(t,function(e,n){!A(e)&&(t[n]={name:e}),"ordinal"===e.type&&null==s&&(s=n,l=r(t[n])),a[e.name]=[]});var g=d.get(f)||d.set(f,{categoryWayDim:l,valueWayDim:0});return w(t,function(t,e){var n=t.name,o=r(t);if(null==s){var l=g.valueWayDim;i(a[n],l,o),i(u,l,o),g.valueWayDim+=o}else if(s===e)i(a[n],0,o),i(c,0,o);else{var l=g.categoryWayDim;i(a[n],l,o),i(u,l,o),g.categoryWayDim+=o}}),c.length&&(a.itemName=c),u.length&&(a.seriesName=u),a}function d(t,e,n){var i={};if(!p(t))return i;var r,a=e.sourceFormat,o=e.dimensionsDefine;a!==O&&a!==k||w(o,function(t,e){"name"===(A(t)?t.name:t)&&(r=e)});var s=function(){function t(t){return null!=t.v&&null!=t.n}for(var i={},s={},l=[],c=0,u=Math.min(5,n);c<u;c++){var h=g(e.data,a,e.seriesLayoutBy,o,e.startIndex,c);l.push(h);var d=h===V.Not;if(d&&null==i.v&&c!==r&&(i.v=c),(null==i.n||i.n===i.v||!d&&l[i.n]===V.Not)&&(i.n=c),t(i)&&l[i.n]!==V.Not)return i;d||(h===V.Might&&null==s.v&&c!==r&&(s.v=c),null!=s.n&&s.n!==s.v||(s.n=c))}return t(i)?i:t(s)?s:null}();if(s){i.value=s.v;var l=null!=r?r:s.n;i.itemName=[l],i.seriesName=[l]}return i}function p(t){var e=t.option;if(!e.data)return t.ecModel.getComponent("dataset",e.datasetIndex||0)}function f(t,e){return g(t.data,t.sourceFormat,t.seriesLayoutBy,t.dimensionsDefine,t.startIndex,e)}function g(t,e,n,i,r,a){function o(t){var e=T(t);return null!=t&&isFinite(t)&&""!==t?e?V.Might:V.Not:e&&"-"!==t?V.Must:void 0}var s;if(C(t))return V.Not;var l,c;if(i){var u=i[a];A(u)?(l=u.name,c=u.type):T(u)&&(l=u)}if(null!=c)return"ordinal"===c?V.Must:V.Not;if(e===R)if(n===B){for(var h=t[a],d=0;d<(h||[]).length&&d<5;d++)if(null!=(s=o(h[r+d])))return s}else for(var d=0;d<t.length&&d<5;d++){var p=t[r+d];if(p&&null!=(s=o(p[a])))return s}else if(e===O){if(!l)return V.Not;for(var d=0;d<t.length&&d<5;d++){var f=t[d];if(f&&null!=(s=o(f[l])))return s}}else if(e===k){if(!l)return V.Not;var h=t[l];if(!h||C(h))return V.Not;for(var d=0;d<h.length&&d<5;d++)if(null!=(s=o(h[d])))return s}else if(e===D)for(var d=0;d<t.length&&d<5;d++){var f=t[d],g=x(f);if(!S(g))return V.Not;if(null!=(s=o(g[a])))return s}return V.Not}var m=n(5),v=(m.__DEV__,n(4)),y=v.makeInner,x=v.getDataItemValue,_=n(0),b=_.createHashMap,w=_.each,M=_.map,S=_.isArray,T=_.isString,A=_.isObject,C=_.isTypedArray,L=_.isArrayLike,E=_.extend,I=(_.assert,n(61)),P=n(62),D=P.SOURCE_FORMAT_ORIGINAL,R=P.SOURCE_FORMAT_ARRAY_ROWS,O=P.SOURCE_FORMAT_OBJECT_ROWS,k=P.SOURCE_FORMAT_KEYED_COLUMNS,N=P.SOURCE_FORMAT_UNKNOWN,z=P.SOURCE_FORMAT_TYPED_ARRAY,B=P.SERIES_LAYOUT_BY_ROW,V={Must:1,Might:2,Not:3},F=y();e.BE_ORDINAL=V,e.detectSourceFormat=i,e.getSource=r,e.resetSourceDefaulter=a,e.prepareSource=o,e.makeSeriesEncodeForAxisCoordSys=h,e.makeSeriesEncodeForNameBased=d,e.guessOrdinal=f},function(t,e,n){function i(t,e,n){n=n||{},y.isInstance(t)||(t=y.seriesDataToSource(t));var i,a=e.get("coordinateSystem"),c=g.get(a),u=v(e);u&&(i=o.map(u.coordSysDims,function(t){var e={name:t},n=u.axisMap.get(t);if(n){var i=n.get("type");e.type=d(i)}return e})),i||(i=c&&(c.getDimensionsInfo?c.getDimensionsInfo():c.dimensions.slice())||["x","y"]);var h,p,f=l(t,{coordDimensions:i,generateCoord:n.generateCoord,encodeDefaulter:n.useEncodeDefaulter?o.curry(w,i,e):null});u&&o.each(f,function(t,e){var n=t.coordDim,i=u.categoryAxisMap.get(n);i&&(null==h&&(h=e),t.ordinalMeta=i.getOrdinalMeta()),null!=t.otherDims.itemName&&(p=!0)}),p||null==h||(f[h].otherDims.itemName=0);var m=_(e,f),x=new s(f,e);x.setCalculationInfo(m);var b=null!=h&&r(t)?function(t,e,n,i){return i===h?n:this.defaultDimValueGetter(t,e,n,i)}:null;return x.hasItemOption=!1,x.initData(t,null,b),x}function r(t){if(t.sourceFormat===u){var e=a(t.data||[]);return null!=e&&!o.isArray(f(e))}}function a(t){for(var e=0;e<t.length&&null==t[e];)e++;return t[e]}var o=n(0),s=n(18),l=n(51),c=n(62),u=c.SOURCE_FORMAT_ORIGINAL,h=n(63),d=h.getDimensionTypeByAxis,p=n(4),f=p.getDataItemValue,g=n(21),m=n(338),v=m.getCoordSysInfoBySeries,y=n(61),x=n(26),_=x.enableDataStack,b=n(30),w=b.makeSeriesEncodeForAxisCoordSys,M=i;t.exports=M},function(t,e,n){function i(t){return t>-w&&t<w}function r(t){return t>w||t<-w}function a(t,e,n,i,r){var a=1-r;return a*a*(a*t+3*r*e)+r*r*(r*i+3*a*n)}function o(t,e,n,i,r){var a=1-r;return 3*(((e-t)*a+2*(n-e)*r)*a+(i-n)*r*r)}function s(t,e,n,r,a,o){var s=r+3*(e-n)-t,l=3*(n-2*e+t),c=3*(e-t),u=t-a,h=l*l-3*s*c,d=l*c-9*s*u,p=c*c-3*l*u,f=0;if(i(h)&&i(d))if(i(l))o[0]=0;else{var g=-c/l;g>=0&&g<=1&&(o[f++]=g)}else{var m=d*d-4*h*p;if(i(m)){var v=d/h,g=-l/s+v,y=-v/2;g>=0&&g<=1&&(o[f++]=g),y>=0&&y<=1&&(o[f++]=y)}else if(m>0){var x=b(m),w=h*l+1.5*s*(-d+x),M=h*l+1.5*s*(-d-x);w=w<0?-_(-w,T):_(w,T),M=M<0?-_(-M,T):_(M,T);var g=(-l-(w+M))/(3*s);g>=0&&g<=1&&(o[f++]=g)}else{var A=(2*h*l-3*s*d)/(2*b(h*h*h)),C=Math.acos(A)/3,L=b(h),E=Math.cos(C),g=(-l-2*L*E)/(3*s),y=(-l+L*(E+S*Math.sin(C)))/(3*s),I=(-l+L*(E-S*Math.sin(C)))/(3*s);g>=0&&g<=1&&(o[f++]=g),y>=0&&y<=1&&(o[f++]=y),I>=0&&I<=1&&(o[f++]=I)}}return f}function l(t,e,n,a,o){var s=6*n-12*e+6*t,l=9*e+3*a-3*t-9*n,c=3*e-3*t,u=0;if(i(l)){if(r(s)){var h=-c/s;h>=0&&h<=1&&(o[u++]=h)}}else{var d=s*s-4*l*c;if(i(d))o[0]=-s/(2*l);else if(d>0){var p=b(d),h=(-s+p)/(2*l),f=(-s-p)/(2*l);h>=0&&h<=1&&(o[u++]=h),f>=0&&f<=1&&(o[u++]=f)}}return u}function c(t,e,n,i,r,a){var o=(e-t)*r+t,s=(n-e)*r+e,l=(i-n)*r+n,c=(s-o)*r+o,u=(l-s)*r+s,h=(u-c)*r+c;a[0]=t,a[1]=o,a[2]=c,a[3]=h,a[4]=h,a[5]=u,a[6]=l,a[7]=i}function u(t,e,n,i,r,o,s,l,c,u,h){var d,p,f,g,m,v=.005,y=1/0;A[0]=c,A[1]=u;for(var _=0;_<1;_+=.05)C[0]=a(t,n,r,s,_),C[1]=a(e,i,o,l,_),(g=x(A,C))<y&&(d=_,y=g);y=1/0;for(var w=0;w<32&&!(v<M);w++)p=d-v,f=d+v,C[0]=a(t,n,r,s,p),C[1]=a(e,i,o,l,p),g=x(C,A),p>=0&&g<y?(d=p,y=g):(L[0]=a(t,n,r,s,f),L[1]=a(e,i,o,l,f),m=x(L,A),f<=1&&m<y?(d=f,y=m):v*=.5);return h&&(h[0]=a(t,n,r,s,d),h[1]=a(e,i,o,l,d)),b(y)}function h(t,e,n,i){var r=1-i;return r*(r*t+2*i*e)+i*i*n}function d(t,e,n,i){return 2*((1-i)*(e-t)+i*(n-e))}function p(t,e,n,a,o){var s=t-2*e+n,l=2*(e-t),c=t-a,u=0;if(i(s)){if(r(l)){var h=-c/l;h>=0&&h<=1&&(o[u++]=h)}}else{var d=l*l-4*s*c;if(i(d)){var h=-l/(2*s);h>=0&&h<=1&&(o[u++]=h)}else if(d>0){var p=b(d),h=(-l+p)/(2*s),f=(-l-p)/(2*s);h>=0&&h<=1&&(o[u++]=h),f>=0&&f<=1&&(o[u++]=f)}}return u}function f(t,e,n){var i=t+n-2*e;return 0===i?.5:(t-e)/i}function g(t,e,n,i,r){var a=(e-t)*i+t,o=(n-e)*i+e,s=(o-a)*i+a;r[0]=t,r[1]=a,r[2]=s,r[3]=s,r[4]=o,r[5]=n}function m(t,e,n,i,r,a,o,s,l){var c,u=.005,d=1/0;A[0]=o,A[1]=s;for(var p=0;p<1;p+=.05){C[0]=h(t,n,r,p),C[1]=h(e,i,a,p);var f=x(A,C);f<d&&(c=p,d=f)}d=1/0;for(var g=0;g<32&&!(u<M);g++){var m=c-u,v=c+u;C[0]=h(t,n,r,m),C[1]=h(e,i,a,m);var f=x(C,A);if(m>=0&&f<d)c=m,d=f;else{L[0]=h(t,n,r,v),L[1]=h(e,i,a,v);var y=x(L,A);v<=1&&y<d?(c=v,d=y):u*=.5}}return l&&(l[0]=h(t,n,r,c),l[1]=h(e,i,a,c)),b(d)}var v=n(7),y=v.create,x=v.distSquare,_=Math.pow,b=Math.sqrt,w=1e-8,M=1e-4,S=b(3),T=1/3,A=y(),C=y(),L=y();e.cubicAt=a,e.cubicDerivativeAt=o,e.cubicRootAt=s,e.cubicExtrema=l,e.cubicSubdivide=c,e.cubicProjectPoint=u,e.quadraticAt=h,e.quadraticDerivativeAt=d,e.quadraticRootAt=p,e.quadraticExtremum=f,e.quadraticSubdivide=g,e.quadraticProjectPoint=m},function(t,e){function n(t,e,n){function i(){u=(new Date).getTime(),h=null,t.apply(o,s||[])}var r,a,o,s,l,c=0,u=0,h=null;e=e||0;var d=function(){r=(new Date).getTime(),o=this,s=arguments;var t=l||e,d=l||n;l=null,a=r-(d?c:u)-t,clearTimeout(h),d?h=setTimeout(i,t):a>=0?i():h=setTimeout(i,-a),c=r};return d.clear=function(){h&&(clearTimeout(h),h=null)},d.debounceNextCall=function(t){l=t},d}function i(t,e,i,r){var l=t[e];if(l){var c=l[a]||l,u=l[s];if(l[o]!==i||u!==r){if(null==i||!r)return t[e]=c;l=t[e]=n(c,i,"debounce"===r),l[a]=c,l[s]=r,l[o]=i}return l}}function r(t,e){var n=t[e];n&&n[a]&&(t[e]=n[a])}var a="\0__throttleOriginMethod",o="\0__throttleRate",s="\0__throttleType";e.throttle=n,e.createOrUpdate=i,e.clear=r},function(t,e){var n={legend:{selector:{all:"",inverse:""}},toolbox:{brush:{title:{rect:"",polygon:"",lineX:"",lineY:"",keep:"",clear:""}},dataView:{title:"",lang:["","",""]},dataZoom:{title:{zoom:"",back:""}},magicType:{title:{line:"",bar:"",stack:"",tiled:""}},restore:{title:""},saveAsImage:{title:"",lang:[""]}},series:{typeNames:{pie:"",bar:"",line:"",scatter:"",effectScatter:"",radar:"",tree:"",treemap:"",boxplot:"",candlestick:"K",k:"K",heatmap:"",map:"",parallel:"",lines:"",graph:"",sankey:"",funnel:"",gauge:"",pictorialBar:"",themeRiver:"",sunburst:""}},aria:{general:{withTitle:"{title}",withoutTitle:""},series:{single:{prefix:"",withName:"{seriesType}{seriesName}",withoutName:"{seriesType}"},multiple:{prefix:"{seriesCount}",withName:"{seriesId}{seriesName}{seriesType}",withoutName:"{seriesId}{seriesType}",separator:{middle:"",end:""}}},data:{allData:"",partialData:"{displayCnt}",withName:"{name}{value}",withoutName:"{value}",separator:{middle:"",end:""}}}};t.exports=n},function(t,e,n){function i(t,e){var n=t[1]-t[0],i=e,r=n/i/2;t[0]+=r,t[1]-=r}function r(t,e,n,i){function r(t,e){return t=h(t),e=h(e),p?t>e:t<e}var a=e.length;if(t.onBand&&!n&&a){var s,l,c=t.getExtent();if(1===a)e[0].coord=c[0],s=e[1]={coord:c[0]};else{var u=e[a-1].tickValue-e[0].tickValue,d=(e[a-1].coord-e[0].coord)/u;o(e,function(t){t.coord-=d/2});l=1+t.scale.getExtent()[1]-e[a-1].tickValue,s={coord:e[a-1].coord+d*l},e.push(s)}var p=c[0]>c[1];r(e[0].coord,c[0])&&(i?e[0].coord=c[0]:e.shift()),i&&r(c[0],e[0].coord)&&e.unshift({coord:c[0]}),r(c[1],s.coord)&&(i?s.coord=c[1]:e.pop()),i&&r(s.coord,c[1])&&e.push({coord:c[1]})}}var a=n(0),o=a.each,s=a.map,l=n(3),c=l.linearMap,u=l.getPixelPrecision,h=l.round,d=n(341),p=d.createAxisTicks,f=d.createAxisLabels,g=d.calculateCategoryInterval,m=[0,1],v=function(t,e,n){this.dim=t,this.scale=e,this._extent=n||[0,0],this.inverse=!1,this.onBand=!1};v.prototype={constructor:v,contain:function(t){var e=this._extent,n=Math.min(e[0],e[1]),i=Math.max(e[0],e[1]);return t>=n&&t<=i},containData:function(t){return this.scale.contain(t)},getExtent:function(){return this._extent.slice()},getPixelPrecision:function(t){return u(t||this.scale.getExtent(),this._extent)},setExtent:function(t,e){var n=this._extent;n[0]=t,n[1]=e},dataToCoord:function(t,e){var n=this._extent,r=this.scale;return t=r.normalize(t),this.onBand&&"ordinal"===r.type&&(n=n.slice(),i(n,r.count())),c(t,m,n,e)},coordToData:function(t,e){var n=this._extent,r=this.scale;this.onBand&&"ordinal"===r.type&&(n=n.slice(),i(n,r.count()));var a=c(t,n,m,e);return this.scale.scale(a)},pointToData:function(t,e){},getTicksCoords:function(t){t=t||{};var e=t.tickModel||this.getTickModel(),n=p(this,e),i=n.ticks,a=s(i,function(t){return{coord:this.dataToCoord(t),tickValue:t}},this);return r(this,a,e.get("alignWithLabel"),t.clamp),a},getMinorTicksCoords:function(){if("ordinal"===this.scale.type)return[];var t=this.model.getModel("minorTick"),e=t.get("splitNumber");e>0&&e<100||(e=5);var n=this.scale.getMinorTicks(e);return s(n,function(t){return s(t,function(t){return{coord:this.dataToCoord(t),tickValue:t}},this)},this)},getViewLabels:function(){return f(this).labels},getLabelModel:function(){return this.model.getModel("axisLabel")},getTickModel:function(){return this.model.getModel("axisTick")},getBandWidth:function(){var t=this._extent,e=this.scale.getExtent(),n=e[1]-e[0]+(this.onBand?1:0);0===n&&(n=1);var i=Math.abs(t[1]-t[0]);return Math.abs(i)/n},isHorizontal:null,getRotate:null,calculateCategoryInterval:function(){return g(this)}};var y=v;t.exports=y},function(t,e,n){function i(t,e,n,i){var r,a,o=w(n-t.rotation),s=i[0]>i[1],l="start"===e&&!s||"start"!==e&&s;return b(o-I/2)?(a=l?"bottom":"top",r="center"):b(o-1.5*I)?(a=l?"top":"bottom",r="center"):(a="middle",r=o<1.5*I&&o>I/2?l?"left":"right":l?"right":"left"),{rotation:o,textAlign:r,textVerticalAlign:a}}function r(t,e,n){if(!E(t.axis)){var i=t.get("axisLabel.showMinLabel"),r=t.get("axisLabel.showMaxLabel");e=e||[],n=n||[];var s=e[0],l=e[1],c=e[e.length-1],u=e[e.length-2],h=n[0],d=n[1],p=n[n.length-1],f=n[n.length-2];!1===i?(a(s),a(h)):o(s,l)&&(i?(a(l),a(d)):(a(s),a(h))),!1===r?(a(c),a(p)):o(u,c)&&(r?(a(u),a(f)):(a(c),a(p)))}}function a(t){t&&(t.ignore=!0)}function o(t,e,n){var i=t&&t.getBoundingRect().clone(),r=e&&e.getBoundingRect().clone();if(i&&r){var a=T.identity([]);return T.rotate(a,a,-t.rotation),i.applyTransform(T.mul([],a,t.getLocalTransform())),r.applyTransform(T.mul([],a,e.getLocalTransform())),i.intersect(r)}}function s(t){return"middle"===t||"center"===t}function l(t,e,n,i,r){for(var a=[],o=[],s=[],l=0;l<t.length;l++){var c=t[l].coord;o[0]=c,o[1]=0,s[0]=c,s[1]=n,e&&(C(o,o,e),C(s,s,e));var u=new y.Line({anid:r+"_"+t[l].tickValue,subPixelOptimize:!0,shape:{x1:o[0],y1:o[1],x2:s[0],y2:s[1]},style:i,z2:2,silent:!0});a.push(u)}return a}function c(t,e,n){var i=e.axis,r=e.getModel("axisTick");if(r.get("show")&&!i.scale.isBlank()){for(var a=r.getModel("lineStyle"),o=n.tickDirection*r.get("length"),s=i.getTicksCoords(),c=l(s,t._transform,o,f(a.getLineStyle(),{stroke:e.get("axisLine.lineStyle.color")}),"ticks"),u=0;u<c.length;u++)t.group.add(c[u]);return c}}function u(t,e,n){var i=e.axis,r=e.getModel("minorTick");if(r.get("show")&&!i.scale.isBlank()){var a=i.getMinorTicksCoords();if(a.length)for(var o=r.getModel("lineStyle"),s=n.tickDirection*r.get("length"),c=f(o.getLineStyle(),f(e.getModel("axisTick").getLineStyle(),{stroke:e.get("axisLine.lineStyle.color")})),u=0;u<a.length;u++)for(var h=l(a[u],t._transform,s,c,"minorticks_"+u),d=0;d<h.length;d++)t.group.add(h[d])}}function h(t,e,n){var i=e.axis;if(p(n.axisLabelShow,e.get("axisLabel.show"))&&!i.scale.isBlank()){var r=e.getModel("axisLabel"),a=r.get("margin"),o=i.getViewLabels(),s=(p(n.labelRotate,r.get("rotate"))||0)*I/180,l=O(n.rotation,s,n.labelDirection),c=e.getCategories&&e.getCategories(!0),u=[],h=k(e),d=e.get("triggerEvent");return m(o,function(o,s){var p=o.tickValue,f=o.formattedLabel,g=o.rawLabel,m=r;c&&c[p]&&c[p].textStyle&&(m=new x(c[p].textStyle,r,e.ecModel));var v=m.getTextColor()||e.get("axisLine.lineStyle.color"),_=i.dataToCoord(p),b=[_,n.labelOffset+n.labelDirection*a],w=new y.Text({anid:"label_"+p,position:b,rotation:l.rotation,silent:h,z2:10});y.setTextStyle(w.style,m,{text:f,textAlign:m.getShallow("align",!0)||l.textAlign,textVerticalAlign:m.getShallow("verticalAlign",!0)||m.getShallow("baseline",!0)||l.textVerticalAlign,textFill:"function"==typeof v?v("category"===i.type?g:"value"===i.type?p+"":p,s):v}),d&&(w.eventData=R(e),w.eventData.targetType="axisLabel",w.eventData.value=g),t._dumbGroup.add(w),w.updateTransform(),u.push(w),t.group.add(w),w.decomposeTransform()}),u}}var d=n(0),p=d.retrieve,f=d.defaults,g=d.extend,m=d.each,v=(d.map,n(9)),y=n(2),x=n(12),_=n(3),b=_.isRadianAroundZero,w=_.remRadian,M=n(19),S=M.createSymbol,T=n(15),A=n(7),C=A.applyTransform,L=n(22),E=L.shouldShowAllLabels,I=Math.PI,P=function(t,e){this.opt=e,this.axisModel=t,f(e,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0}),this.group=new y.Group;var n=new y.Group({position:e.position.slice(),rotation:e.rotation});n.updateTransform(),this._transform=n.transform,this._dumbGroup=n};P.prototype={constructor:P,hasBuilder:function(t){return!!D[t]},add:function(t){D[t].call(this)},getGroup:function(){return this.group}};var D={axisLine:function(){var t=this.opt,e=this.axisModel;if(e.get("axisLine.show")){var n=this.axisModel.axis.getExtent(),i=this._transform,r=[n[0],0],a=[n[1],0];i&&(C(r,r,i),C(a,a,i));var o=g({lineCap:"round"},e.getModel("axisLine.lineStyle").getLineStyle());this.group.add(new y.Line({anid:"line",subPixelOptimize:!0,shape:{x1:r[0],y1:r[1],x2:a[0],y2:a[1]},style:o,strokeContainThreshold:t.strokeContainThreshold||5,silent:!0,z2:1}));var s=e.get("axisLine.symbol"),l=e.get("axisLine.symbolSize"),c=e.get("axisLine.symbolOffset")||0;if("number"==typeof c&&(c=[c,c]),null!=s){"string"==typeof s&&(s=[s,s]),"string"!=typeof l&&"number"!=typeof l||(l=[l,l]);var u=l[0],h=l[1];m([{rotate:t.rotation+Math.PI/2,offset:c[0],r:0},{rotate:t.rotation-Math.PI/2,offset:c[1],r:Math.sqrt((r[0]-a[0])*(r[0]-a[0])+(r[1]-a[1])*(r[1]-a[1]))}],function(e,n){if("none"!==s[n]&&null!=s[n]){var i=S(s[n],-u/2,-h/2,u,h,o.stroke,!0),a=e.r+e.offset,l=[r[0]+a*Math.cos(t.rotation),r[1]-a*Math.sin(t.rotation)];i.attr({rotation:e.rotate,position:l,silent:!0,z2:11}),this.group.add(i)}},this)}}},axisTickLabel:function(){var t=this.axisModel,e=this.opt,n=c(this,t,e);r(t,h(this,t,e),n),u(this,t,e)},axisName:function(){var t=this.opt,e=this.axisModel,n=p(t.axisName,e.get("name"));if(n){var r,a=e.get("nameLocation"),o=t.nameDirection,l=e.getModel("nameTextStyle"),c=e.get("nameGap")||0,u=this.axisModel.axis.getExtent(),h=u[0]>u[1]?-1:1,d=["start"===a?u[0]-h*c:"end"===a?u[1]+h*c:(u[0]+u[1])/2,s(a)?t.labelOffset+o*c:0],f=e.get("nameRotate");null!=f&&(f=f*I/180);var m;s(a)?r=O(t.rotation,null!=f?f:t.rotation,o):(r=i(t,a,f||0,u),null!=(m=t.axisNameAvailableWidth)&&(m=Math.abs(m/Math.sin(r.rotation)),!isFinite(m)&&(m=null)));var x=l.getFont(),_=e.get("nameTruncate",!0)||{},b=_.ellipsis,w=p(t.nameTruncateMaxWidth,_.maxWidth,m),M=null!=b&&null!=w?v.truncateText(n,w,x,b,{minChar:2,placeholder:_.placeholder}):n,S=e.get("tooltip",!0),T=e.mainType,A={componentType:T,name:n,$vars:["name"]};A[T+"Index"]=e.componentIndex;var C=new y.Text({anid:"name",__fullText:n,__truncatedText:M,position:d,rotation:r.rotation,silent:k(e),z2:1,tooltip:S&&S.show?g({content:n,formatter:function(){return n},formatterParams:A},S):null});y.setTextStyle(C.style,l,{text:M,textFont:x,textFill:l.getTextColor()||e.get("axisLine.lineStyle.color"),textAlign:l.get("align")||r.textAlign,textVerticalAlign:l.get("verticalAlign")||r.textVerticalAlign}),e.get("triggerEvent")&&(C.eventData=R(e),C.eventData.targetType="axisName",C.eventData.name=n),this._dumbGroup.add(C),C.updateTransform(),this.group.add(C),C.decomposeTransform()}}},R=P.makeAxisEventDataBase=function(t){var e={componentType:t.mainType,componentIndex:t.componentIndex};return e[t.mainType+"Index"]=t.componentIndex,e},O=P.innerTextLayout=function(t,e,n){var i,r,a=w(e-t);return b(a)?(r=n>0?"top":"bottom",i="center"):b(a-I)?(r=n>0?"bottom":"top",i="center"):(r="middle",i=a>0&&a<I?n>0?"right":"left":n>0?"left":"right"),{rotation:a,textAlign:i,textVerticalAlign:r}},k=P.isLabelSilent=function(t){var e=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||e&&e.show)},N=P;t.exports=N},function(t,e){function n(t,e){r[t]=e}function i(t){return r[t]}var r={};e.register=n,e.get=i},function(t,e){function n(t,e){var n=t._$eventProcessor;return null!=e&&n&&n.normalizeQuery&&(e=n.normalizeQuery(e)),e}function i(t,e,i,r,a,o){var s=t._$handlers;if("function"==typeof i&&(a=r,r=i,i=null),!r||!e)return t;i=n(t,i),s[e]||(s[e]=[]);for(var l=0;l<s[e].length;l++)if(s[e][l].h===r)return t;var c={h:r,one:o,query:i,ctx:a||t,callAtLast:r.zrEventfulCallAtLast},u=s[e].length-1,h=s[e][u];return h&&h.callAtLast?s[e].splice(u,0,c):s[e].push(c),t}var r=Array.prototype.slice,a=function(t){this._$handlers={},this._$eventProcessor=t};a.prototype={constructor:a,one:function(t,e,n,r){return i(this,t,e,n,r,!0)},on:function(t,e,n,r){return i(this,t,e,n,r,!1)},isSilent:function(t){var e=this._$handlers;return!e[t]||!e[t].length},off:function(t,e){var n=this._$handlers;if(!t)return this._$handlers={},this;if(e){if(n[t]){for(var i=[],r=0,a=n[t].length;r<a;r++)n[t][r].h!==e&&i.push(n[t][r]);n[t]=i}n[t]&&0===n[t].length&&delete n[t]}else delete n[t];return this},trigger:function(t){var e=this._$handlers[t],n=this._$eventProcessor;if(e){var i=arguments,a=i.length;a>3&&(i=r.call(i,1));for(var o=e.length,s=0;s<o;){var l=e[s];if(n&&n.filter&&null!=l.query&&!n.filter(t,l.query))s++;else{switch(a){case 1:l.h.call(l.ctx);break;case 2:l.h.call(l.ctx,i[1]);break;case 3:l.h.call(l.ctx,i[1],i[2]);break;default:l.h.apply(l.ctx,i)}l.one?(e.splice(s,1),o--):s++}}}return n&&n.afterTrigger&&n.afterTrigger(t),this},triggerWithContext:function(t){var e=this._$handlers[t],n=this._$eventProcessor;if(e){var i=arguments,a=i.length;a>4&&(i=r.call(i,1,i.length-1));for(var o=i[i.length-1],s=e.length,l=0;l<s;){var c=e[l];if(n&&n.filter&&null!=c.query&&!n.filter(t,c.query))l++;else{switch(a){case 1:c.h.call(o);break;case 2:c.h.call(o,i[1]);break;case 3:c.h.call(o,i[1],i[2]);break;default:c.h.apply(o,i)}c.one?(e.splice(l,1),s--):l++}}}return n&&n.afterTrigger&&n.afterTrigger(t),this}};var o=a;t.exports=o},function(t,e,n){var i=n(59),r=n(0),a=n(17),o=n(77),s=n(76),l=s.ContextCachedBy,c=function(t){i.call(this,t)};c.prototype={constructor:c,type:"text",brush:function(t,e){var n=this.style;this.__dirty&&o.normalizeTextStyle(n,!0),n.fill=n.stroke=n.shadowBlur=n.shadowColor=n.shadowOffsetX=n.shadowOffsetY=null;var i=n.text;if(null!=i&&(i+=""),!o.needDrawText(i,n))return void(t.__attrCachedBy=l.NONE);this.setTransform(t),o.renderText(this,t,i,n,null,e),this.restoreTransform(t)},getBoundingRect:function(){var t=this.style;if(this.__dirty&&o.normalizeTextStyle(t,!0),!this._rect){var e=t.text;null!=e?e+="":e="";var n=a.getBoundingRect(t.text+"",t.font,t.textAlign,t.textVerticalAlign,t.textPadding,t.textLineHeight,t.rich);if(n.x+=t.x||0,n.y+=t.y||0,o.getStroke(t.textStroke,t.textStrokeWidth)){var i=t.textStrokeWidth;n.x-=i/2,n.y-=i/2,n.width+=i,n.height+=i}this._rect=n}return this._rect}},r.inherits(c,i);var u=c;t.exports=u},function(t,e,n){function i(t,e){w.isInstance(t)||(t=w.seriesDataToSource(t)),this._source=t;var n=this._data=t.data,i=t.sourceFormat;i===S&&(this._offset=0,this._dimSize=e,this._data=n);var r=E[i===T?i+"_"+t.seriesLayoutBy:i];f(this,r)}function r(){return this._data.length}function a(t){return this._data[t]}function o(t){for(var e=0;e<t.length;e++)this._data.push(t[e])}function s(t,e,n,i){return null!=n?t[n]:t}function l(t,e,n,i){return c(t[i],this._dimensionInfos[e])}function c(t,e){var n=e&&e.type;if("ordinal"===n){var i=e&&e.ordinalMeta;return i?i.parseAndCollect(t):t}return"time"===n&&"number"!=typeof t&&null!=t&&"-"!==t&&(t=+b(t)),null==t||""===t?NaN:+t}function u(t,e,n){if(t){var i=t.getRawDataItem(e);if(null!=i){var r,a,o=t.getProvider().getSource().sourceFormat,s=t.getDimensionInfo(n);return s&&(r=s.name,a=s.index),I[o](i,e,a,r)}}}function h(t,e,n){if(t){var i=t.getProvider().getSource().sourceFormat;if(i===A||i===C){var r=t.getRawDataItem(e);return i!==A||m(r)||(r=null),r?r[n]:void 0}}}var d=n(5),p=(d.__DEV__,n(0)),f=(p.isTypedArray,p.extend),g=(p.assert,p.each),m=p.isObject,v=n(4),y=v.getDataItemValue,x=v.isDataItemOption,_=n(3),b=_.parseDate,w=n(61),M=n(62),S=M.SOURCE_FORMAT_TYPED_ARRAY,T=M.SOURCE_FORMAT_ARRAY_ROWS,A=M.SOURCE_FORMAT_ORIGINAL,C=M.SOURCE_FORMAT_OBJECT_ROWS,L=i.prototype;L.pure=!1,L.persistent=!0,L.getSource=function(){return this._source};var E={arrayRows_column:{pure:!0,count:function(){return Math.max(0,this._data.length-this._source.startIndex)},getItem:function(t){return this._data[t+this._source.startIndex]},appendData:o},arrayRows_row:{pure:!0,count:function(){var t=this._data[0];return t?Math.max(0,t.length-this._source.startIndex):0},getItem:function(t){t+=this._source.startIndex;for(var e=[],n=this._data,i=0;i<n.length;i++){var r=n[i];e.push(r?r[t]:null)}return e},appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},objectRows:{pure:!0,count:r,getItem:a,appendData:o},keyedColumns:{pure:!0,count:function(){var t=this._source.dimensionsDefine[0].name,e=this._data[t];return e?e.length:0},getItem:function(t){for(var e=[],n=this._source.dimensionsDefine,i=0;i<n.length;i++){var r=this._data[n[i].name];e.push(r?r[t]:null)}return e},appendData:function(t){var e=this._data;g(t,function(t,n){for(var i=e[n]||(e[n]=[]),r=0;r<(t||[]).length;r++)i.push(t[r])})}},original:{count:r,getItem:a,appendData:o},typedArray:{persistent:!1,pure:!0,count:function(){return this._data?this._data.length/this._dimSize:0},getItem:function(t,e){t-=this._offset,e=e||[];for(var n=this._dimSize*t,i=0;i<this._dimSize;i++)e[i]=this._data[n+i];return e},appendData:function(t){this._data=t},clean:function(){this._offset+=this.count(),this._data=null}}},I={arrayRows:s,objectRows:function(t,e,n,i){return null!=n?t[i]:t},keyedColumns:s,original:function(t,e,n,i){var r=y(t);return null!=n&&r instanceof Array?r[n]:r},typedArray:s},P={arrayRows:l,objectRows:function(t,e,n,i){return c(t[e],this._dimensionInfos[e])},keyedColumns:l,original:function(t,e,n,i){var r=t&&(null==t.value?t:t.value);return!this._rawData.pure&&x(t)&&(this.hasItemOption=!0),c(r instanceof Array?r[i]:r,this._dimensionInfos[e])},typedArray:function(t,e,n,i){return t[i]}};e.DefaultDataProvider=i,e.defaultDimValueGetters=P,e.retrieveRawValue=u,e.retrieveRawAttr=h},function(t,e){function n(t){return t}function i(t,e,i,r,a){this._old=t,this._new=e,this._oldKeyGetter=i||n,this._newKeyGetter=r||n,this.context=a}function r(t,e,n,i,r){for(var a=0;a<t.length;a++){var o="_ec_"+r[i](t[a],a),s=e[o];null==s?(n.push(o),e[o]=a):(s.length||(e[o]=s=[s]),s.push(a))}}i.prototype={constructor:i,add:function(t){return this._add=t,this},update:function(t){return this._update=t,this},remove:function(t){return this._remove=t,this},execute:function(){var t,e=this._old,n=this._new,i={},a={},o=[],s=[];for(r(e,i,o,"_oldKeyGetter",this),r(n,a,s,"_newKeyGetter",this),t=0;t<e.length;t++){var l=o[t],c=a[l];if(null!=c){var u=c.length;u?(1===u&&(a[l]=null),c=c.shift()):a[l]=null,this._update&&this._update(c,t)}else this._remove&&this._remove(t)}for(var t=0;t<s.length;t++){var l=s[t];if(a.hasOwnProperty(l)){var c=a[l];if(null==c)continue;if(c.length)for(var h=0,u=c.length;h<u;h++)this._add&&this._add(c[h]);else this._add&&this._add(c)}}}};var a=i;t.exports=a},function(t,e,n){function i(t,e,n){return{seriesType:t,performRawSeries:!0,reset:function(t,i,r){function o(e,n){if(p){var i=t.getRawValue(n),r=t.getDataParams(n);h&&e.setItemVisual(n,"symbol",l(i,r)),d&&e.setItemVisual(n,"symbolSize",c(i,r))}if(e.hasItemOption){var a=e.getItemModel(n),o=a.getShallow("symbol",!0),s=a.getShallow("symbolSize",!0),u=a.getShallow("symbolKeepAspect",!0);null!=o&&e.setItemVisual(n,"symbol",o),null!=s&&e.setItemVisual(n,"symbolSize",s),null!=u&&e.setItemVisual(n,"symbolKeepAspect",u)}}var s=t.getData(),l=t.get("symbol"),c=t.get("symbolSize"),u=t.get("symbolKeepAspect"),h=a(l),d=a(c),p=h||d,f=!h&&l?l:e,g=d?null:c;if(s.setVisual({legendSymbol:n||f,symbol:f,symbolSize:g,symbolKeepAspect:u}),!i.isSeriesFiltered(t))return{dataEach:s.hasItemOption||p?o:null}}}}var r=n(0),a=r.isFunction;t.exports=i},function(t,e,n){function i(t,e,n,i,a,o){var c=l.getAxisPointerClass(t.axisPointerClass);if(c){var u=s.getAxisPointerModel(e);u?(t._axisPointer||(t._axisPointer=new c)).render(e,u,i,o):r(t,i)}}function r(t,e,n){var i=t._axisPointer;i&&i.dispose(e,n),t._axisPointer=null}var a=n(5),o=(a.__DEV__,n(1)),s=n(86),l=o.extendComponentView({type:"axis",_axisPointer:null,axisPointerClass:null,render:function(t,e,n,r){this.axisPointerClass&&s.fixValue(t),l.superApply(this,"render",arguments),i(this,t,e,n,r,!0)},updateAxisPointer:function(t,e,n,r,a){i(this,t,e,n,r,!1)},remove:function(t,e){var n=this._axisPointer;n&&n.remove(e),l.superApply(this,"remove",arguments)},dispose:function(t,e){r(this,e),l.superApply(this,"dispose",arguments)}}),c=[];l.registerAxisPointerClass=function(t,e){c[t]=e},l.getAxisPointerClass=function(t){return t&&c[t]};var u=l;t.exports=u},function(t,e,n){function i(t,e,n){if(t&&s.indexOf(e,t.type)>=0){var i=n.getData().tree.root,r=t.targetNode;if("string"==typeof r&&(r=i.getNodeById(r)),r&&i.contains(r))return{node:r};var a=t.targetNodeId;if(null!=a&&(r=i.getNodeById(a)))return{node:r}}}function r(t){for(var e=[];t;)(t=t.parentNode)&&e.push(t);return e.reverse()}function a(t,e){var n=r(t);return s.indexOf(n,e)>=0}function o(t,e){for(var n=[];t;){var i=t.dataIndex;n.push({name:t.name,dataIndex:i,value:e.getRawValue(i)}),t=t.parentNode}return n.reverse(),n}var s=n(0);e.retrieveTargetInfo=i,e.getPathToRoot=r,e.aboveViewRoot=a,e.wrapTreePathInfo=o},function(t,e,n){function i(t){var e=t.pieceList;t.hasSpecialVisual=!1,g.each(e,function(e,n){e.originIndex=n,null!=e.visual&&(t.hasSpecialVisual=!0)})}function r(t){var e=t.categories,n=t.visual,i=t.categoryMap={};if(x(e,function(t,e){i[t]=e}),!g.isArray(n)){var r=[];g.isObject(n)?x(n,function(t,e){var n=i[e];r[null!=n?n:b]=t}):r[b]=n,n=p(t,r)}for(var a=e.length-1;a>=0;a--)null==n[a]&&(delete i[e[a]],e.pop())}function a(t,e){var n=t.visual,i=[];g.isObject(n)?x(n,function(t){i.push(t)}):null!=n&&i.push(n);var r={color:1,symbol:1};e||1!==i.length||r.hasOwnProperty(t.type)||(i[1]=i[0]),p(t,i)}function o(t){return{applyVisual:function(e,n,i){e=this.mapValueToVisual(e),i("color",t(n("color"),e))},_doMap:h([0,1])}}function s(t){var e=this.option.visual;return e[Math.round(y(t,[0,1],[0,e.length-1],!0))]||{}}function l(t){return function(e,n,i){i(t,this.mapValueToVisual(e))}}function c(t){var e=this.option.visual;return e[this.option.loop&&t!==b?t%e.length:t]}function u(){return this.option.visual[0]}function h(t){return{linear:function(e){return y(e,t,this.option.visual,!0)},category:c,piecewise:function(e,n){var i=d.call(this,n);return null==i&&(i=y(e,t,this.option.visual,!0)),i},fixed:u}}function d(t){var e=this.option,n=e.pieceList;if(e.hasSpecialVisual){var i=w.findPieceIndex(t,n),r=n[i];if(r&&r.visual)return r.visual[this.type]}}function p(t,e){return t.visual=e,"color"===t.type&&(t.parsedVisual=g.map(e,function(t){return m.parse(t)})),e}function f(t,e,n){return t?e<=n:e<n}var g=n(0),m=n(24),v=n(3),y=v.linearMap,x=g.each,_=g.isObject,b=-1,w=function(t){var e=t.mappingMethod,n=t.type,o=this.option=g.clone(t);this.type=n,this.mappingMethod=e,this._normalizeData=S[e];var s=M[n];this.applyVisual=s.applyVisual,this.getColorMapper=s.getColorMapper,this._doMap=s._doMap[e],"piecewise"===e?(a(o),i(o)):"category"===e?o.categories?r(o):a(o,!0):(g.assert("linear"!==e||o.dataExtent),a(o))};w.prototype={constructor:w,mapValueToVisual:function(t){var e=this._normalizeData(t);return this._doMap(e,t)},getNormalizer:function(){return g.bind(this._normalizeData,this)}};var M=w.visualHandlers={color:{applyVisual:l("color"),getColorMapper:function(){var t=this.option;return g.bind("category"===t.mappingMethod?function(t,e){return!e&&(t=this._normalizeData(t)),c.call(this,t)}:function(e,n,i){var r=!!i;return!n&&(e=this._normalizeData(e)),i=m.fastLerp(e,t.parsedVisual,i),r?i:m.stringify(i,"rgba")},this)},_doMap:{linear:function(t){return m.stringify(m.fastLerp(t,this.option.parsedVisual),"rgba")},category:c,piecewise:function(t,e){var n=d.call(this,e);return null==n&&(n=m.stringify(m.fastLerp(t,this.option.parsedVisual),"rgba")),n},fixed:u}},colorHue:o(function(t,e){return m.modifyHSL(t,e)}),colorSaturation:o(function(t,e){return m.modifyHSL(t,null,e)}),colorLightness:o(function(t,e){return m.modifyHSL(t,null,null,e)}),colorAlpha:o(function(t,e){return m.modifyAlpha(t,e)}),opacity:{applyVisual:l("opacity"),_doMap:h([0,1])},liftZ:{applyVisual:l("liftZ"),_doMap:{linear:u,category:u,piecewise:u,fixed:u}},symbol:{applyVisual:function(t,e,n){var i=this.mapValueToVisual(t);if(g.isString(i))n("symbol",i);else if(_(i))for(var r in i)i.hasOwnProperty(r)&&n(r,i[r])},_doMap:{linear:s,category:c,piecewise:function(t,e){var n=d.call(this,e);return null==n&&(n=s.call(this,t)),n},fixed:u}},symbolSize:{applyVisual:l("symbolSize"),_doMap:h([0,1])}},S={linear:function(t){return y(t,this.option.dataExtent,[0,1],!0)},piecewise:function(t){var e=this.option.pieceList,n=w.findPieceIndex(t,e,!0);if(null!=n)return y(n,[0,e.length-1],[0,1],!0)},category:function(t){var e=this.option.categories?this.option.categoryMap[t]:t;return null==e?b:e},fixed:g.noop};w.listVisualTypes=function(){var t=[];return g.each(M,function(e,n){t.push(n)}),t},w.addVisualHandler=function(t,e){M[t]=e},w.isValidType=function(t){return M.hasOwnProperty(t)},w.eachVisual=function(t,e,n){g.isObject(t)?g.each(t,e,n):e.call(n,t)},w.mapVisual=function(t,e,n){var i,r=g.isArray(t)?[]:g.isObject(t)?{}:(i=!0,null);return w.eachVisual(t,function(t,a){var o=e.call(n,t,a);i?r=o:r[a]=o}),r},w.retrieveVisuals=function(t){var e,n={};return t&&x(M,function(i,r){t.hasOwnProperty(r)&&(n[r]=t[r],e=!0)}),e?n:null},w.prepareVisualTypes=function(t){if(_(t)){var e=[];x(t,function(t,n){e.push(n)}),t=e}else{if(!g.isArray(t))return[];t=t.slice()}return t.sort(function(t,e){return"color"===e&&"color"!==t&&0===t.indexOf("color")?1:-1}),t},w.dependsOn=function(t,e){return"color"===e?!(!t||0!==t.indexOf(e)):t===e},w.findPieceIndex=function(t,e,n){function i(e,n){var i=Math.abs(e-t);i<a&&(a=i,r=n)}for(var r,a=1/0,o=0,s=e.length;o<s;o++){var l=e[o].value;if(null!=l){if(l===t||"string"==typeof l&&l===t+"")return o;n&&i(l,o)}}for(var o=0,s=e.length;o<s;o++){var c=e[o],u=c.interval,h=c.close;if(u){if(u[0]===-1/0){if(f(h[1],t,u[1]))return o}else if(u[1]===1/0){if(f(h[0],u[0],t))return o}else if(f(h[0],u[0],t)&&f(h[1],t,u[1]))return o;n&&i(u[0],o),n&&i(u[1],o)}}if(n)return t===1/0?e.length-1:t===-1/0?0:r};var T=w;t.exports=T},function(t,e,n){var i=n(0),r=n(155),a=n(8),o=function(t){t=t||{},r.call(this,t);for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);this._children=[],this.__storage=null,this.__dirty=!0};o.prototype={constructor:o,isGroup:!0,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(t){return this._children[t]},childOfName:function(t){for(var e=this._children,n=0;n<e.length;n++)if(e[n].name===t)return e[n]},childCount:function(){return this._children.length},add:function(t){return t&&t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),this},addBefore:function(t,e){if(t&&t!==this&&t.parent!==this&&e&&e.parent===this){var n=this._children,i=n.indexOf(e);i>=0&&(n.splice(i,0,t),this._doAdd(t))}return this},_doAdd:function(t){t.parent&&t.parent.remove(t),t.parent=this;var e=this.__storage,n=this.__zr;e&&e!==t.__storage&&(e.addToStorage(t),t instanceof o&&t.addChildrenToStorage(e)),n&&n.refresh()},remove:function(t){var e=this.__zr,n=this.__storage,r=this._children,a=i.indexOf(r,t);return a<0?this:(r.splice(a,1),t.parent=null,n&&(n.delFromStorage(t),t instanceof o&&t.delChildrenFromStorage(n)),e&&e.refresh(),this)},removeAll:function(){var t,e,n=this._children,i=this.__storage;for(e=0;e<n.length;e++)t=n[e],i&&(i.delFromStorage(t),t instanceof o&&t.delChildrenFromStorage(i)),t.parent=null;return n.length=0,this},eachChild:function(t,e){for(var n=this._children,i=0;i<n.length;i++){var r=n[i];t.call(e,r,i)}return this},traverse:function(t,e){for(var n=0;n<this._children.length;n++){var i=this._children[n];t.call(e,i),"group"===i.type&&i.traverse(t,e)}return this},addChildrenToStorage:function(t){for(var e=0;e<this._children.length;e++){var n=this._children[e];t.addToStorage(n),n instanceof o&&n.addChildrenToStorage(t)}},delChildrenFromStorage:function(t){for(var e=0;e<this._children.length;e++){var n=this._children[e];t.delFromStorage(n),n instanceof o&&n.delChildrenFromStorage(t)}},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(t){for(var e=null,n=new a(0,0,0,0),i=t||this._children,r=[],o=0;o<i.length;o++){var s=i[o];if(!s.ignore&&!s.invisible){var l=s.getBoundingRect(),c=s.getLocalTransform(r);c?(n.copy(l),n.applyTransform(c),e=e||n.clone(),e.union(n)):(e=e||l.clone(),e.union(l))}}return e||n}},i.inherits(o,r);var s=o;t.exports=s},function(t,e,n){function i(t){r.call(this,t)}var r=n(59),a=n(8),o=n(0),s=n(96);i.prototype={constructor:i,type:"image",brush:function(t,e){var n=this.style,i=n.image;n.bind(t,this,e);var r=this._image=s.createOrUpdateImage(i,this._image,this,this.onload);if(r&&s.isImageReady(r)){var a=n.x||0,o=n.y||0,l=n.width,c=n.height,u=r.width/r.height;if(null==l&&null!=c?l=c*u:null==c&&null!=l?c=l/u:null==l&&null==c&&(l=r.width,c=r.height),this.setTransform(t),n.sWidth&&n.sHeight){var h=n.sx||0,d=n.sy||0;t.drawImage(r,h,d,n.sWidth,n.sHeight,a,o,l,c)}else if(n.sx&&n.sy){var h=n.sx,d=n.sy,p=l-h,f=c-d;t.drawImage(r,h,d,p,f,a,o,l,c)}else t.drawImage(r,a,o,l,c);null!=n.text&&(this.restoreTransform(t),this.drawRectText(t,this.getBoundingRect()))}},getBoundingRect:function(){var t=this.style;return this._rect||(this._rect=new a(t.x||0,t.y||0,t.width||0,t.height||0)),this._rect}},o.inherits(i,r);var l=i;t.exports=l},function(t,e,n){function i(t){for(var e=0;e<t.length;e++)t[e][1]||(t[e][1]=t[e][0]);return function(e,n,i){for(var a={},o=0;o<t.length;o++){var s=t[o][1];if(!(n&&r.indexOf(n,s)>=0||i&&r.indexOf(i,s)<0)){var l=e.getShallow(s);null!=l&&(a[t[o][0]]=l)}}return a}}var r=n(0);t.exports=i},function(t,e,n){var i=n(32),r=n(7),a=n(78),o=n(8),s=n(75),l=s.devicePixelRatio,c={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},u=[],h=[],d=[],p=[],f=Math.min,g=Math.max,m=Math.cos,v=Math.sin,y=Math.sqrt,x=Math.abs,_="undefined"!=typeof Float32Array,b=function(t){this._saveData=!t,this._saveData&&(this.data=[]),this._ctx=null};b.prototype={constructor:b,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(t,e,n){n=n||0,this._ux=x(n/l/t)||0,this._uy=x(n/l/e)||0},getContext:function(){return this._ctx},beginPath:function(t){return this._ctx=t,t&&t.beginPath(),t&&(this.dpr=t.dpr),this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(t,e){return this.addData(c.M,t,e),this._ctx&&this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this},lineTo:function(t,e){var n=x(t-this._xi)>this._ux||x(e-this._yi)>this._uy||this._len<5;return this.addData(c.L,t,e),this._ctx&&n&&(this._needsDash()?this._dashedLineTo(t,e):this._ctx.lineTo(t,e)),n&&(this._xi=t,this._yi=e),this},bezierCurveTo:function(t,e,n,i,r,a){return this.addData(c.C,t,e,n,i,r,a),this._ctx&&(this._needsDash()?this._dashedBezierTo(t,e,n,i,r,a):this._ctx.bezierCurveTo(t,e,n,i,r,a)),this._xi=r,this._yi=a,this},quadraticCurveTo:function(t,e,n,i){return this.addData(c.Q,t,e,n,i),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(t,e,n,i):this._ctx.quadraticCurveTo(t,e,n,i)),this._xi=n,this._yi=i,this},arc:function(t,e,n,i,r,a){return this.addData(c.A,t,e,n,n,i,r-i,0,a?0:1),this._ctx&&this._ctx.arc(t,e,n,i,r,a),this._xi=m(r)*n+t,this._yi=v(r)*n+e,this},arcTo:function(t,e,n,i,r){return this._ctx&&this._ctx.arcTo(t,e,n,i,r),this},rect:function(t,e,n,i){return this._ctx&&this._ctx.rect(t,e,n,i),this.addData(c.R,t,e,n,i),this},closePath:function(){this.addData(c.Z);var t=this._ctx,e=this._x0,n=this._y0;return t&&(this._needsDash()&&this._dashedLineTo(e,n),t.closePath()),this._xi=e,this._yi=n,this},fill:function(t){t&&t.fill(),this.toStatic()},stroke:function(t){t&&t.stroke(),this.toStatic()},setLineDash:function(t){if(t instanceof Array){this._lineDash=t,this._dashIdx=0;for(var e=0,n=0;n<t.length;n++)e+=t[n];this._dashSum=e}return this},setLineDashOffset:function(t){return this._dashOffset=t,this},len:function(){return this._len},setData:function(t){var e=t.length;this.data&&this.data.length===e||!_||(this.data=new Float32Array(e));for(var n=0;n<e;n++)this.data[n]=t[n];this._len=e},appendPath:function(t){t instanceof Array||(t=[t]);for(var e=t.length,n=0,i=this._len,r=0;r<e;r++)n+=t[r].len();_&&this.data instanceof Float32Array&&(this.data=new Float32Array(i+n));for(var r=0;r<e;r++)for(var a=t[r].data,o=0;o<a.length;o++)this.data[i++]=a[o];this._len=i},addData:function(t){if(this._saveData){var e=this.data;this._len+arguments.length>e.length&&(this._expandData(),e=this.data);for(var n=0;n<arguments.length;n++)e[this._len++]=arguments[n];this._prevCmd=t}},_expandData:function(){if(!(this.data instanceof Array)){for(var t=[],e=0;e<this._len;e++)t[e]=this.data[e];this.data=t}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(t,e){var n,i,r=this._dashSum,a=this._dashOffset,o=this._lineDash,s=this._ctx,l=this._xi,c=this._yi,u=t-l,h=e-c,d=y(u*u+h*h),p=l,m=c,v=o.length;for(u/=d,h/=d,a<0&&(a=r+a),a%=r,p-=a*u,m-=a*h;u>0&&p<=t||u<0&&p>=t||0===u&&(h>0&&m<=e||h<0&&m>=e);)i=this._dashIdx,n=o[i],p+=u*n,m+=h*n,this._dashIdx=(i+1)%v,u>0&&p<l||u<0&&p>l||h>0&&m<c||h<0&&m>c||s[i%2?"moveTo":"lineTo"](u>=0?f(p,t):g(p,t),h>=0?f(m,e):g(m,e));u=p-t,h=m-e,this._dashOffset=-y(u*u+h*h)},_dashedBezierTo:function(t,e,n,r,a,o){var s,l,c,u,h,d=this._dashSum,p=this._dashOffset,f=this._lineDash,g=this._ctx,m=this._xi,v=this._yi,x=i.cubicAt,_=0,b=this._dashIdx,w=f.length,M=0;for(p<0&&(p=d+p),p%=d,s=0;s<1;s+=.1)l=x(m,t,n,a,s+.1)-x(m,t,n,a,s),c=x(v,e,r,o,s+.1)-x(v,e,r,o,s),_+=y(l*l+c*c);for(;b<w&&!((M+=f[b])>p);b++);for(s=(M-p)/_;s<=1;)u=x(m,t,n,a,s),h=x(v,e,r,o,s),b%2?g.moveTo(u,h):g.lineTo(u,h),s+=f[b]/_,b=(b+1)%w;b%2!=0&&g.lineTo(a,o),l=a-u,c=o-h,this._dashOffset=-y(l*l+c*c)},_dashedQuadraticTo:function(t,e,n,i){var r=n,a=i;n=(n+2*t)/3,i=(i+2*e)/3,t=(this._xi+2*t)/3,e=(this._yi+2*e)/3,this._dashedBezierTo(t,e,n,i,r,a)},toStatic:function(){var t=this.data;t instanceof Array&&(t.length=this._len,_&&(this.data=new Float32Array(t)))},getBoundingRect:function(){u[0]=u[1]=d[0]=d[1]=Number.MAX_VALUE,h[0]=h[1]=p[0]=p[1]=-Number.MAX_VALUE;for(var t=this.data,e=0,n=0,i=0,s=0,l=0;l<t.length;){var f=t[l++];switch(1===l&&(e=t[l],n=t[l+1],i=e,s=n),f){case c.M:i=t[l++],s=t[l++],e=i,n=s,d[0]=i,d[1]=s,p[0]=i,p[1]=s;break;case c.L:a.fromLine(e,n,t[l],t[l+1],d,p),e=t[l++],n=t[l++];break;case c.C:a.fromCubic(e,n,t[l++],t[l++],t[l++],t[l++],t[l],t[l+1],d,p),e=t[l++],n=t[l++];break;case c.Q:a.fromQuadratic(e,n,t[l++],t[l++],t[l],t[l+1],d,p),e=t[l++],n=t[l++];break;case c.A:var g=t[l++],y=t[l++],x=t[l++],_=t[l++],b=t[l++],w=t[l++]+b;l+=1;var M=1-t[l++];1===l&&(i=m(b)*x+g,s=v(b)*_+y),a.fromArc(g,y,x,_,b,w,M,d,p),e=m(w)*x+g,n=v(w)*_+y;break;case c.R:i=e=t[l++],s=n=t[l++];var S=t[l++],T=t[l++];a.fromLine(i,s,i+S,s+T,d,p);break;case c.Z:e=i,n=s}r.min(u,u,d),r.max(h,h,p)}return 0===l&&(u[0]=u[1]=h[0]=h[1]=0),new o(u[0],u[1],h[0]-u[0],h[1]-u[1])},rebuildPath:function(t){for(var e,n,i,r,a,o,s=this.data,l=this._ux,u=this._uy,h=this._len,d=0;d<h;){var p=s[d++];switch(1===d&&(i=s[d],r=s[d+1],e=i,n=r),p){case c.M:e=i=s[d++],n=r=s[d++],t.moveTo(i,r);break;case c.L:a=s[d++],o=s[d++],(x(a-i)>l||x(o-r)>u||d===h-1)&&(t.lineTo(a,o),i=a,r=o);break;case c.C:t.bezierCurveTo(s[d++],s[d++],s[d++],s[d++],s[d++],s[d++]),i=s[d-2],r=s[d-1];break;case c.Q:t.quadraticCurveTo(s[d++],s[d++],s[d++],s[d++]),i=s[d-2],r=s[d-1];break;case c.A:var f=s[d++],g=s[d++],y=s[d++],_=s[d++],b=s[d++],w=s[d++],M=s[d++],S=s[d++],T=y>_?y:_,A=y>_?1:y/_,C=y>_?_/y:1,L=Math.abs(y-_)>.001,E=b+w;L?(t.translate(f,g),t.rotate(M),t.scale(A,C),t.arc(0,0,T,b,E,1-S),t.scale(1/A,1/C),t.rotate(-M),t.translate(-f,-g)):t.arc(f,g,T,b,E,1-S),1===d&&(e=m(b)*y+f,n=v(b)*_+g),i=m(E)*y+f,r=v(E)*_+g;break;case c.R:e=i=s[d],n=r=s[d+1],t.rect(s[d++],s[d++],s[d++],s[d++]);break;case c.Z:t.closePath(),i=e,r=n}}}},b.CMD=c;var w=b;t.exports=w},function(t,e,n){function i(){var t=a();return function(e){var n=t(e),i=e.pipelineContext,r=n.large,a=n.progressiveRender,o=n.large=i.large,s=n.progressiveRender=i.progressiveRender;return!!(r^o||a^s)&&"reset"}}var r=n(4),a=r.makeInner;t.exports=i},function(t,e,n){function i(t,e){return e=e||{},r(e.coordDimensions||[],t,{dimsDef:e.dimensionsDefine||t.dimensionsDefine,encodeDef:e.encodeDefine||t.encodeDefine,dimCount:e.dimensionsCount,encodeDefaulter:e.encodeDefaulter,generateCoord:e.generateCoord,generateCoordCount:e.generateCoordCount})}var r=n(181);t.exports=i},function(t,e,n){var i=n(0),r={getMin:function(t){var e=this.option,n=t||null==e.rangeStart?e.min:e.rangeStart;return this.axis&&null!=n&&"dataMin"!==n&&"function"!=typeof n&&!i.eqNaN(n)&&(n=this.axis.scale.parse(n)),n},getMax:function(t){var e=this.option,n=t||null==e.rangeEnd?e.max:e.rangeEnd;return this.axis&&null!=n&&"dataMax"!==n&&"function"!=typeof n&&!i.eqNaN(n)&&(n=this.axis.scale.parse(n)),n},getNeedCrossZero:function(){var t=this.option;return null==t.rangeStart&&null==t.rangeEnd&&!t.scale},getCoordSysModel:i.noop,setRange:function(t,e){this.option.rangeStart=t,this.option.rangeEnd=e},resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}};t.exports=r},function(t,e,n){function i(t,e,n){e=l(e)&&{coordDimensions:e}||s({},e);var i=t.getSource(),o=r(i,e),c=new a(o,t);return c.initData(i,n),c}var r=n(51),a=n(18),o=n(0),s=o.extend,l=o.isArray;t.exports=i},function(t,e){function n(t,e,n,a,o,s){t=t||0;var l=n[1]-n[0];if(null!=o&&(o=r(o,[0,l])),null!=s&&(s=Math.max(s,null!=o?o:0)),"all"===a){var c=Math.abs(e[1]-e[0]);c=r(c,[0,l]),o=s=r(c,[o,s]),a=0}e[0]=r(e[0],n),e[1]=r(e[1],n);var u=i(e,a);e[a]+=t;var h=o||0,d=n.slice();u.sign<0?d[0]+=h:d[1]-=h,e[a]=r(e[a],d);var p=i(e,a);null!=o&&(p.sign!==u.sign||p.span<o)&&(e[1-a]=e[a]+u.sign*o);var p=i(e,a);return null!=s&&p.span>s&&(e[1-a]=e[a]+p.sign*s),e}function i(t,e){var n=t[e]-t[1-e];return{span:Math.abs(n),sign:n>0?-1:n<0?1:e?-1:1}}function r(t,e){return Math.min(null!=e[1]?e[1]:1/0,Math.max(null!=e[0]?e[0]:-1/0,t))}t.exports=n},function(t,e,n){function i(t){var e={};return d(["start","end","startValue","endValue","throttle"],function(n){t.hasOwnProperty(n)&&(e[n]=t[n])}),e}function r(t,e){var n=t._rangePropMode,i=t.get("rangeMode");d([["start","startValue"],["end","endValue"]],function(t,r){var a=null!=e[t[0]],o=null!=e[t[1]];a&&!o?n[r]="percent":!a&&o?n[r]="value":i?n[r]=i[r]:a&&(n[r]="percent")})}var a=n(5),o=(a.__DEV__,n(1)),s=n(0),l=n(11),c=n(4),u=n(119),h=n(529),d=s.each,p=u.eachAxisDim,f=o.extendComponentModel({type:"dataZoom",dependencies:["xAxis","yAxis","zAxis","radiusAxis","angleAxis","singleAxis","series"],defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,filterMode:"filter",throttle:null,start:0,end:100,startValue:null,endValue:null,minSpan:null,maxSpan:null,minValueSpan:null,maxValueSpan:null,rangeMode:null},init:function(t,e,n){this._dataIntervalByAxis={},this._dataInfo={},this._axisProxies={},this.textStyleModel,this._autoThrottle=!0,this._rangePropMode=["percent","percent"];var r=i(t);this.settledOption=r,this.mergeDefaultAndTheme(t,n),this.doInit(r)},mergeOption:function(t){var e=i(t);s.merge(this.option,t,!0),s.merge(this.settledOption,e,!0),this.doInit(e)},doInit:function(t){var e=this.option;l.canvasSupported||(e.realtime=!1),this._setDefaultThrottle(t),r(this,t);var n=this.settledOption;d([["start","startValue"],["end","endValue"]],function(t,i){"value"===this._rangePropMode[i]&&(e[t[0]]=n[t[0]]=null)},this),this.textStyleModel=this.getModel("textStyle"),this._resetTarget(),this._giveAxisProxies()},_giveAxisProxies:function(){var t=this._axisProxies;this.eachTargetAxis(function(e,n,i,r){var a=this.dependentModels[e.axis][n],o=a.__dzAxisProxy||(a.__dzAxisProxy=new h(e.name,n,this,r));t[e.name+"_"+n]=o},this)},_resetTarget:function(){var t=this.option,e=this._judgeAutoMode();p(function(e){var n=e.axisIndex;t[n]=c.normalizeToArray(t[n])},this),"axisIndex"===e?this._autoSetAxisIndex():"orient"===e&&this._autoSetOrient()},_judgeAutoMode:function(){var t=this.option,e=!1;p(function(n){null!=t[n.axisIndex]&&(e=!0)},this);var n=t.orient;return null==n&&e?"orient":e?void 0:(null==n&&(t.orient="horizontal"),"axisIndex")},_autoSetAxisIndex:function(){var t=!0,e=this.get("orient",!0),n=this.option,i=this.dependentModels;if(t){var r="vertical"===e?"y":"x";i[r+"Axis"].length?(n[r+"AxisIndex"]=[0],t=!1):d(i.singleAxis,function(i){t&&i.get("orient",!0)===e&&(n.singleAxisIndex=[i.componentIndex],t=!1)})}t&&p(function(e){if(t){var i=[],r=this.dependentModels[e.axis];if(r.length&&!i.length)for(var a=0,o=r.length;a<o;a++)"category"===r[a].get("type")&&i.push(a);n[e.axisIndex]=i,i.length&&(t=!1)}},this),t&&this.ecModel.eachSeries(function(t){this._isSeriesHasAllAxesTypeOf(t,"value")&&p(function(e){var i=n[e.axisIndex],r=t.get(e.axisIndex),a=t.get(e.axisId);r=t.ecModel.queryComponents({mainType:e.axis,index:r,id:a})[0].componentIndex,s.indexOf(i,r)<0&&i.push(r)})},this)},_autoSetOrient:function(){var t;this.eachTargetAxis(function(e){!t&&(t=e.name)},this),this.option.orient="y"===t?"vertical":"horizontal"},_isSeriesHasAllAxesTypeOf:function(t,e){var n=!0;return p(function(i){var r=t.get(i.axisIndex),a=this.dependentModels[i.axis][r];a&&a.get("type")===e||(n=!1)},this),n},_setDefaultThrottle:function(t){if(t.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var e=this.ecModel.option;this.option.throttle=e.animation&&e.animationDurationUpdate>0?100:20}},getFirstTargetAxisModel:function(){var t;return p(function(e){if(null==t){var n=this.get(e.axisIndex);n.length&&(t=this.dependentModels[e.axis][n[0]])}},this),t},eachTargetAxis:function(t,e){var n=this.ecModel;p(function(i){d(this.get(i.axisIndex),function(r){t.call(e,i,r,this,n)},this)},this)},getAxisProxy:function(t,e){return this._axisProxies[t+"_"+e]},getAxisModel:function(t,e){var n=this.getAxisProxy(t,e);return n&&n.getAxisModel()},setRawRange:function(t){var e=this.option,n=this.settledOption;d([["start","startValue"],["end","endValue"]],function(i){null==t[i[0]]&&null==t[i[1]]||(e[i[0]]=n[i[0]]=t[i[0]],e[i[1]]=n[i[1]]=t[i[1]])},this),r(this,t)},setCalculatedRange:function(t){var e=this.option;d(["start","startValue","end","endValue"],function(n){e[n]=t[n]})},getPercentRange:function(){var t=this.findRepresentativeAxisProxy();if(t)return t.getDataPercentWindow()},getValueRange:function(t,e){if(null!=t||null!=e)return this.getAxisProxy(t,e).getDataValueWindow();var n=this.findRepresentativeAxisProxy();return n?n.getDataValueWindow():void 0},findRepresentativeAxisProxy:function(t){if(t)return t.__dzAxisProxy;var e=this._axisProxies;for(var n in e)if(e.hasOwnProperty(n)&&e[n].hostedBy(this))return e[n];for(var n in e)if(e.hasOwnProperty(n)&&!e[n].hostedBy(this))return e[n]},getRangePropMode:function(){return this._rangePropMode.slice()}}),g=f;t.exports=g},function(t,e,n){var i=n(80),r=i.extend({type:"dataZoom",render:function(t,e,n,i){this.dataZoomModel=t,this.ecModel=e,this.api=n},getTargetCoordInfo:function(){function t(t,e,n,i){for(var r,a=0;a<n.length;a++)if(n[a].model===t){r=n[a];break}r||n.push(r={model:t,axisModels:[],coordIndex:i}),r.axisModels.push(e)}var e=this.dataZoomModel,n=this.ecModel,i={};return e.eachTargetAxis(function(e,r){var a=n.getComponent(e.axis,r);if(a){var o=a.getCoordSysModel();o&&t(o,a,i[o.mainType]||(i[o.mainType]=[]),o.componentIndex)}},this),i}});t.exports=r},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var i=n(75),r=i.debugMode,a=function(){};1===r&&(a=console.error);var o=a;t.exports=o},function(t,e,n){function i(t){t=t||{},o.call(this,t);for(var e in t)t.hasOwnProperty(e)&&"style"!==e&&(this[e]=t[e]);this.style=new a(t.style,this),this._rect=null,this.__clipPaths=null}var r=n(0),a=n(95),o=n(155),s=n(161);i.prototype={constructor:i,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,progressive:!1,incremental:!1,globalScaleRatio:1,beforeBrush:function(t){},afterBrush:function(t){},brush:function(t,e){},getBoundingRect:function(){},contain:function(t,e){return this.rectContain(t,e)},traverse:function(t,e){t.call(e,this)},rectContain:function(t,e){var n=this.transformCoordToLocal(t,e);return this.getBoundingRect().contain(n[0],n[1])},dirty:function(){this.__dirty=this.__dirtyText=!0,this._rect=null,this.__zr&&this.__zr.refresh()},animateStyle:function(t){return this.animate("style",t)},attrKV:function(t,e){"style"!==t?o.prototype.attrKV.call(this,t,e):this.style.set(e)},setStyle:function(t,e){return this.style.set(t,e),this.dirty(!1),this},useStyle:function(t){return this.style=new a(t,this),this.dirty(!1),this},calculateTextPosition:null},r.inherits(i,o),r.mixin(i,s);var l=i;t.exports=l},function(t,e,n){function i(t){return[t||"",c++,Math.random().toFixed(5)].join("_")}function r(t){var e={};return t.registerSubTypeDefaulter=function(t,n){t=l(t),e[t.main]=n},t.determineSubType=function(n,i){var r=i.type;if(!r){var a=l(n).main;t.hasSubTypes(n)&&e[a]&&(r=e[a](i))}return r},t}function a(t,e){function n(t){var n={},a=[];return o.each(t,function(s){var l=i(n,s),c=l.originalDeps=e(s),u=r(c,t);l.entryCount=u.length,0===l.entryCount&&a.push(s),o.each(u,function(t){o.indexOf(l.predecessor,t)<0&&l.predecessor.push(t);var e=i(n,t);o.indexOf(e.successor,t)<0&&e.successor.push(s)})}),{graph:n,noEntryList:a}}function i(t,e){return t[e]||(t[e]={predecessor:[],successor:[]}),t[e]}function r(t,e){var n=[];return o.each(t,function(t){o.indexOf(e,t)>=0&&n.push(t)}),n}t.topologicalTravel=function(t,e,i,r){function a(t){0===--c[t].entryCount&&u.push(t)}function s(t){h[t]=!0,a(t)}if(t.length){var l=n(e),c=l.graph,u=l.noEntryList,h={};for(o.each(t,function(t){h[t]=!0});u.length;){var d=u.pop(),p=c[d],f=!!h[d];f&&(i.call(r,d,p.originalDeps.slice()),delete h[d]),o.each(p.successor,f?s:a)}o.each(h,function(){throw new Error("Circle dependency may exists")})}}}var o=n(0),s=n(29),l=s.parseClassType,c=0;e.getUID=i,e.enableSubTypeDefaulter=r,e.enableTopologicalTravel=a},function(t,e,n){function i(t){this.fromDataset=t.fromDataset,this.data=t.data||(t.sourceFormat===f?{}:[]),this.sourceFormat=t.sourceFormat||d,this.seriesLayoutBy=t.seriesLayoutBy||h,this.dimensionsDefine=t.dimensionsDefine,this.encodeDefine=t.encodeDefine&&a(t.encodeDefine),this.startIndex=t.startIndex||0,this.dimensionsDetectCount=t.dimensionsDetectCount}var r=n(0),a=r.createHashMap,o=r.isTypedArray,s=n(29),l=s.enableClassCheck,c=n(62),u=c.SOURCE_FORMAT_ORIGINAL,h=c.SERIES_LAYOUT_BY_COLUMN,d=c.SOURCE_FORMAT_UNKNOWN,p=c.SOURCE_FORMAT_TYPED_ARRAY,f=c.SOURCE_FORMAT_KEYED_COLUMNS;i.seriesDataToSource=function(t){return new i({data:t,sourceFormat:o(t)?p:u,fromDataset:!1})},l(i);var g=i;t.exports=g},function(t,e){e.SOURCE_FORMAT_ORIGINAL="original",e.SOURCE_FORMAT_ARRAY_ROWS="arrayRows",e.SOURCE_FORMAT_OBJECT_ROWS="objectRows",e.SOURCE_FORMAT_KEYED_COLUMNS="keyedColumns",e.SOURCE_FORMAT_UNKNOWN="unknown",e.SOURCE_FORMAT_TYPED_ARRAY="typedArray",e.SERIES_LAYOUT_BY_COLUMN="column",e.SERIES_LAYOUT_BY_ROW="row"},function(t,e,n){function i(t){var e={},n=e.encode={},i=c(),a=[],s=[],u=e.userOutput={dimensionNames:t.dimensions.slice(),encode:{}};l(t.dimensions,function(e){var l=t.getDimensionInfo(e),c=l.coordDim;if(c){var d=l.coordDimIndex;r(n,c)[d]=e,l.isExtraCoord||(i.set(c,1),o(l.type)&&(a[0]=e),r(u.encode,c)[d]=l.index),l.defaultTooltip&&s.push(e)}h.each(function(t,e){var i=r(n,e),a=l.otherDims[e];null!=a&&!1!==a&&(i[a]=l.name)})});var d=[],p={};i.each(function(t,e){var i=n[e];p[e]=i[0],d=d.concat(i)}),e.dataDimsOnCoord=d,e.encodeFirstDimNotExtra=p;var f=n.label;f&&f.length&&(a=f.slice());var g=n.tooltip;return g&&g.length?s=g.slice():s.length||(s=a.slice()),n.defaultedLabel=a,n.defaultedTooltip=s,e}function r(t,e){return t.hasOwnProperty(e)||(t[e]=[]),t[e]}function a(t){return"category"===t?"ordinal":"time"===t?"time":"float"}function o(t){return!("ordinal"===t||"time"===t)}var s=n(0),l=s.each,c=s.createHashMap,u=(s.assert,n(5)),h=(u.__DEV__,c(["tooltip","label","itemName","itemId","seriesName"]));e.OTHER_DIMENSIONS=h,e.summarizeDimensions=i,e.getDimensionTypeByAxis=a},function(t,e,n){function i(t){this.group=new s.Group,this._symbolCtor=t||l}function r(t,e,n,i){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(i.isIgnore&&i.isIgnore(n))&&!(i.clipShape&&!i.clipShape.contain(e[0],e[1]))&&"none"!==t.getItemVisual(n,"symbol")}function a(t){return null==t||u(t)||(t={isIgnore:t}),t||{}}function o(t){var e=t.hostModel;return{itemStyle:e.getModel("itemStyle").getItemStyle(["color"]),hoverItemStyle:e.getModel("emphasis.itemStyle").getItemStyle(),symbolRotate:e.get("symbolRotate"),symbolOffset:e.get("symbolOffset"),hoverAnimation:e.get("hoverAnimation"),labelModel:e.getModel("label"),hoverLabelModel:e.getModel("emphasis.label"),cursorStyle:e.get("cursor")}}var s=n(2),l=n(84),c=n(0),u=c.isObject,h=i.prototype;h.updateData=function(t,e){e=a(e);var n=this.group,i=t.hostModel,l=this._data,c=this._symbolCtor,u=o(t);l||n.removeAll(),t.diff(l).add(function(i){var a=t.getItemLayout(i);if(r(t,a,i,e)){var o=new c(t,i,u);o.attr("position",a),t.setItemGraphicEl(i,o),n.add(o)}}).update(function(a,o){var h=l.getItemGraphicEl(o),d=t.getItemLayout(a);if(!r(t,d,a,e))return void n.remove(h);h?(h.updateData(t,a,u),s.updateProps(h,{position:d},i)):(h=new c(t,a),h.attr("position",d)),n.add(h),t.setItemGraphicEl(a,h)}).remove(function(t){var e=l.getItemGraphicEl(t);e&&e.fadeOut(function(){n.remove(e)})}).execute(),this._data=t},h.isPersistent=function(){return!0},h.updateLayout=function(){var t=this._data;t&&t.eachItemGraphicEl(function(e,n){var i=t.getItemLayout(n);e.attr("position",i)})},h.incrementalPrepareUpdate=function(t){this._seriesScope=o(t),this._data=null,this.group.removeAll()},h.incrementalUpdate=function(t,e,n){function i(t){t.isGroup||(t.incremental=t.useHoverLayer=!0)}n=a(n);for(var o=t.start;o<t.end;o++){var s=e.getItemLayout(o);if(r(e,s,o,n)){var l=new this._symbolCtor(e,o,this._seriesScope);l.traverse(i),l.attr("position",s),this.group.add(l),e.setItemGraphicEl(o,l)}}},h.remove=function(t){var e=this.group,n=this._data;n&&t?n.eachItemGraphicEl(function(t){t.fadeOut(function(){e.remove(t)})}):e.removeAll()};var d=i;t.exports=d},function(t,e,n){function i(t,e,n){var i=t.getArea(),r=t.getBaseAxis().isHorizontal(),a=i.x,s=i.y,l=i.width,c=i.height,u=n.get("lineStyle.width")||2;a-=u/2,s-=u/2,l+=u,c+=u;var h=new o.Rect({shape:{x:a,y:s,width:l,height:c}});return e&&(h.shape[r?"width":"height"]=0,o.initProps(h,{shape:{width:l,height:c}},n)),h}function r(t,e,n){var i=t.getArea(),r=new o.Sector({shape:{cx:l(t.cx,1),cy:l(t.cy,1),r0:l(i.r0,1),r:l(i.r,1),startAngle:i.startAngle,endAngle:i.endAngle,clockwise:i.clockwise}});return e&&(r.shape.endAngle=i.startAngle,o.initProps(r,{shape:{endAngle:i.endAngle}},n)),r}function a(t,e,n){return t?"polar"===t.type?r(t,e,n):"cartesian2d"===t.type?i(t,e,n):null:null}var o=n(2),s=n(3),l=s.round;e.createGridClipPath=i,e.createPolarClipPath=r,e.createClipPath=a},function(t,e,n){function i(t){return{seriesType:t,plan:o(),reset:function(t){function e(t,e){for(var n=t.end-t.start,r=o&&new Float32Array(n*c),a=t.start,l=0,u=[],h=[];a<t.end;a++){var d;if(1===c){var p=e.get(s[0],a);d=!isNaN(p)&&i.dataToPoint(p,null,h)}else{var p=u[0]=e.get(s[0],a),f=u[1]=e.get(s[1],a);d=!isNaN(p)&&!isNaN(f)&&i.dataToPoint(u,null,h)}o?(r[l++]=d?d[0]:NaN,r[l++]=d?d[1]:NaN):e.setItemLayout(a,d&&d.slice()||[NaN,NaN])}o&&e.setLayout("symbolPoints",r)}var n=t.getData(),i=t.coordinateSystem,r=t.pipelineContext,o=r.large;if(i){var s=a(i.dimensions,function(t){return n.mapDimension(t)}).slice(0,2),c=s.length,u=n.getCalculationInfo("stackResultDimension");return l(n,s[0])&&(s[0]=u),l(n,s[1])&&(s[1]=u),c&&{progress:e}}}}}var r=n(0),a=r.map,o=n(50),s=n(26),l=s.isDimensionStacked;t.exports=i},function(t,e,n){var i=n(1),r=n(0),a=n(2);n(105),n(351),i.extendComponentView({type:"grid",render:function(t,e){this.group.removeAll(),t.get("show")&&this.group.add(new a.Rect({shape:t.coordinateSystem.getRect(),style:r.defaults({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))}}),i.registerPreprocessor(function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})})},function(t,e){function n(t,e){this.getAllNames=function(){var t=e();return t.mapArray(t.getName)},this.containName=function(t){return e().indexOfName(t)>=0},this.indexOfName=function(e){return t().indexOfName(e)},this.getItemVisual=function(e,n){return t().getItemVisual(e,n)}}var i=n;t.exports=i},function(t,e){function n(t){return{seriesType:t,reset:function(t,e){var n=e.findComponents({mainType:"legend"});if(n&&n.length){var i=t.getData();i.filterSelf(function(t){for(var e=i.getName(t),r=0;r<n.length;r++)if(!n[r].isSelected(e))return!1;return!0})}}}}t.exports=n},function(t,e,n){function i(t){this.pointerChecker,this._zr=t,this._opt={};var e=d.bind,n=e(r,this),i=e(a,this),c=e(o,this),u=e(s,this),h=e(l,this);p.call(this),this.setPointerChecker=function(t){this.pointerChecker=t},this.enable=function(e,r){this.disable(),this._opt=d.defaults(d.clone(r)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==e&&(e=!0),!0!==e&&"move"!==e&&"pan"!==e||(t.on("mousedown",n),t.on("mousemove",i),t.on("mouseup",c)),!0!==e&&"scale"!==e&&"zoom"!==e||(t.on("mousewheel",u),t.on("pinch",h))},this.disable=function(){t.off("mousedown",n),t.off("mousemove",i),t.off("mouseup",c),t.off("mousewheel",u),t.off("pinch",h)},this.dispose=this.disable,this.isDragging=function(){return this._dragging},this.isPinching=function(){return this._pinching}}function r(t){if(!(f.isMiddleOrRightButtonOnMouseUpDown(t)||t.target&&t.target.draggable)){var e=t.offsetX,n=t.offsetY;this.pointerChecker&&this.pointerChecker(t,e,n)&&(this._x=e,this._y=n,this._dragging=!0)}}function a(t){if(this._dragging&&h("moveOnMouseMove",t,this._opt)&&"pinch"!==t.gestureEvent&&!g.isTaken(this._zr,"globalPan")){var e=t.offsetX,n=t.offsetY,i=this._x,r=this._y,a=e-i,o=n-r;this._x=e,this._y=n,this._opt.preventDefaultMouseMove&&f.stop(t.event),u(this,"pan","moveOnMouseMove",t,{dx:a,dy:o,oldX:i,oldY:r,newX:e,newY:n})}}function o(t){f.isMiddleOrRightButtonOnMouseUpDown(t)||(this._dragging=!1)}function s(t){var e=h("zoomOnMouseWheel",t,this._opt),n=h("moveOnMouseWheel",t,this._opt),i=t.wheelDelta,r=Math.abs(i),a=t.offsetX,o=t.offsetY;if(0!==i&&(e||n)){if(e){var s=r>3?1.4:r>1?1.2:1.1;c(this,"zoom","zoomOnMouseWheel",t,{scale:i>0?s:1/s,originX:a,originY:o})}if(n){var l=Math.abs(i);c(this,"scrollMove","moveOnMouseWheel",t,{scrollDelta:(i>0?1:-1)*(l>3?.4:l>1?.15:.05),originX:a,originY:o})}}}function l(t){if(!g.isTaken(this._zr,"globalPan")){c(this,"zoom",null,t,{scale:t.pinchScale>1?1.1:1/1.1,originX:t.pinchX,originY:t.pinchY})}}function c(t,e,n,i,r){t.pointerChecker&&t.pointerChecker(i,r.originX,r.originY)&&(f.stop(i.event),u(t,e,n,i,r))}function u(t,e,n,i,r){r.isAvailableBehavior=d.bind(h,null,n,i),t.trigger(e,r)}function h(t,e,n){var i=n[t];return!t||i&&(!d.isString(i)||e.event[i+"Key"])}var d=n(0),p=n(38),f=n(23),g=n(197);d.mixin(i,p);var m=i;t.exports=m},function(t,e,n){var i=n(1),r=n(0),a=n(86),o=n(480);n(481),n(482),n(216),i.registerPreprocessor(function(t){if(t){(!t.axisPointer||0===t.axisPointer.length)&&(t.axisPointer={});var e=t.axisPointer.link;e&&!r.isArray(e)&&(t.axisPointer.link=[e])}}),i.registerProcessor(i.PRIORITY.PROCESSOR.STATISTIC,function(t,e){t.getComponent("axisPointer").coordSysAxesInfo=a.collect(t,e)}),i.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},o)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(131),r=new i.a({})},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={X:"x",Y:"y",Z:"z"}},function(t,e,n){function i(t,e){var n=new x(l(),t,e);return y[n.id]=n,n}function r(t){if(t)t.dispose();else{for(var e in y)y.hasOwnProperty(e)&&y[e].dispose();y={}}return this}function a(t){return y[t]}function o(t,e){v[t]=e}function s(t){delete y[t]}var l=n(154),c=n(11),u=n(0),h=n(296),d=n(300),p=n(304),f=n(306),g=n(307),m=!c.canvasSupported,v={canvas:p},y={},x=function(t,e,n){n=n||{},this.dom=e,this.id=t;var i=this,r=new d,a=n.renderer;if(m){if(!v.vml)throw new Error("You need to require 'zrender/vml/vml' to support IE8");a="vml"}else a&&v[a]||(a="canvas");var o=new v[a](e,r,n,t);this.storage=r,this.painter=o;var s=c.node||c.worker?null:new g(o.getViewportRoot(),o.root);this.handler=new h(r,o,s,o.root),this.animation=new f({stage:{update:u.bind(this.flush,this)}}),this.animation.start(),this._needsRefresh;var l=r.delFromStorage,p=r.addToStorage;r.delFromStorage=function(t){l.call(r,t),t&&t.removeSelfFromZr(i)},r.addToStorage=function(t){p.call(r,t),t.addSelfToZr(i)}};x.prototype={constructor:x,getId:function(){return this.id},add:function(t){this.storage.addRoot(t),this._needsRefresh=!0},remove:function(t){this.storage.delRoot(t),this._needsRefresh=!0},configLayer:function(t,e){this.painter.configLayer&&this.painter.configLayer(t,e),this._needsRefresh=!0},setBackgroundColor:function(t){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=this._needsRefreshHover=!1,this.painter.refresh(),this._needsRefresh=this._needsRefreshHover=!1},refresh:function(){this._needsRefresh=!0},flush:function(){var t;this._needsRefresh&&(t=!0,this.refreshImmediately()),this._needsRefreshHover&&(t=!0,this.refreshHoverImmediately()),t&&this.trigger("rendered")},addHover:function(t,e){if(this.painter.addHover){var n=this.painter.addHover(t,e);return this.refreshHover(),n}},removeHover:function(t){this.painter.removeHover&&(this.painter.removeHover(t),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.refreshHover()},resize:function(t){t=t||{},this.painter.resize(t.width,t.height),this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(t,e){return this.painter.pathToImage(t,e)},setCursorStyle:function(t){this.handler.setCursorStyle(t)},findHover:function(t,e){return this.handler.findHover(t,e)},on:function(t,e,n){this.handler.on(t,e,n)},off:function(t,e){this.handler.off(t,e)},trigger:function(t,e){this.handler.trigger(t,e)},clear:function(){this.storage.delRoot(),this.painter.clear()},dispose:function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,s(this.id)}},e.version="4.2.0",e.init=i,e.dispose=r,e.getInstance=a,e.registerPainter=o},function(t,e){var n=1;"undefined"!=typeof window&&(n=Math.max(window.devicePixelRatio||1,1));var i=n;e.debugMode=0,e.devicePixelRatio=i},function(t,e){var n={NONE:0,STYLE_BIND:1,PLAIN_TEXT:2};e.ContextCachedBy=n,e.WILL_BE_RESTORED=9},function(t,e,n){function i(t){return r(t),S(t.rich,r),t}function r(t){if(t){t.font=L.makeFont(t);var e=t.textAlign;"middle"===e&&(e="center"),t.textAlign=null==e||N[e]?e:"left";var n=t.textVerticalAlign||t.textBaseline;"center"===n&&(n="middle"),t.textVerticalAlign=null==n||z[n]?n:"top";t.textPadding&&(t.textPadding=T(t.textPadding))}}function a(t,e,n,i,r,a){i.rich?s(t,e,n,i,r,a):o(t,e,n,i,r,a)}function o(t,e,n,i,r,a){"use strict";var o,s=h(i),l=!1,u=e.__attrCachedBy===R.PLAIN_TEXT;a!==O?(a&&(o=a.style,l=!s&&u&&o),e.__attrCachedBy=s?R.NONE:R.PLAIN_TEXT):u&&(e.__attrCachedBy=R.NONE);var p=i.font||k;l&&p===(o.font||k)||(e.font=p);var g=t.__computedFont;t.__styleFont!==p&&(t.__styleFont=p,g=t.__computedFont=e.font);var y=i.textPadding,_=i.textLineHeight,b=t.__textCotentBlock;b&&!t.__dirtyText||(b=t.__textCotentBlock=L.parsePlainText(n,g,y,_,i.truncate));var w=b.outerHeight,M=b.lines,S=b.lineHeight,T=f(F,t,i,r),A=T.baseX,C=T.baseY,E=T.textAlign||"left",I=T.textVerticalAlign;c(e,i,r,A,C);var D=L.adjustTextY(C,w,I),N=A,z=D;if(s||y){var V=L.getWidth(n,g),G=V;y&&(G+=y[1]+y[3]);var H=L.adjustTextX(A,G,E);s&&d(t,e,i,H,D,G,w),y&&(N=x(A,E,y),z+=y[0])}e.textAlign=E,e.textBaseline="middle",e.globalAlpha=i.opacity||1;for(var U=0;U<B.length;U++){var j=B[U],W=j[0],$=j[1],Y=i[W];l&&Y===o[W]||(e[$]=P(e,$,Y||j[2]))}z+=S/2;var X=i.textStrokeWidth,q=l?o.textStrokeWidth:null,Z=!l||X!==q,J=!l||Z||i.textStroke!==o.textStroke,K=m(i.textStroke,X),Q=v(i.textFill);if(K&&(Z&&(e.lineWidth=X),J&&(e.strokeStyle=K)),Q&&(l&&i.textFill===o.textFill||(e.fillStyle=Q)),1===M.length)K&&e.strokeText(M[0],N,z),Q&&e.fillText(M[0],N,z);else for(var U=0;U<M.length;U++)K&&e.strokeText(M[U],N,z),Q&&e.fillText(M[U],N,z),z+=S}function s(t,e,n,i,r,a){a!==O&&(e.__attrCachedBy=R.NONE);var o=t.__textCotentBlock;o&&!t.__dirtyText||(o=t.__textCotentBlock=L.parseRichText(n,i)),l(t,e,o,i,r)}function l(t,e,n,i,r){var a=n.width,o=n.outerWidth,s=n.outerHeight,l=i.textPadding,p=f(F,t,i,r),g=p.baseX,m=p.baseY,v=p.textAlign,y=p.textVerticalAlign;c(e,i,r,g,m);var x=L.adjustTextX(g,o,v),_=L.adjustTextY(m,s,y),b=x,w=_;l&&(b+=l[3],w+=l[0]);var M=b+a;h(i)&&d(t,e,i,x,_,o,s);for(var S=0;S<n.lines.length;S++){for(var T,A=n.lines[S],C=A.tokens,E=C.length,I=A.lineHeight,P=A.width,D=0,R=b,O=M,k=E-1;D<E&&(T=C[D],!T.textAlign||"left"===T.textAlign);)u(t,e,T,i,I,w,R,"left"),P-=T.width,R+=T.width,D++;for(;k>=0&&(T=C[k],"right"===T.textAlign);)u(t,e,T,i,I,w,O,"right"),P-=T.width,O-=T.width,k--;for(R+=(a-(R-b)-(M-O)-P)/2;D<=k;)T=C[D],u(t,e,T,i,I,w,R+T.width/2,"center"),R+=T.width,D++;w+=I}}function c(t,e,n,i,r){if(n&&e.textRotation){var a=e.textOrigin;"center"===a?(i=n.width/2+n.x,r=n.height/2+n.y):a&&(i=a[0]+n.x,r=a[1]+n.y),t.translate(i,r),t.rotate(-e.textRotation),t.translate(-i,-r)}}function u(t,e,n,i,r,a,o,s){var l=i.rich[n.styleName]||{};l.text=n.text;var c=n.textVerticalAlign,u=a+r/2;"top"===c?u=a+n.height/2:"bottom"===c&&(u=a+r-n.height/2),!n.isLineHolder&&h(l)&&d(t,e,l,"right"===s?o-n.width:"center"===s?o-n.width/2:o,u-n.height/2,n.width,n.height);var p=n.textPadding;p&&(o=x(o,s,p),u-=n.height/2-p[2]-n.textHeight/2),g(e,"shadowBlur",M(l.textShadowBlur,i.textShadowBlur,0)),g(e,"shadowColor",l.textShadowColor||i.textShadowColor||"transparent"),g(e,"shadowOffsetX",M(l.textShadowOffsetX,i.textShadowOffsetX,0)),g(e,"shadowOffsetY",M(l.textShadowOffsetY,i.textShadowOffsetY,0)),g(e,"textAlign",s),g(e,"textBaseline","middle"),g(e,"font",n.font||k);var f=m(l.textStroke||i.textStroke,_),y=v(l.textFill||i.textFill),_=w(l.textStrokeWidth,i.textStrokeWidth);f&&(g(e,"lineWidth",_),g(e,"strokeStyle",f),e.strokeText(n.text,o,u)),y&&(g(e,"fillStyle",y),e.fillText(n.text,o,u))}function h(t){return!!(t.textBackgroundColor||t.textBorderWidth&&t.textBorderColor)}function d(t,e,n,i,r,a,o){var s=n.textBackgroundColor,l=n.textBorderWidth,c=n.textBorderColor,u=A(s);if(g(e,"shadowBlur",n.textBoxShadowBlur||0),g(e,"shadowColor",n.textBoxShadowColor||"transparent"),g(e,"shadowOffsetX",n.textBoxShadowOffsetX||0),g(e,"shadowOffsetY",n.textBoxShadowOffsetY||0),u||l&&c){e.beginPath();var h=n.textBorderRadius;h?E.buildPath(e,{x:i,y:r,width:a,height:o,r:h}):e.rect(i,r,a,o),e.closePath()}if(u)if(g(e,"fillStyle",s),null!=n.fillOpacity){var d=e.globalAlpha;e.globalAlpha=n.fillOpacity*n.opacity,e.fill(),e.globalAlpha=d}else e.fill();else if(C(s)){var f=s.image;f=I.createOrUpdateImage(f,null,t,p,s),f&&I.isImageReady(f)&&e.drawImage(f,i,r,a,o)}if(l&&c)if(g(e,"lineWidth",l),g(e,"strokeStyle",c),null!=n.strokeOpacity){var d=e.globalAlpha;e.globalAlpha=n.strokeOpacity*n.opacity,e.stroke(),e.globalAlpha=d}else e.stroke()}function p(t,e){e.image=t}function f(t,e,n,i){var r=n.x||0,a=n.y||0,o=n.textAlign,s=n.textVerticalAlign;if(i){var l=n.textPosition;if(l instanceof Array)r=i.x+y(l[0],i.width),a=i.y+y(l[1],i.height);else{var c=e&&e.calculateTextPosition?e.calculateTextPosition(V,n,i):L.calculateTextPosition(V,n,i);r=c.x,a=c.y,o=o||c.textAlign,s=s||c.textVerticalAlign}var u=n.textOffset;u&&(r+=u[0],a+=u[1])}return t=t||{},t.baseX=r,t.baseY=a,t.textAlign=o,t.textVerticalAlign=s,t}function g(t,e,n){return t[e]=P(t,e,n),t[e]}function m(t,e){return null==t||e<=0||"transparent"===t||"none"===t?null:t.image||t.colorStops?"#000":t}function v(t){return null==t||"none"===t?null:t.image||t.colorStops?"#000":t}function y(t,e){return"string"==typeof t?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t}function x(t,e,n){return"right"===e?t-n[1]:"center"===e?t+n[3]/2-n[1]/2:t+n[3]}function _(t,e){return null!=t&&(t||e.textBackgroundColor||e.textBorderWidth&&e.textBorderColor||e.textPadding)}var b=n(0),w=b.retrieve2,M=b.retrieve3,S=b.each,T=b.normalizeCssArray,A=b.isString,C=b.isObject,L=n(17),E=n(162),I=n(96),P=n(158),D=n(76),R=D.ContextCachedBy,O=D.WILL_BE_RESTORED,k=L.DEFAULT_FONT,N={left:1,right:1,center:1},z={top:1,bottom:1,middle:1},B=[["textShadowBlur","shadowBlur",0],["textShadowOffsetX","shadowOffsetX",0],["textShadowOffsetY","shadowOffsetY",0],["textShadowColor","shadowColor","transparent"]],V={},F={};e.normalizeTextStyle=i,e.renderText=a,e.getBoxPosition=f,e.getStroke=m,e.getFill=v,e.parsePercent=y,e.needDrawText=_},function(t,e,n){function i(t,e,n){if(0!==t.length){var i,r=t[0],a=r[0],o=r[0],s=r[1],l=r[1];for(i=1;i<t.length;i++)r=t[i],a=u(a,r[0]),o=h(o,r[0]),s=u(s,r[1]),l=h(l,r[1]);e[0]=a,e[1]=s,n[0]=o,n[1]=l}}function r(t,e,n,i,r,a){r[0]=u(t,n),r[1]=u(e,i),a[0]=h(t,n),a[1]=h(e,i)}function a(t,e,n,i,r,a,o,s,l,d){var p,f=c.cubicExtrema,g=c.cubicAt,m=f(t,n,r,o,y);for(l[0]=1/0,l[1]=1/0,d[0]=-1/0,d[1]=-1/0,p=0;p<m;p++){var v=g(t,n,r,o,y[p]);l[0]=u(v,l[0]),d[0]=h(v,d[0])}for(m=f(e,i,a,s,x),p=0;p<m;p++){var _=g(e,i,a,s,x[p]);l[1]=u(_,l[1]),d[1]=h(_,d[1])}l[0]=u(t,l[0]),d[0]=h(t,d[0]),l[0]=u(o,l[0]),d[0]=h(o,d[0]),l[1]=u(e,l[1]),d[1]=h(e,d[1]),l[1]=u(s,l[1]),d[1]=h(s,d[1])}function o(t,e,n,i,r,a,o,s){var l=c.quadraticExtremum,d=c.quadraticAt,p=h(u(l(t,n,r),1),0),f=h(u(l(e,i,a),1),0),g=d(t,n,r,p),m=d(e,i,a,f);o[0]=u(t,r,g),o[1]=u(e,a,m),s[0]=h(t,r,g),s[1]=h(e,a,m)}function s(t,e,n,i,r,a,o,s,c){var u=l.min,h=l.max,y=Math.abs(r-a);if(y%f<1e-4&&y>1e-4)return s[0]=t-n,s[1]=e-i,c[0]=t+n,void(c[1]=e+i);if(g[0]=p(r)*n+t,g[1]=d(r)*i+e,m[0]=p(a)*n+t,m[1]=d(a)*i+e,u(s,g,m),h(c,g,m),r%=f,r<0&&(r+=f),a%=f,a<0&&(a+=f),r>a&&!o?a+=f:r<a&&o&&(r+=f),o){var x=a;a=r,r=x}for(var _=0;_<a;_+=Math.PI/2)_>r&&(v[0]=p(_)*n+t,v[1]=d(_)*i+e,u(s,v,s),h(c,v,c))}var l=n(7),c=n(32),u=Math.min,h=Math.max,d=Math.sin,p=Math.cos,f=2*Math.PI,g=l.create(),m=l.create(),v=l.create(),y=[],x=[];e.fromPoints=i,e.fromLine=r,e.fromCubic=a,e.fromQuadratic=o,e.fromArc=s},function(t,e){var n=function(t){this.colorStops=t||[]};n.prototype={constructor:n,addColorStop:function(t,e){this.colorStops.push({offset:t,color:e})}};var i=n;t.exports=i},function(t,e,n){var i=n(46),r=n(60),a=n(29),o=function(){this.group=new i,this.uid=r.getUID("viewComponent")};o.prototype={constructor:o,init:function(t,e){},render:function(t,e,n,i){},dispose:function(){},filterForExposedEvent:null};var s=o.prototype;s.updateView=s.updateLayout=s.updateVisual=function(t,e,n,i){},a.enableClassExtend(o),a.enableClassManagement(o,{registerWhenExtend:!0});var l=o;t.exports=l},function(t,e,n){function i(t){this._setting=t||{},this._extent=[1/0,-1/0],this._interval=0,this.init&&this.init.apply(this,arguments)}var r=n(29);i.prototype.parse=function(t){return t},i.prototype.getSetting=function(t){return this._setting[t]},i.prototype.contain=function(t){var e=this._extent;return t>=e[0]&&t<=e[1]},i.prototype.normalize=function(t){var e=this._extent;return e[1]===e[0]?.5:(t-e[0])/(e[1]-e[0])},i.prototype.scale=function(t){var e=this._extent;return t*(e[1]-e[0])+e[0]},i.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1])},i.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},i.prototype.getExtent=function(){return this._extent.slice()},i.prototype.setExtent=function(t,e){var n=this._extent;isNaN(t)||(n[0]=t),isNaN(e)||(n[1]=e)},i.prototype.isBlank=function(){return this._isBlank},i.prototype.setBlank=function(t){this._isBlank=t},i.prototype.getLabel=null,r.enableClassExtend(i),r.enableClassManagement(i,{registerWhenExtend:!0});var a=i;t.exports=a},function(t,e,n){var i=n(3),r=n(9),a=n(81),o=n(183),s=i.round,l=a.extend({type:"interval",_interval:0,_intervalPrecision:2,setExtent:function(t,e){var n=this._extent;isNaN(t)||(n[0]=parseFloat(t)),isNaN(e)||(n[1]=parseFloat(e))},unionExtent:function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1]),l.prototype.setExtent.call(this,e[0],e[1])},getInterval:function(){return this._interval},setInterval:function(t){this._interval=t,this._niceExtent=this._extent.slice(),this._intervalPrecision=o.getIntervalPrecision(t)},getTicks:function(t){var e=this._interval,n=this._extent,i=this._niceExtent,r=this._intervalPrecision,a=[];if(!e)return a;n[0]<i[0]&&(t?a.push(s(i[0]-e)):a.push(n[0]));for(var o=i[0];o<=i[1]&&(a.push(o),(o=s(o+e,r))!==a[a.length-1]);)if(a.length>1e4)return[];var l=a.length?a[a.length-1]:i[1];return n[1]>l&&(t?a.push(l+e):a.push(n[1])),a},getMinorTicks:function(t){for(var e=this.getTicks(!0),n=[],r=this.getExtent(),a=1;a<e.length;a++){for(var o=e[a],s=e[a-1],l=0,c=[],u=o-s,h=u/t;l<t-1;){var d=i.round(s+(l+1)*h);d>r[0]&&d<r[1]&&c.push(d),l++}n.push(c)}return n},getLabel:function(t,e){if(null==t)return"";var n=e&&e.precision;return null==n?n=i.getPrecisionSafe(t)||0:"auto"===n&&(n=this._intervalPrecision),t=s(t,n,!0),r.addCommas(t)},niceTicks:function(t,e,n){t=t||5;var i=this._extent,r=i[1]-i[0];if(isFinite(r)){r<0&&(r=-r,i.reverse());var a=o.intervalScaleNiceTicks(i,t,e,n);this._intervalPrecision=a.intervalPrecision,this._interval=a.interval,this._niceExtent=a.niceTickExtent}},niceExtent:function(t){var e=this._extent;if(e[0]===e[1])if(0!==e[0]){var n=e[0];t.fixMax?e[0]-=n/2:(e[1]+=n/2,e[0]-=n/2)}else e[1]=1;var i=e[1]-e[0];isFinite(i)||(e[0]=0,e[1]=1),this.niceTicks(t.splitNumber,t.minInterval,t.maxInterval);var r=this._interval;t.fixMin||(e[0]=s(Math.floor(e[0]/r)*r)),t.fixMax||(e[1]=s(Math.ceil(e[1]/r)*r))}});l.create=function(){return new l};var c=l;t.exports=c},function(t,e,n){function i(t){return t.get("stack")||b+t.seriesIndex}function r(t){return t.dim+t.index}function a(t){var e=[],n=t.axis;if("category"===n.type){for(var i=n.getBandWidth(),r=0;r<t.count;r++)e.push(g.defaults({bandWidth:i,axisKey:"axis0",stackId:b+r},t));for(var a=c(e),o=[],r=0;r<t.count;r++){var s=a.axis0[b+r];s.offsetCenter=s.offset+s.width/2,o.push(s)}return o}}function o(t,e){var n=[];return e.eachSeriesByType(t,function(t){d(t)&&!p(t)&&n.push(t)}),n}function s(t){var e={};g.each(t,function(t){var n=t.coordinateSystem,i=n.getBaseAxis();if("time"===i.type||"value"===i.type)for(var r=t.getData(),a=i.dim+"_"+i.index,o=r.mapDimension(i.dim),s=0,l=r.count();s<l;++s){var c=r.get(o,s);e[a]?e[a].push(c):e[a]=[c]}});var n=[];for(var i in e)if(e.hasOwnProperty(i)){var r=e[i];if(r){r.sort(function(t,e){return t-e});for(var a=null,o=1;o<r.length;++o){var s=r[o]-r[o-1];s>0&&(a=null===a?s:Math.min(a,s))}n[i]=a}}return n}function l(t){var e=s(t),n=[];return g.each(t,function(t){var a,o=t.coordinateSystem,s=o.getBaseAxis(),l=s.getExtent();if("category"===s.type)a=s.getBandWidth();else if("value"===s.type||"time"===s.type){var c=s.dim+"_"+s.index,u=e[c],h=Math.abs(l[1]-l[0]),d=s.scale.getExtent(),p=Math.abs(d[1]-d[0]);a=u?h/p*u:h}else{var f=t.getData();a=Math.abs(l[1]-l[0])/f.count()}var g=v(t.get("barWidth"),a),m=v(t.get("barMaxWidth"),a),y=v(t.get("barMinWidth")||1,a),x=t.get("barGap"),_=t.get("barCategoryGap");n.push({bandWidth:a,barWidth:g,barMaxWidth:m,barMinWidth:y,barGap:x,barCategoryGap:_,axisKey:r(s),stackId:i(t)})}),c(n)}function c(t){var e={};g.each(t,function(t,n){var i=t.axisKey,r=t.bandWidth,a=e[i]||{bandWidth:r,remainedWidth:r,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},o=a.stacks;e[i]=a;var s=t.stackId;o[s]||a.autoWidthCount++,o[s]=o[s]||{width:0,maxWidth:0};var l=t.barWidth;l&&!o[s].width&&(o[s].width=l,l=Math.min(a.remainedWidth,l),a.remainedWidth-=l);var c=t.barMaxWidth;c&&(o[s].maxWidth=c);var u=t.barMinWidth;u&&(o[s].minWidth=u);var h=t.barGap;null!=h&&(a.gap=h);var d=t.barCategoryGap;null!=d&&(a.categoryGap=d)});var n={};return g.each(e,function(t,e){n[e]={};var i=t.stacks,r=t.bandWidth,a=v(t.categoryGap,r),o=v(t.gap,1),s=t.remainedWidth,l=t.autoWidthCount,c=(s-a)/(l+(l-1)*o);c=Math.max(c,0),g.each(i,function(t){var e=t.maxWidth,n=t.minWidth;if(t.width){var i=t.width;e&&(i=Math.min(i,e)),n&&(i=Math.max(i,n)),t.width=i,s-=i+o*i,l--}else{var i=c;e&&e<i&&(i=Math.min(e,s)),n&&n>i&&(i=n),i!==c&&(t.width=i,s-=i+o*i,l--)}}),c=(s-a)/(l+(l-1)*o),c=Math.max(c,0);var u,h=0;g.each(i,function(t,e){t.width||(t.width=c),u=t,h+=t.width*(1+o)}),u&&(h-=u.width*o);var d=-h/2;g.each(i,function(t,i){n[e][i]=n[e][i]||{bandWidth:r,offset:d,width:t.width},d+=t.width*(1+o)})}),n}function u(t,e,n){if(t&&e){var a=t[r(e)];return null!=a&&null!=n&&(a=a[i(n)]),a}}function h(t,e){var n=o(t,e),a=l(n),s={},c={};g.each(n,function(t){var e=t.getData(),n=t.coordinateSystem,o=n.getBaseAxis(),l=i(t),u=a[r(o)][l],h=u.offset,d=u.width,p=n.getOtherAxis(o),g=t.get("barMinHeight")||0;s[l]=s[l]||[],c[l]=c[l]||[],e.setLayout({bandWidth:u.bandWidth,offset:h,size:d});for(var m=e.mapDimension(p.dim),v=e.mapDimension(o.dim),y=x(e,m),_=p.isHorizontal(),b=f(o,p,y),w=0,M=e.count();w<M;w++){var S=e.get(m,w),T=e.get(v,w);if(!isNaN(S)&&!isNaN(T)){var A=S>=0?"p":"n",C=b;y&&(s[l][T]||(s[l][T]={p:b,n:b}),C=s[l][T][A]);var L,E,I,P;if(_){var D=n.dataToPoint([S,T]);L=C,E=D[1]+h,I=D[0]-b,P=d,Math.abs(I)<g&&(I=(I<0?-1:1)*g),y&&(s[l][T][A]+=I)}else{var D=n.dataToPoint([T,S]);L=D[0]+h,E=C,I=d,P=D[1]-b,Math.abs(P)<g&&(P=(P<=0?-1:1)*g),y&&(s[l][T][A]+=P)}e.setItemLayout(w,{x:L,y:E,width:I,height:P})}}},this)}function d(t){return t.coordinateSystem&&"cartesian2d"===t.coordinateSystem.type}function p(t){return t.pipelineContext&&t.pipelineContext.large}function f(t,e,n){return e.toGlobalCoord(e.dataToCoord("log"===e.type?1:0))}var g=n(0),m=n(3),v=m.parsePercent,y=n(26),x=y.isDimensionStacked,_=n(50),b="__ec_stack_",w="undefined"!=typeof Float32Array?Float32Array:Array,M={seriesType:"bar",plan:_(),reset:function(t){function e(t,e){for(var n,l=t.count,u=new w(2*l),d=new w(l),p=[],m=[],v=0,y=0;null!=(n=t.next());)m[h]=e.get(o,n),m[1-h]=e.get(s,n),p=i.dataToPoint(m,null,p),u[v++]=p[0],u[v++]=p[1],d[y++]=n;e.setLayout({largePoints:u,largeDataIndices:d,barWidth:g,valueAxisStart:f(r,a,!1),valueAxisHorizontal:c})}if(d(t)&&p(t)){var n=t.getData(),i=t.coordinateSystem,r=i.getBaseAxis(),a=i.getOtherAxis(r),o=n.mapDimension(a.dim),s=n.mapDimension(r.dim),c=a.isHorizontal(),h=c?0:1,g=u(l([t]),r,t).width;return g>.5||(g=.5),{progress:e}}}};e.getLayoutOnAxis=a,e.prepareLayoutBarSeries=o,e.makeColumnLayout=l,e.retrieveColumnLayout=u,e.layout=h,e.largeLayout=M},function(t,e,n){function i(t,e,n){u.Group.call(this),this.updateData(t,e,n)}function r(t){return[t[0]/2,t[1]/2]}function a(t,e){this.parent.drift(t,e)}function o(t,e){if(!this.incremental&&!this.useHoverLayer)if("emphasis"===e){var n=this.__symbolOriginalScale,i=n[1]/n[0],r={scale:[Math.max(1.1*n[0],n[0]+3),Math.max(1.1*n[1],n[1]+3*i)]};this.animateTo(r,400,"elasticOut")}else"normal"===e&&this.animateTo({scale:this.__symbolOriginalScale},400,"elasticOut")}var s=n(0),l=n(19),c=l.createSymbol,u=n(2),h=n(3),d=h.parsePercent,p=n(104),f=p.getDefaultLabel,g=i.prototype,m=i.getSymbolSize=function(t,e){var n=t.getItemVisual(e,"symbolSize");return n instanceof Array?n.slice():[+n,+n]};g._createSymbol=function(t,e,n,i,o){this.removeAll();var s=e.getItemVisual(n,"color"),l=c(t,-1,-1,2,2,s,o);l.attr({z2:100,culling:!0,scale:r(i)}),l.drift=a,this._symbolType=t,this.add(l)},g.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(t)},g.getSymbolPath=function(){return this.childAt(0)},g.getScale=function(){return this.childAt(0).scale},g.highlight=function(){this.childAt(0).trigger("emphasis")},g.downplay=function(){this.childAt(0).trigger("normal")},g.setZ=function(t,e){var n=this.childAt(0);n.zlevel=t,n.z=e},g.setDraggable=function(t){var e=this.childAt(0);e.draggable=t,e.cursor=t?"move":e.cursor},g.updateData=function(t,e,n){this.silent=!1;var i=t.getItemVisual(e,"symbol")||"circle",a=t.hostModel,o=m(t,e),s=i!==this._symbolType;if(s){var l=t.getItemVisual(e,"symbolKeepAspect");this._createSymbol(i,t,e,o,l)}else{var c=this.childAt(0);c.silent=!1,u.updateProps(c,{scale:r(o)},a,e)}if(this._updateCommon(t,e,o,n),s){var c=this.childAt(0),h=n&&n.fadeIn,d={scale:c.scale.slice()};h&&(d.style={opacity:c.style.opacity}),c.scale=[0,0],h&&(c.style.opacity=0),u.initProps(c,d,a,e)}this._seriesModel=a};var v=["itemStyle"],y=["emphasis","itemStyle"],x=["label"],_=["emphasis","label"];g._updateCommon=function(t,e,n,i){function a(e,n){return P?t.getName(e):f(t,e)}var l=this.childAt(0),c=t.hostModel,h=t.getItemVisual(e,"color");"image"!==l.type?l.useStyle({strokeNoScale:!0}):l.setStyle({opacity:null,shadowBlur:null,shadowOffsetX:null,shadowOffsetY:null,shadowColor:null});var p=i&&i.itemStyle,g=i&&i.hoverItemStyle,m=i&&i.symbolRotate,b=i&&i.symbolOffset,w=i&&i.labelModel,M=i&&i.hoverLabelModel,S=i&&i.hoverAnimation,T=i&&i.cursorStyle;if(!i||t.hasItemOption){var A=i&&i.itemModel?i.itemModel:t.getItemModel(e);p=A.getModel(v).getItemStyle(["color"]),g=A.getModel(y).getItemStyle(),m=A.getShallow("symbolRotate"),b=A.getShallow("symbolOffset"),w=A.getModel(x),M=A.getModel(_),S=A.getShallow("hoverAnimation"),T=A.getShallow("cursor")}else g=s.extend({},g);var C=l.style;l.attr("rotation",(m||0)*Math.PI/180||0),b&&l.attr("position",[d(b[0],n[0]),d(b[1],n[1])]),T&&l.attr("cursor",T),l.setColor(h,i&&i.symbolInnerColor),l.setStyle(p);var L=t.getItemVisual(e,"opacity");null!=L&&(C.opacity=L);var E=t.getItemVisual(e,"liftZ"),I=l.__z2Origin;null!=E?null==I&&(l.__z2Origin=l.z2,l.z2+=E):null!=I&&(l.z2=I,l.__z2Origin=null);var P=i&&i.useNameLabel;u.setLabelStyle(C,g,w,M,{labelFetcher:c,labelDataIndex:e,defaultText:a,isRectText:!0,autoColor:h}),l.__symbolOriginalScale=r(n),l.hoverStyle=g,l.highDownOnUpdate=S&&c.isAnimationEnabled()?o:null,u.setHoverStyle(l)},g.fadeOut=function(t,e){var n=this.childAt(0);this.silent=n.silent=!0,!(e&&e.keepLabel)&&(n.style.text=null),u.updateProps(n,{style:{opacity:0},scale:[0,0]},this._seriesModel,this.dataIndex,t)},s.inherits(i,u.Group);var b=i;t.exports=b},function(t,e,n){function i(t,e,n,i){r.each(h,function(o){e.extend({type:t+"Axis."+o,mergeDefaultAndTheme:function(e,i){var a=this.layoutMode,s=a?l(e):{},u=i.getTheme();r.merge(e,u.get(o+"Axis")),r.merge(e,this.getDefaultOption()),e.type=n(t,e),a&&c(e,s,a)},optionUpdated:function(){"category"===this.option.type&&(this.__ordinalMeta=u.createByAxisModel(this))},getCategories:function(t){var e=this.option;if("category"===e.type)return t?e.data:this.__ordinalMeta.categories},getOrdinalMeta:function(){return this.__ordinalMeta},defaultOption:r.mergeAll([{},a[o+"Axis"],i],!0)})}),o.registerSubTypeDefaulter(t+"Axis",r.curry(n,t))}var r=n(0),a=n(191),o=n(13),s=n(6),l=s.getLayoutParams,c=s.mergeLayoutParam,u=n(182),h=["value","category","time","log"];t.exports=i},function(t,e,n){function i(t,e){var n={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return r(n,t,e),n.seriesInvolved&&o(n,t),n}function r(t,e,n){var i=e.getComponent("tooltip"),r=e.getComponent("axisPointer"),o=r.get("link",!0)||[],l=[];m(n.getCoordinateSystems(),function(n){function c(i,c,u){var f=u.model.getModel("axisPointer",r),m=f.get("show");if(m&&("auto"!==m||i||d(f))){null==c&&(c=f.get("triggerTooltip")),f=i?a(u,g,r,e,i,c):f;var v=f.get("snap"),y=p(u.model),x=c||v||"category"===u.type,_=t.axesInfo[y]={key:y,axis:u,coordSys:n,axisPointerModel:f,triggerTooltip:c,involveSeries:x,snap:v,useHandle:d(f),seriesModels:[]};h[y]=_,t.seriesInvolved|=x;var b=s(o,u);if(null!=b){var w=l[b]||(l[b]={axesInfo:{}});w.axesInfo[y]=_,w.mapper=o[b].mapper,_.linkGroup=w}}}if(n.axisPointerEnabled){var u=p(n.model),h=t.coordSysAxesInfo[u]={};t.coordSysMap[u]=n;var f=n.model,g=f.getModel("tooltip",i);if(m(n.getAxes(),v(c,!1,null)),n.getTooltipAxes&&i&&g.get("show")){var y="axis"===g.get("trigger"),x="cross"===g.get("axisPointer.type"),_=n.getTooltipAxes(g.get("axisPointer.axis"));(y||x)&&m(_.baseAxes,v(c,!x||"cross",y)),x&&m(_.otherAxes,v(c,"cross",!1))}}})}function a(t,e,n,i,r,a){var o=e.getModel("axisPointer"),s={};m(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(t){s[t]=f.clone(o.get(t))}),s.snap="category"!==t.type&&!!a,"cross"===o.get("type")&&(s.type="line");var l=s.label||(s.label={});if(null==l.show&&(l.show=!1),"cross"===r){var c=o.get("label.show");if(l.show=null==c||c,!a){var u=s.lineStyle=o.get("crossStyle");u&&f.defaults(l,u.textStyle)}}return t.model.getModel("axisPointer",new g(s,n,i))}function o(t,e){e.eachSeries(function(e){var n=e.coordinateSystem,i=e.get("tooltip.trigger",!0),r=e.get("tooltip.show",!0);n&&"none"!==i&&!1!==i&&"item"!==i&&!1!==r&&!1!==e.get("axisPointer.show",!0)&&m(t.coordSysAxesInfo[p(n.model)],function(t){var i=t.axis;n.getAxis(i.dim)===i&&(t.seriesModels.push(e),null==t.seriesDataCount&&(t.seriesDataCount=0),t.seriesDataCount+=e.getData().count())})},this)}function s(t,e){for(var n=e.model,i=e.dim,r=0;r<t.length;r++){var a=t[r]||{};if(l(a[i+"AxisId"],n.id)||l(a[i+"AxisIndex"],n.componentIndex)||l(a[i+"AxisName"],n.name))return r}}function l(t,e){return"all"===t||f.isArray(t)&&f.indexOf(t,e)>=0||t===e}function c(t){var e=u(t);if(e){var n=e.axisPointerModel,i=e.axis.scale,r=n.option,a=n.get("status"),o=n.get("value");null!=o&&(o=i.parse(o));var s=d(n);null==a&&(r.status=s?"show":"hide");var l=i.getExtent().slice();l[0]>l[1]&&l.reverse(),(null==o||o>l[1])&&(o=l[1]),o<l[0]&&(o=l[0]),r.value=o,s&&(r.status=e.axis.scale.isBlank()?"hide":"show")}}function u(t){var e=(t.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[p(t)]}function h(t){var e=u(t);return e&&e.axisPointerModel}function d(t){return!!t.get("handle.show")}function p(t){return t.type+"||"+t.id}var f=n(0),g=n(12),m=f.each,v=f.curry;e.collect=i,e.fixValue=c,e.getAxisInfo=u,e.getAxisPointerModel=h,e.makeKey=p},function(t,e,n){function i(t){return{getTargetSeries:function(e){var n={},i=a();return e.eachSeriesByType(t,function(t){t.__paletteScope=n,i.set(t.uid,t)}),i},reset:function(t,e){var n=t.getRawData(),i={},r=t.getData();r.each(function(t){var e=r.getRawIndex(t);i[e]=t}),n.each(function(e){var a,o=i[e],s=null!=o&&r.getItemVisual(o,"color",!0),l=null!=o&&r.getItemVisual(o,"borderColor",!0);if(s&&l||(a=n.getItemModel(e)),!s){var c=a.get("itemStyle.color")||t.getColorFromPalette(n.getName(e)||e+"",t.__paletteScope,n.count());null!=o&&r.setItemVisual(o,"color",c)}if(!l){var u=a.get("itemStyle.borderColor");null!=o&&r.setItemVisual(o,"borderColor",u)}})}}}var r=n(0),a=r.createHashMap;t.exports=i},function(t,e,n){function i(t){return function(e,n){var i=r(e),a=[];return s(i,function(i){var r=p[i.type][t];r&&a.push(r(e,i,n))}),a}}function r(t){return c.retrieveMap(t)||[]}var a=n(5),o=(a.__DEV__,n(0)),s=o.each,l=o.createHashMap,c=n(103),u=n(379),h=n(384),d=n(8),p={geoJSON:u,svg:h},f={load:function(t,e){var n,i=[],a=l(),o=l(),c=r(t);return s(c,function(r){var l=p[r.type].load(t,r);s(l.regions,function(t){var n=t.name;e&&e.hasOwnProperty(n)&&(t=t.cloneShallow(n=e[n])),i.push(t),a.set(n,t),o.set(n,t.center)});var c=l.boundingRect;c&&(n?n.union(c):n=c.clone())}),{regions:i,regionsMap:a,nameCoordMap:o,boundingRect:n||new d(0,0,0,0)}},makeGraphic:i("makeGraphic"),removeGraphic:i("removeGraphic")};t.exports=f},function(t,e){function n(t,e,n){var r=e.getComponentByElement(t.topTarget),a=r&&r.coordinateSystem;return r&&r!==n&&!i[r.mainType]&&a&&a.model!==n}var i={axisPointer:1,tooltip:1,brush:1};e.onIrrelevantElement=n},function(t,e,n){function i(t){var e,n=t.get("type"),i=t.getModel(n+"Style");return"line"===n?(e=i.getLineStyle(),e.fill=null):"shadow"===n&&(e=i.getAreaStyle(),e.stroke=null),e}function r(t,e,n,i,r){var s=n.get("value"),l=o(s,e.axis,e.ecModel,n.get("seriesDataIndices"),{precision:n.get("label.precision"),formatter:n.get("label.formatter")}),c=n.getModel("label"),u=g.normalizeCssArray(c.get("padding")||0),h=c.getFont(),d=f.getBoundingRect(l,h),p=r.position,m=d.width+u[1]+u[3],v=d.height+u[0]+u[2],y=r.align;"right"===y&&(p[0]-=m),"center"===y&&(p[0]-=m/2);var x=r.verticalAlign;"bottom"===x&&(p[1]-=v),"middle"===x&&(p[1]-=v/2),a(p,m,v,i);var _=c.get("backgroundColor");_&&"auto"!==_||(_=e.get("axisLine.lineStyle.color")),t.label={shape:{x:0,y:0,width:m,height:v,r:c.get("borderRadius")},position:p.slice(),style:{text:l,textFont:h,textFill:c.getTextColor(),textPosition:"inside",textPadding:u,fill:_,stroke:c.get("borderColor")||"transparent",lineWidth:c.get("borderWidth")||0,shadowBlur:c.get("shadowBlur"),shadowColor:c.get("shadowColor"),shadowOffsetX:c.get("shadowOffsetX"),shadowOffsetY:c.get("shadowOffsetY")},z2:10}}function a(t,e,n,i){var r=i.getWidth(),a=i.getHeight();t[0]=Math.min(t[0]+e,r)-e,t[1]=Math.min(t[1]+n,a)-n,t[0]=Math.max(t[0],0),t[1]=Math.max(t[1],0)}function o(t,e,n,i,r){t=e.scale.parse(t);var a=e.scale.getLabel(t,{precision:r.precision}),o=r.formatter;if(o){var s={value:v.getAxisRawValue(e,t),axisDimension:e.dim,axisIndex:e.index,seriesData:[]};d.each(i,function(t){var e=n.getSeriesByIndex(t.seriesIndex),i=t.dataIndexInside,r=e&&e.getDataParams(i);r&&s.seriesData.push(r)}),d.isString(o)?a=o.replace("{value}",a):d.isFunction(o)&&(a=o(s))}return a}function s(t,e,n){var i=m.create();return m.rotate(i,i,n.rotation),m.translate(i,i,n.position),p.applyTransform([t.dataToCoord(e),(n.labelOffset||0)+(n.labelDirection||1)*(n.labelMargin||0)],i)}function l(t,e,n,i,a,o){var l=y.innerTextLayout(n.rotation,0,n.labelDirection);n.labelMargin=a.get("label.margin"),r(e,i,a,o,{position:s(i.axis,t,n),align:l.textAlign,verticalAlign:l.textVerticalAlign})}function c(t,e,n){return n=n||0,{x1:t[n],y1:t[1-n],x2:e[n],y2:e[1-n]}}function u(t,e,n){return n=n||0,{x:t[n],y:t[1-n],width:e[n],height:e[1-n]}}function h(t,e,n,i,r,a){return{cx:t,cy:e,r0:n,r:i,startAngle:r,endAngle:a,clockwise:!0}}var d=n(0),p=n(2),f=n(17),g=n(9),m=n(15),v=n(22),y=n(36);e.buildElStyle=i,e.buildLabelElOption=r,e.getValueLabel=o,e.getTransformedPosition=s,e.buildCartesianSingleLabelElOption=l,e.makeLineShape=c,e.makeRectShape=u,e.makeSectorShape=h},function(t,e,n){function i(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return!0}function r(t,e,n){function i(){var t=function(){};return t.prototype.__hidden=t.prototype,new t}var r={};return u(e,function(e){var a=r[e]=i();u(t[e],function(t,i){if(c.isValidType(i)){var r={type:i,visual:t};n&&n(r,e),a[i]=new c(r),"opacity"===i&&(r=l.clone(r),r.type="colorAlpha",a.__hidden.__alphaForOpacity=new c(r))}})}),r}function a(t,e,n){var r;l.each(n,function(t){e.hasOwnProperty(t)&&i(e[t])&&(r=!0)}),r&&l.each(n,function(n){e.hasOwnProperty(n)&&i(e[n])?t[n]=l.clone(e[n]):delete t[n]})}function o(t,e,n,i,r,a){function o(t){return n.getItemVisual(d,t)}function s(t,e){n.setItemVisual(d,t,e)}function u(t,l){d=null==a?t:l;var c=n.getRawDataItem(d);if(!c||!1!==c.visualMap)for(var u=i.call(r,t),p=e[u],f=h[u],g=0,m=f.length;g<m;g++){var v=f[g];p[v]&&p[v].applyVisual(t,o,s)}}var h={};l.each(t,function(t){var n=c.prepareVisualTypes(e[t]);h[t]=n});var d;null==a?n.each(u):n.each([a],u)}function s(t,e,n,i){function r(t,r){function o(t){return r.getItemVisual(l,t)}function s(t,e){r.setItemVisual(l,t,e)}null!=i&&(i=r.getDimension(i));for(var l;null!=(l=t.next());){var c=r.getRawDataItem(l);if(!c||!1!==c.visualMap)for(var u=null!=i?r.get(i,l,!0):l,h=n(u),d=e[h],p=a[h],f=0,g=p.length;f<g;f++){var m=p[f];d[m]&&d[m].applyVisual(u,o,s)}}}var a={};return l.each(t,function(t){var n=c.prepareVisualTypes(e[t]);a[t]=n}),{progress:r}}var l=n(0),c=n(45),u=l.each;e.createVisualMappings=r,e.replaceVisualOption=a,e.applyVisual=o,e.incrementalApplyVisual=s},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={PLANE:{id:0,label:"Plane",template:{position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},scale:{x:1,y:1,z:1}}},BOX:{id:2,label:"Cube",template:{position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},scale:{x:1,y:1,z:1}}},SPHERE:{id:3,label:"Sphere",template:{position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},scale:{x:1,y:1,z:1}}},CONE:{id:4,label:"Cone",template:{position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},scale:{x:1,y:1,z:1}}},CYLINDER:{id:5,label:"Cylinder",template:{position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},scale:{x:1,y:1,z:1},ratio:.5}},TORUS:{id:6,label:"Torus",template:{position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},scale:{x:1,y:1,z:1},ratio:.5}},TUBE:{id:7,label:"Tube",template:{position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},scale:{x:1,y:1,z:1},points:[{x:0,y:-1,z:0},{x:0,y:1,z:0}]}},LATHE:{id:8,label:"Lathe",template:{position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},scale:{x:1,y:1,z:1},points:[{x:0,y:-1},{x:1,y:1}]}}}},function(t,e,n){function i(t){return t>s||t<-s}var r=n(15),a=n(7),o=r.identity,s=5e-5,l=function(t){t=t||{},t.position||(this.position=[0,0]),null==t.rotation&&(this.rotation=0),t.scale||(this.scale=[1,1]),this.origin=this.origin||null},c=l.prototype;c.transform=null,c.needLocalTransform=function(){return i(this.rotation)||i(this.position[0])||i(this.position[1])||i(this.scale[0]-1)||i(this.scale[1]-1)};var u=[];c.updateTransform=function(){var t=this.parent,e=t&&t.transform,n=this.needLocalTransform(),i=this.transform;if(!n&&!e)return void(i&&o(i));i=i||r.create(),n?this.getLocalTransform(i):o(i),e&&(n?r.mul(i,t.transform,i):r.copy(i,t.transform)),this.transform=i;var a=this.globalScaleRatio;if(null!=a&&1!==a){this.getGlobalScale(u);var s=u[0]<0?-1:1,l=u[1]<0?-1:1,c=((u[0]-s)*a+s)/u[0]||0,h=((u[1]-l)*a+l)/u[1]||0;i[0]*=c,i[1]*=c,i[2]*=h,i[3]*=h}this.invTransform=this.invTransform||r.create(),r.invert(this.invTransform,i)},c.getLocalTransform=function(t){return l.getLocalTransform(this,t)},c.setTransform=function(t){var e=this.transform,n=t.dpr||1;e?t.setTransform(n*e[0],n*e[1],n*e[2],n*e[3],n*e[4],n*e[5]):t.setTransform(n,0,0,n,0,0)},c.restoreTransform=function(t){var e=t.dpr||1;t.setTransform(e,0,0,e,0,0)};var h=[],d=r.create();c.setLocalTransform=function(t){if(t){var e=t[0]*t[0]+t[1]*t[1],n=t[2]*t[2]+t[3]*t[3],r=this.position,a=this.scale;i(e-1)&&(e=Math.sqrt(e)),i(n-1)&&(n=Math.sqrt(n)),t[0]<0&&(e=-e),t[3]<0&&(n=-n),r[0]=t[4],r[1]=t[5],a[0]=e,a[1]=n,this.rotation=Math.atan2(-t[1]/n,t[0]/e)}},c.decomposeTransform=function(){if(this.transform){var t=this.parent,e=this.transform;t&&t.transform&&(r.mul(h,t.invTransform,e),e=h);var n=this.origin;n&&(n[0]||n[1])&&(d[4]=n[0],d[5]=n[1],r.mul(h,e,d),h[4]-=n[0],h[5]-=n[1],e=h),this.setLocalTransform(e)}},c.getGlobalScale=function(t){var e=this.transform;return t=t||[],e?(t[0]=Math.sqrt(e[0]*e[0]+e[1]*e[1]),t[1]=Math.sqrt(e[2]*e[2]+e[3]*e[3]),e[0]<0&&(t[0]=-t[0]),e[3]<0&&(t[1]=-t[1]),t):(t[0]=1,t[1]=1,t)},c.transformCoordToLocal=function(t,e){var n=[t,e],i=this.invTransform;return i&&a.applyTransform(n,n,i),n},c.transformCoordToGlobal=function(t,e){var n=[t,e],i=this.transform;return i&&a.applyTransform(n,n,i),n},l.getLocalTransform=function(t,e){e=e||[],o(e);var n=t.origin,i=t.scale||[1,1],a=t.rotation||0,s=t.position||[0,0];return n&&(e[4]-=n[0],e[5]-=n[1]),r.scale(e,e,i),a&&r.rotate(e,e,a),n&&(e[4]+=n[0],e[5]+=n[1]),e[4]+=s[0],e[5]+=s[1],e};var p=l;t.exports=p},function(t,e){function n(t){for(var e=0;t>=u;)e|=1&t,t>>=1;return t+e}function i(t,e,n,i){var a=e+1;if(a===n)return 1;if(i(t[a++],t[e])<0){for(;a<n&&i(t[a],t[a-1])<0;)a++;r(t,e,a)}else for(;a<n&&i(t[a],t[a-1])>=0;)a++;return a-e}function r(t,e,n){for(n--;e<n;){var i=t[e];t[e++]=t[n],t[n--]=i}}function a(t,e,n,i,r){for(i===e&&i++;i<n;i++){for(var a,o=t[i],s=e,l=i;s<l;)a=s+l>>>1,r(o,t[a])<0?l=a:s=a+1;var c=i-s;switch(c){case 3:t[s+3]=t[s+2];case 2:t[s+2]=t[s+1];case 1:t[s+1]=t[s];break;default:for(;c>0;)t[s+c]=t[s+c-1],c--}t[s]=o}}function o(t,e,n,i,r,a){var o=0,s=0,l=1;if(a(t,e[n+r])>0){for(s=i-r;l<s&&a(t,e[n+r+l])>0;)o=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s),o+=r,l+=r}else{for(s=r+1;l<s&&a(t,e[n+r-l])<=0;)o=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s);var c=o;o=r-l,l=r-c}for(o++;o<l;){var u=o+(l-o>>>1);a(t,e[n+u])>0?o=u+1:l=u}return l}function s(t,e,n,i,r,a){var o=0,s=0,l=1;if(a(t,e[n+r])<0){for(s=r+1;l<s&&a(t,e[n+r-l])<0;)o=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s);var c=o;o=r-l,l=r-c}else{for(s=i-r;l<s&&a(t,e[n+r+l])>=0;)o=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s),o+=r,l+=r}for(o++;o<l;){var u=o+(l-o>>>1);a(t,e[n+u])<0?l=u:o=u+1}return l}function l(t,e){function n(t,e){u[g]=t,d[g]=e,g+=1}function i(){for(;g>1;){var t=g-2;if(t>=1&&d[t-1]<=d[t]+d[t+1]||t>=2&&d[t-2]<=d[t]+d[t-1])d[t-1]<d[t+1]&&t--;else if(d[t]>d[t+1])break;a(t)}}function r(){for(;g>1;){var t=g-2;t>0&&d[t-1]<d[t+1]&&t--,a(t)}}function a(n){var i=u[n],r=d[n],a=u[n+1],h=d[n+1];d[n]=r+h,n===g-3&&(u[n+1]=u[n+2],d[n+1]=d[n+2]),g--;var p=s(t[a],t,i,r,0,e);i+=p,0!==(r-=p)&&0!==(h=o(t[i+r-1],t,a,h,h-1,e))&&(r<=h?l(i,r,a,h):c(i,r,a,h))}function l(n,i,r,a){var l=0;for(l=0;l<i;l++)m[l]=t[n+l];var c=0,u=r,d=n;if(t[d++]=t[u++],0!=--a){if(1===i){for(l=0;l<a;l++)t[d+l]=t[u+l];return void(t[d+a]=m[c])}for(var f,g,v,y=p;;){f=0,g=0,v=!1;do{if(e(t[u],m[c])<0){if(t[d++]=t[u++],g++,f=0,0==--a){v=!0;break}}else if(t[d++]=m[c++],f++,g=0,1==--i){v=!0;break}}while((f|g)<y);if(v)break;do{if(0!==(f=s(t[u],m,c,i,0,e))){for(l=0;l<f;l++)t[d+l]=m[c+l];if(d+=f,c+=f,(i-=f)<=1){v=!0;break}}if(t[d++]=t[u++],0==--a){v=!0;break}if(0!==(g=o(m[c],t,u,a,0,e))){for(l=0;l<g;l++)t[d+l]=t[u+l];if(d+=g,u+=g,0===(a-=g)){v=!0;break}}if(t[d++]=m[c++],1==--i){v=!0;break}y--}while(f>=h||g>=h);if(v)break;y<0&&(y=0),y+=2}if(p=y,p<1&&(p=1),1===i){for(l=0;l<a;l++)t[d+l]=t[u+l];t[d+a]=m[c]}else{if(0===i)throw new Error;for(l=0;l<i;l++)t[d+l]=m[c+l]}}else for(l=0;l<i;l++)t[d+l]=m[c+l]}function c(n,i,r,a){var l=0;for(l=0;l<a;l++)m[l]=t[r+l];var c=n+i-1,u=a-1,d=r+a-1,f=0,g=0;if(t[d--]=t[c--],0!=--i){if(1===a){for(d-=i,c-=i,g=d+1,f=c+1,l=i-1;l>=0;l--)t[g+l]=t[f+l];return void(t[d]=m[u])}for(var v=p;;){var y=0,x=0,_=!1;do{if(e(m[u],t[c])<0){if(t[d--]=t[c--],y++,x=0,0==--i){_=!0;break}}else if(t[d--]=m[u--],x++,y=0,1==--a){_=!0;break}}while((y|x)<v);if(_)break;do{if(0!==(y=i-s(m[u],t,n,i,i-1,e))){for(d-=y,c-=y,i-=y,g=d+1,f=c+1,l=y-1;l>=0;l--)t[g+l]=t[f+l];if(0===i){_=!0;break}}if(t[d--]=m[u--],1==--a){_=!0;break}if(0!==(x=a-o(t[c],m,0,a,a-1,e))){for(d-=x,u-=x,a-=x,g=d+1,f=u+1,l=0;l<x;l++)t[g+l]=m[f+l];if(a<=1){_=!0;break}}if(t[d--]=t[c--],0==--i){_=!0;break}v--}while(y>=h||x>=h);if(_)break;v<0&&(v=0),v+=2}if(p=v,p<1&&(p=1),1===a){for(d-=i,c-=i,g=d+1,f=c+1,l=i-1;l>=0;l--)t[g+l]=t[f+l];t[d]=m[u]}else{if(0===a)throw new Error;for(f=d-(a-1),l=0;l<a;l++)t[f+l]=m[l]}}else for(f=d-(a-1),l=0;l<a;l++)t[f+l]=m[l]}var u,d,p=h,f=0,g=0;f=t.length;var m=[];u=[],d=[],this.mergeRuns=i,this.forceMergeRuns=r,this.pushRun=n}function c(t,e,r,o){r||(r=0),o||(o=t.length);var s=o-r;if(!(s<2)){var c=0;if(s<u)return c=i(t,r,o,e),void a(t,r,o,r+c,e);var h=new l(t,e),d=n(s);do{if((c=i(t,r,o,e))<d){var p=s;p>d&&(p=d),a(t,r,r+p,r+c,e),c=p}h.pushRun(r,c),h.mergeRuns(),s-=c,r+=c}while(0!==s);h.forceMergeRuns()}}var u=32,h=7;t.exports=c},function(t,e,n){function i(t,e,n){var i=null==e.x?0:e.x,r=null==e.x2?1:e.x2,a=null==e.y?0:e.y,o=null==e.y2?0:e.y2;return e.global||(i=i*n.width+n.x,r=r*n.width+n.x,a=a*n.height+n.y,o=o*n.height+n.y),i=isNaN(i)?0:i,r=isNaN(r)?1:r,a=isNaN(a)?0:a,o=isNaN(o)?0:o,t.createLinearGradient(i,a,r,o)}function r(t,e,n){var i=n.width,r=n.height,a=Math.min(i,r),o=null==e.x?.5:e.x,s=null==e.y?.5:e.y,l=null==e.r?.5:e.r;return e.global||(o=o*i+n.x,s=s*r+n.y,l*=a),t.createRadialGradient(o,s,0,o,s,l)}var a=n(158),o=n(76),s=o.ContextCachedBy,l=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]],c=function(t){this.extendFrom(t,!1)};c.prototype={constructor:c,fill:"#000",stroke:null,opacity:1,fillOpacity:null,strokeOpacity:null,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,font:null,textFont:null,fontStyle:null,fontWeight:null,fontSize:null,fontFamily:null,textTag:null,textFill:"#000",textStroke:null,textWidth:null,textHeight:null,textStrokeWidth:0,textLineHeight:null,textPosition:"inside",textRect:null,textOffset:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowColor:"transparent",textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textBoxShadowColor:"transparent",textBoxShadowBlur:0,textBoxShadowOffsetX:0,textBoxShadowOffsetY:0,transformText:!1,textRotation:0,textOrigin:null,textBackgroundColor:null,textBorderColor:null,textBorderWidth:0,textBorderRadius:0,textPadding:null,rich:null,truncate:null,blend:null,bind:function(t,e,n){var i=this,r=n&&n.style,o=!r||t.__attrCachedBy!==s.STYLE_BIND;t.__attrCachedBy=s.STYLE_BIND;for(var c=0;c<l.length;c++){var u=l[c],h=u[0];(o||i[h]!==r[h])&&(t[h]=a(t,h,i[h]||u[1]))}if((o||i.fill!==r.fill)&&(t.fillStyle=i.fill),(o||i.stroke!==r.stroke)&&(t.strokeStyle=i.stroke),(o||i.opacity!==r.opacity)&&(t.globalAlpha=null==i.opacity?1:i.opacity),(o||i.blend!==r.blend)&&(t.globalCompositeOperation=i.blend||"source-over"),this.hasStroke()){var d=i.lineWidth;t.lineWidth=d/(this.strokeNoScale&&e&&e.getLineScale?e.getLineScale():1)}},hasFill:function(){var t=this.fill;return null!=t&&"none"!==t},hasStroke:function(){var t=this.stroke;return null!=t&&"none"!==t&&this.lineWidth>0},extendFrom:function(t,e){if(t)for(var n in t)!t.hasOwnProperty(n)||!0!==e&&(!1===e?this.hasOwnProperty(n):null==t[n])||(this[n]=t[n])},set:function(t,e){"string"==typeof t?this[t]=e:this.extendFrom(t,!0)},clone:function(){var t=new this.constructor;return t.extendFrom(this,!0),t},getGradient:function(t,e,n){for(var a="radial"===e.type?r:i,o=a(t,e,n),s=e.colorStops,l=0;l<s.length;l++)o.addColorStop(s[l].offset,s[l].color);return o}};for(var u=c.prototype,h=0;h<l.length;h++){var d=l[h];d[0]in u||(u[d[0]]=d[1])}c.getGradient=u.getGradient;var p=c;t.exports=p},function(t,e,n){function i(t){if("string"==typeof t){var e=l.get(t);return e&&e.image}return t}function r(t,e,n,i,r){if(t){if("string"==typeof t){if(e&&e.__zrImageSrc===t||!n)return e;var s=l.get(t),c={hostEl:n,cb:i,cbPayload:r};return s?(e=s.image,!o(e)&&s.pending.push(c)):(e=new Image,e.onload=e.onerror=a,l.put(t,e.__cachedImgObj={image:e,pending:[c]}),e.src=e.__zrImageSrc=t),e}return t}return e}function a(){var t=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e<t.pending.length;e++){var n=t.pending[e],i=n.cb;i&&i(this,n.cbPayload),n.hostEl.dirty()}t.pending.length=0}function o(t){return t&&t.width&&t.height}var s=n(157),l=new s(50);e.findExistImage=i,e.createOrUpdateImage=r,e.isImageReady=o},function(t,e,n){var i=n(10),r=n(162),a=n(98),o=a.subPixelOptimizeRect,s={},l=i.extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(t,e){var n,i,a,l;this.subPixelOptimize?(o(s,e,this.style),n=s.x,i=s.y,a=s.width,l=s.height,s.r=e.r,e=s):(n=e.x,i=e.y,a=e.width,l=e.height),e.r?r.buildPath(t,e):t.rect(n,i,a,l),t.closePath()}});t.exports=l},function(t,e){function n(t,e,n){var i=n&&n.lineWidth;if(e&&i){var o=e.x1,s=e.x2,l=e.y1,c=e.y2;a(2*o)===a(2*s)?t.x1=t.x2=r(o,i,!0):(t.x1=o,t.x2=s),a(2*l)===a(2*c)?t.y1=t.y2=r(l,i,!0):(t.y1=l,t.y2=c)}}function i(t,e,n){var i=n&&n.lineWidth;if(e&&i){var a=e.x,o=e.y,s=e.width,l=e.height;t.x=r(a,i,!0),t.y=r(o,i,!0),t.width=Math.max(r(a+s,i,!1)-t.x,0===s?0:1),t.height=Math.max(r(o+l,i,!1)-t.y,0===l?0:1)}}function r(t,e,n){var i=a(2*t);return(i+a(e))%2==0?i/2:(i+(n?1:-1))/2}var a=Math.round;e.subPixelOptimizeLine=n,e.subPixelOptimizeRect=i,e.subPixelOptimize=r},function(t,e,n){var i=n(0),r=n(79),a=function(t,e,n,i,a,o){this.x=null==t?0:t,this.y=null==e?0:e,this.x2=null==n?1:n,this.y2=null==i?0:i,this.type="linear",this.global=o||!1,r.call(this,a)};a.prototype={constructor:a},i.inherits(a,r);var o=a;t.exports=o},function(t,e,n){function i(t){o.call(this,t),this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.notClear=!0}var r=n(0),a=r.inherits,o=n(59),s=n(8);i.prototype.incremental=!0,i.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.dirty(),this.notClear=!1},i.prototype.addDisplayable=function(t,e){e?this._temporaryDisplayables.push(t):this._displayables.push(t),this.dirty()},i.prototype.addDisplayables=function(t,e){e=e||!1;for(var n=0;n<t.length;n++)this.addDisplayable(t[n],e)},i.prototype.eachPendingDisplayable=function(t){for(var e=this._cursor;e<this._displayables.length;e++)t&&t(this._displayables[e]);for(var e=0;e<this._temporaryDisplayables.length;e++)t&&t(this._temporaryDisplayables[e])},i.prototype.update=function(){this.updateTransform();for(var t=this._cursor;t<this._displayables.length;t++){var e=this._displayables[t];e.parent=this,e.update(),e.parent=null}for(var t=0;t<this._temporaryDisplayables.length;t++){var e=this._temporaryDisplayables[t];e.parent=this,e.update(),e.parent=null}},i.prototype.brush=function(t,e){for(var n=this._cursor;n<this._displayables.length;n++){var i=this._displayables[n];i.beforeBrush&&i.beforeBrush(t),i.brush(t,n===this._cursor?null:this._displayables[n-1]),i.afterBrush&&i.afterBrush(t)}this._cursor=n;for(var n=0;n<this._temporaryDisplayables.length;n++){var i=this._temporaryDisplayables[n];i.beforeBrush&&i.beforeBrush(t),i.brush(t,0===n?null:this._temporaryDisplayables[n-1]),i.afterBrush&&i.afterBrush(t)}this._temporaryDisplayables=[],this.notClear=!0};var l=[];i.prototype.getBoundingRect=function(){if(!this._rect){for(var t=new s(1/0,1/0,-1/0,-1/0),e=0;e<this._displayables.length;e++){var n=this._displayables[e],i=n.getBoundingRect().clone();n.needLocalTransform()&&i.applyTransform(n.getLocalTransform(l)),t.union(i)}this._rect=t}return this._rect},i.prototype.contain=function(t,e){var n=this.transformCoordToLocal(t,e);if(this.getBoundingRect().contain(n[0],n[1]))for(var i=0;i<this._displayables.length;i++){var r=this._displayables[i];if(r.contain(t,e))return!0}return!1},a(i,o);var c=i;t.exports=c},function(t,e,n){var i=n(40),r=i.retrieveRawValue,a=n(9),o=a.getTooltipMarker,s=a.formatTpl,l=n(4),c=l.getTooltipRenderMode,u=/\{@(.+?)\}/g,h={getDataParams:function(t,e){var n=this.getData(e),i=this.getRawValue(t,e),r=n.getRawIndex(t),a=n.getName(t),s=n.getRawDataItem(t),l=n.getItemVisual(t,"color"),u=n.getItemVisual(t,"borderColor"),h=this.ecModel.getComponent("tooltip"),d=h&&h.get("renderMode"),p=c(d),f=this.mainType,g="series"===f,m=n.userOutput;return{componentType:f,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:g?this.subType:null,seriesIndex:this.seriesIndex,seriesId:g?this.id:null,seriesName:g?this.name:null,name:a,dataIndex:r,data:s,dataType:e,value:i,color:l,borderColor:u,dimensionNames:m?m.dimensionNames:null,encode:m?m.encode:null,marker:o({color:l,renderMode:p}),$vars:["seriesName","name","value"]}},getFormattedLabel:function(t,e,n,i,a){e=e||"normal";var o=this.getData(n),l=o.getItemModel(t),c=this.getDataParams(t,n);null!=i&&c.value instanceof Array&&(c.value=c.value[i]);var h=l.get("normal"===e?[a||"label","formatter"]:[e,a||"label","formatter"]);if("function"==typeof h)return c.status=e,c.dimensionIndex=i,h(c);if("string"==typeof h){return s(h,c).replace(u,function(e,n){var i=n.length;return"["===n.charAt(0)&&"]"===n.charAt(i-1)&&(n=+n.slice(1,i-1)),r(o,t,n)})}},getRawValue:function(t,e){return r(this.getData(e),t)},formatTooltip:function(){}};t.exports=h},function(t,e,n){function i(t){return new r(t)}function r(t){t=t||{},this._reset=t.reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0,this.context}function a(t,e,n,i,r,a){h.reset(n,i,r,a),t._callingProgress=e,t._callingProgress({start:n,end:i,count:i-n,next:h.next},t.context)}function o(t,e){t._dueIndex=t._outputDueEnd=t._dueEnd=0,t._settedOutputEnd=null;var n,i;!e&&t._reset&&(n=t._reset(t.context),n&&n.progress&&(i=n.forceFirstProgress,n=n.progress),l(n)&&!n.length&&(n=null)),t._progress=n,t._modBy=t._modDataCount=null;var r=t._downstream;return r&&r.dirty(),i}var s=n(0),l=(s.assert,s.isArray),c=n(5),u=(c.__DEV__,r.prototype);u.perform=function(t){function e(t){return!(t>=1)&&(t=1),t}var n=this._upstream,i=t&&t.skip;if(this._dirty&&n){var r=this.context;r.data=r.outputData=n.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var s;this._plan&&!i&&(s=this._plan(this.context));var c=e(this._modBy),u=this._modDataCount||0,h=e(t&&t.modBy),d=t&&t.modDataCount||0;c===h&&u===d||(s="reset");var p;(this._dirty||"reset"===s)&&(this._dirty=!1,p=o(this,i)),this._modBy=h,this._modDataCount=d;var f=t&&t.step;if(this._dueEnd=n?n._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var g=this._dueIndex,m=Math.min(null!=f?this._dueIndex+f:1/0,this._dueEnd);if(!i&&(p||g<m)){var v=this._progress;if(l(v))for(var y=0;y<v.length;y++)a(this,v[y],g,m,h,d);else a(this,v,g,m,h,d)}this._dueIndex=m;var x=null!=this._settedOutputEnd?this._settedOutputEnd:m;this._outputDueEnd=x}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()};var h=function(){function t(){return i<n?i++:null}function e(){var t=i%o*r+Math.ceil(i/o),e=i>=n?null:t<a?t:i;return i++,e}var n,i,r,a,o,s={reset:function(l,c,u,h){i=l,n=c,r=u,a=h,o=Math.ceil(a/r),s.next=r>1&&a>0?e:t}};return s}();u.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},u.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},u.pipe=function(t){(this._downstream!==t||this._dirty)&&(this._downstream=t,t._upstream=this,t.dirty())},u.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},u.getUpstream=function(){return this._upstream},u.getDownstream=function(){return this._downstream},u.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t},e.createTask=i},function(t,e,n){var i=n(5),r=(i.__DEV__,n(0)),a=r.createHashMap,o=r.isString,s=r.isArray,l=r.each,c=(r.assert,n(178)),u=c.parseXML,h=a(),d={registerMap:function(t,e,n){var i;return s(e)?i=e:e.svg?i=[{type:"svg",source:e.svg,specialAreas:e.specialAreas}]:(e.geoJson&&!e.features&&(n=e.specialAreas,e=e.geoJson),i=[{type:"geoJSON",source:e,specialAreas:n}]),l(i,function(t){var e=t.type;"geoJson"===e&&(e=t.type="geoJSON"),(0,p[e])(t)}),h.set(t,i)},retrieveMap:function(t){return h.get(t)}},p={geoJSON:function(t){var e=t.source;t.geoJSON=o(e)?"undefined"!=typeof JSON&&JSON.parse?JSON.parse(e):new Function("return ("+e+");")():e},svg:function(t){t.svgXML=u(t.source)}};t.exports=d},function(t,e,n){function i(t,e){var n=t.mapDimension("defaultedLabel",!0),i=n.length;if(1===i)return a(t,e,n[0]);if(i){for(var r=[],o=0;o<n.length;o++){var s=a(t,e,n[o]);r.push(s)}return r.join(" ")}}var r=n(40),a=r.retrieveRawValue;e.getDefaultLabel=i},function(t,e,n){function i(t,e,n){return t.getCoordSysModel()===e}function r(t,e,n){this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this._initCartesian(t,e,n),this.model=t}function a(t,e,n,i){function r(t){return t.dim+"_"+t.index}n.getAxesOnZeroOf=function(){return a?[a]:[]};var a,s=t[e],l=n.model,c=l.get("axisLine.onZero"),u=l.get("axisLine.onZeroAxisIndex");if(c){if(null!=u)o(s[u])&&(a=s[u]);else for(var h in s)if(s.hasOwnProperty(h)&&o(s[h])&&!i[r(s[h])]){a=s[h];break}a&&(i[r(a)]=!0)}}function o(t){return t&&"category"!==t.type&&"time"!==t.type&&_(t)}function s(t,e){var n=t.getExtent(),i=n[0]+n[1];t.toGlobalCoord="x"===t.dim?function(t){return t+e}:function(t){return i-t+e},t.toLocalCoord="x"===t.dim?function(t){return t-e}:function(t){return i-t+e}}function l(t,e){return f(E,function(e){return t.getReferringComponents(e)[0]})}function c(t){return"cartesian2d"===t.get("coordinateSystem")}var u=n(5),h=(u.__DEV__,n(0)),d=h.isObject,p=h.each,f=h.map,g=h.indexOf,m=(h.retrieve,n(6)),v=m.getLayoutRect,y=n(22),x=y.createScaleByModel,_=y.ifAxisCrossZero,b=y.niceScaleExtent,w=y.estimateLabelUnionRect,M=n(347),S=n(349),T=n(21),A=n(26),C=A.getStackedDimension;n(350);var L=r.prototype;L.type="grid",L.axisPointerEnabled=!0,L.getRect=function(){return this._rect},L.update=function(t,e){var n=this._axesMap;this._updateScale(t,this.model),p(n.x,function(t){b(t.scale,t.model)}),p(n.y,function(t){b(t.scale,t.model)});var i={};p(n.x,function(t){a(n,"y",t,i)}),p(n.y,function(t){a(n,"x",t,i)}),this.resize(this.model,e)},L.resize=function(t,e,n){function i(){p(a,function(t){var e=t.isHorizontal(),n=e?[0,r.width]:[0,r.height],i=t.inverse?1:0;t.setExtent(n[i],n[1-i]),s(t,e?r.x:r.y)})}var r=v(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()});this._rect=r;var a=this._axesList;i(),!n&&t.get("containLabel")&&(p(a,function(t){if(!t.model.get("axisLabel.inside")){var e=w(t);if(e){var n=t.isHorizontal()?"height":"width",i=t.model.get("axisLabel.margin");r[n]-=e[n]+i,"top"===t.position?r.y+=e.height+i:"left"===t.position&&(r.x+=e.width+i)}}}),i())},L.getAxis=function(t,e){var n=this._axesMap[t];if(null!=n){if(null==e)for(var i in n)if(n.hasOwnProperty(i))return n[i];return n[e]}},L.getAxes=function(){return this._axesList.slice()},L.getCartesian=function(t,e){if(null!=t&&null!=e){var n="x"+t+"y"+e;return this._coordsMap[n]}d(t)&&(e=t.yAxisIndex,t=t.xAxisIndex);for(var i=0,r=this._coordsList;i<r.length;i++)if(r[i].getAxis("x").index===t||r[i].getAxis("y").index===e)return r[i]},L.getCartesians=function(){return this._coordsList.slice()},L.convertToPixel=function(t,e,n){var i=this._findConvertTarget(t,e);return i.cartesian?i.cartesian.dataToPoint(n):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(n)):null},L.convertFromPixel=function(t,e,n){var i=this._findConvertTarget(t,e);return i.cartesian?i.cartesian.pointToData(n):i.axis?i.axis.coordToData(i.axis.toLocalCoord(n)):null},L._findConvertTarget=function(t,e){var n,i,r=e.seriesModel,a=e.xAxisModel||r&&r.getReferringComponents("xAxis")[0],o=e.yAxisModel||r&&r.getReferringComponents("yAxis")[0],s=e.gridModel,l=this._coordsList;if(r)n=r.coordinateSystem,g(l,n)<0&&(n=null);else if(a&&o)n=this.getCartesian(a.componentIndex,o.componentIndex);else if(a)i=this.getAxis("x",a.componentIndex);else if(o)i=this.getAxis("y",o.componentIndex);else if(s){var c=s.coordinateSystem;c===this&&(n=this._coordsList[0])}return{cartesian:n,axis:i}},L.containPoint=function(t){var e=this._coordsList[0];if(e)return e.containPoint(t)},L._initCartesian=function(t,e,n){function r(n){return function(r,l){if(i(r,t,e)){var c=r.get("position");"x"===n?"top"!==c&&"bottom"!==c&&(c=a.bottom?"top":"bottom"):"left"!==c&&"right"!==c&&(c=a.left?"right":"left"),a[c]=!0;var u=new S(n,x(r),[0,0],r.get("type"),c),h="category"===u.type;u.onBand=h&&r.get("boundaryGap"),u.inverse=r.get("inverse"),r.axis=u,u.model=r,u.grid=this,u.index=l,this._axesList.push(u),o[n][l]=u,s[n]++}}}var a={left:!1,right:!1,top:!1,bottom:!1},o={x:{},y:{}},s={x:0,y:0};if(e.eachComponent("xAxis",r("x"),this),e.eachComponent("yAxis",r("y"),this),!s.x||!s.y)return this._axesMap={},void(this._axesList=[]);this._axesMap=o,p(o.x,function(e,n){p(o.y,function(i,r){var a="x"+n+"y"+r,o=new M(a);o.grid=this,o.model=t,this._coordsMap[a]=o,this._coordsList.push(o),o.addAxis(e),o.addAxis(i)},this)},this)},L._updateScale=function(t,e){function n(t,e,n){p(t.mapDimension(e.dim,!0),function(n){e.scale.unionExtentFromData(t,C(t,n))})}p(this._axesList,function(t){t.scale.setExtent(1/0,-1/0)}),t.eachSeries(function(r){if(c(r)){var a=l(r,t),o=a[0],s=a[1];if(!i(o,e,t)||!i(s,e,t))return;var u=this.getCartesian(o.componentIndex,s.componentIndex),h=r.getData(),d=u.getAxis("x"),p=u.getAxis("y");"list"===h.type&&(n(h,d,r),n(h,p,r))}},this)},L.getTooltipAxes=function(t){var e=[],n=[];return p(this.getCartesians(),function(i){var r=null!=t&&"auto"!==t?i.getAxis(t):i.getBaseAxis(),a=i.getOtherAxis(r);g(e,r)<0&&e.push(r),g(n,a)<0&&n.push(a)}),{baseAxes:e,otherAxes:n}};var E=["xAxis","yAxis"];r.create=function(t,e){var n=[];return t.eachComponent("grid",function(i,a){var o=new r(i,t,e);o.name="grid_"+a,o.resize(i,e,!0),i.coordinateSystem=o,n.push(o)}),t.eachSeries(function(e){if(c(e)){var n=l(e,t),i=n[0],r=n[1],a=i.getCoordSysModel(),o=a.coordinateSystem;e.coordinateSystem=o.getCartesian(i.componentIndex,r.componentIndex)}}),n},r.dimensions=r.prototype.dimensions=M.prototype.dimensions,T.register("cartesian2d",r);var I=r;t.exports=I},function(t,e,n){var i=n(0),r={updateSelectedMap:function(t){this._targetList=i.isArray(t)?t.slice():[],this._selectTargetMap=i.reduce(t||[],function(t,e){return t.set(e.name,e),t},i.createHashMap())},select:function(t,e){var n=null!=e?this._targetList[e]:this._selectTargetMap.get(t);"single"===this.get("selectedMode")&&this._selectTargetMap.each(function(t){t.selected=!1}),n&&(n.selected=!0)},unSelect:function(t,e){var n=null!=e?this._targetList[e]:this._selectTargetMap.get(t);n&&(n.selected=!1)},toggleSelected:function(t,e){var n=null!=e?this._targetList[e]:this._selectTargetMap.get(t);if(null!=n)return this[n.selected?"unSelect":"select"](t,e),n.selected},isSelected:function(t,e){var n=null!=e?this._targetList[e]:this._selectTargetMap.get(t);return n&&n.selected}};t.exports=r},function(t,e){function n(t,e,n){var i=t.target,r=i.position;r[0]+=e,r[1]+=n,i.dirty()}function i(t,e,n,i){var r=t.target,a=t.zoomLimit,o=r.position,s=r.scale,l=t.zoom=t.zoom||1;if(l*=e,a){var c=a.min||0,u=a.max||1/0;l=Math.max(Math.min(u,l),c)}var h=l/t.zoom;t.zoom=l,o[0]-=(n-o[0])*(h-1),o[1]-=(i-o[1])*(h-1),s[0]*=h,s[1]*=h,r.dirty()}e.updateViewOnPan=n,e.updateViewOnZoom=i},function(t,e){function n(t,e,n){var i=t.getZoom(),r=t.getCenter(),a=e.zoom,o=t.dataToPoint(r);if(null!=e.dx&&null!=e.dy){o[0]-=e.dx,o[1]-=e.dy;var r=t.pointToData(o);t.setCenter(r)}if(null!=a){if(n){var s=n.min||0,l=n.max||1/0;a=Math.max(Math.min(i*a,l),s)/i}t.scale[0]*=a,t.scale[1]*=a;var c=t.position,u=(e.originX-c[0])*(a-1),h=(e.originY-c[1])*(a-1);c[0]-=u,c[1]-=h,t.updateTransform();var r=t.pointToData(o);t.setCenter(r),t.setZoom(a*i)}return{center:t.getCenter(),zoom:t.getZoom()}}e.updateCenterAndZoom=n},function(t,e,n){function i(t,e){var n=t.get("boundingCoords");if(null!=n){var i=n[0],r=n[1];isNaN(i[0])||isNaN(i[1])||isNaN(r[0])||isNaN(r[1])||this.setBoundingRect(i[0],i[1],r[0]-i[0],r[1]-i[1])}var a,o=this.getBoundingRect(),s=t.get("layoutCenter"),l=t.get("layoutSize"),h=e.getWidth(),d=e.getHeight(),p=o.width/o.height*this.aspectScale,f=!1;s&&l&&(s=[u.parsePercent(s[0],h),u.parsePercent(s[1],d)],l=u.parsePercent(l,Math.min(h,d)),isNaN(s[0])||isNaN(s[1])||isNaN(l)||(f=!0));var g;if(f){var g={};p>1?(g.width=l,g.height=l/p):(g.height=l,g.width=l*p),g.y=s[1]-g.height/2,g.x=s[0]-g.width/2}else a=t.getBoxLayoutParams(),a.aspect=p,g=c.getLayoutRect(a,{width:h,height:d});this.setViewRect(g.x,g.y,g.width,g.height),this.setCenter(t.get("center")),this.setZoom(t.get("zoom"))}function r(t,e){s.each(e.get("geoCoord"),function(e,n){t.addGeoCoord(n,e)})}var a=n(5),o=(a.__DEV__,n(1)),s=n(0),l=n(386),c=n(6),u=n(3),h=n(88),d=n(103),p={dimensions:l.prototype.dimensions,create:function(t,e){var n=[];t.eachComponent("geo",function(t,a){var o=t.get("map"),s=t.get("aspectScale"),c=!0,u=d.retrieveMap(o);u&&u[0]&&"svg"===u[0].type?(null==s&&(s=1),c=!1):null==s&&(s=.75);var h=new l(o+a,o,t.get("nameMap"),c);h.aspectScale=s,h.zoomLimit=t.get("scaleLimit"),n.push(h),r(h,t),t.coordinateSystem=h,h.model=t,h.resize=i,h.resize(t,e)}),t.eachSeries(function(t){if("geo"===t.get("coordinateSystem")){var e=t.get("geoIndex")||0;t.coordinateSystem=n[e]}});var a={};return t.eachSeriesByType("map",function(t){if(!t.getHostGeoModel()){var e=t.getMapType();a[e]=a[e]||[],a[e].push(t)}}),s.each(a,function(t,a){var o=s.map(t,function(t){return t.get("nameMap")}),c=new l(a,a,s.mergeAll(o));c.zoomLimit=s.retrieve.apply(null,s.map(t,function(t){return t.get("scaleLimit")})),n.push(c),c.resize=i,c.aspectScale=t[0].get("aspectScale"),c.resize(t[0],e),s.each(t,function(t){t.coordinateSystem=c,r(c,t)})}),n},getFilledRegions:function(t,e,n){for(var i=(t||[]).slice(),r=s.createHashMap(),a=0;a<i.length;a++)r.set(i[a].name,i[a]);var o=h.load(e,n);return s.each(o.regions,function(t){var e=t.name;!r.get(e)&&i.push({name:e})}),i}};o.registerCoordinateSystem("geo",p);var f=p;t.exports=f},function(t,e,n){function i(){u.call(this)}function r(t){this.name=t,this.zoomLimit,u.call(this),this._roamTransformable=new i,this._rawTransformable=new i,this._center,this._zoom}function a(t,e,n,i){var r=n.seriesModel,a=r?r.coordinateSystem:null;return a===this?a[t](i):null}var o=n(0),s=n(7),l=n(15),c=n(8),u=n(93),h=s.applyTransform;o.mixin(i,u),r.prototype={constructor:r,type:"view",dimensions:["x","y"],setBoundingRect:function(t,e,n,i){return this._rect=new c(t,e,n,i),this._rect},getBoundingRect:function(){return this._rect},setViewRect:function(t,e,n,i){this.transformTo(t,e,n,i),this._viewRect=new c(t,e,n,i)},transformTo:function(t,e,n,i){var r=this.getBoundingRect(),a=this._rawTransformable;a.transform=r.calculateTransform(new c(t,e,n,i)),a.decomposeTransform(),this._updateTransform()},setCenter:function(t){t&&(this._center=t,this._updateCenterAndZoom())},setZoom:function(t){t=t||1;var e=this.zoomLimit;e&&(null!=e.max&&(t=Math.min(e.max,t)),null!=e.min&&(t=Math.max(e.min,t))),this._zoom=t,this._updateCenterAndZoom()},getDefaultCenter:function(){var t=this.getBoundingRect();return[t.x+t.width/2,t.y+t.height/2]},getCenter:function(){return this._center||this.getDefaultCenter()},getZoom:function(){return this._zoom||1},getRoamTransform:function(){return this._roamTransformable.getLocalTransform()},_updateCenterAndZoom:function(){var t=this._rawTransformable.getLocalTransform(),e=this._roamTransformable,n=this.getDefaultCenter(),i=this.getCenter(),r=this.getZoom();i=s.applyTransform([],i,t),n=s.applyTransform([],n,t),e.origin=i,e.position=[n[0]-i[0],n[1]-i[1]],e.scale=[r,r],this._updateTransform()},_updateTransform:function(){var t=this._roamTransformable,e=this._rawTransformable;e.parent=t,t.updateTransform(),e.updateTransform(),l.copy(this.transform||(this.transform=[]),e.transform||l.create()),this._rawTransform=e.getLocalTransform(),this.invTransform=this.invTransform||[],l.invert(this.invTransform,this.transform),this.decomposeTransform()},getViewRect:function(){return this._viewRect},getViewRectAfterRoam:function(){var t=this.getBoundingRect().clone();return t.applyTransform(this.transform),t},dataToPoint:function(t,e,n){var i=e?this._rawTransform:this.transform;return n=n||[],i?h(n,t,i):s.copy(n,t)},pointToData:function(t){var e=this.invTransform;return e?h([],t,e):[t[0],t[1]]},convertToPixel:o.curry(a,"dataToPoint"),convertFromPixel:o.curry(a,"pointToData"),containPoint:function(t){return this.getViewRectAfterRoam().contain(t[0],t[1])}},o.mixin(r,u);var d=r;t.exports=d},function(t,e,n){function i(t,e,n){this.root,this.data,this._nodes=[],this.hostModel=t,this.levelModels=a.map(e||[],function(e){return new o(e,t,t.ecModel)}),this.leavesModel=new o(n||{},t,t.ecModel)}function r(t,e){var n=e.children;t.parentNode!==e&&(n.push(t),t.parentNode=e)}var a=n(0),o=n(12),s=n(199),l=n(18),c=n(51),u=function(t,e){this.name=t||"",this.depth=0,this.height=0,this.parentNode=null,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.hostTree=e};u.prototype={constructor:u,isRemoved:function(){return this.dataIndex<0},eachNode:function(t,e,n){"function"==typeof t&&(n=e,e=t,t=null),t=t||{},a.isString(t)&&(t={order:t});var i,r=t.order||"preorder",o=this[t.attr||"children"];"preorder"===r&&(i=e.call(n,this));for(var s=0;!i&&s<o.length;s++)o[s].eachNode(t,e,n);"postorder"===r&&e.call(n,this)},updateDepthAndHeight:function(t){var e=0;this.depth=t;for(var n=0;n<this.children.length;n++){var i=this.children[n];i.updateDepthAndHeight(t+1),i.height>e&&(e=i.height)}this.height=e+1},getNodeById:function(t){if(this.getId()===t)return this;for(var e=0,n=this.children,i=n.length;e<i;e++){var r=n[e].getNodeById(t);if(r)return r}},contains:function(t){if(t===this)return!0;for(var e=0,n=this.children,i=n.length;e<i;e++){var r=n[e].contains(t);if(r)return r}},getAncestors:function(t){for(var e=[],n=t?this:this.parentNode;n;)e.push(n),n=n.parentNode;return e.reverse(),e},getValue:function(t){var e=this.hostTree.data;return e.get(e.getDimension(t||"value"),this.dataIndex)},setLayout:function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,t,e)},getLayout:function(){return this.hostTree.data.getItemLayout(this.dataIndex)},getModel:function(t){if(!(this.dataIndex<0)){var e,n=this.hostTree,i=n.data.getItemModel(this.dataIndex),r=this.getLevelModel();return r||0!==this.children.length&&(0===this.children.length||!1!==this.isExpand)||(e=this.getLeavesModel()),i.getModel(t,(r||e||n.hostModel).getModel(t))}},getLevelModel:function(){return(this.hostTree.levelModels||[])[this.depth]},getLeavesModel:function(){return this.hostTree.leavesModel},setVisual:function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,t,e)},getVisual:function(t,e){return this.hostTree.data.getItemVisual(this.dataIndex,t,e)},getRawIndex:function(){return this.hostTree.data.getRawIndex(this.dataIndex)},getId:function(){return this.hostTree.data.getId(this.dataIndex)},isAncestorOf:function(t){for(var e=t.parentNode;e;){if(e===this)return!0;e=e.parentNode}return!1},isDescendantOf:function(t){return t!==this&&t.isAncestorOf(this)}},i.prototype={constructor:i,type:"tree",eachNode:function(t,e,n){this.root.eachNode(t,e,n)},getNodeByDataIndex:function(t){var e=this.data.getRawIndex(t);return this._nodes[e]},getNodeByName:function(t){return this.root.getNodeByName(t)},update:function(){for(var t=this.data,e=this._nodes,n=0,i=e.length;n<i;n++)e[n].dataIndex=-1;for(var n=0,i=t.count();n<i;n++)e[t.getRawIndex(n)].dataIndex=n},clearLayouts:function(){this.data.clearItemLayouts()}},i.createTree=function(t,e,n,o){function h(t,e){var n=t.value;f=Math.max(f,a.isArray(n)?n.length:1),p.push(t);var i=new u(t.name,d);e?r(i,e):d.root=i,d._nodes.push(i);var o=t.children;if(o)for(var s=0;s<o.length;s++)h(o[s],i)}var d=new i(e,n.levels,n.leaves),p=[],f=1;h(t),d.root.updateDepthAndHeight(0);var g=c(p,{coordDimensions:["value"],dimensionsCount:f}),m=new l(g,e);return m.initData(p),s({mainData:m,struct:d,structAttr:"tree"}),d.update(),o&&o(m),d};var h=i;t.exports=h},function(t,e,n){function i(t){this._ctor=t||u,this.group=new c.Group}function r(t,e,n,i){if(l(e.getItemLayout(n))){var r=new t._ctor(e,n,i);e.setItemGraphicEl(n,r),t.group.add(r)}}function a(t,e,n,i,r,a){var o=e.getItemGraphicEl(i);if(!l(n.getItemLayout(r)))return void t.group.remove(o);o?o.updateData(n,r,a):o=new t._ctor(n,r,a),n.setItemGraphicEl(r,o),t.group.add(o)}function o(t){var e=t.hostModel;return{lineStyle:e.getModel("lineStyle").getLineStyle(),hoverLineStyle:e.getModel("emphasis.lineStyle").getLineStyle(),labelModel:e.getModel("label"),hoverLabelModel:e.getModel("emphasis.label")}}function s(t){return isNaN(t[0])||isNaN(t[1])}function l(t){return!s(t[0])&&!s(t[1])}var c=n(2),u=n(113),h=i.prototype;h.isPersistent=function(){return!0},h.updateData=function(t){var e=this,n=e.group,i=e._lineData;e._lineData=t,i||n.removeAll();var s=o(t);t.diff(i).add(function(n){r(e,t,n,s)}).update(function(n,r){a(e,i,t,r,n,s)}).remove(function(t){n.remove(i.getItemGraphicEl(t))}).execute()},h.updateLayout=function(){var t=this._lineData;t&&t.eachItemGraphicEl(function(e,n){e.updateLayout(t,n)},this)},h.incrementalPrepareUpdate=function(t){this._seriesScope=o(t),this._lineData=null,this.group.removeAll()},h.incrementalUpdate=function(t,e){function n(t){t.isGroup||(t.incremental=t.useHoverLayer=!0)}for(var i=t.start;i<t.end;i++){if(l(e.getItemLayout(i))){var r=new this._ctor(e,i,this._seriesScope);r.traverse(n),this.group.add(r),e.setItemGraphicEl(i,r)}}},h.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},h._clearIncremental=function(){var t=this._incremental;t&&t.clearDisplaybles()};var d=i;t.exports=d},function(t,e,n){function i(t){return"_"+t+"Type"}function r(t,e,n){var i=e.getItemVisual(n,"color"),r=e.getItemVisual(n,t),a=e.getItemVisual(n,t+"Size");if(r&&"none"!==r){c.isArray(a)||(a=[a,a]);var o=h.createSymbol(r,-a[0]/2,-a[1]/2,a[0],a[1],i);return o.name=t,o}}function a(t){var e=new d({name:"line",subPixelOptimize:!0});return o(e.shape,t),e}function o(t,e){t.x1=e[0][0],t.y1=e[0][1],t.x2=e[1][0],t.y2=e[1][1],t.percent=1;var n=e[2];n?(t.cpx1=n[0],t.cpy1=n[1]):(t.cpx1=NaN,t.cpy1=NaN)}function s(){var t=this,e=t.childOfName("fromSymbol"),n=t.childOfName("toSymbol"),i=t.childOfName("label");if(e||n||!i.ignore){for(var r=1,a=this.parent;a;)a.scale&&(r/=a.scale[0]),a=a.parent;var o=t.childOfName("line");if(this.__dirty||o.__dirty){var s=o.shape.percent,l=o.pointAt(0),c=o.pointAt(s),h=u.sub([],c,l);if(u.normalize(h,h),e){e.attr("position",l);var d=o.tangentAt(0);e.attr("rotation",Math.PI/2-Math.atan2(d[1],d[0])),e.attr("scale",[r*s,r*s])}if(n){n.attr("position",c);var d=o.tangentAt(1);n.attr("rotation",-Math.PI/2-Math.atan2(d[1],d[0])),n.attr("scale",[r*s,r*s])}if(!i.ignore){i.attr("position",c);var p,f,g,m=5*r;if("end"===i.__position)p=[h[0]*m+c[0],h[1]*m+c[1]],f=h[0]>.8?"left":h[0]<-.8?"right":"center",g=h[1]>.8?"top":h[1]<-.8?"bottom":"middle";else if("middle"===i.__position){var v=s/2,d=o.tangentAt(v),y=[d[1],-d[0]],x=o.pointAt(v);y[1]>0&&(y[0]=-y[0],y[1]=-y[1]),p=[x[0]+y[0]*m,x[1]+y[1]*m],f="center",g="bottom";var _=-Math.atan2(d[1],d[0]);c[0]<l[0]&&(_=Math.PI+_),i.attr("rotation",_)}else p=[-h[0]*m+l[0],-h[1]*m+l[1]],f=h[0]>.8?"right":h[0]<-.8?"left":"center",g=h[1]>.8?"bottom":h[1]<-.8?"top":"middle";i.attr({style:{textVerticalAlign:i.__verticalAlign||g,textAlign:i.__textAlign||f},position:p,scale:[r,r]})}}}}function l(t,e,n){p.Group.call(this),this._createLine(t,e,n)}var c=n(0),u=n(7),h=n(19),d=n(409),p=n(2),f=n(3),g=f.round,m=["fromSymbol","toSymbol"],v=l.prototype;v.beforeUpdate=s,v._createLine=function(t,e,n){var o=t.hostModel,s=t.getItemLayout(e),l=a(s);l.shape.percent=0,p.initProps(l,{shape:{percent:1}},o,e),this.add(l);var u=new p.Text({name:"label",lineLabelOriginalOpacity:1});this.add(u),c.each(m,function(n){var a=r(n,t,e);this.add(a),this[i(n)]=t.getItemVisual(e,n)},this),this._updateCommonStl(t,e,n)},v.updateData=function(t,e,n){var a=t.hostModel,s=this.childOfName("line"),l=t.getItemLayout(e),u={shape:{}};o(u.shape,l),p.updateProps(s,u,a,e),c.each(m,function(n){var a=t.getItemVisual(e,n),o=i(n);if(this[o]!==a){this.remove(this.childOfName(n));var s=r(n,t,e);this.add(s)}this[o]=a},this),this._updateCommonStl(t,e,n)},v._updateCommonStl=function(t,e,n){var i=t.hostModel,r=this.childOfName("line"),a=n&&n.lineStyle,o=n&&n.hoverLineStyle,s=n&&n.labelModel,l=n&&n.hoverLabelModel;if(!n||t.hasItemOption){var u=t.getItemModel(e);a=u.getModel("lineStyle").getLineStyle(),o=u.getModel("emphasis.lineStyle").getLineStyle(),s=u.getModel("label"),l=u.getModel("emphasis.label")}var h=t.getItemVisual(e,"color"),d=c.retrieve3(t.getItemVisual(e,"opacity"),a.opacity,1);r.useStyle(c.defaults({strokeNoScale:!0,fill:"none",stroke:h,opacity:d},a)),r.hoverStyle=o,c.each(m,function(t){var e=this.childOfName(t);e&&(e.setColor(h),e.setStyle({opacity:d}))},this);var f,v,y=s.getShallow("show"),x=l.getShallow("show"),_=this.childOfName("label");if((y||x)&&(f=h||"#000",null==(v=i.getFormattedLabel(e,"normal",t.dataType)))){var b=i.getRawValue(e);v=null==b?t.getName(e):isFinite(b)?g(b):b}var w=y?v:null,M=x?c.retrieve2(i.getFormattedLabel(e,"emphasis",t.dataType),v):null,S=_.style;null==w&&null==M||(p.setTextStyle(_.style,s,{text:w},{autoColor:f}),_.__textAlign=S.textAlign,_.__verticalAlign=S.textVerticalAlign,_.__position=s.get("position")||"middle"),_.hoverStyle=null!=M?{text:M,textFill:l.getTextColor(!0),fontStyle:l.getShallow("fontStyle"),fontWeight:l.getShallow("fontWeight"),fontSize:l.getShallow("fontSize"),fontFamily:l.getShallow("fontFamily")}:{text:null},_.ignore=!y&&!x,p.setHoverStyle(this)},v.highlight=function(){this.trigger("emphasis")},v.downplay=function(){this.trigger("normal")},v.updateLayout=function(t,e){this.setLinePoints(t.getItemLayout(e))},v.setLinePoints=function(t){var e=this.childOfName("line");o(e.shape,t),e.dirty()},c.inherits(l,p.Group);var y=l;t.exports=y},function(t,e){function n(t){var e=t.coordinateSystem;if("view"!==e.type)return 1;var n=t.option.nodeScaleRatio,i=e.scale,r=i&&i[0]||1;return((e.getZoom()-1)*n+1)/r}function i(t){var e=t.getVisual("symbolSize");return e instanceof Array&&(e=(e[0]+e[1])/2),+e}e.getNodeGlobalScale=n,e.getSymbolSize=i},function(t,e,n){function i(t){U.call(this),this._zr=t,this.group=new j.Group,this._brushType,this._brushOption,this._panels,this._track=[],this._dragging,this._covers=[],this._creatingCover,this._creatingPanel,this._enableGlobalPan,this._uid="brushController_"+ot++,this._handlers={},X(st,function(t,e){this._handlers[e]=H.bind(t,this)},this)}function r(t,e){var n=t._zr;t._enableGlobalPan||W.take(n,nt,t._uid),o(n,t._handlers),t._brushType=e.brushType,t._brushOption=H.merge(H.clone(at),e,!0)}function a(t){var e=t._zr;W.release(e,nt,t._uid),s(e,t._handlers),t._brushType=t._brushOption=null}function o(t,e){X(e,function(e,n){t.on(n,e)})}function s(t,e){X(e,function(e,n){t.off(n,e)})}function l(t,e){var n=lt[e.brushType].createCover(t,e);return n.__brushOption=e,h(n,e),t.group.add(n),n}function c(t,e){var n=p(e);return n.endCreating&&(n.endCreating(t,e),h(e,e.__brushOption)),e}function u(t,e){var n=e.__brushOption;p(e).updateCoverShape(t,e,n.range,n)}function h(t,e){var n=e.z;null==n&&(n=Q),t.traverse(function(t){t.z=n,t.z2=n})}function d(t,e){p(e).updateCommon(t,e),u(t,e)}function p(t){return lt[t.__brushOption.brushType]}function f(t,e,n){var i=t._panels;if(!i)return!0;var r,a=t._transform;return X(i,function(t){t.isTargetByCursor(e,n,a)&&(r=t)}),r}function g(t,e){var n=t._panels;if(!n)return!0;var i=e.__brushOption.panelId;return null==i||n[i]}function m(t){var e=t._covers,n=e.length;return X(e,function(e){t.group.remove(e)},t),e.length=0,!!n}function v(t,e){var n=q(t._covers,function(t){var e=t.__brushOption,n=H.clone(e.range);return{brushType:e.brushType,panelId:e.panelId,range:n}});t.trigger("brush",n,{isEnd:!!e.isEnd,removeOnClick:!!e.removeOnClick})}function y(t){var e=t._track;if(!e.length)return!1;var n=e[e.length-1],i=e[0],r=n[0]-i[0],a=n[1]-i[1];return K(r*r+a*a,.5)>tt}function x(t){var e=t.length-1;return e<0&&(e=0),[t[0],t[e]]}function _(t,e,n,i){var r=new j.Group;return r.add(new j.Rect({name:"main",style:S(n),silent:!0,draggable:!0,cursor:"move",drift:Y(t,e,r,"nswe"),ondragend:Y(v,e,{isEnd:!0})})),X(i,function(n){r.add(new j.Rect({name:n,style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:Y(t,e,r,n),ondragend:Y(v,e,{isEnd:!0})}))}),r}function b(t,e,n,i){var r=i.brushStyle.lineWidth||0,a=J(r,et),o=n[0][0],s=n[1][0],l=o-r/2,c=s-r/2,u=n[0][1],h=n[1][1],d=u-a+r/2,p=h-a+r/2,f=u-o,g=h-s,m=f+r,v=g+r;M(t,e,"main",o,s,f,g),i.transformable&&(M(t,e,"w",l,c,a,v),M(t,e,"e",d,c,a,v),M(t,e,"n",l,c,m,a),M(t,e,"s",l,p,m,a),M(t,e,"nw",l,c,a,a),M(t,e,"ne",d,c,a,a),M(t,e,"sw",l,p,a,a),M(t,e,"se",d,p,a,a))}function w(t,e){var n=e.__brushOption,i=n.transformable,r=e.childAt(0);r.useStyle(S(n)),r.attr({silent:!i,cursor:i?"move":"default"}),X(["w","e","n","s","se","sw","ne","nw"],function(n){var r=e.childOfName(n),a=C(t,n);r&&r.attr({silent:!i,invisible:!i,cursor:i?rt[a]+"-resize":null})})}function M(t,e,n,i,r,a,o){var s=e.childOfName(n);s&&s.setShape(D(P(t,e,[[i,r],[i+a,r+o]])))}function S(t){return H.defaults({strokeNoScale:!0},t.brushStyle)}function T(t,e,n,i){var r=[Z(t,n),Z(e,i)],a=[J(t,n),J(e,i)];return[[r[0],a[0]],[r[1],a[1]]]}function A(t){return j.getTransform(t.group)}function C(t,e){if(e.length>1){e=e.split("");var n=[C(t,e[0]),C(t,e[1])];return("e"===n[0]||"w"===n[0])&&n.reverse(),n.join("")}var i={w:"left",e:"right",n:"top",s:"bottom"},r={left:"w",right:"e",top:"n",bottom:"s"},n=j.transformDirection(i[e],A(t));return r[n]}function L(t,e,n,i,r,a,o,s){var l=i.__brushOption,c=t(l.range),u=I(n,a,o);X(r.split(""),function(t){var e=it[t];c[e[0]][e[1]]+=u[e[0]]}),l.range=e(T(c[0][0],c[1][0],c[0][1],c[1][1])),d(n,i),v(n,{isEnd:!1})}function E(t,e,n,i,r){var a=e.__brushOption.range,o=I(t,n,i);X(a,function(t){t[0]+=o[0],t[1]+=o[1]}),d(t,e),v(t,{isEnd:!1})}function I(t,e,n){var i=t.group,r=i.transformCoordToLocal(e,n),a=i.transformCoordToLocal(0,0);return[r[0]-a[0],r[1]-a[1]]}function P(t,e,n){var i=g(t,e);return i&&!0!==i?i.clipPath(n,t._transform):H.clone(n)}function D(t){var e=Z(t[0][0],t[1][0]),n=Z(t[0][1],t[1][1]);return{x:e,y:n,width:J(t[0][0],t[1][0])-e,height:J(t[0][1],t[1][1])-n}}function R(t,e,n){if(t._brushType&&!V(t,e)){var i=t._zr,r=t._covers,a=f(t,e,n);if(!t._dragging)for(var o=0;o<r.length;o++){var s=r[o].__brushOption;if(a&&(!0===a||s.panelId===a.panelId)&&lt[s.brushType].contain(r[o],n[0],n[1]))return}a&&i.setCursorStyle("crosshair")}}function O(t){var e=t.event;e.preventDefault&&e.preventDefault()}function k(t,e,n){return t.childOfName("main").contain(e,n)}function N(t,e,n,i){var r,a=t._creatingCover,o=t._creatingPanel,s=t._brushOption;if(t._track.push(n.slice()),y(t)||a){if(o&&!a){"single"===s.brushMode&&m(t);var h=H.clone(s);h.brushType=z(h.brushType,o),h.panelId=!0===o?null:o.panelId,a=t._creatingCover=l(t,h),t._covers.push(a)}if(a){var d=lt[z(t._brushType,o)];a.__brushOption.range=d.getCreatingRange(P(t,a,t._track)),i&&(c(t,a),d.updateCommon(t,a)),u(t,a),r={isEnd:i}}}else i&&"single"===s.brushMode&&s.removeOnClick&&f(t,e,n)&&m(t)&&(r={isEnd:i,removeOnClick:!0});return r}function z(t,e){return"auto"===t?e.defaultBrushType:t}function B(t,e){if(t._dragging){O(e);var n=e.offsetX,i=e.offsetY,r=t.group.transformCoordToLocal(n,i),a=N(t,e,r,!0);t._dragging=!1,t._track=[],t._creatingCover=null,a&&v(t,a)}}function V(t,e,n){var i=t._zr;return e<0||e>i.getWidth()||n<0||n>i.getHeight()}function F(t){return{createCover:function(e,n){return _(Y(L,function(e){var n=[e,[0,100]];return t&&n.reverse(),n},function(e){return e[t]}),e,n,[["w","e"],["n","s"]][t])},getCreatingRange:function(e){var n=x(e);return[Z(n[0][t],n[1][t]),J(n[0][t],n[1][t])]},updateCoverShape:function(e,n,i,r){var a,o=g(e,n);if(!0!==o&&o.getLinearBrushOtherExtent)a=o.getLinearBrushOtherExtent(t,e._transform);else{var s=e._zr;a=[0,[s.getWidth(),s.getHeight()][1-t]]}var l=[i,a];t&&l.reverse(),b(e,n,l,r)},updateCommon:w,contain:k}}var G=n(5),H=(G.__DEV__,n(0)),U=n(38),j=n(2),W=n(197),$=n(41),Y=H.curry,X=H.each,q=H.map,Z=Math.min,J=Math.max,K=Math.pow,Q=1e4,tt=6,et=6,nt="globalPan",it={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},rt={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},at={brushStyle:{lineWidth:2,stroke:"rgba(0,0,0,0.3)",fill:"rgba(0,0,0,0.1)"},transformable:!0,brushMode:"single",removeOnClick:!1},ot=0;i.prototype={constructor:i,enableBrush:function(t){return this._brushType&&a(this),t.brushType&&r(this,t),this},setPanels:function(t){if(t&&t.length){var e=this._panels={};H.each(t,function(t){e[t.panelId]=H.clone(t)})}else this._panels=null;return this},mount:function(t){t=t||{},this._enableGlobalPan=t.enableGlobalPan;var e=this.group;return this._zr.add(e),e.attr({position:t.position||[0,0],rotation:t.rotation||0,scale:t.scale||[1,1]}),this._transform=e.getLocalTransform(),this},eachCover:function(t,e){X(this._covers,t,e)},updateCovers:function(t){function e(t,e){return(null!=t.id?t.id:a+e)+"-"+t.brushType}function n(t,n){return e(t.__brushOption,n)}function i(e,n){var i=t[e];if(null!=n&&o[n]===h)s[e]=o[n];else{var r=s[e]=null!=n?(o[n].__brushOption=i,o[n]):c(u,l(u,i));d(u,r)}}function r(t){o[t]!==h&&u.group.remove(o[t])}t=H.map(t,function(t){return H.merge(H.clone(at),t,!0)});var a="\0-brush-index-",o=this._covers,s=this._covers=[],u=this,h=this._creatingCover;return new $(o,t,n,e).add(i).update(i).remove(r).execute(),this},unmount:function(){return this.enableBrush(!1),m(this),this._zr.remove(this.group),this},dispose:function(){this.unmount(),this.off()}},H.mixin(i,U);var st={mousedown:function(t){if(this._dragging)B(this,t);else if(!t.target||!t.target.draggable){O(t);var e=this.group.transformCoordToLocal(t.offsetX,t.offsetY);this._creatingCover=null;var n=this._creatingPanel=f(this,t,e);n&&(this._dragging=!0,this._track=[e.slice()])}},mousemove:function(t){var e=t.offsetX,n=t.offsetY,i=this.group.transformCoordToLocal(e,n);if(R(this,t,i),this._dragging){O(t);var r=N(this,t,i,!1);r&&v(this,r)}},mouseup:function(t){B(this,t)}},lt={lineX:F(0),lineY:F(1),rect:{createCover:function(t,e){return _(Y(L,function(t){return t},function(t){return t}),t,e,["w","e","n","s","se","sw","ne","nw"])},getCreatingRange:function(t){var e=x(t);return T(e[1][0],e[1][1],e[0][0],e[0][1])},updateCoverShape:function(t,e,n,i){b(t,e,n,i)},updateCommon:w,contain:k},polygon:{createCover:function(t,e){var n=new j.Group;return n.add(new j.Polyline({name:"main",style:S(e),silent:!0})),n},getCreatingRange:function(t){return t},endCreating:function(t,e){e.remove(e.childAt(0)),e.add(new j.Polygon({name:"main",draggable:!0,drift:Y(E,t,e),ondragend:Y(v,t,{isEnd:!0})}))},updateCoverShape:function(t,e,n,i){e.childAt(0).setShape({points:P(t,e,n)})},updateCommon:w,contain:k}},ct=i;t.exports=ct},function(t,e,n){function i(){}function r(t,e,n,i){a(v(n).lastProp,i)||(v(n).lastProp=i,e?h.updateProps(n,i,t):(n.stopAnimation(),n.attr(i)))}function a(t,e){if(c.isObject(t)&&c.isObject(e)){var n=!0;return c.each(e,function(e,i){n=n&&a(t[i],e)}),!!n}return t===e}function o(t,e){t[e.get("label.show")?"show":"hide"]()}function s(t){return{position:t.position.slice(),rotation:t.rotation||0}}function l(t,e,n){var i=e.get("z"),r=e.get("zlevel");t&&t.traverse(function(t){"group"!==t.type&&(null!=i&&(t.z=i),null!=r&&(t.zlevel=r),t.silent=n)})}var c=n(0),u=n(29),h=n(2),d=n(86),p=n(23),f=n(33),g=n(4),m=g.makeInner,v=m(),y=c.clone,x=c.bind;i.prototype={_group:null,_lastGraphicKey:null,_handle:null,_dragging:!1,_lastValue:null,_lastStatus:null,_payloadInfo:null,animationThreshold:15,render:function(t,e,n,i){var a=e.get("value"),o=e.get("status");if(this._axisModel=t,this._axisPointerModel=e,this._api=n,i||this._lastValue!==a||this._lastStatus!==o){this._lastValue=a,this._lastStatus=o;var s=this._group,u=this._handle;if(!o||"hide"===o)return s&&s.hide(),void(u&&u.hide());s&&s.show(),u&&u.show();var d={};this.makeElOption(d,a,t,e,n);var p=d.graphicKey;p!==this._lastGraphicKey&&this.clear(n),this._lastGraphicKey=p;var f=this._moveAnimation=this.determineAnimation(t,e);if(s){var g=c.curry(r,e,f);this.updatePointerEl(s,d,g,e),this.updateLabelEl(s,d,g,e)}else s=this._group=new h.Group,this.createPointerEl(s,d,t,e),this.createLabelEl(s,d,t,e),n.getZr().add(s);l(s,e,!0),this._renderHandle(a)}},remove:function(t){this.clear(t)},dispose:function(t){this.clear(t)},determineAnimation:function(t,e){var n=e.get("animation"),i=t.axis,r="category"===i.type,a=e.get("snap");if(!a&&!r)return!1;if("auto"===n||null==n){var o=this.animationThreshold;if(r&&i.getBandWidth()>o)return!0;if(a){var s=d.getAxisInfo(t).seriesDataCount,l=i.getExtent();return Math.abs(l[0]-l[1])/s>o}return!1}return!0===n},makeElOption:function(t,e,n,i,r){},createPointerEl:function(t,e,n,i){var r=e.pointer;if(r){var a=v(t).pointerEl=new h[r.type](y(e.pointer));t.add(a)}},createLabelEl:function(t,e,n,i){if(e.label){var r=v(t).labelEl=new h.Rect(y(e.label));t.add(r),o(r,i)}},updatePointerEl:function(t,e,n){var i=v(t).pointerEl;i&&e.pointer&&(i.setStyle(e.pointer.style),n(i,{shape:e.pointer.shape}))},updateLabelEl:function(t,e,n,i){var r=v(t).labelEl;r&&(r.setStyle(e.label.style),n(r,{shape:e.label.shape,position:e.label.position}),o(r,i))},_renderHandle:function(t){if(!this._dragging&&this.updateHandleTransform){var e=this._axisPointerModel,n=this._api.getZr(),i=this._handle,r=e.getModel("handle"),a=e.get("status");if(!r.get("show")||!a||"hide"===a)return i&&n.remove(i),void(this._handle=null);var o;this._handle||(o=!0,i=this._handle=h.createIcon(r.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(t){p.stop(t.event)},onmousedown:x(this._onHandleDragMove,this,0,0),drift:x(this._onHandleDragMove,this),ondragend:x(this._onHandleDragEnd,this)}),n.add(i)),l(i,e,!1);var s=["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];i.setStyle(r.getItemStyle(null,s));var u=r.get("size");c.isArray(u)||(u=[u,u]),i.attr("scale",[u[0]/2,u[1]/2]),f.createOrUpdate(this,"_doDispatchAxisPointer",r.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,o)}},_moveHandleToValue:function(t,e){r(this._axisPointerModel,!e&&this._moveAnimation,this._handle,s(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},_onHandleDragMove:function(t,e){var n=this._handle;if(n){this._dragging=!0;var i=this.updateHandleTransform(s(n),[t,e],this._axisModel,this._axisPointerModel);this._payloadInfo=i,n.stopAnimation(),n.attr(s(i)),v(n).lastProp=null,this._doDispatchAxisPointer()}},_doDispatchAxisPointer:function(){if(this._handle){var t=this._payloadInfo,e=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:e.axis.dim,axisIndex:e.componentIndex}]})}},_onHandleDragEnd:function(t){if(this._dragging=!1,this._handle){var e=this._axisPointerModel.get("value");this._moveHandleToValue(e),this._api.dispatchAction({type:"hideTip"})}},getHandleTransform:null,updateHandleTransform:null,clear:function(t){this._lastValue=null,this._lastStatus=null;var e=t.getZr(),n=this._group,i=this._handle;e&&n&&(this._lastGraphicKey=null,n&&e.remove(n),i&&e.remove(i),this._group=null,this._handle=null,this._payloadInfo=null)},doClear:function(){},buildLabel:function(t,e,n){return n=n||0,{x:t[n],y:t[1-n],width:e[n],height:e[1-n]}}},i.prototype.constructor=i,u.enableClassExtend(i);var _=i;t.exports=_},function(t,e,n){function i(t,e,n){var i=e.get("center"),r=n.getWidth(),a=n.getHeight();t.cx=u(i[0],r),t.cy=u(i[1],a);var o=t.getRadiusAxis(),l=Math.min(r,a)/2,c=e.get("radius");null==c?c=[0,"100%"]:s.isArray(c)||(c=[0,c]),c=[u(c[0],l),u(c[1],l)],o.inverse?o.setExtent(c[1],c[0]):o.setExtent(c[0],c[1])}function r(t,e){var n=this,i=n.getAngleAxis(),r=n.getRadiusAxis();if(i.scale.setExtent(1/0,-1/0),r.scale.setExtent(1/0,-1/0),t.eachSeries(function(t){if(t.coordinateSystem===n){var e=t.getData();s.each(e.mapDimension("radius",!0),function(t){r.scale.unionExtentFromData(e,m(e,t))}),s.each(e.mapDimension("angle",!0),function(t){i.scale.unionExtentFromData(e,m(e,t))})}}),p(i.scale,i.model),p(r.scale,r.model),"category"===i.type&&!i.onBand){var a=i.getExtent(),o=360/i.scale.count();i.inverse?a[1]+=o:a[1]-=o,i.setExtent(a[0],a[1])}}function a(t,e){if(t.type=e.get("type"),t.scale=d(e),t.onBand=e.get("boundaryGap")&&"category"===t.type,t.inverse=e.get("inverse"),"angleAxis"===e.mainType){t.inverse^=e.get("clockwise");var n=e.get("startAngle");t.setExtent(n,n+(t.inverse?-360:360))}e.axis=t,t.model=e}var o=n(5),s=(o.__DEV__,n(0)),l=n(503),c=n(3),u=c.parsePercent,h=n(22),d=h.createScaleByModel,p=h.niceScaleExtent,f=n(21),g=n(26),m=g.getStackedDimension;n(506);var v={dimensions:l.prototype.dimensions,create:function(t,e){var n=[];return t.eachComponent("polar",function(t,o){var s=new l(o);s.update=r;var c=s.getRadiusAxis(),u=s.getAngleAxis(),h=t.findAxisModel("radiusAxis"),d=t.findAxisModel("angleAxis");a(c,h),a(u,d),i(s,t,e),n.push(s),t.coordinateSystem=s,s.model=t}),t.eachSeries(function(e){if("polar"===e.get("coordinateSystem")){var n=t.queryComponents({mainType:"polar",index:e.get("polarIndex"),id:e.get("polarId")})[0];e.coordinateSystem=n.coordinateSystem}}),n}};f.register("polar",v)},function(t,e,n){n(13).registerSubTypeDefaulter("dataZoom",function(){return"slider"})},function(t,e,n){function i(t){return o.indexOf(c,t)>=0}function r(t,e){t=t.slice();var n=o.map(t,s.capitalFirst);e=(e||[]).slice();var i=o.map(e,s.capitalFirst);return function(r,a){o.each(t,function(t,o){for(var s={name:t,capital:n[o]},l=0;l<e.length;l++)s[e[l]]=t+i[l];r.call(a,s)})}}function a(t,e,n){function i(t,e){return o.indexOf(e.nodes,t)>=0}function r(t,i){var r=!1;return e(function(e){o.each(n(t,e)||[],function(t){i.records[e.name][t]&&(r=!0)})}),r}function a(t,i){i.nodes.push(t),e(function(e){o.each(n(t,e)||[],function(t){i.records[e.name][t]=!0})})}return function(n){function o(t){!i(t,s)&&r(t,s)&&(a(t,s),l=!0)}var s={nodes:[],records:{}};if(e(function(t){s.records[t.name]={}}),!n)return s;a(n,s);var l;do{l=!1,t(o)}while(l);return s}}var o=n(0),s=n(9),l=["x","y","z","radius","angle","single"],c=["cartesian2d","polar","singleAxis"],u=r(l,["axisIndex","axis","index","id"]);e.isCoordSupported=i,e.createNameEach=r,e.eachAxisDim=u,e.createLinkedNodesFinder=a},function(t,e,n){var i=n(1),r=n(0),a=r.createHashMap,o=r.each;i.registerProcessor({getTargetSeries:function(t){var e=a();return t.eachComponent("dataZoom",function(t){t.eachTargetAxis(function(t,n,i){var r=i.getAxisProxy(t.name,n);o(r.getTargetSeriesModels(),function(t){e.set(t.uid,t)})})}),e},modifyOutputEnd:!0,overallReset:function(t,e){t.eachComponent("dataZoom",function(t){t.eachTargetAxis(function(t,n,i){i.getAxisProxy(t.name,n).reset(i,e)}),t.eachTargetAxis(function(t,n,i){i.getAxisProxy(t.name,n).filterData(i,e)})}),t.eachComponent("dataZoom",function(t){var e=t.findRepresentativeAxisProxy(),n=e.getDataPercentWindow(),i=e.getDataValueWindow();t.setCalculatedRange({start:n[0],end:n[1],startValue:i[0],endValue:i[1]})})}})},function(t,e,n){var i=n(1),r=n(0),a=n(119);i.registerAction("dataZoom",function(t,e){var n=a.createLinkedNodesFinder(r.bind(e.eachComponent,e,"dataZoom"),a.eachAxisDim,function(t,e){return t.get(e.axisIndex)}),i=[];e.eachComponent({mainType:"dataZoom",query:t},function(t,e){i.push.apply(i,n(t).nodes)}),r.each(i,function(e,n){e.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})})})},function(t,e,n){function i(t){l.defaultEmphasis(t,"label",["show"])}var r=n(5),a=(r.__DEV__,n(1)),o=n(0),s=n(11),l=n(4),c=n(9),u=n(101),h=c.addCommas,d=c.encodeHTML,p=a.extendComponentModel({type:"marker",dependencies:["series","grid","polar","geo"],init:function(t,e,n){this.mergeDefaultAndTheme(t,n),this._mergeOption(t,n,!1,!0)},isAnimationEnabled:function(){if(s.node)return!1;var t=this.__hostSeries;return this.getShallow("animation")&&t&&t.isAnimationEnabled()},mergeOption:function(t,e){this._mergeOption(t,e,!1,!1)},_mergeOption:function(t,e,n,r){var a=this.constructor,s=this.mainType+"Model";n||e.eachSeries(function(t){var n=t.get(this.mainType,!0),l=t[s];if(!n||!n.data)return void(t[s]=null);l?l._mergeOption(n,e,!0):(r&&i(n),o.each(n.data,function(t){t instanceof Array?(i(t[0]),i(t[1])):i(t)}),l=new a(n,this,e),o.extend(l,{mainType:this.mainType,seriesIndex:t.seriesIndex,name:t.name,createdBySelf:!0}),l.__hostSeries=t),t[s]=l},this)},formatTooltip:function(t){var e=this.getData(),n=this.getRawValue(t),i=o.isArray(n)?o.map(n,h).join(", "):h(n),r=e.getName(t),a=d(this.name);return(null!=n||r)&&(a+="<br />"),r&&(a+=d(r),null!=n&&(a+=" : ")),null!=n&&(a+=d(i)),a},getData:function(){return this._data},setData:function(t){this._data=t}});o.mixin(p,u);var f=p;t.exports=f},function(t,e,n){function i(t){return!(isNaN(parseFloat(t.x))&&isNaN(parseFloat(t.y)))}function r(t){return!isNaN(parseFloat(t.x))&&!isNaN(parseFloat(t.y))}function a(t,e,n,i,r,a){var o=[],s=g(e,i),l=s?e.getCalculationInfo("stackResultDimension"):i,c=h(e,l,t),u=e.indicesOfNearest(l,c)[0];o[r]=e.get(n,u),o[a]=e.get(i,u);var d=p.getPrecision(e.get(i,u));return d=Math.min(d,20),d>=0&&(o[a]=+o[a].toFixed(d)),o}function o(t,e){var n=t.getData(),i=t.coordinateSystem;if(e&&!r(e)&&!d.isArray(e.coord)&&i){var a=i.dimensions,o=s(e,n,i,t);if(e=d.clone(e),e.type&&y[e.type]&&o.baseAxis&&o.valueAxis){var l=m(a,o.baseAxis.dim),c=m(a,o.valueAxis.dim);e.coord=y[e.type](n,o.baseDataDim,o.valueDataDim,l,c),e.value=e.coord[c]}else{for(var u=[null!=e.xAxis?e.xAxis:e.radiusAxis,null!=e.yAxis?e.yAxis:e.angleAxis],p=0;p<2;p++)y[u[p]]&&(u[p]=h(n,n.mapDimension(a[p]),u[p]));e.coord=u}}return e}function s(t,e,n,i){var r={};return null!=t.valueIndex||null!=t.valueDim?(r.valueDataDim=null!=t.valueIndex?e.getDimension(t.valueIndex):t.valueDim,r.valueAxis=n.getAxis(l(i,r.valueDataDim)),r.baseAxis=n.getOtherAxis(r.valueAxis),r.baseDataDim=e.mapDimension(r.baseAxis.dim)):(r.baseAxis=i.getBaseAxis(),r.valueAxis=n.getOtherAxis(r.baseAxis),r.baseDataDim=e.mapDimension(r.baseAxis.dim),r.valueDataDim=e.mapDimension(r.valueAxis.dim)),r}function l(t,e){var n=t.getData(),i=n.dimensions;e=n.getDimension(e);for(var r=0;r<i.length;r++){var a=n.getDimensionInfo(i[r]);if(a.name===e)return a.coordDim}}function c(t,e){return!(t&&t.containData&&e.coord&&!i(e))||t.containData(e.coord)}function u(t,e,n,i){return i<2?t.coord&&t.coord[i]:t.value}function h(t,e,n){if("average"===n){var i=0,r=0;return t.each(e,function(t,e){isNaN(t)||(i+=t,r++)}),i/r}return"median"===n?t.getMedian(e):t.getDataExtent(e,!0)["max"===n?1:0]}var d=n(0),p=n(3),f=n(26),g=f.isDimensionStacked,m=d.indexOf,v=d.curry,y={min:v(a,"min"),max:v(a,"max"),average:v(a,"average")};e.dataTransform=o,e.getAxisInfo=s,e.dataFilter=c,e.dimValueGetter=u,e.numCalculate=h},function(t,e,n){var i=n(1),r=n(0),a=i.extendComponentView({type:"marker",init:function(){this.markerGroupMap=r.createHashMap()},render:function(t,e,n){var i=this.markerGroupMap;i.each(function(t){t.__keep=!1});var r=this.type+"Model";e.eachSeries(function(t){var i=t[r];i&&this.renderSeries(t,i,e,n)},this),i.each(function(t){!t.__keep&&this.group.remove(t.group)},this)},renderSeries:function(){}});t.exports=a},function(t,e,n){function i(t){return C(1e4*t)/1e4}function r(t){return t<R&&t>-R}function a(t,e){var n=e?t.textFill:t.fill;return null!=n&&n!==A}function o(t,e){var n=e?t.textStroke:t.stroke;return null!=n&&n!==A}function s(t,e){e&&l(t,"transform","matrix("+T.call(e,",")+")")}function l(t,e,n){(!n||"linear"!==n.type&&"radial"!==n.type)&&t.setAttribute(e,n)}function c(t,e,n){t.setAttributeNS("http://www.w3.org/1999/xlink",e,n)}function u(t,e,n,i){if(a(e,n)){var r=n?e.textFill:e.fill;r="transparent"===r?A:r,l(t,"fill",r),l(t,"fill-opacity",null!=e.fillOpacity?e.fillOpacity*e.opacity:e.opacity)}else l(t,"fill",A);if(o(e,n)){var s=n?e.textStroke:e.stroke;s="transparent"===s?A:s,l(t,"stroke",s);l(t,"stroke-width",(n?e.textStrokeWidth:e.lineWidth)/(!n&&e.strokeNoScale?i.getLineScale():1)),l(t,"paint-order",n?"stroke":"fill"),l(t,"stroke-opacity",null!=e.strokeOpacity?e.strokeOpacity:e.opacity);e.lineDash?(l(t,"stroke-dasharray",e.lineDash.join(",")),l(t,"stroke-dashoffset",C(e.lineDashOffset||0))):l(t,"stroke-dasharray",""),e.lineCap&&l(t,"stroke-linecap",e.lineCap),e.lineJoin&&l(t,"stroke-linejoin",e.lineJoin),e.miterLimit&&l(t,"stroke-miterlimit",e.miterLimit)}else l(t,"stroke",A)}function h(t){for(var e=[],n=t.data,a=t.len(),o=0;o<a;){var s=n[o++],l="",c=0;switch(s){case S.M:l="M",c=2;break;case S.L:l="L",c=2;break;case S.Q:l="Q",c=4;break;case S.C:l="C",c=6;break;case S.A:var u=n[o++],h=n[o++],d=n[o++],p=n[o++],f=n[o++],g=n[o++],m=n[o++],v=n[o++],y=Math.abs(g),x=r(y-P)||(v?g>=P:-g>=P),_=g>0?g%P:g%P+P,b=!1;b=!!x||!r(y)&&_>=I==!!v;var w=i(u+d*E(f)),M=i(h+p*L(f));x&&(g=v?P-1e-4:1e-4-P,b=!0,9===o&&e.push("M",w,M));var T=i(u+d*E(f+g)),A=i(h+p*L(f+g));e.push("A",i(d),i(p),C(m*D),+b,+v,T,A);break;case S.Z:l="Z";break;case S.R:var T=i(n[o++]),A=i(n[o++]),R=i(n[o++]),O=i(n[o++]);e.push("M",T,A,"L",T+R,A,"L",T+R,A+O,"L",T,A+O,"L",T,A)}l&&e.push(l);for(var k=0;k<c;k++)e.push(i(n[o++]))}return e.join(" ")}function d(t,e,n,i,r,a,o){_.identity(V),e&&n&&_.copy(V,n);var l=i.textRotation;if(r&&l){var c=i.textOrigin;"center"===c?(a=r.width/2+r.x,o=r.height/2+r.y):c&&(a=c[0]+r.x,o=c[1]+r.y),V[4]-=a,V[5]-=o,_.rotate(V,V,l),V[4]+=a,V[5]+=o}s(t,V)}function p(t,e,n){return"right"===e?t-n[1]:"center"===e?t+n[3]/2-n[1]/2:t+n[3]}function f(t,e,n,i){l(t,"dominant-baseline","middle"),l(t,"text-anchor",F[e]),l(t,"x",n),l(t,"y",i)}function g(t){t&&t.__textSvgEl&&(t.__textSvgEl.parentNode&&t.__textSvgEl.parentNode.removeChild(t.__textSvgEl),t.__textSvgEl=null,t.__tspanList=[],t.__text=null)}var m=n(126),v=m.createElement,y=n(49),x=n(8),_=n(15),b=n(17),w=n(77),M=n(39),S=y.CMD,T=Array.prototype.join,A="none",C=Math.round,L=Math.sin,E=Math.cos,I=Math.PI,P=2*Math.PI,D=180/I,R=1e-4,O={};O.brush=function(t){var e=t.style,n=t.__svgEl;n||(n=v("path"),t.__svgEl=n),t.path||t.createPathProxy();var i=t.path;if(t.__dirtyPath){i.beginPath(),i.subPixelOptimize=!1,t.buildPath(i,t.shape),t.__dirtyPath=!1;var r=h(i);r.indexOf("NaN")<0&&l(n,"d",r)}u(n,e,!1,t),s(n,t.transform),null!=e.text?G(t,t.getBoundingRect()):g(t)};var k={};k.brush=function(t){var e=t.style,n=e.image;if(n instanceof HTMLImageElement){n=n.src}if(n){var i=e.x||0,r=e.y||0,a=e.width,o=e.height,u=t.__svgEl;u||(u=v("image"),t.__svgEl=u),n!==t.__imageSrc&&(c(u,"href",n),t.__imageSrc=n),l(u,"width",a),l(u,"height",o),l(u,"x",i),l(u,"y",r),s(u,t.transform),null!=e.text?G(t,t.getBoundingRect()):g(t)}};var N={},z=new x,B={},V=[],F={left:"start",right:"end",center:"middle",middle:"middle"},G=function(t,e){var n=t.style,i=t.transform,r=t instanceof M||n.transformText;t.__dirty&&w.normalizeTextStyle(n,!0);var a=n.text;if(null!=a&&(a+=""),w.needDrawText(a,n)){null==a&&(a=""),!r&&i&&(z.copy(e),z.applyTransform(i),e=z);var o=t.__textSvgEl;o||(o=v("text"),t.__textSvgEl=o);var s=o.style,l=n.font||b.DEFAULT_FONT,c=o.__computedFont;l!==o.__styleFont&&(s.font=o.__styleFont=l,c=o.__computedFont=s.font);var h=n.textPadding,g=n.textLineHeight,m=t.__textCotentBlock;m&&!t.__dirtyText||(m=t.__textCotentBlock=b.parsePlainText(a,c,h,g,n.truncate));var y=m.outerHeight,x=m.lineHeight;w.getBoxPosition(B,t,n,e);var _=B.baseX,S=B.baseY,T=B.textAlign||"left",A=B.textVerticalAlign;d(o,r,i,n,e,_,S);var C=b.adjustTextY(S,y,A),L=_,E=C;h&&(L=p(_,T,h),E+=h[0]),E+=x/2,u(o,n,!0,t);var I=m.canCacheByTextString,P=t.__tspanList||(t.__tspanList=[]),D=P.length;if(I&&t.__canCacheByTextString&&t.__text===a){if(t.__dirtyText&&D)for(var R=0;R<D;++R)f(P[R],T,L,E+R*x)}else{t.__text=a,t.__canCacheByTextString=I;for(var O=m.lines,k=O.length,R=0;R<k;R++){var N=P[R],V=O[R];N?N.__zrText!==V&&(N.innerHTML="",N.appendChild(document.createTextNode(V))):(N=P[R]=v("tspan"),o.appendChild(N),N.appendChild(document.createTextNode(V))),f(N,T,L,E+R*x)}if(D>k){for(;R<D;R++)o.removeChild(P[R]);P.length=k}}}};N.drawRectText=G,N.brush=function(t){null!=t.style.text?G(t,!1):g(t)},e.path=O,e.image=k,e.text=N},function(t,e){function n(t){return document.createElementNS(i,t)}var i="http://www.w3.org/2000/svg";e.createElement=n},function(t,e,n){function i(t,e,n,i,r){this._zrId=t,this._svgRoot=e,this._tagNames="string"==typeof n?[n]:n,this._markLabel=i,this._domName=r||"_dom",this.nextId=0}var r=n(126),a=r.createElement,o=n(0),s=n(10),l=n(47),c=n(39),u=n(125),h=u.path,d=u.image,p=u.text;i.prototype.createElement=a,i.prototype.getDefs=function(t){var e=this._svgRoot,n=this._svgRoot.getElementsByTagName("defs");return 0===n.length?t?(n=e.insertBefore(this.createElement("defs"),e.firstChild),n.contains||(n.contains=function(t){var e=n.children;if(!e)return!1;for(var i=e.length-1;i>=0;--i)if(e[i]===t)return!0;return!1}),n):null:n[0]},i.prototype.update=function(t,e){if(t){var n=this.getDefs(!1);if(t[this._domName]&&n.contains(t[this._domName]))"function"==typeof e&&e(t);else{var i=this.add(t);i&&(t[this._domName]=i)}}},i.prototype.addDom=function(t){this.getDefs(!0).appendChild(t)},i.prototype.removeDom=function(t){var e=this.getDefs(!1);e&&t[this._domName]&&(e.removeChild(t[this._domName]),t[this._domName]=null)},i.prototype.getDoms=function(){var t=this.getDefs(!1);if(!t)return[];var e=[];return o.each(this._tagNames,function(n){var i=t.getElementsByTagName(n);e=e.concat([].slice.call(i))}),e},i.prototype.markAllUnused=function(){var t=this.getDoms(),e=this;o.each(t,function(t){t[e._markLabel]="0"})},i.prototype.markUsed=function(t){t&&(t[this._markLabel]="1")},i.prototype.removeUnused=function(){var t=this.getDefs(!1);if(t){var e=this.getDoms(),n=this;o.each(e,function(e){"1"!==e[n._markLabel]&&t.removeChild(e)})}},i.prototype.getSvgProxy=function(t){return t instanceof s?h:t instanceof l?d:t instanceof c?p:h},i.prototype.getTextSvgElement=function(t){return t.__textSvgEl},i.prototype.getSvgElement=function(t){return t.__svgEl};var f=i;t.exports=f},function(t,e,n){(function(t){function i(t,e){this._id=t,this._clearFn=e}var r=self||window,a=Function.prototype.apply;e.setTimeout=function(){return new i(a.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new i(a.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(242),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(e,n(57))},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function r(t){if(u===setTimeout)return setTimeout(t,0);if((u===n||!u)&&setTimeout)return u=setTimeout,setTimeout(t,0);try{return u(t,0)}catch(e){try{return u.call(null,t,0)}catch(e){return u.call(this,t,0)}}}function a(t){if(h===clearTimeout)return clearTimeout(t);if((h===i||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{return h(t)}catch(e){try{return h.call(null,t)}catch(e){return h.call(this,t)}}}function o(){g&&p&&(g=!1,p.length?f=p.concat(f):m=-1,f.length&&s())}function s(){if(!g){var t=r(o);g=!0;for(var e=f.length;e;){for(p=f,f=[];++m<e;)p&&p[m].run();m=-1,e=f.length}p=null,g=!1,a(t)}}function l(t,e){this.fun=t,this.array=e}function c(){}var u,h,d=t.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:n}catch(t){u=n}try{h="function"==typeof clearTimeout?clearTimeout:i}catch(t){h=i}}();var p,f=[],g=!1,m=-1;d.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];f.push(new l(t,e)),1!==f.length||g||r(s)},l.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=c,d.addListener=c,d.once=c,d.off=c,d.removeListener=c,d.removeAllListeners=c,d.emit=c,d.prependListener=c,d.prependOnceListener=c,d.listeners=function(t){return[]},d.binding=function(t){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(t){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(t,e,n){"use strict";function i(t){var e=this.constructor;return this.then(function(n){return e.resolve(t()).then(function(){return n})},function(n){return e.resolve(t()).then(function(){return e.reject(n)})})}e.a=i},function(t,e,n){"use strict";(function(t,n){function i(t){return void 0===t||null===t}function r(t){return void 0!==t&&null!==t}function a(t){return!0===t}function o(t){return!1===t}function s(t){return"string"==typeof t||"number"==typeof t||"symbol"==typeof t||"boolean"==typeof t}function l(t){return null!==t&&"object"==typeof t}function c(t){return"[object Object]"===sa.call(t)}function u(t){return"[object RegExp]"===sa.call(t)}function h(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function d(t){return null==t?"":"object"==typeof t?JSON.stringify(t,null,2):String(t)}function p(t){var e=parseFloat(t);return isNaN(e)?t:e}function f(t,e){for(var n=Object.create(null),i=t.split(","),r=0;r<i.length;r++)n[i[r]]=!0;return e?function(t){return n[t.toLowerCase()]}:function(t){return n[t]}}function g(t,e){if(t.length){var n=t.indexOf(e);if(n>-1)return t.splice(n,1)}}function m(t,e){return ua.call(t,e)}function v(t){var e=Object.create(null);return function(n){return e[n]||(e[n]=t(n))}}function y(t,e){function n(n){var i=arguments.length;return i?i>1?t.apply(e,arguments):t.call(e,n):t.call(e)}return n._length=t.length,n}function x(t,e){return t.bind(e)}function _(t,e){e=e||0;for(var n=t.length-e,i=new Array(n);n--;)i[n]=t[n+e];return i}function b(t,e){for(var n in e)t[n]=e[n];return t}function w(t){for(var e={},n=0;n<t.length;n++)t[n]&&b(e,t[n]);return e}function M(t,e,n){}function S(t,e){if(t===e)return!0;var n=l(t),i=l(e);if(!n||!i)return!n&&!i&&String(t)===String(e);try{var r=Array.isArray(t),a=Array.isArray(e);if(r&&a)return t.length===e.length&&t.every(function(t,n){return S(t,e[n])});if(r||a)return!1;var o=Object.keys(t),s=Object.keys(e);return o.length===s.length&&o.every(function(n){return S(t[n],e[n])})}catch(t){return!1}}function T(t,e){for(var n=0;n<t.length;n++)if(S(t[n],e))return n;return-1}function A(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}function C(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function L(t,e,n,i){Object.defineProperty(t,e,{value:n,enumerable:!!i,writable:!0,configurable:!0})}function E(t){if(!Ma.test(t)){var e=t.split(".");return function(t){for(var n=0;n<e.length;n++){if(!t)return;t=t[e[n]]}return t}}}function I(t){return"function"==typeof t&&/native code/.test(t.toString())}function P(t){Ua.target&&ja.push(Ua.target),Ua.target=t}function D(){Ua.target=ja.pop()}function R(t){return new Wa(void 0,void 0,void 0,String(t))}function O(t){var e=new Wa(t.tag,t.data,t.children,t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.fnContext=t.fnContext,e.fnOptions=t.fnOptions,e.fnScopeId=t.fnScopeId,e.isCloned=!0,e}function k(t){Ja=t}function N(t,e,n){t.__proto__=e}function z(t,e,n){for(var i=0,r=n.length;i<r;i++){var a=n[i];L(t,a,e[a])}}function B(t,e){if(l(t)&&!(t instanceof Wa)){var n;return m(t,"__ob__")&&t.__ob__ instanceof Ka?n=t.__ob__:Ja&&!Ba()&&(Array.isArray(t)||c(t))&&Object.isExtensible(t)&&!t._isVue&&(n=new Ka(t)),e&&n&&n.vmCount++,n}}function V(t,e,n,i,r){var a=new Ua,o=Object.getOwnPropertyDescriptor(t,e);if(!o||!1!==o.configurable){var s=o&&o.get;s||2!==arguments.length||(n=t[e]);var l=o&&o.set,c=!r&&B(n);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=s?s.call(t):n;return Ua.target&&(a.depend(),c&&(c.dep.depend(),Array.isArray(e)&&H(e))),e},set:function(e){var i=s?s.call(t):n;e===i||e!==e&&i!==i||(l?l.call(t,e):n=e,c=!r&&B(e),a.notify())}})}}function F(t,e,n){if(Array.isArray(t)&&h(e))return t.length=Math.max(t.length,e),t.splice(e,1,n),n;if(e in t&&!(e in Object.prototype))return t[e]=n,n;var i=t.__ob__;return t._isVue||i&&i.vmCount?n:i?(V(i.value,e,n),i.dep.notify(),n):(t[e]=n,n)}function G(t,e){if(Array.isArray(t)&&h(e))return void t.splice(e,1);var n=t.__ob__;t._isVue||n&&n.vmCount||m(t,e)&&(delete t[e],n&&n.dep.notify())}function H(t){for(var e=void 0,n=0,i=t.length;n<i;n++)e=t[n],e&&e.__ob__&&e.__ob__.dep.depend(),Array.isArray(e)&&H(e)}function U(t,e){if(!e)return t;for(var n,i,r,a=Object.keys(e),o=0;o<a.length;o++)n=a[o],i=t[n],r=e[n],m(t,n)?c(i)&&c(r)&&U(i,r):F(t,n,r);return t}function j(t,e,n){return n?function(){var i="function"==typeof e?e.call(n,n):e,r="function"==typeof t?t.call(n,n):t;return i?U(i,r):r}:e?t?function(){return U("function"==typeof e?e.call(this,this):e,"function"==typeof t?t.call(this,this):t)}:e:t}function W(t,e){return e?t?t.concat(e):Array.isArray(e)?e:[e]:t}function $(t,e,n,i){var r=Object.create(t||null);return e?b(r,e):r}function Y(t,e){var n=t.props;if(n){var i,r,a,o={};if(Array.isArray(n))for(i=n.length;i--;)"string"==typeof(r=n[i])&&(a=da(r),o[a]={type:null});else if(c(n))for(var s in n)r=n[s],a=da(s),o[a]=c(r)?r:{type:r};t.props=o}}function X(t,e){var n=t.inject;if(n){var i=t.inject={};if(Array.isArray(n))for(var r=0;r<n.length;r++)i[n[r]]={from:n[r]};else if(c(n))for(var a in n){var o=n[a];i[a]=c(o)?b({from:a},o):{from:o}}}}function q(t){var e=t.directives;if(e)for(var n in e){var i=e[n];"function"==typeof i&&(e[n]={bind:i,update:i})}}function Z(t,e,n){function i(i){var r=Qa[i]||no;l[i]=r(t[i],e[i],n,i)}"function"==typeof e&&(e=e.options),Y(e,n),X(e,n),q(e);var r=e.extends;if(r&&(t=Z(t,r,n)),e.mixins)for(var a=0,o=e.mixins.length;a<o;a++)t=Z(t,e.mixins[a],n);var s,l={};for(s in t)i(s);for(s in e)m(t,s)||i(s);return l}function J(t,e,n,i){if("string"==typeof n){var r=t[e];if(m(r,n))return r[n];var a=da(n);if(m(r,a))return r[a];var o=pa(a);if(m(r,o))return r[o];return r[n]||r[a]||r[o]}}function K(t,e,n,i){var r=e[t],a=!m(n,t),o=n[t],s=nt(Boolean,r.type);if(s>-1)if(a&&!m(r,"default"))o=!1;else if(""===o||o===ga(t)){var l=nt(String,r.type);(l<0||s<l)&&(o=!0)}if(void 0===o){o=Q(i,r,t);var c=Ja;k(!0),B(o),k(c)}return o}function Q(t,e,n){if(m(e,"default")){var i=e.default;return t&&t.$options.propsData&&void 0===t.$options.propsData[n]&&void 0!==t._props[n]?t._props[n]:"function"==typeof i&&"Function"!==tt(e.type)?i.call(t):i}}function tt(t){var e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:""}function et(t,e){return tt(t)===tt(e)}function nt(t,e){if(!Array.isArray(e))return et(e,t)?0:-1;for(var n=0,i=e.length;n<i;n++)if(et(e[n],t))return n;return-1}function it(t,e,n){if(e)for(var i=e;i=i.$parent;){var r=i.$options.errorCaptured;if(r)for(var a=0;a<r.length;a++)try{var o=!1===r[a].call(i,t,e,n);if(o)return}catch(t){rt(t,i,"errorCaptured hook")}}rt(t,e,n)}function rt(t,e,n){if(wa.errorHandler)try{return wa.errorHandler.call(null,t,e,n)}catch(t){at(t,null,"config.errorHandler")}at(t,e,n)}function at(t,e,n){if(!Ta&&!Aa||"undefined"==typeof console)throw t;console.error(t)}function ot(){ro=!1;var t=io.slice(0);io.length=0;for(var e=0;e<t.length;e++)t[e]()}function st(t){return t._withTask||(t._withTask=function(){ao=!0;var e=t.apply(null,arguments);return ao=!1,e})}function lt(t,e){var n;if(io.push(function(){if(t)try{t.call(e)}catch(t){it(t,e,"nextTick")}else n&&n(e)}),ro||(ro=!0,ao?eo():to()),!t&&"undefined"!=typeof Promise)return new Promise(function(t){n=t})}function ct(t){ut(t,uo),uo.clear()}function ut(t,e){var n,i,r=Array.isArray(t);if(!(!r&&!l(t)||Object.isFrozen(t)||t instanceof Wa)){if(t.__ob__){var a=t.__ob__.dep.id;if(e.has(a))return;e.add(a)}if(r)for(n=t.length;n--;)ut(t[n],e);else for(i=Object.keys(t),n=i.length;n--;)ut(t[i[n]],e)}}function ht(t){function e(){var t=arguments,n=e.fns;if(!Array.isArray(n))return n.apply(null,arguments);for(var i=n.slice(),r=0;r<i.length;r++)i[r].apply(null,t)}return e.fns=t,e}function dt(t,e,n,r,a){var o,s,l,c;for(o in t)s=t[o],l=e[o],c=ho(o),i(s)||(i(l)?(i(s.fns)&&(s=t[o]=ht(s)),n(c.name,s,c.once,c.capture,c.passive,c.params)):s!==l&&(l.fns=s,t[o]=l));for(o in e)i(t[o])&&(c=ho(o),r(c.name,e[o],c.capture))}function pt(t,e,n){function o(){n.apply(this,arguments),g(s.fns,o)}t instanceof Wa&&(t=t.data.hook||(t.data.hook={}));var s,l=t[e];i(l)?s=ht([o]):r(l.fns)&&a(l.merged)?(s=l,s.fns.push(o)):s=ht([l,o]),s.merged=!0,t[e]=s}function ft(t,e,n){var a=e.options.props;if(!i(a)){var o={},s=t.attrs,l=t.props;if(r(s)||r(l))for(var c in a){var u=ga(c);gt(o,l,c,u,!0)||gt(o,s,c,u,!1)}return o}}function gt(t,e,n,i,a){if(r(e)){if(m(e,n))return t[n]=e[n],a||delete e[n],!0;if(m(e,i))return t[n]=e[i],a||delete e[i],!0}return!1}function mt(t){for(var e=0;e<t.length;e++)if(Array.isArray(t[e]))return Array.prototype.concat.apply([],t);return t}function vt(t){return s(t)?[R(t)]:Array.isArray(t)?xt(t):void 0}function yt(t){return r(t)&&r(t.text)&&o(t.isComment)}function xt(t,e){var n,o,l,c,u=[];for(n=0;n<t.length;n++)o=t[n],i(o)||"boolean"==typeof o||(l=u.length-1,c=u[l],Array.isArray(o)?o.length>0&&(o=xt(o,(e||"")+"_"+n),yt(o[0])&&yt(c)&&(u[l]=R(c.text+o[0].text),o.shift()),u.push.apply(u,o)):s(o)?yt(c)?u[l]=R(c.text+o):""!==o&&u.push(R(o)):yt(o)&&yt(c)?u[l]=R(c.text+o.text):(a(t._isVList)&&r(o.tag)&&i(o.key)&&r(e)&&(o.key="__vlist"+e+"_"+n+"__"),u.push(o)));return u}function _t(t,e){return(t.__esModule||Fa&&"Module"===t[Symbol.toStringTag])&&(t=t.default),l(t)?e.extend(t):t}function bt(t,e,n,i,r){var a=Ya();return a.asyncFactory=t,a.asyncMeta={data:e,context:n,children:i,tag:r},a}function wt(t,e,n){if(a(t.error)&&r(t.errorComp))return t.errorComp;if(r(t.resolved))return t.resolved;if(a(t.loading)&&r(t.loadingComp))return t.loadingComp;if(!r(t.contexts)){var o=t.contexts=[n],s=!0,c=function(){for(var t=0,e=o.length;t<e;t++)o[t].$forceUpdate()},u=A(function(n){t.resolved=_t(n,e),s||c()}),h=A(function(e){r(t.errorComp)&&(t.error=!0,c())}),d=t(u,h);return l(d)&&("function"==typeof d.then?i(t.resolved)&&d.then(u,h):r(d.component)&&"function"==typeof d.component.then&&(d.component.then(u,h),r(d.error)&&(t.errorComp=_t(d.error,e)),r(d.loading)&&(t.loadingComp=_t(d.loading,e),0===d.delay?t.loading=!0:setTimeout(function(){i(t.resolved)&&i(t.error)&&(t.loading=!0,c())},d.delay||200)),r(d.timeout)&&setTimeout(function(){i(t.resolved)&&h(null)},d.timeout))),s=!1,t.loading?t.loadingComp:t.resolved}t.contexts.push(n)}function Mt(t){return t.isComment&&t.asyncFactory}function St(t){if(Array.isArray(t))for(var e=0;e<t.length;e++){var n=t[e];if(r(n)&&(r(n.componentOptions)||Mt(n)))return n}}function Tt(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&Lt(t,e)}function At(t,e,n){n?co.$once(t,e):co.$on(t,e)}function Ct(t,e){co.$off(t,e)}function Lt(t,e,n){co=t,dt(e,n||{},At,Ct,t),co=void 0}function Et(t,e){var n={};if(!t)return n;for(var i=0,r=t.length;i<r;i++){var a=t[i],o=a.data;if(o&&o.attrs&&o.attrs.slot&&delete o.attrs.slot,a.context!==e&&a.fnContext!==e||!o||null==o.slot)(n.default||(n.default=[])).push(a);else{var s=o.slot,l=n[s]||(n[s]=[]);"template"===a.tag?l.push.apply(l,a.children||[]):l.push(a)}}for(var c in n)n[c].every(It)&&delete n[c];return n}function It(t){return t.isComment&&!t.asyncFactory||" "===t.text}function Pt(t,e){e=e||{};for(var n=0;n<t.length;n++)Array.isArray(t[n])?Pt(t[n],e):e[t[n].key]=t[n].fn;return e}function Dt(t){var e=t.$options,n=e.parent;if(n&&!e.abstract){for(;n.$options.abstract&&n.$parent;)n=n.$parent;n.$children.push(t)}t.$parent=n,t.$root=n?n.$root:t,t.$children=[],t.$refs={},t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}function Rt(t,e,n){t.$el=e,t.$options.render||(t.$options.render=Ya),Bt(t,"beforeMount");var i;return i=function(){t._update(t._render(),n)},new bo(t,i,M,null,!0),n=!1,null==t.$vnode&&(t._isMounted=!0,Bt(t,"mounted")),t}function Ot(t,e,n,i,r){var a=!!(r||t.$options._renderChildren||i.data.scopedSlots||t.$scopedSlots!==oa);if(t.$options._parentVnode=i,t.$vnode=i,t._vnode&&(t._vnode.parent=i),t.$options._renderChildren=r,t.$attrs=i.data.attrs||oa,t.$listeners=n||oa,e&&t.$options.props){k(!1);for(var o=t._props,s=t.$options._propKeys||[],l=0;l<s.length;l++){var c=s[l],u=t.$options.props;o[c]=K(c,u,e,t)}k(!0),t.$options.propsData=e}n=n||oa;var h=t.$options._parentListeners;t.$options._parentListeners=n,Lt(t,n,h),a&&(t.$slots=Et(r,i.context),t.$forceUpdate())}function kt(t){for(;t&&(t=t.$parent);)if(t._inactive)return!0;return!1}function Nt(t,e){if(e){if(t._directInactive=!1,kt(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var n=0;n<t.$children.length;n++)Nt(t.$children[n]);Bt(t,"activated")}}function zt(t,e){if(!(e&&(t._directInactive=!0,kt(t))||t._inactive)){t._inactive=!0;for(var n=0;n<t.$children.length;n++)zt(t.$children[n]);Bt(t,"deactivated")}}function Bt(t,e){P();var n=t.$options[e];if(n)for(var i=0,r=n.length;i<r;i++)try{n[i].call(t)}catch(n){it(n,t,e+" hook")}t._hasHookEvent&&t.$emit("hook:"+e),D()}function Vt(){xo=fo.length=go.length=0,mo={},vo=yo=!1}function Ft(){yo=!0;var t,e;for(fo.sort(function(t,e){return t.id-e.id}),xo=0;xo<fo.length;xo++)t=fo[xo],e=t.id,mo[e]=null,t.run();var n=go.slice(),i=fo.slice();Vt(),Ut(n),Gt(i),Va&&wa.devtools&&Va.emit("flush")}function Gt(t){for(var e=t.length;e--;){var n=t[e],i=n.vm;i._watcher===n&&i._isMounted&&Bt(i,"updated")}}function Ht(t){t._inactive=!1,go.push(t)}function Ut(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,Nt(t[e],!0)}function jt(t){var e=t.id;if(null==mo[e]){if(mo[e]=!0,yo){for(var n=fo.length-1;n>xo&&fo[n].id>t.id;)n--;fo.splice(n+1,0,t)}else fo.push(t);vo||(vo=!0,lt(Ft))}}function Wt(t,e,n){wo.get=function(){return this[e][n]},wo.set=function(t){this[e][n]=t},Object.defineProperty(t,n,wo)}function $t(t){t._watchers=[];var e=t.$options;e.props&&Yt(t,e.props),e.methods&&Qt(t,e.methods),e.data?Xt(t):B(t._data={},!0),e.computed&&Zt(t,e.computed),e.watch&&e.watch!==Ra&&te(t,e.watch)}function Yt(t,e){var n=t.$options.propsData||{},i=t._props={},r=t.$options._propKeys=[];!t.$parent||k(!1);for(var a in e)!function(a){r.push(a);var o=K(a,e,n,t);V(i,a,o),a in t||Wt(t,"_props",a)}(a);k(!0)}function Xt(t){var e=t.$options.data;e=t._data="function"==typeof e?qt(e,t):e||{},c(e)||(e={});for(var n=Object.keys(e),i=t.$options.props,r=(t.$options.methods,n.length);r--;){var a=n[r];i&&m(i,a)||C(a)||Wt(t,"_data",a)}B(e,!0)}function qt(t,e){P();try{return t.call(e,e)}catch(t){return it(t,e,"data()"),{}}finally{D()}}function Zt(t,e){var n=t._computedWatchers=Object.create(null),i=Ba();for(var r in e){var a=e[r],o="function"==typeof a?a:a.get;i||(n[r]=new bo(t,o||M,M,Mo)),r in t||Jt(t,r,a)}}function Jt(t,e,n){var i=!Ba();"function"==typeof n?(wo.get=i?Kt(e):n,wo.set=M):(wo.get=n.get?i&&!1!==n.cache?Kt(e):n.get:M,wo.set=n.set?n.set:M),Object.defineProperty(t,e,wo)}function Kt(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),Ua.target&&e.depend(),e.value}}function Qt(t,e){t.$options.props;for(var n in e)t[n]=null==e[n]?M:ma(e[n],t)}function te(t,e){for(var n in e){var i=e[n];if(Array.isArray(i))for(var r=0;r<i.length;r++)ee(t,n,i[r]);else ee(t,n,i)}}function ee(t,e,n,i){return c(n)&&(i=n,n=n.handler),"string"==typeof n&&(n=t[n]),t.$watch(e,n,i)}function ne(t){var e=t.$options.provide;e&&(t._provided="function"==typeof e?e.call(t):e)}function ie(t){var e=re(t.$options.inject,t);e&&(k(!1),Object.keys(e).forEach(function(n){V(t,n,e[n])}),k(!0))}function re(t,e){if(t){for(var n=Object.create(null),i=Fa?Reflect.ownKeys(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}):Object.keys(t),r=0;r<i.length;r++){for(var a=i[r],o=t[a].from,s=e;s;){if(s._provided&&m(s._provided,o)){n[a]=s._provided[o];break}s=s.$parent}if(!s&&"default"in t[a]){var l=t[a].default;n[a]="function"==typeof l?l.call(e):l}}return n}}function ae(t,e){var n,i,a,o,s;if(Array.isArray(t)||"string"==typeof t)for(n=new Array(t.length),i=0,a=t.length;i<a;i++)n[i]=e(t[i],i);else if("number"==typeof t)for(n=new Array(t),i=0;i<t;i++)n[i]=e(i+1,i);else if(l(t))for(o=Object.keys(t),n=new Array(o.length),i=0,a=o.length;i<a;i++)s=o[i],n[i]=e(t[s],s,i);return r(n)&&(n._isVList=!0),n}function oe(t,e,n,i){var r,a=this.$scopedSlots[t];if(a)n=n||{},i&&(n=b(b({},i),n)),r=a(n)||e;else{var o=this.$slots[t];o&&(o._rendered=!0),r=o||e}var s=n&&n.slot;return s?this.$createElement("template",{slot:s},r):r}function se(t){return J(this.$options,"filters",t,!0)||ya}function le(t,e){return Array.isArray(t)?-1===t.indexOf(e):t!==e}function ce(t,e,n,i,r){var a=wa.keyCodes[e]||n;return r&&i&&!wa.keyCodes[e]?le(r,i):a?le(a,t):i?ga(i)!==e:void 0}function ue(t,e,n,i,r){if(n)if(l(n)){Array.isArray(n)&&(n=w(n));var a;for(var o in n)!function(o){if("class"===o||"style"===o||ca(o))a=t;else{var s=t.attrs&&t.attrs.type;a=i||wa.mustUseProp(e,s,o)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}if(!(o in a)&&(a[o]=n[o],r)){(t.on||(t.on={}))["update:"+o]=function(t){n[o]=t}}}(o)}else;return t}function he(t,e){var n=this._staticTrees||(this._staticTrees=[]),i=n[t];return i&&!e?i:(i=n[t]=this.$options.staticRenderFns[t].call(this._renderProxy,null,this),pe(i,"__static__"+t,!1),i)}function de(t,e,n){return pe(t,"__once__"+e+(n?"_"+n:""),!0),t}function pe(t,e,n){if(Array.isArray(t))for(var i=0;i<t.length;i++)t[i]&&"string"!=typeof t[i]&&fe(t[i],e+"_"+i,n);else fe(t,e,n)}function fe(t,e,n){t.isStatic=!0,t.key=e,t.isOnce=n}function ge(t,e){if(e)if(c(e)){var n=t.on=t.on?b({},t.on):{};for(var i in e){var r=n[i],a=e[i];n[i]=r?[].concat(r,a):a}}else;return t}function me(t){t._o=de,t._n=p,t._s=d,t._l=ae,t._t=oe,t._q=S,t._i=T,t._m=he,t._f=se,t._k=ce,t._b=ue,t._v=R,t._e=Ya,t._u=Pt,t._g=ge}function ve(t,e,n,i,r){var o,s=r.options;m(i,"_uid")?(o=Object.create(i),o._original=i):(o=i,i=i._original);var l=a(s._compiled),c=!l;this.data=t,this.props=e,this.children=n,this.parent=i,this.listeners=t.on||oa,this.injections=re(s.inject,i),this.slots=function(){return Et(n,i)},l&&(this.$options=s,this.$slots=this.slots(),this.$scopedSlots=t.scopedSlots||oa),s._scopeId?this._c=function(t,e,n,r){var a=Te(o,t,e,n,r,c);return a&&!Array.isArray(a)&&(a.fnScopeId=s._scopeId,a.fnContext=i),a}:this._c=function(t,e,n,i){return Te(o,t,e,n,i,c)}}function ye(t,e,n,i,a){var o=t.options,s={},l=o.props;if(r(l))for(var c in l)s[c]=K(c,l,e||oa);else r(n.attrs)&&_e(s,n.attrs),r(n.props)&&_e(s,n.props);var u=new ve(n,s,a,i,t),h=o.render.call(null,u._c,u);if(h instanceof Wa)return xe(h,n,u.parent,o);if(Array.isArray(h)){for(var d=vt(h)||[],p=new Array(d.length),f=0;f<d.length;f++)p[f]=xe(d[f],n,u.parent,o);return p}}function xe(t,e,n,i){var r=O(t);return r.fnContext=n,r.fnOptions=i,e.slot&&((r.data||(r.data={})).slot=e.slot),r}function _e(t,e){for(var n in e)t[da(n)]=e[n]}function be(t,e,n,o,s){if(!i(t)){var c=n.$options._base;if(l(t)&&(t=c.extend(t)),"function"==typeof t){var u;if(i(t.cid)&&(u=t,void 0===(t=wt(u,c,n))))return bt(u,e,n,o,s);e=e||{},Pe(t),r(e.model)&&Se(t.options,e);var h=ft(e,t,s);if(a(t.options.functional))return ye(t,h,e,n,o);var d=e.on;if(e.on=e.nativeOn,a(t.options.abstract)){var p=e.slot;e={},p&&(e.slot=p)}Me(e);var f=t.options.name||s;return new Wa("vue-component-"+t.cid+(f?"-"+f:""),e,void 0,void 0,void 0,n,{Ctor:t,propsData:h,listeners:d,tag:s,children:o},u)}}}function we(t,e,n,i){var a={_isComponent:!0,parent:e,_parentVnode:t,_parentElm:n||null,_refElm:i||null},o=t.data.inlineTemplate;return r(o)&&(a.render=o.render,a.staticRenderFns=o.staticRenderFns),new t.componentOptions.Ctor(a)}function Me(t){for(var e=t.hook||(t.hook={}),n=0;n<To.length;n++){var i=To[n];e[i]=So[i]}}function Se(t,e){var n=t.model&&t.model.prop||"value",i=t.model&&t.model.event||"input";(e.props||(e.props={}))[n]=e.model.value;var a=e.on||(e.on={});r(a[i])?a[i]=[e.model.callback].concat(a[i]):a[i]=e.model.callback}function Te(t,e,n,i,r,o){return(Array.isArray(n)||s(n))&&(r=i,i=n,n=void 0),a(o)&&(r=Co),Ae(t,e,n,i,r)}function Ae(t,e,n,i,a){if(r(n)&&r(n.__ob__))return Ya();if(r(n)&&r(n.is)&&(e=n.is),!e)return Ya();Array.isArray(i)&&"function"==typeof i[0]&&(n=n||{},n.scopedSlots={default:i[0]},i.length=0),a===Co?i=vt(i):a===Ao&&(i=mt(i));var o,s;if("string"==typeof e){var l;s=t.$vnode&&t.$vnode.ns||wa.getTagNamespace(e),o=wa.isReservedTag(e)?new Wa(wa.parsePlatformTagName(e),n,i,void 0,void 0,t):r(l=J(t.$options,"components",e))?be(l,n,t,i,e):new Wa(e,n,i,void 0,void 0,t)}else o=be(e,n,t,i);return Array.isArray(o)?o:r(o)?(r(s)&&Ce(o,s),r(n)&&Le(n),o):Ya()}function Ce(t,e,n){if(t.ns=e,"foreignObject"===t.tag&&(e=void 0,n=!0),r(t.children))for(var o=0,s=t.children.length;o<s;o++){var l=t.children[o];r(l.tag)&&(i(l.ns)||a(n)&&"svg"!==l.tag)&&Ce(l,e,n)}}function Le(t){l(t.style)&&ct(t.style),l(t.class)&&ct(t.class)}function Ee(t){t._vnode=null,t._staticTrees=null;var e=t.$options,n=t.$vnode=e._parentVnode,i=n&&n.context;t.$slots=Et(e._renderChildren,i),t.$scopedSlots=oa,t._c=function(e,n,i,r){return Te(t,e,n,i,r,!1)},t.$createElement=function(e,n,i,r){return Te(t,e,n,i,r,!0)};var r=n&&n.data;V(t,"$attrs",r&&r.attrs||oa,null,!0),V(t,"$listeners",e._parentListeners||oa,null,!0)}function Ie(t,e){var n=t.$options=Object.create(t.constructor.options),i=e._parentVnode;n.parent=e.parent,n._parentVnode=i,n._parentElm=e._parentElm,n._refElm=e._refElm;var r=i.componentOptions;n.propsData=r.propsData,n._parentListeners=r.listeners,n._renderChildren=r.children,n._componentTag=r.tag,e.render&&(n.render=e.render,n.staticRenderFns=e.staticRenderFns)}function Pe(t){var e=t.options;if(t.super){var n=Pe(t.super);if(n!==t.superOptions){t.superOptions=n;var i=De(t);i&&b(t.extendOptions,i),e=t.options=Z(n,t.extendOptions),e.name&&(e.components[e.name]=t)}}return e}function De(t){var e,n=t.options,i=t.extendOptions,r=t.sealedOptions;for(var a in n)n[a]!==r[a]&&(e||(e={}),e[a]=Re(n[a],i[a],r[a]));return e}function Re(t,e,n){if(Array.isArray(t)){var i=[];n=Array.isArray(n)?n:[n],e=Array.isArray(e)?e:[e];for(var r=0;r<t.length;r++)(e.indexOf(t[r])>=0||n.indexOf(t[r])<0)&&i.push(t[r]);return i}return t}function Oe(t){this._init(t)}function ke(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var n=_(arguments,1);return n.unshift(this),"function"==typeof t.install?t.install.apply(t,n):"function"==typeof t&&t.apply(null,n),e.push(t),this}}function Ne(t){t.mixin=function(t){return this.options=Z(this.options,t),this}}function ze(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var n=this,i=n.cid,r=t._Ctor||(t._Ctor={});if(r[i])return r[i];var a=t.name||n.options.name,o=function(t){this._init(t)};return o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.cid=e++,o.options=Z(n.options,t),o.super=n,o.options.props&&Be(o),o.options.computed&&Ve(o),o.extend=n.extend,o.mixin=n.mixin,o.use=n.use,_a.forEach(function(t){o[t]=n[t]}),a&&(o.options.components[a]=o),o.superOptions=n.options,o.extendOptions=t,o.sealedOptions=b({},o.options),r[i]=o,o}}function Be(t){var e=t.options.props;for(var n in e)Wt(t.prototype,"_props",n)}function Ve(t){var e=t.options.computed;for(var n in e)Jt(t.prototype,n,e[n])}function Fe(t){_a.forEach(function(e){t[e]=function(t,n){return n?("component"===e&&c(n)&&(n.name=n.name||t,n=this.options._base.extend(n)),"directive"===e&&"function"==typeof n&&(n={bind:n,update:n}),this.options[e+"s"][t]=n,n):this.options[e+"s"][t]}})}function Ge(t){return t&&(t.Ctor.options.name||t.tag)}function He(t,e){return Array.isArray(t)?t.indexOf(e)>-1:"string"==typeof t?t.split(",").indexOf(e)>-1:!!u(t)&&t.test(e)}function Ue(t,e){var n=t.cache,i=t.keys,r=t._vnode;for(var a in n){var o=n[a];if(o){var s=Ge(o.componentOptions);s&&!e(s)&&je(n,a,i,r)}}}function je(t,e,n,i){var r=t[e];!r||i&&r.tag===i.tag||r.componentInstance.$destroy(),t[e]=null,g(n,e)}function We(t){for(var e=t.data,n=t,i=t;r(i.componentInstance);)(i=i.componentInstance._vnode)&&i.data&&(e=$e(i.data,e));for(;r(n=n.parent);)n&&n.data&&(e=$e(e,n.data));return Ye(e.staticClass,e.class)}function $e(t,e){return{staticClass:Xe(t.staticClass,e.staticClass),class:r(t.class)?[t.class,e.class]:e.class}}function Ye(t,e){return r(t)||r(e)?Xe(t,qe(e)):""}function Xe(t,e){return t?e?t+" "+e:t:e||""}function qe(t){return Array.isArray(t)?Ze(t):l(t)?Je(t):"string"==typeof t?t:""}function Ze(t){for(var e,n="",i=0,a=t.length;i<a;i++)r(e=qe(t[i]))&&""!==e&&(n&&(n+=" "),n+=e);return n}function Je(t){var e="";for(var n in t)t[n]&&(e&&(e+=" "),e+=n);return e}function Ke(t){return Ko(t)?"svg":"math"===t?"math":void 0}function Qe(t){if(!Ta)return!0;if(ts(t))return!1;if(t=t.toLowerCase(),null!=es[t])return es[t];var e=document.createElement(t);return t.indexOf("-")>-1?es[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:es[t]=/HTMLUnknownElement/.test(e.toString())}function tn(t){if("string"==typeof t){var e=document.querySelector(t);return e||document.createElement("div")}return t}function en(t,e){var n=document.createElement(t);return"select"!==t?n:(e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n)}function nn(t,e){return document.createElementNS(Zo[t],e)}function rn(t){return document.createTextNode(t)}function an(t){return document.createComment(t)}function on(t,e,n){t.insertBefore(e,n)}function sn(t,e){t.removeChild(e)}function ln(t,e){t.appendChild(e)}function cn(t){return t.parentNode}function un(t){return t.nextSibling}function hn(t){return t.tagName}function dn(t,e){t.textContent=e}function pn(t,e){t.setAttribute(e,"")}function fn(t,e){var n=t.data.ref;if(r(n)){var i=t.context,a=t.componentInstance||t.elm,o=i.$refs;e?Array.isArray(o[n])?g(o[n],a):o[n]===a&&(o[n]=void 0):t.data.refInFor?Array.isArray(o[n])?o[n].indexOf(a)<0&&o[n].push(a):o[n]=[a]:o[n]=a}}function gn(t,e){return t.key===e.key&&(t.tag===e.tag&&t.isComment===e.isComment&&r(t.data)===r(e.data)&&mn(t,e)||a(t.isAsyncPlaceholder)&&t.asyncFactory===e.asyncFactory&&i(e.asyncFactory.error))}function mn(t,e){if("input"!==t.tag)return!0;var n,i=r(n=t.data)&&r(n=n.attrs)&&n.type,a=r(n=e.data)&&r(n=n.attrs)&&n.type;return i===a||ns(i)&&ns(a)}function vn(t,e,n){var i,a,o={};for(i=e;i<=n;++i)a=t[i].key,r(a)&&(o[a]=i);return o}function yn(t,e){(t.data.directives||e.data.directives)&&xn(t,e)}function xn(t,e){var n,i,r,a=t===as,o=e===as,s=_n(t.data.directives,t.context),l=_n(e.data.directives,e.context),c=[],u=[];for(n in l)i=s[n],r=l[n],i?(r.oldValue=i.value,wn(r,"update",e,t),r.def&&r.def.componentUpdated&&u.push(r)):(wn(r,"bind",e,t),r.def&&r.def.inserted&&c.push(r));if(c.length){var h=function(){for(var n=0;n<c.length;n++)wn(c[n],"inserted",e,t)};a?pt(e,"insert",h):h()}if(u.length&&pt(e,"postpatch",function(){for(var n=0;n<u.length;n++)wn(u[n],"componentUpdated",e,t)}),!a)for(n in s)l[n]||wn(s[n],"unbind",t,t,o)}function _n(t,e){var n=Object.create(null);if(!t)return n;var i,r;for(i=0;i<t.length;i++)r=t[i],r.modifiers||(r.modifiers=ls),n[bn(r)]=r,r.def=J(e.$options,"directives",r.name,!0);return n}function bn(t){return t.rawName||t.name+"."+Object.keys(t.modifiers||{}).join(".")}function wn(t,e,n,i,r){var a=t.def&&t.def[e];if(a)try{a(n.elm,t,n,i,r)}catch(i){it(i,n.context,"directive "+t.name+" "+e+" hook")}}function Mn(t,e){var n=e.componentOptions;if(!(r(n)&&!1===n.Ctor.options.inheritAttrs||i(t.data.attrs)&&i(e.data.attrs))){var a,o,s=e.elm,l=t.data.attrs||{},c=e.data.attrs||{};r(c.__ob__)&&(c=e.data.attrs=b({},c));for(a in c)o=c[a],l[a]!==o&&Sn(s,a,o);(Ea||Pa)&&c.value!==l.value&&Sn(s,"value",c.value);for(a in l)i(c[a])&&(Yo(a)?s.removeAttributeNS($o,Xo(a)):jo(a)||s.removeAttribute(a))}}function Sn(t,e,n){t.tagName.indexOf("-")>-1?Tn(t,e,n):Wo(e)?qo(n)?t.removeAttribute(e):(n="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,n)):jo(e)?t.setAttribute(e,qo(n)||"false"===n?"false":"true"):Yo(e)?qo(n)?t.removeAttributeNS($o,Xo(e)):t.setAttributeNS($o,e,n):Tn(t,e,n)}function Tn(t,e,n){if(qo(n))t.removeAttribute(e);else{if(Ea&&!Ia&&"TEXTAREA"===t.tagName&&"placeholder"===e&&!t.__ieph){var i=function(e){e.stopImmediatePropagation(),t.removeEventListener("input",i)};t.addEventListener("input",i),t.__ieph=!0}t.setAttribute(e,n)}}function An(t,e){var n=e.elm,a=e.data,o=t.data;if(!(i(a.staticClass)&&i(a.class)&&(i(o)||i(o.staticClass)&&i(o.class)))){var s=We(e),l=n._transitionClasses;r(l)&&(s=Xe(s,qe(l))),s!==n._prevClass&&(n.setAttribute("class",s),n._prevClass=s)}}function Cn(t){function e(){(o||(o=[])).push(t.slice(f,r).trim()),f=r+1}var n,i,r,a,o,s=!1,l=!1,c=!1,u=!1,h=0,d=0,p=0,f=0;for(r=0;r<t.length;r++)if(i=n,n=t.charCodeAt(r),s)39===n&&92!==i&&(s=!1);else if(l)34===n&&92!==i&&(l=!1);else if(c)96===n&&92!==i&&(c=!1);else if(u)47===n&&92!==i&&(u=!1);else if(124!==n||124===t.charCodeAt(r+1)||124===t.charCodeAt(r-1)||h||d||p){switch(n){case 34:l=!0;break;case 39:s=!0;break;case 96:c=!0;break;case 40:p++;break;case 41:p--;break;case 91:d++;break;case 93:d--;break;case 123:h++;break;case 125:h--}if(47===n){for(var g=r-1,m=void 0;g>=0&&" "===(m=t.charAt(g));g--);m&&ds.test(m)||(u=!0)}}else void 0===a?(f=r+1,a=t.slice(0,r).trim()):e();if(void 0===a?a=t.slice(0,r).trim():0!==f&&e(),o)for(r=0;r<o.length;r++)a=Ln(a,o[r]);return a}function Ln(t,e){var n=e.indexOf("(");if(n<0)return'_f("'+e+'")('+t+")";var i=e.slice(0,n),r=e.slice(n+1);return'_f("'+i+'")('+t+(")"!==r?","+r:r)}function En(t){console.error("[Vue compiler]: "+t)}function In(t,e){return t?t.map(function(t){return t[e]}).filter(function(t){return t}):[]}function Pn(t,e,n){(t.props||(t.props=[])).push({name:e,value:n}),t.plain=!1}function Dn(t,e,n){(t.attrs||(t.attrs=[])).push({name:e,value:n}),t.plain=!1}function Rn(t,e,n){t.attrsMap[e]=n,t.attrsList.push({name:e,value:n})}function On(t,e,n,i,r,a){(t.directives||(t.directives=[])).push({name:e,rawName:n,value:i,arg:r,modifiers:a}),t.plain=!1}function kn(t,e,n,i,r,a){i=i||oa,i.capture&&(delete i.capture,e="!"+e),i.once&&(delete i.once,e="~"+e),i.passive&&(delete i.passive,e="&"+e),"click"===e&&(i.right?(e="contextmenu",delete i.right):i.middle&&(e="mouseup"));var o;i.native?(delete i.native,o=t.nativeEvents||(t.nativeEvents={})):o=t.events||(t.events={});var s={value:n.trim()};i!==oa&&(s.modifiers=i);var l=o[e];Array.isArray(l)?r?l.unshift(s):l.push(s):o[e]=l?r?[s,l]:[l,s]:s,t.plain=!1}function Nn(t,e,n){var i=zn(t,":"+e)||zn(t,"v-bind:"+e);if(null!=i)return Cn(i);if(!1!==n){var r=zn(t,e);if(null!=r)return JSON.stringify(r)}}function zn(t,e,n){var i;if(null!=(i=t.attrsMap[e]))for(var r=t.attrsList,a=0,o=r.length;a<o;a++)if(r[a].name===e){r.splice(a,1);break}return n&&delete t.attrsMap[e],i}function Bn(t,e,n){var i=n||{},r=i.number,a=i.trim,o="$$v";a&&(o="(typeof $$v === 'string'? $$v.trim(): $$v)"),r&&(o="_n("+o+")");var s=Vn(e,o);t.model={value:"("+e+")",expression:'"'+e+'"',callback:"function ($$v) {"+s+"}"}}function Vn(t,e){var n=Fn(t);return null===n.key?t+"="+e:"$set("+n.exp+", "+n.key+", "+e+")"}function Fn(t){if(t=t.trim(),Do=t.length,t.indexOf("[")<0||t.lastIndexOf("]")<Do-1)return ko=t.lastIndexOf("."),ko>-1?{exp:t.slice(0,ko),key:'"'+t.slice(ko+1)+'"'}:{exp:t,key:null};for(Ro=t,ko=No=zo=0;!Hn();)Oo=Gn(),Un(Oo)?Wn(Oo):91===Oo&&jn(Oo);return{exp:t.slice(0,No),key:t.slice(No+1,zo)}}function Gn(){return Ro.charCodeAt(++ko)}function Hn(){return ko>=Do}function Un(t){return 34===t||39===t}function jn(t){var e=1;for(No=ko;!Hn();)if(t=Gn(),Un(t))Wn(t);else if(91===t&&e++,93===t&&e--,0===e){zo=ko;break}}function Wn(t){for(var e=t;!Hn()&&(t=Gn())!==e;);}function $n(t,e,n){Bo=n;var i=e.value,r=e.modifiers,a=t.tag,o=t.attrsMap.type;if(t.component)return Bn(t,i,r),!1;if("select"===a)qn(t,i,r);else if("input"===a&&"checkbox"===o)Yn(t,i,r);else if("input"===a&&"radio"===o)Xn(t,i,r);else if("input"===a||"textarea"===a)Zn(t,i,r);else if(!wa.isReservedTag(a))return Bn(t,i,r),!1;return!0}function Yn(t,e,n){var i=n&&n.number,r=Nn(t,"value")||"null",a=Nn(t,"true-value")||"true",o=Nn(t,"false-value")||"false";Pn(t,"checked","Array.isArray("+e+")?_i("+e+","+r+")>-1"+("true"===a?":("+e+")":":_q("+e+","+a+")")),kn(t,"change","var $$a="+e+",$$el=$event.target,$$c=$$el.checked?("+a+"):("+o+");if(Array.isArray($$a)){var $$v="+(i?"_n("+r+")":r)+",$$i=_i($$a,$$v);if($$el.checked){$$i<0&&("+Vn(e,"$$a.concat([$$v])")+")}else{$$i>-1&&("+Vn(e,"$$a.slice(0,$$i).concat($$a.slice($$i+1))")+")}}else{"+Vn(e,"$$c")+"}",null,!0)}function Xn(t,e,n){var i=n&&n.number,r=Nn(t,"value")||"null";r=i?"_n("+r+")":r,Pn(t,"checked","_q("+e+","+r+")"),kn(t,"change",Vn(e,r),null,!0)}function qn(t,e,n){var i=n&&n.number,r='Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = "_value" in o ? o._value : o.value;return '+(i?"_n(val)":"val")+"})",a="var $$selectedVal = "+r+";";a=a+" "+Vn(e,"$event.target.multiple ? $$selectedVal : $$selectedVal[0]"),kn(t,"change",a,null,!0)}function Zn(t,e,n){var i=t.attrsMap.type,r=n||{},a=r.lazy,o=r.number,s=r.trim,l=!a&&"range"!==i,c=a?"change":"range"===i?ps:"input",u="$event.target.value";s&&(u="$event.target.value.trim()"),o&&(u="_n("+u+")");var h=Vn(e,u);l&&(h="if($event.target.composing)return;"+h),Pn(t,"value","("+e+")"),kn(t,c,h,null,!0),(s||o)&&kn(t,"blur","$forceUpdate()")}function Jn(t){if(r(t[ps])){var e=Ea?"change":"input";t[e]=[].concat(t[ps],t[e]||[]),delete t[ps]}r(t[fs])&&(t.change=[].concat(t[fs],t.change||[]),delete t[fs])}function Kn(t,e,n){var i=Vo;return function r(){null!==t.apply(null,arguments)&&ti(e,r,n,i)}}function Qn(t,e,n,i,r){e=st(e),n&&(e=Kn(e,t,i)),Vo.addEventListener(t,e,Oa?{capture:i,passive:r}:i)}function ti(t,e,n,i){(i||Vo).removeEventListener(t,e._withTask||e,n)}function ei(t,e){if(!i(t.data.on)||!i(e.data.on)){var n=e.data.on||{},r=t.data.on||{};Vo=e.elm,Jn(n),dt(n,r,Qn,ti,e.context),Vo=void 0}}function ni(t,e){if(!i(t.data.domProps)||!i(e.data.domProps)){var n,a,o=e.elm,s=t.data.domProps||{},l=e.data.domProps||{};r(l.__ob__)&&(l=e.data.domProps=b({},l));for(n in s)i(l[n])&&(o[n]="");for(n in l){if(a=l[n],"textContent"===n||"innerHTML"===n){if(e.children&&(e.children.length=0),a===s[n])continue;1===o.childNodes.length&&o.removeChild(o.childNodes[0])}if("value"===n){o._value=a;var c=i(a)?"":String(a);ii(o,c)&&(o.value=c)}else o[n]=a}}}function ii(t,e){return!t.composing&&("OPTION"===t.tagName||ri(t,e)||ai(t,e))}function ri(t,e){var n=!0;try{n=document.activeElement!==t}catch(t){}return n&&t.value!==e}function ai(t,e){var n=t.value,i=t._vModifiers;if(r(i)){if(i.lazy)return!1;if(i.number)return p(n)!==p(e);if(i.trim)return n.trim()!==e.trim()}return n!==e}function oi(t){var e=si(t.style);return t.staticStyle?b(t.staticStyle,e):e}function si(t){return Array.isArray(t)?w(t):"string"==typeof t?vs(t):t}function li(t,e){var n,i={};if(e)for(var r=t;r.componentInstance;)(r=r.componentInstance._vnode)&&r.data&&(n=oi(r.data))&&b(i,n);(n=oi(t.data))&&b(i,n);for(var a=t;a=a.parent;)a.data&&(n=oi(a.data))&&b(i,n);return i}function ci(t,e){var n=e.data,a=t.data;if(!(i(n.staticStyle)&&i(n.style)&&i(a.staticStyle)&&i(a.style))){var o,s,l=e.elm,c=a.staticStyle,u=a.normalizedStyle||a.style||{},h=c||u,d=si(e.data.style)||{};e.data.normalizedStyle=r(d.__ob__)?b({},d):d;var p=li(e,!0);for(s in h)i(p[s])&&_s(l,s,"");for(s in p)(o=p[s])!==h[s]&&_s(l,s,null==o?"":o)}}function ui(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(/\s+/).forEach(function(e){return t.classList.add(e)}):t.classList.add(e);else{var n=" "+(t.getAttribute("class")||"")+" ";n.indexOf(" "+e+" ")<0&&t.setAttribute("class",(n+e).trim())}}function hi(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(/\s+/).forEach(function(e){return t.classList.remove(e)}):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{for(var n=" "+(t.getAttribute("class")||"")+" ",i=" "+e+" ";n.indexOf(i)>=0;)n=n.replace(i," ");n=n.trim(),n?t.setAttribute("class",n):t.removeAttribute("class")}}function di(t){if(t){if("object"==typeof t){var e={};return!1!==t.css&&b(e,Ss(t.name||"v")),b(e,t),e}return"string"==typeof t?Ss(t):void 0}}function pi(t){Ds(function(){Ds(t)})}function fi(t,e){var n=t._transitionClasses||(t._transitionClasses=[]);n.indexOf(e)<0&&(n.push(e),ui(t,e))}function gi(t,e){t._transitionClasses&&g(t._transitionClasses,e),hi(t,e)}function mi(t,e,n){var i=vi(t,e),r=i.type,a=i.timeout,o=i.propCount;if(!r)return n();var s=r===As?Es:Ps,l=0,c=function(){t.removeEventListener(s,u),n()},u=function(e){e.target===t&&++l>=o&&c()};setTimeout(function(){l<o&&c()},a+1),t.addEventListener(s,u)}function vi(t,e){var n,i=window.getComputedStyle(t),r=i[Ls+"Delay"].split(", "),a=i[Ls+"Duration"].split(", "),o=yi(r,a),s=i[Is+"Delay"].split(", "),l=i[Is+"Duration"].split(", "),c=yi(s,l),u=0,h=0;return e===As?o>0&&(n=As,u=o,h=a.length):e===Cs?c>0&&(n=Cs,u=c,h=l.length):(u=Math.max(o,c),n=u>0?o>c?As:Cs:null,h=n?n===As?a.length:l.length:0),{type:n,timeout:u,propCount:h,hasTransform:n===As&&Rs.test(i[Ls+"Property"])}}function yi(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max.apply(null,e.map(function(e,n){return xi(e)+xi(t[n])}))}function xi(t){return 1e3*Number(t.slice(0,-1))}function _i(t,e){var n=t.elm;r(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var a=di(t.data.transition);if(!i(a)&&!r(n._enterCb)&&1===n.nodeType){for(var o=a.css,s=a.type,c=a.enterClass,u=a.enterToClass,h=a.enterActiveClass,d=a.appearClass,f=a.appearToClass,g=a.appearActiveClass,m=a.beforeEnter,v=a.enter,y=a.afterEnter,x=a.enterCancelled,_=a.beforeAppear,b=a.appear,w=a.afterAppear,M=a.appearCancelled,S=a.duration,T=po,C=po.$vnode;C&&C.parent;)C=C.parent,T=C.context;var L=!T._isMounted||!t.isRootInsert;if(!L||b||""===b){var E=L&&d?d:c,I=L&&g?g:h,P=L&&f?f:u,D=L?_||m:m,R=L&&"function"==typeof b?b:v,O=L?w||y:y,k=L?M||x:x,N=p(l(S)?S.enter:S),z=!1!==o&&!Ia,B=Mi(R),V=n._enterCb=A(function(){z&&(gi(n,P),gi(n,I)),V.cancelled?(z&&gi(n,E),k&&k(n)):O&&O(n),n._enterCb=null});t.data.show||pt(t,"insert",function(){var e=n.parentNode,i=e&&e._pending&&e._pending[t.key];i&&i.tag===t.tag&&i.elm._leaveCb&&i.elm._leaveCb(),R&&R(n,V)}),D&&D(n),z&&(fi(n,E),fi(n,I),pi(function(){gi(n,E),V.cancelled||(fi(n,P),B||(wi(N)?setTimeout(V,N):mi(n,s,V)))})),t.data.show&&(e&&e(),R&&R(n,V)),z||B||V()}}}function bi(t,e){function n(){M.cancelled||(t.data.show||((a.parentNode._pending||(a.parentNode._pending={}))[t.key]=t),f&&f(a),_&&(fi(a,u),fi(a,d),pi(function(){gi(a,u),M.cancelled||(fi(a,h),b||(wi(w)?setTimeout(M,w):mi(a,c,M)))})),g&&g(a,M),_||b||M())}var a=t.elm;r(a._enterCb)&&(a._enterCb.cancelled=!0,a._enterCb());var o=di(t.data.transition);if(i(o)||1!==a.nodeType)return e();if(!r(a._leaveCb)){var s=o.css,c=o.type,u=o.leaveClass,h=o.leaveToClass,d=o.leaveActiveClass,f=o.beforeLeave,g=o.leave,m=o.afterLeave,v=o.leaveCancelled,y=o.delayLeave,x=o.duration,_=!1!==s&&!Ia,b=Mi(g),w=p(l(x)?x.leave:x),M=a._leaveCb=A(function(){a.parentNode&&a.parentNode._pending&&(a.parentNode._pending[t.key]=null),_&&(gi(a,h),gi(a,d)),M.cancelled?(_&&gi(a,u),v&&v(a)):(e(),m&&m(a)),a._leaveCb=null});y?y(n):n()}}function wi(t){return"number"==typeof t&&!isNaN(t)}function Mi(t){if(i(t))return!1;var e=t.fns;return r(e)?Mi(Array.isArray(e)?e[0]:e):(t._length||t.length)>1}function Si(t,e){!0!==e.data.show&&_i(e)}function Ti(t,e,n){Ai(t,e,n),(Ea||Pa)&&setTimeout(function(){Ai(t,e,n)},0)}function Ai(t,e,n){var i=e.value,r=t.multiple;if(!r||Array.isArray(i)){for(var a,o,s=0,l=t.options.length;s<l;s++)if(o=t.options[s],r)a=T(i,Li(o))>-1,o.selected!==a&&(o.selected=a);else if(S(Li(o),i))return void(t.selectedIndex!==s&&(t.selectedIndex=s));r||(t.selectedIndex=-1)}}function Ci(t,e){return e.every(function(e){return!S(e,t)})}function Li(t){return"_value"in t?t._value:t.value}function Ei(t){t.target.composing=!0}function Ii(t){t.target.composing&&(t.target.composing=!1,Pi(t.target,"input"))}function Pi(t,e){var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}function Di(t){return!t.componentInstance||t.data&&t.data.transition?t:Di(t.componentInstance._vnode)}function Ri(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?Ri(St(e.children)):t}function Oi(t){var e={},n=t.$options;for(var i in n.propsData)e[i]=t[i];var r=n._parentListeners;for(var a in r)e[da(a)]=r[a];return e}function ki(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}function Ni(t){for(;t=t.parent;)if(t.data.transition)return!0}function zi(t,e){return e.key===t.key&&e.tag===t.tag}function Bi(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function Vi(t){t.data.newPos=t.elm.getBoundingClientRect()}function Fi(t){var e=t.data.pos,n=t.data.newPos,i=e.left-n.left,r=e.top-n.top;if(i||r){t.data.moved=!0;var a=t.elm.style;a.transform=a.WebkitTransform="translate("+i+"px,"+r+"px)",a.transitionDuration="0s"}}function Gi(t,e){var n=e?qs(e):Ys;if(n.test(t)){for(var i,r,a,o=[],s=[],l=n.lastIndex=0;i=n.exec(t);){r=i.index,r>l&&(s.push(a=t.slice(l,r)),o.push(JSON.stringify(a)));var c=Cn(i[1].trim());o.push("_s("+c+")"),s.push({"@binding":c}),l=r+i[0].length}return l<t.length&&(s.push(a=t.slice(l)),o.push(JSON.stringify(a))),{expression:o.join("+"),tokens:s}}}function Hi(t,e){var n=(e.warn,zn(t,"class"));n&&(t.staticClass=JSON.stringify(n));var i=Nn(t,"class",!1);i&&(t.classBinding=i)}function Ui(t){var e="";return t.staticClass&&(e+="staticClass:"+t.staticClass+","),t.classBinding&&(e+="class:"+t.classBinding+","),e}function ji(t,e){var n=(e.warn,zn(t,"style"));if(n){t.staticStyle=JSON.stringify(vs(n))}var i=Nn(t,"style",!1);i&&(t.styleBinding=i)}function Wi(t){var e="";return t.staticStyle&&(e+="staticStyle:"+t.staticStyle+","),t.styleBinding&&(e+="style:("+t.styleBinding+"),"),e}function $i(t,e){var n=e?Cl:Al;return t.replace(n,function(t){return Tl[t]})}function Yi(t,e){function n(e){u+=e,t=t.substring(e)}function i(t,n,i){var r,s;if(null==n&&(n=u),null==i&&(i=u),t&&(s=t.toLowerCase()),t)for(r=o.length-1;r>=0&&o[r].lowerCasedTag!==s;r--);else r=0;if(r>=0){for(var l=o.length-1;l>=r;l--)e.end&&e.end(o[l].tag,n,i);o.length=r,a=r&&o[r-1].tag}else"br"===s?e.start&&e.start(t,[],!0,n,i):"p"===s&&(e.start&&e.start(t,[],!1,n,i),e.end&&e.end(t,n,i))}for(var r,a,o=[],s=e.expectHTML,l=e.isUnaryTag||va,c=e.canBeLeftOpenTag||va,u=0;t;){if(r=t,a&&Ml(a)){var h=0,d=a.toLowerCase(),p=Sl[d]||(Sl[d]=new RegExp("([\\s\\S]*?)(</"+d+"[^>]*>)","i")),f=t.replace(p,function(t,n,i){return h=i.length,Ml(d)||"noscript"===d||(n=n.replace(/<!\--([\s\S]*?)-->/g,"$1").replace(/<!\[CDATA\[([\s\S]*?)]]>/g,"$1")),El(d,n)&&(n=n.slice(1)),e.chars&&e.chars(n),""});u+=t.length-f.length,t=f,i(d,u-h,u)}else{var g=t.indexOf("<");if(0===g){if(cl.test(t)){var m=t.indexOf("--\x3e");if(m>=0){e.shouldKeepComment&&e.comment(t.substring(4,m)),n(m+3);continue}}if(ul.test(t)){var v=t.indexOf("]>");if(v>=0){n(v+2);continue}}var y=t.match(ll);if(y){n(y[0].length);continue}var x=t.match(sl);if(x){var _=u;n(x[0].length),i(x[1],_,u);continue}var b=function(){var e=t.match(al);if(e){var i={tagName:e[1],attrs:[],start:u};n(e[0].length);for(var r,a;!(r=t.match(ol))&&(a=t.match(nl));)n(a[0].length),i.attrs.push(a);if(r)return i.unarySlash=r[1],n(r[0].length),i.end=u,i}}();if(b){!function(t){var n=t.tagName,r=t.unarySlash;s&&("p"===a&&el(n)&&i(a),c(n)&&a===n&&i(n));for(var u=l(n)||!!r,h=t.attrs.length,d=new Array(h),p=0;p<h;p++){var f=t.attrs[p];hl&&-1===f[0].indexOf('""')&&(""===f[3]&&delete f[3],""===f[4]&&delete f[4],""===f[5]&&delete f[5]);var g=f[3]||f[4]||f[5]||"",m="a"===n&&"href"===f[1]?e.shouldDecodeNewlinesForHref:e.shouldDecodeNewlines;d[p]={name:f[1],value:$i(g,m)}}u||(o.push({tag:n,lowerCasedTag:n.toLowerCase(),attrs:d}),a=n),e.start&&e.start(n,d,u,t.start,t.end)}(b),El(a,t)&&n(1);continue}}var w=void 0,M=void 0,S=void 0;if(g>=0){for(M=t.slice(g);!(sl.test(M)||al.test(M)||cl.test(M)||ul.test(M)||(S=M.indexOf("<",1))<0);)g+=S,M=t.slice(g);w=t.substring(0,g),n(g)}g<0&&(w=t,t=""),e.chars&&w&&e.chars(w)}if(t===r){e.chars&&e.chars(t);break}}i()}function Xi(t,e,n){return{type:1,tag:t,attrsList:e,attrsMap:pr(e),parent:n,children:[]}}function qi(t,e){function n(t){t.pre&&(s=!1),vl(t.tag)&&(l=!1);for(var n=0;n<ml.length;n++)ml[n](t,e)}dl=e.warn||En,vl=e.isPreTag||va,yl=e.mustUseProp||va,xl=e.getTagNamespace||va,fl=In(e.modules,"transformNode"),gl=In(e.modules,"preTransformNode"),ml=In(e.modules,"postTransformNode"),pl=e.delimiters;var i,r,a=[],o=!1!==e.preserveWhitespace,s=!1,l=!1;return Yi(t,{warn:dl,expectHTML:e.expectHTML,isUnaryTag:e.isUnaryTag,canBeLeftOpenTag:e.canBeLeftOpenTag,shouldDecodeNewlines:e.shouldDecodeNewlines,shouldDecodeNewlinesForHref:e.shouldDecodeNewlinesForHref,shouldKeepComment:e.comments,start:function(t,o,c){var u=r&&r.ns||xl(t);Ea&&"svg"===u&&(o=mr(o));var h=Xi(t,o,r);u&&(h.ns=u),gr(h)&&!Ba()&&(h.forbidden=!0);for(var d=0;d<gl.length;d++)h=gl[d](h,e)||h;if(s||(Zi(h),h.pre&&(s=!0)),vl(h.tag)&&(l=!0),s?Ji(h):h.processed||(er(h),ir(h),sr(h),Ki(h,e)),i?a.length||i.if&&(h.elseif||h.else)&&or(i,{exp:h.elseif,block:h}):i=h,r&&!h.forbidden)if(h.elseif||h.else)rr(h,r);else if(h.slotScope){r.plain=!1;var p=h.slotTarget||'"default"';(r.scopedSlots||(r.scopedSlots={}))[p]=h}else r.children.push(h),h.parent=r;c?n(h):(r=h,a.push(h))},end:function(){var t=a[a.length-1],e=t.children[t.children.length-1];e&&3===e.type&&" "===e.text&&!l&&t.children.pop(),a.length-=1,r=a[a.length-1],n(t)},chars:function(t){if(r&&(!Ea||"textarea"!==r.tag||r.attrsMap.placeholder!==t)){var e=r.children;if(t=l||t.trim()?fr(r)?t:Bl(t):o&&e.length?" ":""){var n;!s&&" "!==t&&(n=Gi(t,pl))?e.push({type:2,expression:n.expression,tokens:n.tokens,text:t}):" "===t&&e.length&&" "===e[e.length-1].text||e.push({type:3,text:t})}}},comment:function(t){r.children.push({type:3,text:t,isComment:!0})}}),i}function Zi(t){null!=zn(t,"v-pre")&&(t.pre=!0)}function Ji(t){var e=t.attrsList.length;if(e)for(var n=t.attrs=new Array(e),i=0;i<e;i++)n[i]={name:t.attrsList[i].name,value:JSON.stringify(t.attrsList[i].value)};else t.pre||(t.plain=!0)}function Ki(t,e){Qi(t),t.plain=!t.key&&!t.attrsList.length,tr(t),lr(t),cr(t);for(var n=0;n<fl.length;n++)t=fl[n](t,e)||t;ur(t)}function Qi(t){var e=Nn(t,"key");e&&(t.key=e)}function tr(t){var e=Nn(t,"ref");e&&(t.ref=e,t.refInFor=hr(t))}function er(t){var e;if(e=zn(t,"v-for")){var n=nr(e);n&&b(t,n)}}function nr(t){var e=t.match(Dl);if(e){var n={};n.for=e[2].trim();var i=e[1].trim().replace(Ol,""),r=i.match(Rl);return r?(n.alias=i.replace(Rl,""),n.iterator1=r[1].trim(),r[2]&&(n.iterator2=r[2].trim())):n.alias=i,n}}function ir(t){var e=zn(t,"v-if");if(e)t.if=e,or(t,{exp:e,block:t});else{null!=zn(t,"v-else")&&(t.else=!0);var n=zn(t,"v-else-if");n&&(t.elseif=n)}}function rr(t,e){var n=ar(e.children);n&&n.if&&or(n,{exp:t.elseif,block:t})}function ar(t){for(var e=t.length;e--;){if(1===t[e].type)return t[e];t.pop()}}function or(t,e){t.ifConditions||(t.ifConditions=[]),t.ifConditions.push(e)}function sr(t){null!=zn(t,"v-once")&&(t.once=!0)}function lr(t){if("slot"===t.tag)t.slotName=Nn(t,"name");else{var e;"template"===t.tag?(e=zn(t,"scope"),t.slotScope=e||zn(t,"slot-scope")):(e=zn(t,"slot-scope"))&&(t.slotScope=e);var n=Nn(t,"slot");n&&(t.slotTarget='""'===n?'"default"':n,"template"===t.tag||t.slotScope||Dn(t,"slot",n))}}function cr(t){var e;(e=Nn(t,"is"))&&(t.component=e),null!=zn(t,"inline-template")&&(t.inlineTemplate=!0)}function ur(t){var e,n,i,r,a,o,s,l=t.attrsList;for(e=0,n=l.length;e<n;e++)if(i=r=l[e].name,a=l[e].value,Pl.test(i))if(t.hasBindings=!0,o=dr(i),o&&(i=i.replace(zl,"")),Nl.test(i))i=i.replace(Nl,""),a=Cn(a),s=!1,o&&(o.prop&&(s=!0,"innerHtml"===(i=da(i))&&(i="innerHTML")),o.camel&&(i=da(i)),o.sync&&kn(t,"update:"+da(i),Vn(a,"$event"))),s||!t.component&&yl(t.tag,t.attrsMap.type,i)?Pn(t,i,a):Dn(t,i,a);else if(Il.test(i))i=i.replace(Il,""),kn(t,i,a,o,!1,dl);else{i=i.replace(Pl,"");var c=i.match(kl),u=c&&c[1];u&&(i=i.slice(0,-(u.length+1))),On(t,i,r,a,u,o)}else{Dn(t,i,JSON.stringify(a)),!t.component&&"muted"===i&&yl(t.tag,t.attrsMap.type,i)&&Pn(t,i,"true")}}function hr(t){for(var e=t;e;){if(void 0!==e.for)return!0;e=e.parent}return!1}function dr(t){var e=t.match(zl);if(e){var n={};return e.forEach(function(t){n[t.slice(1)]=!0}),n}}function pr(t){for(var e={},n=0,i=t.length;n<i;n++)e[t[n].name]=t[n].value;return e}function fr(t){return"script"===t.tag||"style"===t.tag}function gr(t){return"style"===t.tag||"script"===t.tag&&(!t.attrsMap.type||"text/javascript"===t.attrsMap.type)}function mr(t){for(var e=[],n=0;n<t.length;n++){var i=t[n];Vl.test(i.name)||(i.name=i.name.replace(Fl,""),e.push(i))}return e}function vr(t,e){if("input"===t.tag){var n=t.attrsMap;if(!n["v-model"])return;var i;if((n[":type"]||n["v-bind:type"])&&(i=Nn(t,"type")),n.type||i||!n["v-bind"]||(i="("+n["v-bind"]+").type"),i){var r=zn(t,"v-if",!0),a=r?"&&("+r+")":"",o=null!=zn(t,"v-else",!0),s=zn(t,"v-else-if",!0),l=yr(t);er(l),Rn(l,"type","checkbox"),Ki(l,e),l.processed=!0,l.if="("+i+")==='checkbox'"+a,or(l,{exp:l.if,block:l});var c=yr(t);zn(c,"v-for",!0),Rn(c,"type","radio"),Ki(c,e),or(l,{exp:"("+i+")==='radio'"+a,block:c});var u=yr(t);return zn(u,"v-for",!0),Rn(u,":type",i),Ki(u,e),or(l,{exp:r,block:u}),o?l.else=!0:s&&(l.elseif=s),l}}}function yr(t){return Xi(t.tag,t.attrsList.slice(),t.parent)}function xr(t,e){e.value&&Pn(t,"textContent","_s("+e.value+")")}function _r(t,e){e.value&&Pn(t,"innerHTML","_s("+e.value+")")}function br(t,e){t&&(_l=Wl(e.staticKeys||""),bl=e.isReservedTag||va,Mr(t),Sr(t,!1))}function wr(t){return f("type,tag,attrsList,attrsMap,plain,parent,children,attrs"+(t?","+t:""))}function Mr(t){if(t.static=Tr(t),1===t.type){if(!bl(t.tag)&&"slot"!==t.tag&&null==t.attrsMap["inline-template"])return;for(var e=0,n=t.children.length;e<n;e++){var i=t.children[e];Mr(i),i.static||(t.static=!1)}if(t.ifConditions)for(var r=1,a=t.ifConditions.length;r<a;r++){var o=t.ifConditions[r].block;Mr(o),o.static||(t.static=!1)}}}function Sr(t,e){if(1===t.type){if((t.static||t.once)&&(t.staticInFor=e),t.static&&t.children.length&&(1!==t.children.length||3!==t.children[0].type))return void(t.staticRoot=!0);if(t.staticRoot=!1,t.children)for(var n=0,i=t.children.length;n<i;n++)Sr(t.children[n],e||!!t.for);if(t.ifConditions)for(var r=1,a=t.ifConditions.length;r<a;r++)Sr(t.ifConditions[r].block,e)}}function Tr(t){return 2!==t.type&&(3===t.type||!(!t.pre&&(t.hasBindings||t.if||t.for||la(t.tag)||!bl(t.tag)||Ar(t)||!Object.keys(t).every(_l))))}function Ar(t){for(;t.parent;){if(t=t.parent,"template"!==t.tag)return!1;if(t.for)return!0}return!1}function Cr(t,e,n){var i=e?"nativeOn:{":"on:{";for(var r in t)i+='"'+r+'":'+Lr(r,t[r])+",";return i.slice(0,-1)+"}"}function Lr(t,e){if(!e)return"function(){}";if(Array.isArray(e))return"["+e.map(function(e){return Lr(t,e)}).join(",")+"]";var n=Yl.test(e.value),i=$l.test(e.value);if(e.modifiers){var r="",a="",o=[];for(var s in e.modifiers)if(Jl[s])a+=Jl[s],Xl[s]&&o.push(s);else if("exact"===s){var l=e.modifiers;a+=Zl(["ctrl","shift","alt","meta"].filter(function(t){return!l[t]}).map(function(t){return"$event."+t+"Key"}).join("||"))}else o.push(s);o.length&&(r+=Er(o)),a&&(r+=a);return"function($event){"+r+(n?"return "+e.value+"($event)":i?"return ("+e.value+")($event)":e.value)+"}"}return n||i?e.value:"function($event){"+e.value+"}"}function Er(t){return"if(!('button' in $event)&&"+t.map(Ir).join("&&")+")return null;"}function Ir(t){var e=parseInt(t,10);if(e)return"$event.keyCode!=="+e;var n=Xl[t],i=ql[t];return"_k($event.keyCode,"+JSON.stringify(t)+","+JSON.stringify(n)+",$event.key,"+JSON.stringify(i)+")"}function Pr(t,e){t.wrapListeners=function(t){return"_g("+t+","+e.value+")"}}function Dr(t,e){t.wrapData=function(n){return"_b("+n+",'"+t.tag+"',"+e.value+","+(e.modifiers&&e.modifiers.prop?"true":"false")+(e.modifiers&&e.modifiers.sync?",true":"")+")"}}function Rr(t,e){var n=new Ql(e);return{render:"with(this){return "+(t?Or(t,n):'_c("div")')+"}",staticRenderFns:n.staticRenderFns}}function Or(t,e){if(t.staticRoot&&!t.staticProcessed)return kr(t,e);if(t.once&&!t.onceProcessed)return Nr(t,e);if(t.for&&!t.forProcessed)return Vr(t,e);if(t.if&&!t.ifProcessed)return zr(t,e);if("template"!==t.tag||t.slotTarget){if("slot"===t.tag)return Kr(t,e);var n;if(t.component)n=Qr(t.component,t,e);else{var i=t.plain?void 0:Fr(t,e),r=t.inlineTemplate?null:$r(t,e,!0);n="_c('"+t.tag+"'"+(i?","+i:"")+(r?","+r:"")+")"}for(var a=0;a<e.transforms.length;a++)n=e.transforms[a](t,n);return n}return $r(t,e)||"void 0"}function kr(t,e){return t.staticProcessed=!0,e.staticRenderFns.push("with(this){return "+Or(t,e)+"}"),"_m("+(e.staticRenderFns.length-1)+(t.staticInFor?",true":"")+")"}function Nr(t,e){if(t.onceProcessed=!0,t.if&&!t.ifProcessed)return zr(t,e);if(t.staticInFor){for(var n="",i=t.parent;i;){if(i.for){n=i.key;break}i=i.parent}return n?"_o("+Or(t,e)+","+e.onceId+++","+n+")":Or(t,e)}return kr(t,e)}function zr(t,e,n,i){return t.ifProcessed=!0,Br(t.ifConditions.slice(),e,n,i)}function Br(t,e,n,i){function r(t){return n?n(t,e):t.once?Nr(t,e):Or(t,e)}if(!t.length)return i||"_e()";var a=t.shift();return a.exp?"("+a.exp+")?"+r(a.block)+":"+Br(t,e,n,i):""+r(a.block)}function Vr(t,e,n,i){var r=t.for,a=t.alias,o=t.iterator1?","+t.iterator1:"",s=t.iterator2?","+t.iterator2:"";return t.forProcessed=!0,(i||"_l")+"(("+r+"),function("+a+o+s+"){return "+(n||Or)(t,e)+"})"}function Fr(t,e){var n="{",i=Gr(t,e);i&&(n+=i+","),t.key&&(n+="key:"+t.key+","),t.ref&&(n+="ref:"+t.ref+","),t.refInFor&&(n+="refInFor:true,"),t.pre&&(n+="pre:true,"),t.component&&(n+='tag:"'+t.tag+'",');for(var r=0;r<e.dataGenFns.length;r++)n+=e.dataGenFns[r](t);if(t.attrs&&(n+="attrs:{"+ta(t.attrs)+"},"),t.props&&(n+="domProps:{"+ta(t.props)+"},"),t.events&&(n+=Cr(t.events,!1,e.warn)+","),t.nativeEvents&&(n+=Cr(t.nativeEvents,!0,e.warn)+","),t.slotTarget&&!t.slotScope&&(n+="slot:"+t.slotTarget+","),t.scopedSlots&&(n+=Ur(t.scopedSlots,e)+","),t.model&&(n+="model:{value:"+t.model.value+",callback:"+t.model.callback+",expression:"+t.model.expression+"},"),t.inlineTemplate){var a=Hr(t,e);a&&(n+=a+",")}return n=n.replace(/,$/,"")+"}",t.wrapData&&(n=t.wrapData(n)),t.wrapListeners&&(n=t.wrapListeners(n)),n}function Gr(t,e){var n=t.directives;if(n){var i,r,a,o,s="directives:[",l=!1;for(i=0,r=n.length;i<r;i++){a=n[i],o=!0;var c=e.directives[a.name];c&&(o=!!c(t,a,e.warn)),o&&(l=!0,s+='{name:"'+a.name+'",rawName:"'+a.rawName+'"'+(a.value?",value:("+a.value+"),expression:"+JSON.stringify(a.value):"")+(a.arg?',arg:"'+a.arg+'"':"")+(a.modifiers?",modifiers:"+JSON.stringify(a.modifiers):"")+"},")}return l?s.slice(0,-1)+"]":void 0}}function Hr(t,e){var n=t.children[0];if(1===n.type){var i=Rr(n,e.options);return"inlineTemplate:{render:function(){"+i.render+"},staticRenderFns:["+i.staticRenderFns.map(function(t){return"function(){"+t+"}"}).join(",")+"]}"}}function Ur(t,e){return"scopedSlots:_u(["+Object.keys(t).map(function(n){return jr(n,t[n],e)}).join(",")+"])"}function jr(t,e,n){return e.for&&!e.forProcessed?Wr(t,e,n):"{key:"+t+",fn:function("+String(e.slotScope)+"){return "+("template"===e.tag?e.if?e.if+"?"+($r(e,n)||"undefined")+":undefined":$r(e,n)||"undefined":Or(e,n))+"}}"}function Wr(t,e,n){var i=e.for,r=e.alias,a=e.iterator1?","+e.iterator1:"",o=e.iterator2?","+e.iterator2:"";return e.forProcessed=!0,"_l(("+i+"),function("+r+a+o+"){return "+jr(t,e,n)+"})"}function $r(t,e,n,i,r){var a=t.children;if(a.length){var o=a[0];if(1===a.length&&o.for&&"template"!==o.tag&&"slot"!==o.tag)return(i||Or)(o,e);var s=n?Yr(a,e.maybeComponent):0,l=r||qr;return"["+a.map(function(t){return l(t,e)}).join(",")+"]"+(s?","+s:"")}}function Yr(t,e){for(var n=0,i=0;i<t.length;i++){var r=t[i];if(1===r.type){if(Xr(r)||r.ifConditions&&r.ifConditions.some(function(t){return Xr(t.block)})){n=2;break}(e(r)||r.ifConditions&&r.ifConditions.some(function(t){return e(t.block)}))&&(n=1)}}return n}function Xr(t){return void 0!==t.for||"template"===t.tag||"slot"===t.tag}function qr(t,e){return 1===t.type?Or(t,e):3===t.type&&t.isComment?Jr(t):Zr(t)}function Zr(t){return"_v("+(2===t.type?t.expression:ea(JSON.stringify(t.text)))+")"}function Jr(t){return"_e("+JSON.stringify(t.text)+")"}function Kr(t,e){var n=t.slotName||'"default"',i=$r(t,e),r="_t("+n+(i?","+i:""),a=t.attrs&&"{"+t.attrs.map(function(t){return da(t.name)+":"+t.value}).join(",")+"}",o=t.attrsMap["v-bind"];return!a&&!o||i||(r+=",null"),a&&(r+=","+a),o&&(r+=(a?"":",null")+","+o),r+")"}function Qr(t,e,n){var i=e.inlineTemplate?null:$r(e,n,!0);return"_c("+t+","+Fr(e,n)+(i?","+i:"")+")"}function ta(t){for(var e="",n=0;n<t.length;n++){var i=t[n];e+='"'+i.name+'":'+ea(i.value)+","}return e.slice(0,-1)}function ea(t){return t.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}function na(t,e){try{return new Function(t)}catch(n){return e.push({err:n,code:t}),M}}function ia(t){var e=Object.create(null);return function(n,i,r){i=b({},i);i.warn;delete i.warn;var a=i.delimiters?String(i.delimiters)+n:n;if(e[a])return e[a];var o=t(n,i),s={},l=[];return s.render=na(o.render,l),s.staticRenderFns=o.staticRenderFns.map(function(t){return na(t,l)}),e[a]=s}}function ra(t){return wl=wl||document.createElement("div"),wl.innerHTML=t?'<a href="\n"/>':'<div a="\n"/>',wl.innerHTML.indexOf("&#10;")>0}function aa(t){if(t.outerHTML)return t.outerHTML;var e=document.createElement("div");return e.appendChild(t.cloneNode(!0)),e.innerHTML}/*!
 * Vue.js v2.5.16
 * (c) 2014-2018 Evan You
 * Released under the MIT License.
 */
var oa=Object.freeze({}),sa=Object.prototype.toString,la=f("slot,component",!0),ca=f("key,ref,slot,slot-scope,is"),ua=Object.prototype.hasOwnProperty,ha=/-(\w)/g,da=v(function(t){return t.replace(ha,function(t,e){return e?e.toUpperCase():""})}),pa=v(function(t){return t.charAt(0).toUpperCase()+t.slice(1)}),fa=/\B([A-Z])/g,ga=v(function(t){return t.replace(fa,"-$1").toLowerCase()}),ma=Function.prototype.bind?x:y,va=function(t,e,n){return!1},ya=function(t){return t},xa="data-server-rendered",_a=["component","directive","filter"],ba=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured"],wa={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:va,isReservedAttr:va,isUnknownElement:va,getTagNamespace:M,parsePlatformTagName:ya,mustUseProp:va,_lifecycleHooks:ba},Ma=/[^\w.$]/,Sa="__proto__"in{},Ta="undefined"!=typeof window,Aa="undefined"!=typeof WXEnvironment&&!!WXEnvironment.platform,Ca=Aa&&WXEnvironment.platform.toLowerCase(),La=Ta&&window.navigator.userAgent.toLowerCase(),Ea=La&&/msie|trident/.test(La),Ia=La&&La.indexOf("msie 9.0")>0,Pa=La&&La.indexOf("edge/")>0,Da=(La&&La.indexOf("android"),La&&/iphone|ipad|ipod|ios/.test(La)||"ios"===Ca),Ra=(La&&/chrome\/\d+/.test(La),{}.watch),Oa=!1;if(Ta)try{var ka={};Object.defineProperty(ka,"passive",{get:function(){Oa=!0}}),window.addEventListener("test-passive",null,ka)}catch(t){}var Na,za,Ba=function(){return void 0===Na&&(Na=!Ta&&!Aa&&void 0!==t&&"server"===t.process.env.VUE_ENV),Na},Va=Ta&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__,Fa="undefined"!=typeof Symbol&&I(Symbol)&&"undefined"!=typeof Reflect&&I(Reflect.ownKeys);za="undefined"!=typeof Set&&I(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var Ga=M,Ha=0,Ua=function(){this.id=Ha++,this.subs=[]};Ua.prototype.addSub=function(t){this.subs.push(t)},Ua.prototype.removeSub=function(t){g(this.subs,t)},Ua.prototype.depend=function(){Ua.target&&Ua.target.addDep(this)},Ua.prototype.notify=function(){for(var t=this.subs.slice(),e=0,n=t.length;e<n;e++)t[e].update()},Ua.target=null;var ja=[],Wa=function(t,e,n,i,r,a,o,s){this.tag=t,this.data=e,this.children=n,this.text=i,this.elm=r,this.ns=void 0,this.context=a,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=o,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},$a={child:{configurable:!0}};$a.child.get=function(){return this.componentInstance},Object.defineProperties(Wa.prototype,$a);var Ya=function(t){void 0===t&&(t="");var e=new Wa;return e.text=t,e.isComment=!0,e},Xa=Array.prototype,qa=Object.create(Xa);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(t){var e=Xa[t];L(qa,t,function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];var r,a=e.apply(this,n),o=this.__ob__;switch(t){case"push":case"unshift":r=n;break;case"splice":r=n.slice(2)}return r&&o.observeArray(r),o.dep.notify(),a})});var Za=Object.getOwnPropertyNames(qa),Ja=!0,Ka=function(t){if(this.value=t,this.dep=new Ua,this.vmCount=0,L(t,"__ob__",this),Array.isArray(t)){(Sa?N:z)(t,qa,Za),this.observeArray(t)}else this.walk(t)};Ka.prototype.walk=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)V(t,e[n])},Ka.prototype.observeArray=function(t){for(var e=0,n=t.length;e<n;e++)B(t[e])};var Qa=wa.optionMergeStrategies;Qa.data=function(t,e,n){return n?j(t,e,n):e&&"function"!=typeof e?t:j(t,e)},ba.forEach(function(t){Qa[t]=W}),_a.forEach(function(t){Qa[t+"s"]=$}),Qa.watch=function(t,e,n,i){if(t===Ra&&(t=void 0),e===Ra&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var r={};b(r,t);for(var a in e){var o=r[a],s=e[a];o&&!Array.isArray(o)&&(o=[o]),r[a]=o?o.concat(s):Array.isArray(s)?s:[s]}return r},Qa.props=Qa.methods=Qa.inject=Qa.computed=function(t,e,n,i){if(!t)return e;var r=Object.create(null);return b(r,t),e&&b(r,e),r},Qa.provide=j;var to,eo,no=function(t,e){return void 0===e?t:e},io=[],ro=!1,ao=!1;if(void 0!==n&&I(n))eo=function(){n(ot)};else if("undefined"==typeof MessageChannel||!I(MessageChannel)&&"[object MessageChannelConstructor]"!==MessageChannel.toString())eo=function(){setTimeout(ot,0)};else{var oo=new MessageChannel,so=oo.port2;oo.port1.onmessage=ot,eo=function(){so.postMessage(1)}}if("undefined"!=typeof Promise&&I(Promise)){var lo=Promise.resolve();to=function(){lo.then(ot),Da&&setTimeout(M)}}else to=eo;var co,uo=new za,ho=v(function(t){var e="&"===t.charAt(0);t=e?t.slice(1):t;var n="~"===t.charAt(0);t=n?t.slice(1):t;var i="!"===t.charAt(0);return t=i?t.slice(1):t,{name:t,once:n,capture:i,passive:e}}),po=null,fo=[],go=[],mo={},vo=!1,yo=!1,xo=0,_o=0,bo=function(t,e,n,i,r){this.vm=t,r&&(t._watcher=this),t._watchers.push(this),i?(this.deep=!!i.deep,this.user=!!i.user,this.lazy=!!i.lazy,this.sync=!!i.sync):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++_o,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new za,this.newDepIds=new za,this.expression="","function"==typeof e?this.getter=e:(this.getter=E(e),this.getter||(this.getter=function(){})),this.value=this.lazy?void 0:this.get()};bo.prototype.get=function(){P(this);var t,e=this.vm;try{t=this.getter.call(e,e)}catch(t){if(!this.user)throw t;it(t,e,'getter for watcher "'+this.expression+'"')}finally{this.deep&&ct(t),D(),this.cleanupDeps()}return t},bo.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},bo.prototype.cleanupDeps=function(){for(var t=this,e=this.deps.length;e--;){var n=t.deps[e];t.newDepIds.has(n.id)||n.removeSub(t)}var i=this.depIds;this.depIds=this.newDepIds,this.newDepIds=i,this.newDepIds.clear(),i=this.deps,this.deps=this.newDeps,this.newDeps=i,this.newDeps.length=0},bo.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():jt(this)},bo.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||l(t)||this.deep){var e=this.value;if(this.value=t,this.user)try{this.cb.call(this.vm,t,e)}catch(t){it(t,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,t,e)}}},bo.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},bo.prototype.depend=function(){for(var t=this,e=this.deps.length;e--;)t.deps[e].depend()},bo.prototype.teardown=function(){var t=this;if(this.active){this.vm._isBeingDestroyed||g(this.vm._watchers,this);for(var e=this.deps.length;e--;)t.deps[e].removeSub(t);this.active=!1}};var wo={enumerable:!0,configurable:!0,get:M,set:M},Mo={lazy:!0};me(ve.prototype);var So={init:function(t,e,n,i){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var r=t;So.prepatch(r,r)}else{(t.componentInstance=we(t,po,n,i)).$mount(e?t.elm:void 0,e)}},prepatch:function(t,e){var n=e.componentOptions;Ot(e.componentInstance=t.componentInstance,n.propsData,n.listeners,e,n.children)},insert:function(t){var e=t.context,n=t.componentInstance;n._isMounted||(n._isMounted=!0,Bt(n,"mounted")),t.data.keepAlive&&(e._isMounted?Ht(n):Nt(n,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?zt(e,!0):e.$destroy())}},To=Object.keys(So),Ao=1,Co=2,Lo=0;!function(t){t.prototype._init=function(t){var e=this;e._uid=Lo++,e._isVue=!0,t&&t._isComponent?Ie(e,t):e.$options=Z(Pe(e.constructor),t||{},e),e._renderProxy=e,e._self=e,Dt(e),Tt(e),Ee(e),Bt(e,"beforeCreate"),ie(e),$t(e),ne(e),Bt(e,"created"),e.$options.el&&e.$mount(e.$options.el)}}(Oe),function(t){var e={};e.get=function(){return this._data};var n={};n.get=function(){return this._props},Object.defineProperty(t.prototype,"$data",e),Object.defineProperty(t.prototype,"$props",n),t.prototype.$set=F,t.prototype.$delete=G,t.prototype.$watch=function(t,e,n){var i=this;if(c(e))return ee(i,t,e,n);n=n||{},n.user=!0;var r=new bo(i,t,e,n);return n.immediate&&e.call(i,r.value),function(){r.teardown()}}}(Oe),function(t){var e=/^hook:/;t.prototype.$on=function(t,n){var i=this,r=this;if(Array.isArray(t))for(var a=0,o=t.length;a<o;a++)i.$on(t[a],n);else(r._events[t]||(r._events[t]=[])).push(n),e.test(t)&&(r._hasHookEvent=!0);return r},t.prototype.$once=function(t,e){function n(){i.$off(t,n),e.apply(i,arguments)}var i=this;return n.fn=e,i.$on(t,n),i},t.prototype.$off=function(t,e){var n=this,i=this;if(!arguments.length)return i._events=Object.create(null),i;if(Array.isArray(t)){for(var r=0,a=t.length;r<a;r++)n.$off(t[r],e);return i}var o=i._events[t];if(!o)return i;if(!e)return i._events[t]=null,i;if(e)for(var s,l=o.length;l--;)if((s=o[l])===e||s.fn===e){o.splice(l,1);break}return i},t.prototype.$emit=function(t){var e=this,n=e._events[t];if(n){n=n.length>1?_(n):n;for(var i=_(arguments,1),r=0,a=n.length;r<a;r++)try{n[r].apply(e,i)}catch(n){it(n,e,'event handler for "'+t+'"')}}return e}}(Oe),function(t){t.prototype._update=function(t,e){var n=this;n._isMounted&&Bt(n,"beforeUpdate");var i=n.$el,r=n._vnode,a=po;po=n,n._vnode=t,r?n.$el=n.__patch__(r,t):(n.$el=n.__patch__(n.$el,t,e,!1,n.$options._parentElm,n.$options._refElm),n.$options._parentElm=n.$options._refElm=null),po=a,i&&(i.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},t.prototype.$forceUpdate=function(){var t=this;t._watcher&&t._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){Bt(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||g(e.$children,t),t._watcher&&t._watcher.teardown();for(var n=t._watchers.length;n--;)t._watchers[n].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),Bt(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}(Oe),function(t){me(t.prototype),t.prototype.$nextTick=function(t){return lt(t,this)},t.prototype._render=function(){var t=this,e=t.$options,n=e.render,i=e._parentVnode;i&&(t.$scopedSlots=i.data.scopedSlots||oa),t.$vnode=i;var r;try{r=n.call(t._renderProxy,t.$createElement)}catch(e){it(e,t,"render"),r=t._vnode}return r instanceof Wa||(r=Ya()),r.parent=i,r}}(Oe);var Eo=[String,RegExp,Array],Io={name:"keep-alive",abstract:!0,props:{include:Eo,exclude:Eo,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){var t=this;for(var e in t.cache)je(t.cache,e,t.keys)},mounted:function(){var t=this;this.$watch("include",function(e){Ue(t,function(t){return He(e,t)})}),this.$watch("exclude",function(e){Ue(t,function(t){return!He(e,t)})})},render:function(){var t=this.$slots.default,e=St(t),n=e&&e.componentOptions;if(n){var i=Ge(n),r=this,a=r.include,o=r.exclude;if(a&&(!i||!He(a,i))||o&&i&&He(o,i))return e;var s=this,l=s.cache,c=s.keys,u=null==e.key?n.Ctor.cid+(n.tag?"::"+n.tag:""):e.key;l[u]?(e.componentInstance=l[u].componentInstance,g(c,u),c.push(u)):(l[u]=e,c.push(u),this.max&&c.length>parseInt(this.max)&&je(l,c[0],c,this._vnode)),e.data.keepAlive=!0}return e||t&&t[0]}},Po={KeepAlive:Io};!function(t){var e={};e.get=function(){return wa},Object.defineProperty(t,"config",e),t.util={warn:Ga,extend:b,mergeOptions:Z,defineReactive:V},t.set=F,t.delete=G,t.nextTick=lt,t.options=Object.create(null),_a.forEach(function(e){t.options[e+"s"]=Object.create(null)}),t.options._base=t,b(t.options.components,Po),ke(t),Ne(t),ze(t),Fe(t)}(Oe),Object.defineProperty(Oe.prototype,"$isServer",{get:Ba}),Object.defineProperty(Oe.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(Oe,"FunctionalRenderContext",{value:ve}),Oe.version="2.5.16";var Do,Ro,Oo,ko,No,zo,Bo,Vo,Fo,Go=f("style,class"),Ho=f("input,textarea,option,select,progress"),Uo=function(t,e,n){return"value"===n&&Ho(t)&&"button"!==e||"selected"===n&&"option"===t||"checked"===n&&"input"===t||"muted"===n&&"video"===t},jo=f("contenteditable,draggable,spellcheck"),Wo=f("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),$o="http://www.w3.org/1999/xlink",Yo=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},Xo=function(t){return Yo(t)?t.slice(6,t.length):""},qo=function(t){return null==t||!1===t},Zo={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Jo=f("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Ko=f("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Qo=function(t){return"pre"===t},ts=function(t){return Jo(t)||Ko(t)},es=Object.create(null),ns=f("text,number,password,search,email,tel,url"),is=Object.freeze({createElement:en,createElementNS:nn,createTextNode:rn,createComment:an,insertBefore:on,removeChild:sn,appendChild:ln,parentNode:cn,nextSibling:un,tagName:hn,setTextContent:dn,setStyleScope:pn}),rs={create:function(t,e){fn(e)},update:function(t,e){t.data.ref!==e.data.ref&&(fn(t,!0),fn(e))},destroy:function(t){fn(t,!0)}},as=new Wa("",{},[]),os=["create","activate","update","remove","destroy"],ss={create:yn,update:yn,destroy:function(t){yn(t,as)}},ls=Object.create(null),cs=[rs,ss],us={create:Mn,update:Mn},hs={create:An,update:An},ds=/[\w).+\-_$\]]/,ps="__r",fs="__c",gs={create:ei,update:ei},ms={create:ni,update:ni},vs=v(function(t){var e={},n=/;(?![^(]*\))/g,i=/:(.+)/;return t.split(n).forEach(function(t){if(t){var n=t.split(i);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}),ys=/^--/,xs=/\s*!important$/,_s=function(t,e,n){if(ys.test(e))t.style.setProperty(e,n);else if(xs.test(n))t.style.setProperty(e,n.replace(xs,""),"important");else{var i=ws(e);if(Array.isArray(n))for(var r=0,a=n.length;r<a;r++)t.style[i]=n[r];else t.style[i]=n}},bs=["Webkit","Moz","ms"],ws=v(function(t){if(Fo=Fo||document.createElement("div").style,"filter"!==(t=da(t))&&t in Fo)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<bs.length;n++){var i=bs[n]+e;if(i in Fo)return i}}),Ms={create:ci,update:ci},Ss=v(function(t){return{enterClass:t+"-enter",enterToClass:t+"-enter-to",enterActiveClass:t+"-enter-active",leaveClass:t+"-leave",leaveToClass:t+"-leave-to",leaveActiveClass:t+"-leave-active"}}),Ts=Ta&&!Ia,As="transition",Cs="animation",Ls="transition",Es="transitionend",Is="animation",Ps="animationend";Ts&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(Ls="WebkitTransition",Es="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(Is="WebkitAnimation",Ps="webkitAnimationEnd"));var Ds=Ta?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()},Rs=/\b(transform|all)(,|$)/,Os=Ta?{create:Si,activate:Si,remove:function(t,e){!0!==t.data.show?bi(t,e):e()}}:{},ks=[us,hs,gs,ms,Ms,Os],Ns=ks.concat(cs),zs=function(t){function e(t){return new Wa(P.tagName(t).toLowerCase(),{},[],void 0,t)}function n(t,e){function n(){0==--n.listeners&&o(t)}return n.listeners=e,n}function o(t){var e=P.parentNode(t);r(e)&&P.removeChild(e,t)}function l(t,e,n,i,o,s,l){if(r(t.elm)&&r(s)&&(t=s[l]=O(t)),t.isRootInsert=!o,!c(t,e,n,i)){var u=t.data,h=t.children,f=t.tag;r(f)?(t.elm=t.ns?P.createElementNS(t.ns,f):P.createElement(f,t),v(t),p(t,h,e),r(u)&&m(t,e),d(n,t.elm,i)):a(t.isComment)?(t.elm=P.createComment(t.text),d(n,t.elm,i)):(t.elm=P.createTextNode(t.text),d(n,t.elm,i))}}function c(t,e,n,i){var o=t.data;if(r(o)){var s=r(t.componentInstance)&&o.keepAlive;if(r(o=o.hook)&&r(o=o.init)&&o(t,!1,n,i),r(t.componentInstance))return u(t,e),a(s)&&h(t,e,n,i),!0}}function u(t,e){r(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,g(t)?(m(t,e),v(t)):(fn(t),e.push(t))}function h(t,e,n,i){for(var a,o=t;o.componentInstance;)if(o=o.componentInstance._vnode,r(a=o.data)&&r(a=a.transition)){for(a=0;a<E.activate.length;++a)E.activate[a](as,o);e.push(o);break}d(n,t.elm,i)}function d(t,e,n){r(t)&&(r(n)?n.parentNode===t&&P.insertBefore(t,e,n):P.appendChild(t,e))}function p(t,e,n){if(Array.isArray(e))for(var i=0;i<e.length;++i)l(e[i],n,t.elm,null,!0,e,i);else s(t.text)&&P.appendChild(t.elm,P.createTextNode(String(t.text)))}function g(t){for(;t.componentInstance;)t=t.componentInstance._vnode;return r(t.tag)}function m(t,e){for(var n=0;n<E.create.length;++n)E.create[n](as,t);C=t.data.hook,r(C)&&(r(C.create)&&C.create(as,t),r(C.insert)&&e.push(t))}function v(t){var e;if(r(e=t.fnScopeId))P.setStyleScope(t.elm,e);else for(var n=t;n;)r(e=n.context)&&r(e=e.$options._scopeId)&&P.setStyleScope(t.elm,e),n=n.parent;r(e=po)&&e!==t.context&&e!==t.fnContext&&r(e=e.$options._scopeId)&&P.setStyleScope(t.elm,e)}function y(t,e,n,i,r,a){for(;i<=r;++i)l(n[i],a,t,e,!1,n,i)}function x(t){var e,n,i=t.data;if(r(i))for(r(e=i.hook)&&r(e=e.destroy)&&e(t),e=0;e<E.destroy.length;++e)E.destroy[e](t);if(r(e=t.children))for(n=0;n<t.children.length;++n)x(t.children[n])}function _(t,e,n,i){for(;n<=i;++n){var a=e[n];r(a)&&(r(a.tag)?(b(a),x(a)):o(a.elm))}}function b(t,e){if(r(e)||r(t.data)){var i,a=E.remove.length+1;for(r(e)?e.listeners+=a:e=n(t.elm,a),r(i=t.componentInstance)&&r(i=i._vnode)&&r(i.data)&&b(i,e),i=0;i<E.remove.length;++i)E.remove[i](t,e);r(i=t.data.hook)&&r(i=i.remove)?i(t,e):e()}else o(t.elm)}function w(t,e,n,a,o){for(var s,c,u,h,d=0,p=0,f=e.length-1,g=e[0],m=e[f],v=n.length-1,x=n[0],b=n[v],w=!o;d<=f&&p<=v;)i(g)?g=e[++d]:i(m)?m=e[--f]:gn(g,x)?(S(g,x,a),g=e[++d],x=n[++p]):gn(m,b)?(S(m,b,a),m=e[--f],b=n[--v]):gn(g,b)?(S(g,b,a),w&&P.insertBefore(t,g.elm,P.nextSibling(m.elm)),g=e[++d],b=n[--v]):gn(m,x)?(S(m,x,a),w&&P.insertBefore(t,m.elm,g.elm),m=e[--f],x=n[++p]):(i(s)&&(s=vn(e,d,f)),c=r(x.key)?s[x.key]:M(x,e,d,f),i(c)?l(x,a,t,g.elm,!1,n,p):(u=e[c],gn(u,x)?(S(u,x,a),e[c]=void 0,w&&P.insertBefore(t,u.elm,g.elm)):l(x,a,t,g.elm,!1,n,p)),x=n[++p]);d>f?(h=i(n[v+1])?null:n[v+1].elm,y(t,h,n,p,v,a)):p>v&&_(t,e,d,f)}function M(t,e,n,i){for(var a=n;a<i;a++){var o=e[a];if(r(o)&&gn(t,o))return a}}function S(t,e,n,o){if(t!==e){var s=e.elm=t.elm;if(a(t.isAsyncPlaceholder))return void(r(e.asyncFactory.resolved)?A(t.elm,e,n):e.isAsyncPlaceholder=!0);if(a(e.isStatic)&&a(t.isStatic)&&e.key===t.key&&(a(e.isCloned)||a(e.isOnce)))return void(e.componentInstance=t.componentInstance);var l,c=e.data;r(c)&&r(l=c.hook)&&r(l=l.prepatch)&&l(t,e);var u=t.children,h=e.children;if(r(c)&&g(e)){for(l=0;l<E.update.length;++l)E.update[l](t,e);r(l=c.hook)&&r(l=l.update)&&l(t,e)}i(e.text)?r(u)&&r(h)?u!==h&&w(s,u,h,n,o):r(h)?(r(t.text)&&P.setTextContent(s,""),y(s,null,h,0,h.length-1,n)):r(u)?_(s,u,0,u.length-1):r(t.text)&&P.setTextContent(s,""):t.text!==e.text&&P.setTextContent(s,e.text),r(c)&&r(l=c.hook)&&r(l=l.postpatch)&&l(t,e)}}function T(t,e,n){if(a(n)&&r(t.parent))t.parent.data.pendingInsert=e;else for(var i=0;i<e.length;++i)e[i].data.hook.insert(e[i])}function A(t,e,n,i){var o,s=e.tag,l=e.data,c=e.children;if(i=i||l&&l.pre,e.elm=t,a(e.isComment)&&r(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(r(l)&&(r(o=l.hook)&&r(o=o.init)&&o(e,!0),r(o=e.componentInstance)))return u(e,n),!0;if(r(s)){if(r(c))if(t.hasChildNodes())if(r(o=l)&&r(o=o.domProps)&&r(o=o.innerHTML)){if(o!==t.innerHTML)return!1}else{for(var h=!0,d=t.firstChild,f=0;f<c.length;f++){if(!d||!A(d,c[f],n,i)){h=!1;break}d=d.nextSibling}if(!h||d)return!1}else p(e,c,n);if(r(l)){var g=!1;for(var v in l)if(!D(v)){g=!0,m(e,n);break}!g&&l.class&&ct(l.class)}}else t.data!==e.text&&(t.data=e.text);return!0}var C,L,E={},I=t.modules,P=t.nodeOps;for(C=0;C<os.length;++C)for(E[os[C]]=[],L=0;L<I.length;++L)r(I[L][os[C]])&&E[os[C]].push(I[L][os[C]]);var D=f("attrs,class,staticClass,staticStyle,key");return function(t,n,o,s,c,u){if(i(n))return void(r(t)&&x(t));var h=!1,d=[];if(i(t))h=!0,l(n,d,c,u);else{var p=r(t.nodeType);if(!p&&gn(t,n))S(t,n,d,s);else{if(p){if(1===t.nodeType&&t.hasAttribute(xa)&&(t.removeAttribute(xa),o=!0),a(o)&&A(t,n,d))return T(n,d,!0),t;t=e(t)}var f=t.elm,m=P.parentNode(f);if(l(n,d,f._leaveCb?null:m,P.nextSibling(f)),r(n.parent))for(var v=n.parent,y=g(n);v;){for(var b=0;b<E.destroy.length;++b)E.destroy[b](v);if(v.elm=n.elm,y){for(var w=0;w<E.create.length;++w)E.create[w](as,v);var M=v.data.hook.insert;if(M.merged)for(var C=1;C<M.fns.length;C++)M.fns[C]()}else fn(v);v=v.parent}r(m)?_(m,[t],0,0):r(t.tag)&&x(t)}}return T(n,d,h),n.elm}}({nodeOps:is,modules:Ns});Ia&&document.addEventListener("selectionchange",function(){var t=document.activeElement;t&&t.vmodel&&Pi(t,"input")});var Bs={inserted:function(t,e,n,i){"select"===n.tag?(i.elm&&!i.elm._vOptions?pt(n,"postpatch",function(){Bs.componentUpdated(t,e,n)}):Ti(t,e,n.context),t._vOptions=[].map.call(t.options,Li)):("textarea"===n.tag||ns(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("compositionstart",Ei),t.addEventListener("compositionend",Ii),t.addEventListener("change",Ii),Ia&&(t.vmodel=!0)))},componentUpdated:function(t,e,n){if("select"===n.tag){Ti(t,e,n.context);var i=t._vOptions,r=t._vOptions=[].map.call(t.options,Li);if(r.some(function(t,e){return!S(t,i[e])})){(t.multiple?e.value.some(function(t){return Ci(t,r)}):e.value!==e.oldValue&&Ci(e.value,r))&&Pi(t,"change")}}}},Vs={bind:function(t,e,n){var i=e.value;n=Di(n);var r=n.data&&n.data.transition,a=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;i&&r?(n.data.show=!0,_i(n,function(){t.style.display=a})):t.style.display=i?a:"none"},update:function(t,e,n){var i=e.value;!i!=!e.oldValue&&(n=Di(n),n.data&&n.data.transition?(n.data.show=!0,i?_i(n,function(){t.style.display=t.__vOriginalDisplay}):bi(n,function(){t.style.display="none"})):t.style.display=i?t.__vOriginalDisplay:"none")},unbind:function(t,e,n,i,r){r||(t.style.display=t.__vOriginalDisplay)}},Fs={model:Bs,show:Vs},Gs={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]},Hs={name:"transition",props:Gs,abstract:!0,render:function(t){var e=this,n=this.$slots.default;if(n&&(n=n.filter(function(t){return t.tag||Mt(t)}),n.length)){var i=this.mode,r=n[0];if(Ni(this.$vnode))return r;var a=Ri(r);if(!a)return r;if(this._leaving)return ki(t,r);var o="__transition-"+this._uid+"-";a.key=null==a.key?a.isComment?o+"comment":o+a.tag:s(a.key)?0===String(a.key).indexOf(o)?a.key:o+a.key:a.key;var l=(a.data||(a.data={})).transition=Oi(this),c=this._vnode,u=Ri(c);if(a.data.directives&&a.data.directives.some(function(t){return"show"===t.name})&&(a.data.show=!0),u&&u.data&&!zi(a,u)&&!Mt(u)&&(!u.componentInstance||!u.componentInstance._vnode.isComment)){var h=u.data.transition=b({},l);if("out-in"===i)return this._leaving=!0,pt(h,"afterLeave",function(){e._leaving=!1,e.$forceUpdate()}),ki(t,r);if("in-out"===i){if(Mt(a))return c;var d,p=function(){d()};pt(l,"afterEnter",p),pt(l,"enterCancelled",p),pt(h,"delayLeave",function(t){d=t})}}return r}}},Us=b({tag:String,moveClass:String},Gs);delete Us.mode;var js={props:Us,render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),i=this.prevChildren=this.children,r=this.$slots.default||[],a=this.children=[],o=Oi(this),s=0;s<r.length;s++){var l=r[s];if(l.tag)if(null!=l.key&&0!==String(l.key).indexOf("__vlist"))a.push(l),n[l.key]=l,(l.data||(l.data={})).transition=o;else;}if(i){for(var c=[],u=[],h=0;h<i.length;h++){var d=i[h];d.data.transition=o,d.data.pos=d.elm.getBoundingClientRect(),n[d.key]?c.push(d):u.push(d)}this.kept=t(e,null,c),this.removed=u}return t(e,null,a)},beforeUpdate:function(){this.__patch__(this._vnode,this.kept,!1,!0),this._vnode=this.kept},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,e)&&(t.forEach(Bi),t.forEach(Vi),t.forEach(Fi),this._reflow=document.body.offsetHeight,t.forEach(function(t){if(t.data.moved){var n=t.elm,i=n.style;fi(n,e),i.transform=i.WebkitTransform=i.transitionDuration="",n.addEventListener(Es,n._moveCb=function t(i){i&&!/transform$/.test(i.propertyName)||(n.removeEventListener(Es,t),n._moveCb=null,gi(n,e))})}}))},methods:{hasMove:function(t,e){if(!Ts)return!1;if(this._hasMove)return this._hasMove;var n=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach(function(t){hi(n,t)}),ui(n,e),n.style.display="none",this.$el.appendChild(n);var i=vi(n);return this.$el.removeChild(n),this._hasMove=i.hasTransform}}},Ws={Transition:Hs,TransitionGroup:js};Oe.config.mustUseProp=Uo,Oe.config.isReservedTag=ts,Oe.config.isReservedAttr=Go,Oe.config.getTagNamespace=Ke,Oe.config.isUnknownElement=Qe,b(Oe.options.directives,Fs),b(Oe.options.components,Ws),Oe.prototype.__patch__=Ta?zs:M,Oe.prototype.$mount=function(t,e){return t=t&&Ta?tn(t):void 0,Rt(this,t,e)},Ta&&setTimeout(function(){wa.devtools&&Va&&Va.emit("init",Oe)},0);var $s,Ys=/\{\{((?:.|\n)+?)\}\}/g,Xs=/[-.*+?^${}()|[\]\/\\]/g,qs=v(function(t){var e=t[0].replace(Xs,"\\$&"),n=t[1].replace(Xs,"\\$&");return new RegExp(e+"((?:.|\\n)+?)"+n,"g")}),Zs={staticKeys:["staticClass"],transformNode:Hi,genData:Ui},Js={staticKeys:["staticStyle"],transformNode:ji,genData:Wi},Ks={decode:function(t){return $s=$s||document.createElement("div"),$s.innerHTML=t,$s.textContent}},Qs=f("area,base,br,col,embed,frame,hr,img,input,isindex,keygen,link,meta,param,source,track,wbr"),tl=f("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr,source"),el=f("address,article,aside,base,blockquote,body,caption,col,colgroup,dd,details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,title,tr,track"),nl=/^\s*([^\s"'<>\/=]+)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,il="[a-zA-Z_][\\w\\-\\.]*",rl="((?:"+il+"\\:)?"+il+")",al=new RegExp("^<"+rl),ol=/^\s*(\/?)>/,sl=new RegExp("^<\\/"+rl+"[^>]*>"),ll=/^<!DOCTYPE [^>]+>/i,cl=/^<!\--/,ul=/^<!\[/,hl=!1;"x".replace(/x(.)?/g,function(t,e){hl=""===e});var dl,pl,fl,gl,ml,vl,yl,xl,_l,bl,wl,Ml=f("script,style,textarea",!0),Sl={},Tl={"&lt;":"<","&gt;":">","&quot;":'"',"&amp;":"&","&#10;":"\n","&#9;":"\t"},Al=/&(?:lt|gt|quot|amp);/g,Cl=/&(?:lt|gt|quot|amp|#10|#9);/g,Ll=f("pre,textarea",!0),El=function(t,e){return t&&Ll(t)&&"\n"===e[0]},Il=/^@|^v-on:/,Pl=/^v-|^@|^:/,Dl=/([^]*?)\s+(?:in|of)\s+([^]*)/,Rl=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,Ol=/^\(|\)$/g,kl=/:(.*)$/,Nl=/^:|^v-bind:/,zl=/\.[^.]+/g,Bl=v(Ks.decode),Vl=/^xmlns:NS\d+/,Fl=/^NS\d+:/,Gl={preTransformNode:vr},Hl=[Zs,Js,Gl],Ul={model:$n,text:xr,html:_r},jl={expectHTML:!0,modules:Hl,directives:Ul,isPreTag:Qo,isUnaryTag:Qs,mustUseProp:Uo,canBeLeftOpenTag:tl,isReservedTag:ts,getTagNamespace:Ke,staticKeys:function(t){return t.reduce(function(t,e){return t.concat(e.staticKeys||[])},[]).join(",")}(Hl)},Wl=v(wr),$l=/^([\w$_]+|\([^)]*?\))\s*=>|^function\s*\(/,Yl=/^[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['[^']*?']|\["[^"]*?"]|\[\d+]|\[[A-Za-z_$][\w$]*])*$/,Xl={esc:27,tab:9,enter:13,space:32,up:38,left:37,right:39,down:40,delete:[8,46]},ql={esc:"Escape",tab:"Tab",enter:"Enter",space:" ",up:["Up","ArrowUp"],left:["Left","ArrowLeft"],right:["Right","ArrowRight"],down:["Down","ArrowDown"],delete:["Backspace","Delete"]},Zl=function(t){return"if("+t+")return null;"},Jl={stop:"$event.stopPropagation();",prevent:"$event.preventDefault();",self:Zl("$event.target !== $event.currentTarget"),ctrl:Zl("!$event.ctrlKey"),shift:Zl("!$event.shiftKey"),alt:Zl("!$event.altKey"),meta:Zl("!$event.metaKey"),left:Zl("'button' in $event && $event.button !== 0"),middle:Zl("'button' in $event && $event.button !== 1"),right:Zl("'button' in $event && $event.button !== 2")},Kl={on:Pr,bind:Dr,cloak:M},Ql=function(t){this.options=t,this.warn=t.warn||En,this.transforms=In(t.modules,"transformCode"),this.dataGenFns=In(t.modules,"genData"),this.directives=b(b({},Kl),t.directives);var e=t.isReservedTag||va;this.maybeComponent=function(t){return!e(t.tag)},this.onceId=0,this.staticRenderFns=[]},tc=(new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments".split(",").join("\\b|\\b")+"\\b"),new RegExp("\\b"+"delete,typeof,void".split(",").join("\\s*\\([^\\)]*\\)|\\b")+"\\s*\\([^\\)]*\\)"),function(t){return function(e){function n(n,i){var r=Object.create(e),a=[],o=[];if(r.warn=function(t,e){(e?o:a).push(t)},i){i.modules&&(r.modules=(e.modules||[]).concat(i.modules)),i.directives&&(r.directives=b(Object.create(e.directives||null),i.directives));for(var s in i)"modules"!==s&&"directives"!==s&&(r[s]=i[s])}var l=t(n,r);return l.errors=a,l.tips=o,l}return{compile:n,compileToFunctions:ia(n)}}}(function(t,e){var n=qi(t.trim(),e);!1!==e.optimize&&br(n,e);var i=Rr(n,e);return{ast:n,render:i.render,staticRenderFns:i.staticRenderFns}})),ec=tc(jl),nc=ec.compileToFunctions,ic=!!Ta&&ra(!1),rc=!!Ta&&ra(!0),ac=v(function(t){var e=tn(t);return e&&e.innerHTML}),oc=Oe.prototype.$mount;Oe.prototype.$mount=function(t,e){if((t=t&&tn(t))===document.body||t===document.documentElement)return this;var n=this.$options;if(!n.render){var i=n.template;if(i)if("string"==typeof i)"#"===i.charAt(0)&&(i=ac(i));else{if(!i.nodeType)return this;i=i.innerHTML}else t&&(i=aa(t));if(i){var r=nc(i,{shouldDecodeNewlines:ic,shouldDecodeNewlinesForHref:rc,delimiters:n.delimiters,comments:n.comments},this),a=r.render,o=r.staticRenderFns;n.render=a,n.staticRenderFns=o}}return oc.call(this,t,e)},Oe.compile=nc,e.a=Oe}).call(e,n(57),n(128).setImmediate)},function(t,e,n){"use strict";var i=n(72),r=n(247),a=n(259),o=n(263),s=n(267),l=n(92),c=n(73),u=n(294),h=n(592),d=n(594),p=n(238);e.a={components:{threerender:r.a,layers:a.a,editor:o.a,sp3d:s.a,barchart:h.a,piechart:u.a,dpkbarchart:d.a},name:"app",data:function(){return{msg:"Welcome to Your Vue.js App",ObjectTypes:l.a,AxisTypes:c.a,tempData:{active:!1,objId:-1,objData:{}},objectManifest:[{type:l.a.CYLINDER,position:{x:2,y:5,z:-26},rotation:{x:0,y:22,z:0},scale:{x:6,y:5,z:1},ratio:.3},{type:l.a.CONE,position:{x:10,y:-10,z:-16},rotation:{x:0,y:-50,z:0},scale:{x:4,y:4,z:1}},{type:l.a.BOX,position:{x:-1,y:0,z:-11},rotation:{x:0,y:-40,z:0},scale:{x:4,y:3,z:2}},{type:l.a.SPHERE,position:{x:3,y:2,z:-11},rotation:{x:0,y:-40,z:0},scale:{x:4,y:3,z:2}}],centers:{x:50,y:50},canRenderViewports:!0,signature:0,chartData:[],showSubCharts:!0,subChartData:{},metricNames:["X Axis","Y Axis","Z Axis","Size","???"],featurNames:"Color,Overall appearance,Trunk,Spare tire,Gas cap,Doors,Running boards,Ease of entry and exit,Layout of the dashboard,Location of cup holders,Space for electronics and other items,Glove box,Visibility,Comfort,Roominess,How the car handles,Smoothness of the ride,Cabin noise,Braking system,Ease of acceleration,Sound system,Navigation system,Backup camera,Bluetooth capability",colors:p.a.ChartColors,selectedIndex:-1,laodedData:null}},computed:{shouldRender:function(){var t=this;return t.$data.canRenderViewports&&null!==t.$data.objectManifest&&void 0!==t.$data.objectManifest}},methods:{onDataUpdated:function(t){this.$data.chartData=t},pointClicked:function(t){var e=this;e.$data.showSubCharts=!1,setTimeout(function(n){var i={},r=[],a={};e.$data.selectedIndex=t.index;for(var o=0;o<n.$data.chartData.length;o++)i[n.$data.metricNames[o]]=n.$data.chartData[o][t.index],r.push({label:document.querySelector("#display-label-"+o.toString()+" > span:last-child").innerHTML.split(" &gt; ").join("<br />"),value:n.$data.chartData[o][t.index]});for(var s=0;s<t.metricIndexes.length;s++)a[n.$data.metricNames[t.metricIndexes[s]]]=n.$data.chartData[t.metricIndexes[s]][t.index];n.$data.subChartData={bar:i,pie:a,dpkBar:r},n.$data.showSubCharts=!0},10,e)},addObject:function(t){var e=this;e.$data.objectManifest.push(JSON.parse(JSON.stringify(e.$data.tempData.objData))),e.$data.tempData.objData={},e.$data.tempData.objId=-1,e.$data.tempData.active=!1,e.rerenderViewports()},cancelAdd:function(t){var e=this;e.$data.tempData.objData={},e.$data.tempData.objId=-1,e.$data.tempData.active=!1},typeSelectorChange:function(t){var e=this;if(e.$data.tempData.objId>=0){var n={};for(var i in l.a)l.a[i].id===e.$data.tempData.objId&&(n=JSON.parse(JSON.stringify(l.a[i])).template,n.type=l.a[i]);e.$data.tempData.objData=n}},getQuatStyle:function(t,e){var n=this;return"left:"+(t?0:n.$data.centers.x)+"%;top:"+(e?0:n.$data.centers.y)+"%;width:"+(t?n.$data.centers.x:100-n.$data.centers.x)+"%;height:"+(e?n.$data.centers.y:100-n.$data.centers.y)+"%;"},rerenderViewports:function(){var t=this;t.$data.canRenderViewports=!1,setTimeout(function(){t.$data.canRenderViewports=!0},10)},updateViewports:function(){var t=this;t.$data.signature+=1,t.$data.signature>20&&(t.$data.signature=0)},getTypeLabel:function(t){return t.label},saveClicked:function(t){},deleteClicked:function(t){var e=this;e.$data.objectManifest.splice(t,1),e.rerenderViewports()},createChartData:function(){for(var t=this,e=t.$data.featurNames.split(",").length,n=["m1","m2","m3","m4","m5","m6"],i=0;i<n.length;i++){for(var r=[],a=0;a<e;a++)r.push(5*Math.random());t.$data.chartData.push(r)}}},mounted:function(){var t=this;i.a.$on("wireframe-drag-element",function(e){switch(e.axis){case c.a.X:t.$data.objectManifest[e.index].position.z=e.x/e.scale,t.$data.objectManifest[e.index].position.y=e.y/e.scale;break;case c.a.Y:t.$data.objectManifest[e.index].position.x=e.x/e.scale,t.$data.objectManifest[e.index].position.z=e.y/e.scale;break;case c.a.Z:t.$data.objectManifest[e.index].position.x=e.x/e.scale,t.$data.objectManifest[e.index].position.y=e.y/e.scale}t.updateViewports()}),i.a.$on("wireframe-rotate-element",function(e){switch(e.axis){case c.a.X:t.$data.objectManifest[e.index].rotation.x=e.r;break;case c.a.Y:t.$data.objectManifest[e.index].rotation.y=e.r;break;case c.a.Z:t.$data.objectManifest[e.index].rotation.z=e.r}t.updateViewports()}),i.a.$on("wireframe-scale-x-element",function(e){t.$data.objectManifest[e.index].scale.x=e.s,t.updateViewports()}),i.a.$on("wireframe-scale-y-element",function(e){t.$data.objectManifest[e.index].scale.y=e.s,t.updateViewports()}),i.a.$on("wireframe-scale-z-element",function(e){t.$data.objectManifest[e.index].scale.z=e.s,t.updateViewports()}),i.a.$on("editor-value-change",function(e){t.updateViewports(),e&&t.rerenderViewports()}),i.a.$on("editor-point-change",function(e){t.$data.objectManifest[e.o].points[e.p][e.prop]=Number(e.value),t.rerenderViewports()}),i.a.$on("editor-point-add",function(e){t.$data.objectManifest[e].points.push({x:0,y:0,z:0}),t.rerenderViewports()})}}},function(t,e,n){"use strict";var i=n(92),r=n(73),a=n(134);e.a={props:["objects","perspective","axis","signature"],components:{wireframe:a.a},data:function(){return{containerID:"el_"+Math.random().toString().split(".").join("")+Math.random().toString().split(".").join("")+Math.random().toString().split(".").join(""),THREE:n(137),renderer:{},scene:{},camera:{},ObjectTypes:i.a,axisData:{axis:this.axis,scale:8},sig:this.signature,meshes:[]}},watch:{signature:function(){var t=this;t.$data.sig=t.signature,t.updateObjects(),t.$data.renderer.render(t.$data.scene,t.$data.camera)}},methods:{renderObjects:function(){for(var t=this,e=t.$data.THREE,n=t.$data.scene,r=0;r<t.objects.length;r++){var a={},o={},s={},l={},c={},u={},h=new e.MeshPhongMaterial({color:204,specular:16777215});switch(t.objects[r].type.id){case i.a.PLANE.id:o=new e.PlaneBufferGeometry(1,1,32),s=new e.MeshBasicMaterial({side:e.DoubleSide,color:13369344,transparent:!0}),t.isOrthographic?(l=new e.EdgesGeometry(o),c=new e.LineSegments(l,s),c.material.depthTest=!1,c.material.opacity=1,c.material.transparent=!0,n.add(c),a=c):(u=new e.Mesh(o,h),n.add(u),a=u);break;case i.a.BOX.id:o=new e.BoxBufferGeometry(1,1,1,32,32,32),s=new e.MeshBasicMaterial({color:13369344}),t.isOrthographic?(l=new e.EdgesGeometry(o),c=new e.LineSegments(l,s),c.material.depthTest=!1,c.material.opacity=1,c.material.transparent=!0,n.add(c),a=c):(u=new e.Mesh(o,h),n.add(u),a=u);break;case i.a.SPHERE.id:o=new e.SphereBufferGeometry(1),s=new e.MeshBasicMaterial({color:13369344}),t.isOrthographic?(l=new e.EdgesGeometry(o),c=new e.LineSegments(l,s),c.material.depthTest=!1,c.material.opacity=1,c.material.transparent=!0,n.add(c),a=c):(u=new e.Mesh(o,h),n.add(u),a=u);break;case i.a.CONE.id:o=new e.ConeBufferGeometry(.5,1,32),s=new e.MeshBasicMaterial({color:13369344}),t.isOrthographic?(l=new e.EdgesGeometry(o),c=new e.LineSegments(l,s),c.material.depthTest=!1,c.material.opacity=1,c.material.transparent=!0,n.add(c),a=c):(u=new e.Mesh(o,h),n.add(u),a=u);break;case i.a.CYLINDER.id:o=new e.CylinderBufferGeometry(1-t.objects[r].ratio,t.objects[r].ratio,1,32),s=new e.MeshBasicMaterial({color:13369344}),t.isOrthographic?(l=new e.EdgesGeometry(o),c=new e.LineSegments(l,s),c.material.depthTest=!1,c.material.opacity=1,c.material.transparent=!0,n.add(c),a=c):(u=new e.Mesh(o,h),n.add(u),a=u);break;case i.a.TORUS.id:o=new e.TorusBufferGeometry(1,t.objects[r].ratio,16,100),s=new e.MeshBasicMaterial({color:13369344}),t.isOrthographic?(l=new e.EdgesGeometry(o),c=new e.LineSegments(l,s),c.material.depthTest=!1,c.material.opacity=1,c.material.transparent=!0,n.add(c),a=c):(u=new e.Mesh(o,h),n.add(u),a=u);break;case i.a.TUBE.id:for(var d=[],p=0;p<t.objects[r].points.length;p++)d.push(new e.Vector3(t.objects[r].points[p].x,t.objects[r].points[p].y,t.objects[r].points[p].z));o=new e.TubeGeometry(new e.SplineCurve3(d),64,1,8,!1),s=new e.MeshBasicMaterial({color:13369344}),t.isOrthographic?(l=new e.EdgesGeometry(o),c=new e.LineSegments(l,s),c.material.depthTest=!1,c.material.opacity=1,c.material.transparent=!0,n.add(c),a=c):(u=new e.Mesh(o,h),n.add(u),a=u);break;case i.a.LATHE.id:for(var f=[],g=0;g<t.objects[r].points.length;g++)f.push(new e.Vector3(t.objects[r].points[g].x,t.objects[r].points[g].y));o=new e.LatheGeometry(f,64,1,8,!1),s=new e.MeshBasicMaterial({color:13369344}),t.isOrthographic?(l=new e.EdgesGeometry(o),c=new e.LineSegments(l,s),c.material.depthTest=!1,c.material.opacity=1,c.material.transparent=!0,n.add(c),a=c):(u=new e.Mesh(o,h),n.add(u),a=u)}a!=={}&&(t.$data.meshes.push(a),a.position.x=t.objects[r].position.x,a.position.y=t.objects[r].position.y*t.yFactor,a.position.z=t.objects[r].position.z,a.rotation.x=t.objects[r].rotation.x*(Math.PI/180),a.rotation.y=t.objects[r].rotation.y*(Math.PI/180),a.rotation.z=t.objects[r].rotation.z*(Math.PI/180),a.scale.x=t.objects[r].scale.x,a.scale.y=t.objects[r].scale.y*t.yFactor,a.scale.z=t.objects[r].scale.z,a.name="yo")}},updateObjects:function(){for(var t=this,e=0;e<t.objects.length;e++)t.$data.meshes[e].position.x=t.objects[e].position.x,t.$data.meshes[e].position.y=t.objects[e].position.y*t.yFactor,t.$data.meshes[e].position.z=t.objects[e].position.z,t.$data.meshes[e].rotation.x=t.objects[e].rotation.x*(Math.PI/180),t.$data.meshes[e].rotation.y=t.objects[e].rotation.y*(Math.PI/180),t.$data.meshes[e].rotation.z=t.objects[e].rotation.z*(Math.PI/180),t.$data.meshes[e].scale.x=t.objects[e].scale.x,t.$data.meshes[e].scale.y=t.objects[e].scale.y*t.yFactor,t.$data.meshes[e].scale.z=t.objects[e].scale.z}},computed:{isOrthographic:function(){return 0===this.perspective},yFactor:function(){return this.isOrthographic?-1:1}},mounted:function(){var t=this,e=t.$data.THREE,n=document.getElementById(t.$data.containerID),i=n.getBoundingClientRect().width,a=n.getBoundingClientRect().height,o=new e.WebGLRenderer({alpha:!0});t.$data.renderer=o,o.setSize(i,a),n.appendChild(o.domElement);var s=new e.Scene,l=!t.isOrthographic>0?new e.PerspectiveCamera(t.perspective,i/a,1,1e3):new e.OrthographicCamera(i/(-2*t.$data.axisData.scale),i/(2*t.$data.axisData.scale),a/(-2*t.$data.axisData.scale),a/(2*t.$data.axisData.scale),1,1e3);if(t.isOrthographic)switch(t.$data.axisData.axis){case r.a.X:l.rotation.y=Math.PI/180*-90,l.position.x=-10;break;case r.a.Y:l.rotation.x=Math.PI/180*90,l.position.y=-10;break;case r.a.Z:l.position.z=-10}else{var c=new e.AmbientLight(2105376);s.add(c);var u=new e.PointLight(16777215,.5);u.position.set(-12,15,10),s.add(u);var h=new e.DirectionalLight(16777215,.3);h.position.set(0,100,10),s.add(h);var d=new e.PointLightHelper(u,.2);s.add(d);var p=new e.DirectionalLightHelper(h,1);s.add(p)}t.$data.scene=s,t.$data.camera=l,t.renderObjects(),o.render(s,l)}}},function(t,e,n){"use strict";function i(t){n(250)}var r=n(135),a=n(257),o=n(20),s=i,l=o(r.a,a.a,!1,s,"data-v-5b5e122d",null);e.a=l.exports},function(t,e,n){"use strict";var i=n(252);e.a={components:{axiselement:i.a},props:["objects","axis","scale"],data:function(){return{offset:{x:200,y:200},svgID:"svgElement_"+Math.random().toString().split(".").join("")+Math.random().toString().split(".").join("")+Math.random().toString().split(".").join("")}},mounted:function(){}}},function(t,e,n){"use strict";var i=n(72),r=n(73),a=n(255);e.a={props:["axis","object","offset","scale","index"],data:function(){return{containerID:"elementWireFrameID_"+Math.random().toString().split(".").join("")+Math.random().toString().split(".").join("")+Math.random().toString().split(".").join(""),AxisTypes:r.a,proxies:{},moverSize:{width:12,height:12},yFactor:this.axis===r.a.Y?1:-1,yBuffer:this.axis===r.a.Y?0:180,scaleDiff:{x:0,y:0},scaleBase:20,rotationRadius:40,dragging:!1,rotating:!1,scalingA:!1,scalingB:!1}},methods:{onDragDown:function(t){this.$data.dragging=!0},onDragMove:function(t){var e=this;i.a.$emit("wireframe-drag-element",{axis:e.axis,index:e.index,x:t.pageX-document.getElementById(e.$data.containerID).getBoundingClientRect().left,y:e.axis===r.a.Y?t.pageY-document.getElementById(e.$data.containerID).getBoundingClientRect().top:-1*(t.pageY-document.getElementById(e.$data.containerID).getBoundingClientRect().top),scale:e.scale})},onDragUp:function(t){this.$data.dragging=!1},onRotateDown:function(t){this.$data.rotating=!0},onRotateMove:function(t){var e=this,n=e.object.position[e.$data.proxies.x]*e.scale,r=e.object.position[e.$data.proxies.y]*e.scale;i.a.$emit("wireframe-rotate-element",{axis:e.axis,index:e.index,r:Object(a.a)(n,r,t.pageX-document.getElementById(e.$data.containerID).getBoundingClientRect().left,(t.pageY-document.getElementById(e.$data.containerID).getBoundingClientRect().top)*e.$data.yFactor)*e.$data.yFactor+e.$data.yBuffer,scale:e.scale})},onRotateUp:function(t){this.$data.rotating=!1},onScaleADown:function(t){this.$data.scalingA=!0},onScaleAMove:function(t){var e=this;i.a.$emit("wireframe-scale-"+e.$data.proxies.x+"-element",{axis:e.axis,index:e.index,s:(t.pageX-document.getElementById(e.$data.containerID).getBoundingClientRect().left-e.object.position[e.$data.proxies.x]*e.scale)/e.$data.scaleBase,scale:e.scale})},onScaleAUp:function(t){this.$data.scalingA=!1},onScaleBDown:function(t){this.$data.scalingB=!0},onScaleBMove:function(t){var e=this;i.a.$emit("wireframe-scale-"+e.$data.proxies.y+"-element",{axis:e.axis,index:e.index,s:(t.pageY-document.getElementById(e.$data.containerID).getBoundingClientRect().top-e.object.position[e.$data.proxies.y]*e.scale*e.$data.yFactor)/e.$data.scaleBase,scale:e.scale})},onScaleBUp:function(t){this.$data.scalingB=!1},orbit:function(t){var e=this,n=e.$data.rotationRadius;return t?Object(a.b)(e.object.position[e.$data.proxies.x]*e.scale,n,e.object.rotation[e.$data.proxies.r],"cos"):Object(a.b)(e.object.position[e.$data.proxies.y]*e.scale*e.$data.yFactor,n,e.object.rotation[e.$data.proxies.r],"sin")}},mounted:function(){var t=this;switch(t.axis){case r.a.X:t.$data.proxies={x:"z",y:"y",r:"x"};break;case r.a.Y:t.$data.proxies={x:"x",y:"z",r:"y"};break;case r.a.Z:t.$data.proxies={x:"x",y:"y",r:"z"}}}}},function(t,e,n){"use strict";function i(){}function r(t,e){this.x=t||0,this.y=e||0}function a(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}function o(t,e,n,i){this._x=t||0,this._y=e||0,this._z=n||0,this._w=void 0!==i?i:1}function s(t,e,n){this.x=t||0,this.y=e||0,this.z=n||0}function l(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}function c(t,e,n,i,a,o,s,u,h,d){Object.defineProperty(this,"id",{value:Xl++}),this.uuid=Wl.generateUUID(),this.name="",this.image=void 0!==t?t:c.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==e?e:c.DEFAULT_MAPPING,this.wrapS=void 0!==n?n:Ms,this.wrapT=void 0!==i?i:Ms,this.magFilter=void 0!==a?a:Ls,this.minFilter=void 0!==o?o:Is,this.anisotropy=void 0!==h?h:1,this.format=void 0!==s?s:Ws,this.type=void 0!==u?u:Ps,this.offset=new r(0,0),this.repeat=new r(1,1),this.center=new r(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new l,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==d?d:Rl,this.version=0,this.onUpdate=null}function u(t,e,n,i){this.x=t||0,this.y=e||0,this.z=n||0,this.w=void 0!==i?i:1}function h(t,e,n){this.width=t,this.height=e,this.scissor=new u(0,0,t,e),this.scissorTest=!1,this.viewport=new u(0,0,t,e),n=n||{},this.texture=new c(void 0,void 0,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.generateMipmaps=void 0!==n.generateMipmaps&&n.generateMipmaps,this.texture.minFilter=void 0!==n.minFilter?n.minFilter:Ls,this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0===n.stencilBuffer||n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null}function d(t,e,n){h.call(this,t,e,n),this.activeCubeFace=0,this.activeMipMapLevel=0}function p(t,e,n,i,r,a,o,s,l,u,h,d){c.call(this,null,a,o,s,l,u,i,r,h,d),this.image={data:t,width:e,height:n},this.magFilter=void 0!==l?l:Ts,this.minFilter=void 0!==u?u:Ts,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}function f(t,e){this.min=void 0!==t?t:new s(1/0,1/0,1/0),this.max=void 0!==e?e:new s(-1/0,-1/0,-1/0)}function g(t,e){this.center=void 0!==t?t:new s,this.radius=void 0!==e?e:0}function m(t,e){this.normal=void 0!==t?t:new s(1,0,0),this.constant=void 0!==e?e:0}function v(t,e,n,i,r,a){this.planes=[void 0!==t?t:new m,void 0!==e?e:new m,void 0!==n?n:new m,void 0!==i?i:new m,void 0!==r?r:new m,void 0!==a?a:new m]}function y(t){var e={};for(var n in t){e[n]={};for(var i in t[n]){var r=t[n][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture)?e[n][i]=r.clone():Array.isArray(r)?e[n][i]=r.slice():e[n][i]=r}}return e}function x(t){for(var e={},n=0;n<t.length;n++){var i=y(t[n]);for(var r in i)e[r]=i[r]}return e}function _(t,e,n){return void 0===e&&void 0===n?this.set(t):this.setRGB(t,e,n)}function b(){function t(r,a){!1!==n&&(i(r,a),e.requestAnimationFrame(t))}var e=null,n=!1,i=null;return{start:function(){!0!==n&&null!==i&&(e.requestAnimationFrame(t),n=!0)},stop:function(){n=!1},setAnimationLoop:function(t){i=t},setContext:function(t){e=t}}}function w(t){function e(e,n){var i=e.array,r=e.dynamic?35048:35044,a=t.createBuffer();t.bindBuffer(n,a),t.bufferData(n,i,r),e.onUploadCallback();var o=5126;return i instanceof Float32Array?o=5126:i instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):i instanceof Uint16Array?o=5123:i instanceof Int16Array?o=5122:i instanceof Uint32Array?o=5125:i instanceof Int32Array?o=5124:i instanceof Int8Array?o=5120:i instanceof Uint8Array&&(o=5121),{buffer:a,type:o,bytesPerElement:i.BYTES_PER_ELEMENT,version:e.version}}function n(e,n,i){var r=n.array,a=n.updateRange;t.bindBuffer(i,e),!1===n.dynamic?t.bufferData(i,r,35044):-1===a.count?t.bufferSubData(i,0,r):0===a.count?console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):(t.bufferSubData(i,a.offset*r.BYTES_PER_ELEMENT,r.subarray(a.offset,a.offset+a.count)),a.count=-1)}function i(t){return t.isInterleavedBufferAttribute&&(t=t.data),o.get(t)}function r(e){e.isInterleavedBufferAttribute&&(e=e.data);var n=o.get(e);n&&(t.deleteBuffer(n.buffer),o.delete(e))}function a(t,i){t.isInterleavedBufferAttribute&&(t=t.data);var r=o.get(t);void 0===r?o.set(t,e(t,i)):r.version<t.version&&(n(r.buffer,t,i),r.version=t.version)}var o=new WeakMap;return{get:i,remove:r,update:a}}function M(t,e,n,i,r,a){this.a=t,this.b=e,this.c=n,this.normal=i&&i.isVector3?i:new s,this.vertexNormals=Array.isArray(i)?i:[],this.color=r&&r.isColor?r:new _,this.vertexColors=Array.isArray(r)?r:[],this.materialIndex=void 0!==a?a:0}function S(t,e,n,i){this._x=t||0,this._y=e||0,this._z=n||0,this._order=i||S.DefaultOrder}function T(){this.mask=1}function A(){function t(){r.setFromEuler(i,!1)}function e(){i.setFromQuaternion(r,void 0,!1)}Object.defineProperty(this,"id",{value:tc++}),this.uuid=Wl.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=A.DefaultUp.clone();var n=new s,i=new S,r=new o,c=new s(1,1,1);i.onChange(t),r.onChange(e),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:n},rotation:{configurable:!0,enumerable:!0,value:i},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:c},modelViewMatrix:{value:new a},normalMatrix:{value:new l}}),this.matrix=new a,this.matrixWorld=new a,this.matrixAutoUpdate=A.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new T,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}function C(){Object.defineProperty(this,"id",{value:ec+=2}),this.uuid=Wl.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}function L(t,e,n){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=!0===n,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function E(t,e,n){L.call(this,new Int8Array(t),e,n)}function I(t,e,n){L.call(this,new Uint8Array(t),e,n)}function P(t,e,n){L.call(this,new Uint8ClampedArray(t),e,n)}function D(t,e,n){L.call(this,new Int16Array(t),e,n)}function R(t,e,n){L.call(this,new Uint16Array(t),e,n)}function O(t,e,n){L.call(this,new Int32Array(t),e,n)}function k(t,e,n){L.call(this,new Uint32Array(t),e,n)}function N(t,e,n){L.call(this,new Float32Array(t),e,n)}function z(t,e,n){L.call(this,new Float64Array(t),e,n)}function B(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function V(t){if(0===t.length)return-1/0;for(var e=t[0],n=1,i=t.length;n<i;++n)t[n]>e&&(e=t[n]);return e}function F(){Object.defineProperty(this,"id",{value:nc+=2}),this.uuid=Wl.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}function G(t,e,n,i,r,a){C.call(this),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:n,widthSegments:i,heightSegments:r,depthSegments:a},this.fromBufferGeometry(new H(t,e,n,i,r,a)),this.mergeVertices()}function H(t,e,n,i,r,a){function o(t,e,n,i,r,a,o,g,m,v,y){var x,_,b=a/m,w=o/v,M=a/2,S=o/2,T=g/2,A=m+1,C=v+1,L=0,E=0,I=new s;for(_=0;_<C;_++){var P=_*w-S;for(x=0;x<A;x++){var D=x*b-M;I[t]=D*i,I[e]=P*r,I[n]=T,u.push(I.x,I.y,I.z),I[t]=0,I[e]=0,I[n]=g>0?1:-1,h.push(I.x,I.y,I.z),d.push(x/m),d.push(1-_/v),L+=1}}for(_=0;_<v;_++)for(x=0;x<m;x++){var R=p+x+A*_,O=p+x+A*(_+1),k=p+(x+1)+A*(_+1),N=p+(x+1)+A*_;c.push(R,O,N),c.push(O,k,N),E+=6}l.addGroup(f,E,y),f+=E,p+=L}F.call(this),this.type="BoxBufferGeometry",this.parameters={width:t,height:e,depth:n,widthSegments:i,heightSegments:r,depthSegments:a};var l=this;t=t||1,e=e||1,n=n||1,i=Math.floor(i)||1,r=Math.floor(r)||1,a=Math.floor(a)||1;var c=[],u=[],h=[],d=[],p=0,f=0;o("z","y","x",-1,-1,n,e,t,a,r,0),o("z","y","x",1,-1,n,e,-t,a,r,1),o("x","z","y",1,1,t,n,e,i,a,2),o("x","z","y",1,-1,t,n,-e,i,a,3),o("x","y","z",1,-1,t,e,n,i,r,4),o("x","y","z",-1,-1,t,e,-n,i,r,5),this.setIndex(c),this.addAttribute("position",new N(u,3)),this.addAttribute("normal",new N(h,3)),this.addAttribute("uv",new N(d,2))}function U(t,e,n,i){C.call(this),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:n,heightSegments:i},this.fromBufferGeometry(new j(t,e,n,i)),this.mergeVertices()}function j(t,e,n,i){F.call(this),this.type="PlaneBufferGeometry",this.parameters={width:t,height:e,widthSegments:n,heightSegments:i},t=t||1,e=e||1;var r,a,o=t/2,s=e/2,l=Math.floor(n)||1,c=Math.floor(i)||1,u=l+1,h=c+1,d=t/l,p=e/c,f=[],g=[],m=[],v=[];for(a=0;a<h;a++){var y=a*p-s;for(r=0;r<u;r++){var x=r*d-o;g.push(x,-y,0),m.push(0,0,1),v.push(r/l),v.push(1-a/c)}}for(a=0;a<c;a++)for(r=0;r<l;r++){var _=r+u*a,b=r+u*(a+1),w=r+1+u*(a+1),M=r+1+u*a;f.push(_,b,M),f.push(b,w,M)}this.setIndex(f),this.addAttribute("position",new N(g,3)),this.addAttribute("normal",new N(m,3)),this.addAttribute("uv",new N(v,2))}function W(){Object.defineProperty(this,"id",{value:ic++}),this.uuid=Wl.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.lights=!0,this.blending=Io,this.side=bo,this.flatShading=!1,this.vertexColors=Ao,this.opacity=1,this.transparent=!1,this.blendSrc=jo,this.blendDst=Wo,this.blendEquation=ko,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=ts,this.depthTest=!0,this.depthWrite=!0,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.userData={},this.needsUpdate=!0}function $(t){W.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,void 0!==t&&(void 0!==t.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(t))}function Y(t,e){this.origin=void 0!==t?t:new s,this.direction=void 0!==e?e:new s}function X(t,e,n){this.a=void 0!==t?t:new s,this.b=void 0!==e?e:new s,this.c=void 0!==n?n:new s}function q(t){W.call(this),this.type="MeshBasicMaterial",this.color=new _(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=as,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.lights=!1,this.setValues(t)}function Z(t,e){A.call(this),this.type="Mesh",this.geometry=void 0!==t?t:new F,this.material=void 0!==e?e:new q({color:16777215*Math.random()}),this.drawMode=Il,this.updateMorphTargets()}function J(t,e,n,i){function r(e,i,r,d){var p=i.background;if(null===p?(a(l,c),u=null,h=0):p&&p.isColor&&(a(p,1),d=!0,u=null,h=0),(t.autoClear||d)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),p&&(p.isCubeTexture||p.isWebGLRenderTargetCube)){void 0===s&&(s=new Z(new H(1,1,1),new $({type:"BackgroundCubeMaterial",uniforms:y(Ql.cube.uniforms),vertexShader:Ql.cube.vertexShader,fragmentShader:Ql.cube.fragmentShader,side:wo,depthTest:!0,depthWrite:!1,fog:!1})),s.geometry.removeAttribute("normal"),s.geometry.removeAttribute("uv"),s.onBeforeRender=function(t,e,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(s.material,"map",{get:function(){return this.uniforms.tCube.value}}),n.update(s));var f=p.isWebGLRenderTargetCube?p.texture:p;s.material.uniforms.tCube.value=f,s.material.uniforms.tFlip.value=p.isWebGLRenderTargetCube?1:-1,u===p&&h===f.version||(s.material.needsUpdate=!0,u=p,h=f.version),e.unshift(s,s.geometry,s.material,0,null)}else p&&p.isTexture&&(void 0===o&&(o=new Z(new j(2,2),new $({type:"BackgroundMaterial",uniforms:y(Ql.background.uniforms),vertexShader:Ql.background.vertexShader,fragmentShader:Ql.background.fragmentShader,side:bo,depthTest:!1,depthWrite:!1,fog:!1})),o.geometry.removeAttribute("normal"),Object.defineProperty(o.material,"map",{get:function(){return this.uniforms.t2D.value}}),n.update(o)),o.material.uniforms.t2D.value=p,!0===p.matrixAutoUpdate&&p.updateMatrix(),o.material.uniforms.uvTransform.value.copy(p.matrix),u===p&&h===p.version||(o.material.needsUpdate=!0,u=p,h=p.version),e.unshift(o,o.geometry,o.material,0,null))}function a(t,n){e.buffers.color.setClear(t.r,t.g,t.b,n,i)}var o,s,l=new _(0),c=0,u=null,h=0;return{getClearColor:function(){return l},setClearColor:function(t,e){l.set(t),c=void 0!==e?e:1,a(l,c)},getClearAlpha:function(){return c},setClearAlpha:function(t){c=t,a(l,c)},render:r}}function K(t,e,n,i){function r(t){s=t}function a(e,i){t.drawArrays(s,e,i),n.update(i,s)}function o(r,a,o){var l;if(i.isWebGL2)l=t;else if(null===(l=e.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");l[i.isWebGL2?"drawArraysInstanced":"drawArraysInstancedANGLE"](s,a,o,r.maxInstancedCount),n.update(o,s,r.maxInstancedCount)}var s;this.setMode=r,this.render=a,this.renderInstances=o}function Q(t,e,n){function i(){if(void 0!==a)return a;var n=e.get("EXT_texture_filter_anisotropic");return a=null!==n?t.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}function r(e){if("highp"===e){if(t.getShaderPrecisionFormat(35633,36338).precision>0&&t.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";e="mediump"}return"mediump"===e&&t.getShaderPrecisionFormat(35633,36337).precision>0&&t.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}var a,o="undefined"!=typeof WebGL2RenderingContext&&t instanceof WebGL2RenderingContext,s=void 0!==n.precision?n.precision:"highp",l=r(s);l!==s&&(console.warn("THREE.WebGLRenderer:",s,"not supported, using",l,"instead."),s=l);var c=!0===n.logarithmicDepthBuffer,u=t.getParameter(34930),h=t.getParameter(35660),d=t.getParameter(3379),p=t.getParameter(34076),f=t.getParameter(34921),g=t.getParameter(36347),m=t.getParameter(36348),v=t.getParameter(36349),y=h>0,x=o||!!e.get("OES_texture_float");return{isWebGL2:o,getMaxAnisotropy:i,getMaxPrecision:r,precision:s,logarithmicDepthBuffer:c,maxTextures:u,maxVertexTextures:h,maxTextureSize:d,maxCubemapSize:p,maxAttributes:f,maxVertexUniforms:g,maxVaryings:m,maxFragmentUniforms:v,vertexTextures:y,floatFragmentTextures:x,floatVertexTextures:y&&x}}function tt(){function t(){u.value!==i&&(u.value=i,u.needsUpdate=r>0),n.numPlanes=r,n.numIntersection=0}function e(t,e,i,r){var a=null!==t?t.length:0,o=null;if(0!==a){if(o=u.value,!0!==r||null===o){var l=i+4*a,h=e.matrixWorldInverse;c.getNormalMatrix(h),(null===o||o.length<l)&&(o=new Float32Array(l));for(var d=0,p=i;d!==a;++d,p+=4)s.copy(t[d]).applyMatrix4(h,c),s.normal.toArray(o,p),o[p+3]=s.constant}u.value=o,u.needsUpdate=!0}return n.numPlanes=a,o}var n=this,i=null,r=0,a=!1,o=!1,s=new m,c=new l,u={value:null,needsUpdate:!1};this.uniform=u,this.numPlanes=0,this.numIntersection=0,this.init=function(t,n,o){var s=0!==t.length||n||0!==r||a;return a=n,i=e(t,o,0),r=t.length,s},this.beginShadows=function(){o=!0,e(null)},this.endShadows=function(){o=!1,t()},this.setState=function(n,s,l,c,h,d){if(!a||null===n||0===n.length||o&&!l)o?e(null):t();else{var p=o?0:r,f=4*p,g=h.clippingState||null;u.value=g,g=e(n,c,f,d);for(var m=0;m!==f;++m)g[m]=i[m];h.clippingState=g,this.numIntersection=s?this.numPlanes:0,this.numPlanes+=p}}}function et(t){var e={};return{get:function(n){if(void 0!==e[n])return e[n];var i;switch(n){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(n)}return null===i&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),e[n]=i,i}}}function nt(t,e,n){function i(t){var r=t.target,a=s[r.id];null!==a.index&&e.remove(a.index);for(var o in a.attributes)e.remove(a.attributes[o]);r.removeEventListener("dispose",i),delete s[r.id];var c=l[a.id];c&&(e.remove(c),delete l[a.id]),n.memory.geometries--}function r(t,e){var r=s[e.id];return r||(e.addEventListener("dispose",i),e.isBufferGeometry?r=e:e.isGeometry&&(void 0===e._bufferGeometry&&(e._bufferGeometry=(new F).setFromObject(t)),r=e._bufferGeometry),s[e.id]=r,n.memory.geometries++,r)}function a(t){var n=t.index,i=t.attributes;null!==n&&e.update(n,34963);for(var r in i)e.update(i[r],34962);var a=t.morphAttributes;for(var r in a)for(var o=a[r],s=0,l=o.length;s<l;s++)e.update(o[s],34962)}function o(t){var n=l[t.id];if(n)return n;var i=[],r=t.index,a=t.attributes;if(null!==r)for(var o=r.array,s=0,c=o.length;s<c;s+=3){var u=o[s+0],h=o[s+1],d=o[s+2];i.push(u,h,h,d,d,u)}else for(var o=a.position.array,s=0,c=o.length/3-1;s<c;s+=3){var u=s+0,h=s+1,d=s+2;i.push(u,h,h,d,d,u)}return n=new(V(i)>65535?k:R)(i,1),e.update(n,34963),l[t.id]=n,n}var s={},l={};return{get:r,update:a,getWireframeAttribute:o}}function it(t,e,n,i){function r(t){l=t}function a(t){c=t.type,u=t.bytesPerElement}function o(e,i){t.drawElements(l,i,c,e*u),n.update(i,l)}function s(r,a,o){var s;if(i.isWebGL2)s=t;else{var s=e.get("ANGLE_instanced_arrays");if(null===s)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.")}s[i.isWebGL2?"drawElementsInstanced":"drawElementsInstancedANGLE"](l,o,c,a*u,r.maxInstancedCount),n.update(o,l,r.maxInstancedCount)}var l,c,u;this.setMode=r,this.setIndex=a,this.render=o,this.renderInstances=s}function rt(t){function e(t,e,n){switch(n=n||1,r.calls++,e){case 4:r.triangles+=n*(t/3);break;case 5:case 6:r.triangles+=n*(t-2);break;case 1:r.lines+=n*(t/2);break;case 3:r.lines+=n*(t-1);break;case 2:r.lines+=n*t;break;case 0:r.points+=n*t;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",e)}}function n(){r.frame++,r.calls=0,r.triangles=0,r.points=0,r.lines=0}var i={geometries:0,textures:0},r={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:i,render:r,programs:null,autoReset:!0,reset:n,update:e}}function at(t,e){return Math.abs(e[1])-Math.abs(t[1])}function ot(t){function e(e,r,a,o){var s=e.morphTargetInfluences,l=s.length,c=n[r.id];if(void 0===c){c=[];for(var u=0;u<l;u++)c[u]=[u,0];n[r.id]=c}for(var h=a.morphTargets&&r.morphAttributes.position,d=a.morphNormals&&r.morphAttributes.normal,u=0;u<l;u++){var p=c[u];0!==p[1]&&(h&&r.removeAttribute("morphTarget"+u),d&&r.removeAttribute("morphNormal"+u))}for(var u=0;u<l;u++){var p=c[u];p[0]=u,p[1]=s[u]}c.sort(at);for(var u=0;u<8;u++){var p=c[u];if(p){var f=p[0],g=p[1];if(g){h&&r.addAttribute("morphTarget"+u,h[f]),d&&r.addAttribute("morphNormal"+u,d[f]),i[u]=g;continue}}i[u]=0}o.getUniforms().setValue(t,"morphTargetInfluences",i)}var n={},i=new Float32Array(8);return{update:e}}function st(t,e){function n(n){var i=e.render.frame,a=n.geometry,o=t.get(n,a);return r[o.id]!==i&&(a.isGeometry&&o.updateFromObject(n),t.update(o),r[o.id]=i),o}function i(){r={}}var r={};return{update:n,dispose:i}}function lt(t,e,n,i,r,a,o,s,l,u){t=void 0!==t?t:[],e=void 0!==e?e:gs,c.call(this,t,e,n,i,r,a,o,s,l,u),this.flipY=!1}function ct(t,e,n,i){c.call(this,null),this.image={data:t,width:e,height:n,depth:i},this.magFilter=Ts,this.minFilter=Ts,this.generateMipmaps=!1,this.flipY=!1}function ut(){this.seq=[],this.map={}}function ht(t,e,n){var i=t[0];if(i<=0||i>0)return t;var r=e*n,a=sc[r];if(void 0===a&&(a=new Float32Array(r),sc[r]=a),0!==e){i.toArray(a,0);for(var o=1,s=0;o!==e;++o)s+=n,t[o].toArray(a,s)}return a}function dt(t,e){if(t.length!==e.length)return!1;for(var n=0,i=t.length;n<i;n++)if(t[n]!==e[n])return!1;return!0}function pt(t,e){for(var n=0,i=e.length;n<i;n++)t[n]=e[n]}function ft(t,e){var n=lc[e];void 0===n&&(n=new Int32Array(e),lc[e]=n);for(var i=0;i!==e;++i)n[i]=t.allocTextureUnit();return n}function gt(t,e){var n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function mt(t,e){var n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function vt(t,e){var n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y||(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(dt(n,e))return;t.uniform2fv(this.addr,e),pt(n,e)}}function yt(t,e){var n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z||(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(void 0!==e.r)n[0]===e.r&&n[1]===e.g&&n[2]===e.b||(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(dt(n,e))return;t.uniform3fv(this.addr,e),pt(n,e)}}function xt(t,e){var n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z&&n[3]===e.w||(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(dt(n,e))return;t.uniform4fv(this.addr,e),pt(n,e)}}function _t(t,e){var n=this.cache,i=e.elements;if(void 0===i){if(dt(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),pt(n,e)}else{if(dt(n,i))return;hc.set(i),t.uniformMatrix2fv(this.addr,!1,hc),pt(n,i)}}function bt(t,e){var n=this.cache,i=e.elements;if(void 0===i){if(dt(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),pt(n,e)}else{if(dt(n,i))return;uc.set(i),t.uniformMatrix3fv(this.addr,!1,uc),pt(n,i)}}function wt(t,e){var n=this.cache,i=e.elements;if(void 0===i){if(dt(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),pt(n,e)}else{if(dt(n,i))return;cc.set(i),t.uniformMatrix4fv(this.addr,!1,cc),pt(n,i)}}function Mt(t,e,n){var i=this.cache,r=n.allocTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture2D(e||rc,r)}function St(t,e,n){var i=this.cache,r=n.allocTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture3D(e||ac,r)}function Tt(t,e,n){var i=this.cache,r=n.allocTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTextureCube(e||oc,r)}function At(t,e){var n=this.cache;dt(n,e)||(t.uniform2iv(this.addr,e),pt(n,e))}function Ct(t,e){var n=this.cache;dt(n,e)||(t.uniform3iv(this.addr,e),pt(n,e))}function Lt(t,e){var n=this.cache;dt(n,e)||(t.uniform4iv(this.addr,e),pt(n,e))}function Et(t){switch(t){case 5126:return gt;case 35664:return vt;case 35665:return yt;case 35666:return xt;case 35674:return _t;case 35675:return bt;case 35676:return wt;case 35678:case 36198:return Mt;case 35679:return St;case 35680:return Tt;case 5124:case 35670:return mt;case 35667:case 35671:return At;case 35668:case 35672:return Ct;case 35669:case 35673:return Lt}}function It(t,e){var n=this.cache;dt(n,e)||(t.uniform1fv(this.addr,e),pt(n,e))}function Pt(t,e){var n=this.cache;dt(n,e)||(t.uniform1iv(this.addr,e),pt(n,e))}function Dt(t,e){var n=this.cache,i=ht(e,this.size,2);dt(n,i)||(t.uniform2fv(this.addr,i),this.updateCache(i))}function Rt(t,e){var n=this.cache,i=ht(e,this.size,3);dt(n,i)||(t.uniform3fv(this.addr,i),this.updateCache(i))}function Ot(t,e){var n=this.cache,i=ht(e,this.size,4);dt(n,i)||(t.uniform4fv(this.addr,i),this.updateCache(i))}function kt(t,e){var n=this.cache,i=ht(e,this.size,4);dt(n,i)||(t.uniformMatrix2fv(this.addr,!1,i),this.updateCache(i))}function Nt(t,e){var n=this.cache,i=ht(e,this.size,9);dt(n,i)||(t.uniformMatrix3fv(this.addr,!1,i),this.updateCache(i))}function zt(t,e){var n=this.cache,i=ht(e,this.size,16);dt(n,i)||(t.uniformMatrix4fv(this.addr,!1,i),this.updateCache(i))}function Bt(t,e,n){var i=this.cache,r=e.length,a=ft(n,r);!1===dt(i,a)&&(t.uniform1iv(this.addr,a),pt(i,a));for(var o=0;o!==r;++o)n.setTexture2D(e[o]||rc,a[o])}function Vt(t,e,n){var i=this.cache,r=e.length,a=ft(n,r);!1===dt(i,a)&&(t.uniform1iv(this.addr,a),pt(i,a));for(var o=0;o!==r;++o)n.setTextureCube(e[o]||oc,a[o])}function Ft(t){switch(t){case 5126:return It;case 35664:return Dt;case 35665:return Rt;case 35666:return Ot;case 35674:return kt;case 35675:return Nt;case 35676:return zt;case 35678:return Bt;case 35680:return Vt;case 5124:case 35670:return Pt;case 35667:case 35671:return At;case 35668:case 35672:return Ct;case 35669:case 35673:return Lt}}function Gt(t,e,n){this.id=t,this.addr=n,this.cache=[],this.setValue=Et(e.type)}function Ht(t,e,n){this.id=t,this.addr=n,this.cache=[],this.size=e.size,this.setValue=Ft(e.type)}function Ut(t){this.id=t,ut.call(this)}function jt(t,e){t.seq.push(e),t.map[e.id]=e}function Wt(t,e,n){var i=t.name,r=i.length;for(dc.lastIndex=0;;){var a=dc.exec(i),o=dc.lastIndex,s=a[1],l="]"===a[2],c=a[3];if(l&&(s|=0),void 0===c||"["===c&&o+2===r){jt(n,void 0===c?new Gt(s,t,e):new Ht(s,t,e));break}var u=n.map,h=u[s];void 0===h&&(h=new Ut(s),jt(n,h)),n=h}}function $t(t,e,n){ut.call(this),this.renderer=n;for(var i=t.getProgramParameter(e,35718),r=0;r<i;++r){var a=t.getActiveUniform(e,r);Wt(a,t.getUniformLocation(e,a.name),this)}}function Yt(t){for(var e=t.split("\n"),n=0;n<e.length;n++)e[n]=n+1+": "+e[n];return e.join("\n")}function Xt(t,e,n){var i=t.createShader(e);return t.shaderSource(i,n),t.compileShader(i),!1===t.getShaderParameter(i,35713)&&console.error("THREE.WebGLShader: Shader couldn't compile."),""!==t.getShaderInfoLog(i)&&console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",35633===e?"vertex":"fragment",t.getShaderInfoLog(i),Yt(n)),i}function qt(t){switch(t){case Rl:return["Linear","( value )"];case Ol:return["sRGB","( value )"];case Nl:return["RGBE","( value )"];case Bl:return["RGBM","( value, 7.0 )"];case Vl:return["RGBM","( value, 16.0 )"];case Fl:return["RGBD","( value, 256.0 )"];case kl:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw new Error("unsupported encoding: "+t)}}function Zt(t,e){var n=qt(e);return"vec4 "+t+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function Jt(t,e){var n=qt(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function Kt(t,e){var n;switch(e){case cs:n="Linear";break;case us:n="Reinhard";break;case hs:n="Uncharted2";break;case ds:n="OptimizedCineon";break;case ps:n="ACESFilmic";break;default:throw new Error("unsupported toneMapping: "+e)}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function Qt(t,e,n){return t=t||{},[t.derivatives||e.envMapCubeUV||e.bumpMap||e.normalMap&&!e.objectSpaceNormalMap||e.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(t.fragDepth||e.logarithmicDepthBuffer)&&n.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",t.drawBuffers&&n.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(t.shaderTextureLOD||e.envMap)&&n.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""].filter(ne).join("\n")}function te(t){var e=[];for(var n in t){var i=t[n];!1!==i&&e.push("#define "+n+" "+i)}return e.join("\n")}function ee(t,e){for(var n={},i=t.getProgramParameter(e,35721),r=0;r<i;r++){var a=t.getActiveAttrib(e,r),o=a.name;n[o]=t.getAttribLocation(e,o)}return n}function ne(t){return""!==t}function ie(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights)}function re(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}function ae(t){function e(t,e){var n=ql[e];if(void 0===n)throw new Error("Can not resolve #include <"+e+">");return ae(n)}var n=/^[ \t]*#include +<([\w\d./]+)>/gm;return t.replace(n,e)}function oe(t){function e(t,e,n,i){for(var r="",a=parseInt(e);a<parseInt(n);a++)r+=i.replace(/\[ i \]/g,"[ "+a+" ]");return r}var n=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g;return t.replace(n,e)}function se(t,e,n,i,r,a,o){var s=t.context,l=i.defines,c=r.vertexShader,u=r.fragmentShader,h="SHADOWMAP_TYPE_BASIC";a.shadowMapType===xo?h="SHADOWMAP_TYPE_PCF":a.shadowMapType===_o&&(h="SHADOWMAP_TYPE_PCF_SOFT");var d="ENVMAP_TYPE_CUBE",p="ENVMAP_MODE_REFLECTION",f="ENVMAP_BLENDING_MULTIPLY";if(a.envMap){switch(i.envMap.mapping){case gs:case ms:d="ENVMAP_TYPE_CUBE";break;case _s:case bs:d="ENVMAP_TYPE_CUBE_UV";break;case vs:case ys:d="ENVMAP_TYPE_EQUIREC";break;case xs:d="ENVMAP_TYPE_SPHERE"}switch(i.envMap.mapping){case ms:case ys:p="ENVMAP_MODE_REFRACTION"}switch(i.combine){case as:f="ENVMAP_BLENDING_MULTIPLY";break;case os:f="ENVMAP_BLENDING_MIX";break;case ss:f="ENVMAP_BLENDING_ADD"}}var g,m,v=t.gammaFactor>0?t.gammaFactor:1,y=o.isWebGL2?"":Qt(i.extensions,a,e),x=te(l),_=s.createProgram();if(i.isRawShaderMaterial?(g=[x].filter(ne).join("\n"),g.length>0&&(g+="\n"),m=[y,x].filter(ne).join("\n"),m.length>0&&(m+="\n")):(g=["precision "+a.precision+" float;","precision "+a.precision+" int;","#define SHADER_NAME "+r.name,x,a.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+v,"#define MAX_BONES "+a.maxBones,a.useFog&&a.fog?"#define USE_FOG":"",a.useFog&&a.fogExp?"#define FOG_EXP2":"",a.map?"#define USE_MAP":"",a.envMap?"#define USE_ENVMAP":"",a.envMap?"#define "+p:"",a.lightMap?"#define USE_LIGHTMAP":"",a.aoMap?"#define USE_AOMAP":"",a.emissiveMap?"#define USE_EMISSIVEMAP":"",a.bumpMap?"#define USE_BUMPMAP":"",a.normalMap?"#define USE_NORMALMAP":"",a.normalMap&&a.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",a.displacementMap&&a.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",a.specularMap?"#define USE_SPECULARMAP":"",a.roughnessMap?"#define USE_ROUGHNESSMAP":"",a.metalnessMap?"#define USE_METALNESSMAP":"",a.alphaMap?"#define USE_ALPHAMAP":"",a.vertexColors?"#define USE_COLOR":"",a.flatShading?"#define FLAT_SHADED":"",a.skinning?"#define USE_SKINNING":"",a.useVertexTexture?"#define BONE_TEXTURE":"",a.morphTargets?"#define USE_MORPHTARGETS":"",a.morphNormals&&!1===a.flatShading?"#define USE_MORPHNORMALS":"",a.doubleSided?"#define DOUBLE_SIDED":"",a.flipSided?"#define FLIP_SIDED":"",a.shadowMapEnabled?"#define USE_SHADOWMAP":"",a.shadowMapEnabled?"#define "+h:"",a.sizeAttenuation?"#define USE_SIZEATTENUATION":"",a.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",a.logarithmicDepthBuffer&&(o.isWebGL2||e.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(ne).join("\n"),m=[y,"precision "+a.precision+" float;","precision "+a.precision+" int;","#define SHADER_NAME "+r.name,x,a.alphaTest?"#define ALPHATEST "+a.alphaTest+(a.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+v,a.useFog&&a.fog?"#define USE_FOG":"",a.useFog&&a.fogExp?"#define FOG_EXP2":"",a.map?"#define USE_MAP":"",a.matcap?"#define USE_MATCAP":"",a.envMap?"#define USE_ENVMAP":"",a.envMap?"#define "+d:"",a.envMap?"#define "+p:"",a.envMap?"#define "+f:"",a.lightMap?"#define USE_LIGHTMAP":"",a.aoMap?"#define USE_AOMAP":"",a.emissiveMap?"#define USE_EMISSIVEMAP":"",a.bumpMap?"#define USE_BUMPMAP":"",a.normalMap?"#define USE_NORMALMAP":"",a.normalMap&&a.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",a.specularMap?"#define USE_SPECULARMAP":"",a.roughnessMap?"#define USE_ROUGHNESSMAP":"",a.metalnessMap?"#define USE_METALNESSMAP":"",a.alphaMap?"#define USE_ALPHAMAP":"",a.vertexColors?"#define USE_COLOR":"",a.gradientMap?"#define USE_GRADIENTMAP":"",a.flatShading?"#define FLAT_SHADED":"",a.doubleSided?"#define DOUBLE_SIDED":"",a.flipSided?"#define FLIP_SIDED":"",a.shadowMapEnabled?"#define USE_SHADOWMAP":"",a.shadowMapEnabled?"#define "+h:"",a.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",a.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",a.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",a.logarithmicDepthBuffer&&(o.isWebGL2||e.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"",a.envMap&&(o.isWebGL2||e.get("EXT_shader_texture_lod"))?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",a.toneMapping!==ls?"#define TONE_MAPPING":"",a.toneMapping!==ls?ql.tonemapping_pars_fragment:"",a.toneMapping!==ls?Kt("toneMapping",a.toneMapping):"",a.dithering?"#define DITHERING":"",a.outputEncoding||a.mapEncoding||a.matcapEncoding||a.envMapEncoding||a.emissiveMapEncoding?ql.encodings_pars_fragment:"",a.mapEncoding?Zt("mapTexelToLinear",a.mapEncoding):"",a.matcapEncoding?Zt("matcapTexelToLinear",a.matcapEncoding):"",a.envMapEncoding?Zt("envMapTexelToLinear",a.envMapEncoding):"",a.emissiveMapEncoding?Zt("emissiveMapTexelToLinear",a.emissiveMapEncoding):"",a.outputEncoding?Jt("linearToOutputTexel",a.outputEncoding):"",a.depthPacking?"#define DEPTH_PACKING "+i.depthPacking:"","\n"].filter(ne).join("\n")),c=ae(c),c=ie(c,a),c=re(c,a),u=ae(u),u=ie(u,a),u=re(u,a),c=oe(c),u=oe(u),o.isWebGL2&&!i.isRawShaderMaterial){var b=!1,w=/^\s*#version\s+300\s+es\s*\n/;i.isShaderMaterial&&null!==c.match(w)&&null!==u.match(w)&&(b=!0,c=c.replace(w,""),u=u.replace(w,"")),g=["#version 300 es\n","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+g,m=["#version 300 es\n","#define varying in",b?"":"out highp vec4 pc_fragColor;",b?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+m}var M=g+c,S=m+u,T=Xt(s,35633,M),A=Xt(s,35632,S);s.attachShader(_,T),s.attachShader(_,A),void 0!==i.index0AttributeName?s.bindAttribLocation(_,0,i.index0AttributeName):!0===a.morphTargets&&s.bindAttribLocation(_,0,"position"),s.linkProgram(_);var C=s.getProgramInfoLog(_).trim(),L=s.getShaderInfoLog(T).trim(),E=s.getShaderInfoLog(A).trim(),I=!0,P=!0;!1===s.getProgramParameter(_,35714)?(I=!1,console.error("THREE.WebGLProgram: shader error: ",s.getError(),"35715",s.getProgramParameter(_,35715),"gl.getProgramInfoLog",C,L,E)):""!==C?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",C):""!==L&&""!==E||(P=!1),P&&(this.diagnostics={runnable:I,material:i,programLog:C,vertexShader:{log:L,prefix:g},fragmentShader:{log:E,prefix:m}}),s.deleteShader(T),s.deleteShader(A);var D;this.getUniforms=function(){return void 0===D&&(D=new $t(s,_,t)),D};var R;return this.getAttributes=function(){return void 0===R&&(R=ee(s,_)),R},this.destroy=function(){s.deleteProgram(_),this.program=void 0},Object.defineProperties(this,{uniforms:{get:function(){return console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms()."),this.getUniforms()}},attributes:{get:function(){return console.warn("THREE.WebGLProgram: .attributes is now .getAttributes()."),this.getAttributes()}}}),this.name=r.name,this.id=pc++,this.code=n,this.usedTimes=1,this.program=_,this.vertexShader=T,this.fragmentShader=A,this}function le(t,e,n){function i(t){var e=t.skeleton,i=e.bones;if(n.floatVertexTextures)return 1024;var r=n.maxVertexUniforms,a=Math.floor((r-20)/4),o=Math.min(a,i.length);return o<i.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+i.length+" bones. This GPU supports "+o+"."),0):o}function r(t,e){var n;return t?t.isTexture?n=t.encoding:t.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),n=t.texture.encoding):n=Rl,n===Rl&&e&&(n=kl),n}var a=[],o={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},s=["precision","supportsVertexTextures","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","lightMap","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering"];this.getParameters=function(e,a,s,l,c,u,h){var d=o[e.type],p=h.isSkinnedMesh?i(h):0,f=n.precision;null!==e.precision&&(f=n.getMaxPrecision(e.precision))!==e.precision&&console.warn("THREE.WebGLProgram.getParameters:",e.precision,"not supported, using",f,"instead.");var g=t.getRenderTarget();return{shaderID:d,precision:f,supportsVertexTextures:n.vertexTextures,outputEncoding:r(g?g.texture:null,t.gammaOutput),map:!!e.map,mapEncoding:r(e.map,t.gammaInput),matcap:!!e.matcap,matcapEncoding:r(e.matcap,t.gammaInput),envMap:!!e.envMap,envMapMode:e.envMap&&e.envMap.mapping,envMapEncoding:r(e.envMap,t.gammaInput),envMapCubeUV:!!e.envMap&&(e.envMap.mapping===_s||e.envMap.mapping===bs),lightMap:!!e.lightMap,aoMap:!!e.aoMap,emissiveMap:!!e.emissiveMap,emissiveMapEncoding:r(e.emissiveMap,t.gammaInput),bumpMap:!!e.bumpMap,normalMap:!!e.normalMap,objectSpaceNormalMap:e.normalMapType===jl,displacementMap:!!e.displacementMap,roughnessMap:!!e.roughnessMap,metalnessMap:!!e.metalnessMap,specularMap:!!e.specularMap,alphaMap:!!e.alphaMap,gradientMap:!!e.gradientMap,combine:e.combine,vertexColors:e.vertexColors,fog:!!l,useFog:e.fog,fogExp:l&&l.isFogExp2,flatShading:e.flatShading,sizeAttenuation:e.sizeAttenuation,logarithmicDepthBuffer:n.logarithmicDepthBuffer,skinning:e.skinning&&p>0,maxBones:p,useVertexTexture:n.floatVertexTextures,morphTargets:e.morphTargets,morphNormals:e.morphNormals,maxMorphTargets:t.maxMorphTargets,maxMorphNormals:t.maxMorphNormals,numDirLights:a.directional.length,numPointLights:a.point.length,numSpotLights:a.spot.length,numRectAreaLights:a.rectArea.length,numHemiLights:a.hemi.length,numClippingPlanes:c,numClipIntersection:u,dithering:e.dithering,shadowMapEnabled:t.shadowMap.enabled&&h.receiveShadow&&s.length>0,shadowMapType:t.shadowMap.type,toneMapping:t.toneMapping,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:e.premultipliedAlpha,alphaTest:e.alphaTest,doubleSided:e.side===Mo,flipSided:e.side===wo,depthPacking:void 0!==e.depthPacking&&e.depthPacking}},this.getProgramCode=function(e,n){var i=[];if(n.shaderID?i.push(n.shaderID):(i.push(e.fragmentShader),i.push(e.vertexShader)),void 0!==e.defines)for(var r in e.defines)i.push(r),i.push(e.defines[r]);for(var a=0;a<s.length;a++)i.push(n[s[a]]);return i.push(e.onBeforeCompile.toString()),i.push(t.gammaOutput),i.push(t.gammaFactor),i.join()},this.acquireProgram=function(i,r,o,s){for(var l,c=0,u=a.length;c<u;c++){var h=a[c];if(h.code===s){l=h,++l.usedTimes;break}}return void 0===l&&(l=new se(t,e,s,i,r,o,n),a.push(l)),l},this.releaseProgram=function(t){if(0==--t.usedTimes){var e=a.indexOf(t);a[e]=a[a.length-1],a.pop(),t.destroy()}},this.programs=a}function ce(){function t(t){var e=r.get(t);return void 0===e&&(e={},r.set(t,e)),e}function e(t){r.delete(t)}function n(t,e,n){r.get(t)[e]=n}function i(){r=new WeakMap}var r=new WeakMap;return{get:t,remove:e,update:n,dispose:i}}function ue(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.program&&e.program&&t.program!==e.program?t.program.id-e.program.id:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function he(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function de(){function t(){o=0,s.length=0,l.length=0}function e(t,e,n,i,r){var s=a[o];return void 0===s?(s={id:t.id,object:t,geometry:e,material:n,program:n.program,renderOrder:t.renderOrder,z:i,group:r},a[o]=s):(s.id=t.id,s.object=t,s.geometry=e,s.material=n,s.program=n.program,s.renderOrder=t.renderOrder,s.z=i,s.group=r),o++,s}function n(t,n,i,r,a){var o=e(t,n,i,r,a);(!0===i.transparent?l:s).push(o)}function i(t,n,i,r,a){var o=e(t,n,i,r,a);(!0===i.transparent?l:s).unshift(o)}function r(){s.length>1&&s.sort(ue),l.length>1&&l.sort(he)}var a=[],o=0,s=[],l=[];return{opaque:s,transparent:l,init:t,push:n,unshift:i,sort:r}}function pe(){function t(t,e){var i,r=n[t.id];return void 0===r?(i=new de,n[t.id]={},n[t.id][e.id]=i):void 0===(i=r[e.id])&&(i=new de,r[e.id]=i),i}function e(){n={}}var n={};return{get:t,dispose:e}}function fe(){var t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];var n;switch(e.type){case"DirectionalLight":n={direction:new s,color:new _,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new r};break;case"SpotLight":n={position:new s,direction:new s,color:new _,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new r};break;case"PointLight":n={position:new s,color:new _,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new r,shadowCameraNear:1,shadowCameraFar:1e3};break;case"HemisphereLight":n={direction:new s,skyColor:new _,groundColor:new _};break;case"RectAreaLight":n={color:new _,position:new s,halfWidth:new s,halfHeight:new s}}return t[e.id]=n,n}}}function ge(){function t(t,a,s){for(var l=0,c=0,u=0,h=0,d=0,p=0,f=0,g=0,m=s.matrixWorldInverse,v=0,y=t.length;v<y;v++){var x=t[v],_=x.color,b=x.intensity,w=x.distance,M=x.shadow&&x.shadow.map?x.shadow.map.texture:null;if(x.isAmbientLight)l+=_.r*b,c+=_.g*b,u+=_.b*b;else if(x.isDirectionalLight){var S=e.get(x);if(S.color.copy(x.color).multiplyScalar(x.intensity),S.direction.setFromMatrixPosition(x.matrixWorld),i.setFromMatrixPosition(x.target.matrixWorld),S.direction.sub(i),S.direction.transformDirection(m),S.shadow=x.castShadow,x.castShadow){var T=x.shadow;S.shadowBias=T.bias,S.shadowRadius=T.radius,S.shadowMapSize=T.mapSize}n.directionalShadowMap[h]=M,n.directionalShadowMatrix[h]=x.shadow.matrix,n.directional[h]=S,h++}else if(x.isSpotLight){var S=e.get(x);if(S.position.setFromMatrixPosition(x.matrixWorld),S.position.applyMatrix4(m),S.color.copy(_).multiplyScalar(b),S.distance=w,S.direction.setFromMatrixPosition(x.matrixWorld),i.setFromMatrixPosition(x.target.matrixWorld),S.direction.sub(i),S.direction.transformDirection(m),S.coneCos=Math.cos(x.angle),S.penumbraCos=Math.cos(x.angle*(1-x.penumbra)),S.decay=x.decay,S.shadow=x.castShadow,x.castShadow){var T=x.shadow;S.shadowBias=T.bias,S.shadowRadius=T.radius,S.shadowMapSize=T.mapSize}n.spotShadowMap[p]=M,n.spotShadowMatrix[p]=x.shadow.matrix,n.spot[p]=S,p++}else if(x.isRectAreaLight){var S=e.get(x);S.color.copy(_).multiplyScalar(b),S.position.setFromMatrixPosition(x.matrixWorld),S.position.applyMatrix4(m),o.identity(),r.copy(x.matrixWorld),r.premultiply(m),o.extractRotation(r),S.halfWidth.set(.5*x.width,0,0),S.halfHeight.set(0,.5*x.height,0),S.halfWidth.applyMatrix4(o),S.halfHeight.applyMatrix4(o),n.rectArea[f]=S,f++}else if(x.isPointLight){var S=e.get(x);if(S.position.setFromMatrixPosition(x.matrixWorld),S.position.applyMatrix4(m),S.color.copy(x.color).multiplyScalar(x.intensity),S.distance=x.distance,S.decay=x.decay,S.shadow=x.castShadow,x.castShadow){var T=x.shadow;S.shadowBias=T.bias,S.shadowRadius=T.radius,S.shadowMapSize=T.mapSize,S.shadowCameraNear=T.camera.near,S.shadowCameraFar=T.camera.far}n.pointShadowMap[d]=M,n.pointShadowMatrix[d]=x.shadow.matrix,n.point[d]=S,d++}else if(x.isHemisphereLight){var S=e.get(x);S.direction.setFromMatrixPosition(x.matrixWorld),S.direction.transformDirection(m),S.direction.normalize(),S.skyColor.copy(x.color).multiplyScalar(b),S.groundColor.copy(x.groundColor).multiplyScalar(b),n.hemi[g]=S,g++}}n.ambient[0]=l,n.ambient[1]=c,n.ambient[2]=u,n.directional.length=h,n.spot.length=p,n.rectArea.length=f,n.point.length=d,n.hemi.length=g,n.hash.stateID=n.id,n.hash.directionalLength=h,n.hash.pointLength=d,n.hash.spotLength=p,n.hash.rectAreaLength=f,n.hash.hemiLength=g,n.hash.shadowsLength=a.length}var e=new fe,n={id:fc++,hash:{stateID:-1,directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,shadowsLength:-1},ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},i=new s,r=new a,o=new a;return{setup:t,state:n}}function me(){function t(){a.length=0,o.length=0}function e(t){a.push(t)}function n(t){o.push(t)}function i(t){r.setup(a,o,t)}var r=new ge,a=[],o=[];return{init:t,state:{lightsArray:a,shadowsArray:o,lights:r},setupLights:i,pushLight:e,pushShadow:n}}function ve(){function t(t,e){var i;return void 0===n[t.id]?(i=new me,n[t.id]={},n[t.id][e.id]=i):void 0===n[t.id][e.id]?(i=new me,n[t.id][e.id]=i):i=n[t.id][e.id],i}function e(){n={}}var n={};return{get:t,dispose:e}}function ye(t){W.call(this),this.type="MeshDepthMaterial",this.depthPacking=Gl,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.setValues(t)}function xe(t){W.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new s,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.lights=!1,this.setValues(t)}function _e(t,e,n){function i(e,n,i,r,a,o){var s=e.geometry,l=null,c=_,u=e.customDepthMaterial;if(i&&(c=b,u=e.customDistanceMaterial),u)l=u;else{var h=!1;n.morphTargets&&(s&&s.isBufferGeometry?h=s.morphAttributes&&s.morphAttributes.position&&s.morphAttributes.position.length>0:s&&s.isGeometry&&(h=s.morphTargets&&s.morphTargets.length>0)),e.isSkinnedMesh&&!1===n.skinning&&console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",e);var d=e.isSkinnedMesh&&n.skinning,p=0;h&&(p|=m),d&&(p|=y),l=c[p]}if(t.localClippingEnabled&&!0===n.clipShadows&&0!==n.clippingPlanes.length){var f=l.uuid,g=n.uuid,v=w[f];void 0===v&&(v={},w[f]=v);var x=v[g];void 0===x&&(x=l.clone(),v[g]=x),l=x}return l.visible=n.visible,l.wireframe=n.wireframe,l.side=null!=n.shadowSide?n.shadowSide:M[n.side],l.clipShadows=n.clipShadows,l.clippingPlanes=n.clippingPlanes,l.clipIntersection=n.clipIntersection,l.wireframeLinewidth=n.wireframeLinewidth,l.linewidth=n.linewidth,i&&l.isMeshDistanceMaterial&&(l.referencePosition.copy(r),l.nearDistance=a,l.farDistance=o),l}function o(n,r,a,s){if(!1!==n.visible){if(n.layers.test(r.layers)&&(n.isMesh||n.isLine||n.isPoints)&&n.castShadow&&(!n.frustumCulled||l.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,n.matrixWorld);var c=e.update(n),u=n.material;if(Array.isArray(u))for(var h=c.groups,d=0,p=h.length;d<p;d++){var f=h[d],m=u[f.materialIndex];if(m&&m.visible){var v=i(n,m,s,g,a.near,a.far);t.renderBufferDirect(a,null,c,v,n,f)}}else if(u.visible){var v=i(n,u,s,g,a.near,a.far);t.renderBufferDirect(a,null,c,v,n,null)}}for(var y=n.children,x=0,_=y.length;x<_;x++)o(y[x],r,a,s)}}for(var l=new v,c=new a,d=new r,p=new r(n,n),f=new s,g=new s,m=1,y=2,x=1+(m|y),_=new Array(x),b=new Array(x),w={},M={0:wo,1:bo,2:Mo},S=[new s(1,0,0),new s(-1,0,0),new s(0,0,1),new s(0,0,-1),new s(0,1,0),new s(0,-1,0)],T=[new s(0,1,0),new s(0,1,0),new s(0,1,0),new s(0,1,0),new s(0,0,1),new s(0,0,-1)],A=[new u,new u,new u,new u,new u,new u],C=0;C!==x;++C){var L=0!=(C&m),E=0!=(C&y),I=new ye({depthPacking:Hl,morphTargets:L,skinning:E});_[C]=I;var P=new xe({morphTargets:L,skinning:E});b[C]=P}var D=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=xo,this.render=function(e,n,i){if(!1!==D.enabled&&(!1!==D.autoUpdate||!1!==D.needsUpdate)&&0!==e.length){var r=(t.context,t.state);r.disable(3042),r.buffers.color.setClear(1,1,1,1),r.buffers.depth.setTest(!0),r.setScissorTest(!1);for(var a,s=0,u=e.length;s<u;s++){var m=e[s],v=m.shadow,y=m&&m.isPointLight;if(void 0!==v){var x=v.camera;if(d.copy(v.mapSize),d.min(p),y){var _=d.x,b=d.y;A[0].set(2*_,b,_,b),A[1].set(0,b,_,b),A[2].set(3*_,b,_,b),A[3].set(_,b,_,b),A[4].set(3*_,0,_,b),A[5].set(_,0,_,b),d.x*=4,d.y*=2}if(null===v.map){var w={minFilter:Ts,magFilter:Ts,format:Ws};v.map=new h(d.x,d.y,w),v.map.texture.name=m.name+".shadowMap",x.updateProjectionMatrix()}v.isSpotLightShadow&&v.update(m);var M=v.map,C=v.matrix;g.setFromMatrixPosition(m.matrixWorld),x.position.copy(g),y?(a=6,C.makeTranslation(-g.x,-g.y,-g.z)):(a=1,f.setFromMatrixPosition(m.target.matrixWorld),x.lookAt(f),x.updateMatrixWorld(),C.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),C.multiply(x.projectionMatrix),C.multiply(x.matrixWorldInverse)),t.setRenderTarget(M),t.clear();for(var L=0;L<a;L++){if(y){f.copy(x.position),f.add(S[L]),x.up.copy(T[L]),x.lookAt(f),x.updateMatrixWorld();var E=A[L];r.viewport(E)}c.multiplyMatrices(x.projectionMatrix,x.matrixWorldInverse),l.setFromMatrix(c),o(n,i,x,y)}}else console.warn("THREE.WebGLShadowMap:",m,"has no shadow.")}D.needsUpdate=!1}}}function be(t,e,n,i){function r(){var e=!1,n=new u,i=null,r=new u(0,0,0,0);return{setMask:function(n){i===n||e||(t.colorMask(n,n,n,n),i=n)},setLocked:function(t){e=t},setClear:function(e,i,a,o,s){!0===s&&(e*=o,i*=o,a*=o),n.set(e,i,a,o),!1===r.equals(n)&&(t.clearColor(e,i,a,o),r.copy(n))},reset:function(){e=!1,i=null,r.set(-1,0,0,0)}}}function a(){var e=!1,n=null,i=null,r=null;return{setTest:function(t){t?p(2929):f(2929)},setMask:function(i){n===i||e||(t.depthMask(i),n=i)},setFunc:function(e){if(i!==e){if(e)switch(e){case Jo:t.depthFunc(512);break;case Ko:t.depthFunc(519);break;case Qo:t.depthFunc(513);break;case ts:t.depthFunc(515);break;case es:t.depthFunc(514);break;case ns:t.depthFunc(518);break;case is:t.depthFunc(516);break;case rs:t.depthFunc(517);break;default:t.depthFunc(515)}else t.depthFunc(515);i=e}},setLocked:function(t){e=t},setClear:function(e){r!==e&&(t.clearDepth(e),r=e)},reset:function(){e=!1,n=null,i=null,r=null}}}function o(){var e=!1,n=null,i=null,r=null,a=null,o=null,s=null,l=null,c=null;return{setTest:function(t){t?p(2960):f(2960)},setMask:function(i){n===i||e||(t.stencilMask(i),n=i)},setFunc:function(e,n,o){i===e&&r===n&&a===o||(t.stencilFunc(e,n,o),i=e,r=n,a=o)},setOp:function(e,n,i){o===e&&s===n&&l===i||(t.stencilOp(e,n,i),o=e,s=n,l=i)},setLocked:function(t){e=t},setClear:function(e){c!==e&&(t.clearStencil(e),c=e)},reset:function(){e=!1,n=null,i=null,r=null,a=null,o=null,s=null,l=null,c=null}}}function s(e,n,i){var r=new Uint8Array(4),a=t.createTexture();t.bindTexture(e,a),t.texParameteri(e,10241,9728),t.texParameteri(e,10240,9728);for(var o=0;o<i;o++)t.texImage2D(n+o,0,6408,1,1,0,6408,5121,r);return a}function l(){for(var t=0,e=N.length;t<e;t++)N[t]=0}function c(t){h(t,0)}function h(n,r){if(N[n]=1,0===z[n]&&(t.enableVertexAttribArray(n),z[n]=1),B[n]!==r){(i.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,r),B[n]=r}}function d(){for(var e=0,n=z.length;e!==n;++e)z[e]!==N[e]&&(t.disableVertexAttribArray(e),z[e]=0)}function p(e){!0!==V[e]&&(t.enable(e),V[e]=!0)}function f(e){!1!==V[e]&&(t.disable(e),V[e]=!1)}function g(){if(null===F&&(F=[],e.get("WEBGL_compressed_texture_pvrtc")||e.get("WEBGL_compressed_texture_s3tc")||e.get("WEBGL_compressed_texture_etc1")||e.get("WEBGL_compressed_texture_astc")))for(var n=t.getParameter(34467),i=0;i<n.length;i++)F.push(n[i]);return F}function m(e){return G!==e&&(t.useProgram(e),G=e,!0)}function v(e,i,r,a,o,s,l,c){if(e===Eo)return void(H&&(f(3042),H=!1));if(H||(p(3042),H=!0),e===Oo)o=o||i,s=s||r,l=l||a,i===j&&o===Y||(t.blendEquationSeparate(n.convert(i),n.convert(o)),j=i,Y=o),r===W&&a===$&&s===X&&l===q||(t.blendFuncSeparate(n.convert(r),n.convert(a),n.convert(s),n.convert(l)),W=r,$=a,X=s,q=l),U=e,Z=null;else if(e!==U||c!==Z){if(j===ko&&Y===ko||(t.blendEquation(32774),j=ko,Y=ko),c)switch(e){case Io:t.blendFuncSeparate(1,771,1,771);break;case Po:t.blendFunc(1,1);break;case Do:t.blendFuncSeparate(0,0,769,771);break;case Ro:t.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",e)}else switch(e){case Io:t.blendFuncSeparate(770,771,1,771);break;case Po:t.blendFunc(770,1);break;case Do:t.blendFunc(0,769);break;case Ro:t.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",e)}W=null,$=null,X=null,q=null,U=e,Z=c}}function y(t,e){t.side===Mo?f(2884):p(2884);var n=t.side===wo;e&&(n=!n),x(n),t.blending===Io&&!1===t.transparent?v(Eo):v(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha),R.setFunc(t.depthFunc),R.setTest(t.depthTest),R.setMask(t.depthWrite),D.setMask(t.colorWrite),w(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits)}function x(e){J!==e&&(e?t.frontFace(2304):t.frontFace(2305),J=e)}function _(e){e!==ho?(p(2884),e!==K&&(e===po?t.cullFace(1029):e===fo?t.cullFace(1028):t.cullFace(1032))):f(2884),K=e}function b(e){e!==Q&&(it&&t.lineWidth(e),Q=e)}function w(e,n,i){e?(p(32823),tt===n&&et===i||(t.polygonOffset(n,i),tt=n,et=i)):f(32823)}function M(t){t?p(3089):f(3089)}function S(e){void 0===e&&(e=33984+nt-1),ot!==e&&(t.activeTexture(e),ot=e)}function T(e,n){null===ot&&S();var i=st[ot];void 0===i&&(i={type:void 0,texture:void 0},st[ot]=i),i.type===e&&i.texture===n||(t.bindTexture(e,n||ut[e]),i.type=e,i.texture=n)}function A(){try{t.compressedTexImage2D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}}function C(){try{t.texImage2D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}}function L(){try{t.texImage3D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}}function E(e){!1===lt.equals(e)&&(t.scissor(e.x,e.y,e.z,e.w),lt.copy(e))}function I(e){!1===ct.equals(e)&&(t.viewport(e.x,e.y,e.z,e.w),ct.copy(e))}function P(){for(var e=0;e<z.length;e++)1===z[e]&&(t.disableVertexAttribArray(e),z[e]=0);V={},F=null,ot=null,st={},G=null,U=null,J=null,K=null,D.reset(),R.reset(),O.reset()}var D=new r,R=new a,O=new o,k=t.getParameter(34921),N=new Uint8Array(k),z=new Uint8Array(k),B=new Uint8Array(k),V={},F=null,G=null,H=null,U=null,j=null,W=null,$=null,Y=null,X=null,q=null,Z=!1,J=null,K=null,Q=null,tt=null,et=null,nt=t.getParameter(35661),it=!1,rt=0,at=t.getParameter(7938);-1!==at.indexOf("WebGL")?(rt=parseFloat(/^WebGL\ ([0-9])/.exec(at)[1]),it=rt>=1):-1!==at.indexOf("OpenGL ES")&&(rt=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(at)[1]),it=rt>=2);var ot=null,st={},lt=new u,ct=new u,ut={};return ut[3553]=s(3553,3553,1),ut[34067]=s(34067,34069,6),D.setClear(0,0,0,1),R.setClear(1),O.setClear(0),p(2929),R.setFunc(ts),x(!1),_(po),p(2884),v(Eo),{buffers:{color:D,depth:R,stencil:O},initAttributes:l,enableAttribute:c,enableAttributeAndDivisor:h,disableUnusedAttributes:d,enable:p,disable:f,getCompressedTextureFormats:g,useProgram:m,setBlending:v,setMaterial:y,setFlipSided:x,setCullFace:_,setLineWidth:b,setPolygonOffset:w,setScissorTest:M,activeTexture:S,bindTexture:T,compressedTexImage2D:A,texImage2D:C,texImage3D:L,scissor:E,viewport:I,reset:P}}function we(t,e,n,i,r,a,o){function s(t,e){if(t.width>e||t.height>e){if("data"in t)return void console.warn("THREE.WebGLRenderer: image in DataTexture is too big ("+t.width+"x"+t.height+").");var n=e/Math.max(t.width,t.height),i=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");i.width=Math.floor(t.width*n),i.height=Math.floor(t.height*n);return i.getContext("2d").drawImage(t,0,0,t.width,t.height,0,0,i.width,i.height),console.warn("THREE.WebGLRenderer: image is too big ("+t.width+"x"+t.height+"). Resized to "+i.width+"x"+i.height),i}return t}function l(t){return Wl.isPowerOfTwo(t.width)&&Wl.isPowerOfTwo(t.height)}function c(t){if(t instanceof HTMLImageElement||t instanceof HTMLCanvasElement||t instanceof ImageBitmap){void 0===D&&(D=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),D.width=Wl.floorPowerOfTwo(t.width),D.height=Wl.floorPowerOfTwo(t.height);return D.getContext("2d").drawImage(t,0,0,D.width,D.height),console.warn("THREE.WebGLRenderer: image is not power of two ("+t.width+"x"+t.height+"). Resized to "+D.width+"x"+D.height),D}return t}function u(t){return!r.isWebGL2&&(t.wrapS!==Ms||t.wrapT!==Ms||t.minFilter!==Ts&&t.minFilter!==Ls)}function h(t,e){return t.generateMipmaps&&e&&t.minFilter!==Ts&&t.minFilter!==Ls}function d(e,n,r,a){t.generateMipmap(e),i.get(n).__maxMipLevel=Math.log(Math.max(r,a))*Math.LOG2E}function p(t,e){if(!r.isWebGL2)return t;if(6403===t){if(5126===e)return 33326;if(5131===e)return 33325;if(5121===e)return 33321}if(6407===t){if(5126===e)return 34837;if(5131===e)return 34843;if(5121===e)return 32849}if(6408===t){if(5126===e)return 34836;if(5131===e)return 34842;if(5121===e)return 32856}return t}function f(t){return t===Ts||t===As||t===Cs?9728:9729}function g(t){var e=t.target;e.removeEventListener("dispose",g),v(e),e.isVideoTexture&&delete R[e.id],o.memory.textures--}function m(t){var e=t.target;e.removeEventListener("dispose",m),y(e),o.memory.textures--}function v(e){var n=i.get(e);if(e.image&&n.__image__webglTextureCube)t.deleteTexture(n.__image__webglTextureCube);else{if(void 0===n.__webglInit)return;t.deleteTexture(n.__webglTexture)}i.remove(e)}function y(e){var n=i.get(e),r=i.get(e.texture);if(e){if(void 0!==r.__webglTexture&&t.deleteTexture(r.__webglTexture),e.depthTexture&&e.depthTexture.dispose(),e.isWebGLRenderTargetCube)for(var a=0;a<6;a++)t.deleteFramebuffer(n.__webglFramebuffer[a]),n.__webglDepthbuffer&&t.deleteRenderbuffer(n.__webglDepthbuffer[a]);else t.deleteFramebuffer(n.__webglFramebuffer),n.__webglDepthbuffer&&t.deleteRenderbuffer(n.__webglDepthbuffer);i.remove(e.texture),i.remove(e)}}function x(t,e){var r=i.get(t);if(t.isVideoTexture&&P(t),t.version>0&&r.__version!==t.version){var a=t.image;if(void 0===a)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==a.complete)return void S(r,t,e);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.activeTexture(33984+e),n.bindTexture(3553,r.__webglTexture)}function _(t,e){var r=i.get(t);if(t.version>0&&r.__version!==t.version)return void S(r,t,e);n.activeTexture(33984+e),n.bindTexture(32879,r.__webglTexture)}function b(e,c){var u=i.get(e);if(6===e.image.length)if(e.version>0&&u.__version!==e.version){u.__image__webglTextureCube||(e.addEventListener("dispose",g),u.__image__webglTextureCube=t.createTexture(),o.memory.textures++),n.activeTexture(33984+c),n.bindTexture(34067,u.__image__webglTextureCube),t.pixelStorei(37440,e.flipY);for(var f=e&&e.isCompressedTexture,m=e.image[0]&&e.image[0].isDataTexture,v=[],y=0;y<6;y++)v[y]=f||m?m?e.image[y].image:e.image[y]:s(e.image[y],r.maxCubemapSize);var x=v[0],_=l(x),b=a.convert(e.format),w=a.convert(e.type),S=p(b,w);M(34067,e,_);for(var y=0;y<6;y++)if(f)for(var T,A=v[y].mipmaps,C=0,L=A.length;C<L;C++)T=A[C],e.format!==Ws&&e.format!==js?n.getCompressedTextureFormats().indexOf(b)>-1?n.compressedTexImage2D(34069+y,C,S,T.width,T.height,0,T.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(34069+y,C,S,T.width,T.height,0,b,w,T.data);else m?n.texImage2D(34069+y,0,S,v[y].width,v[y].height,0,b,w,v[y].data):n.texImage2D(34069+y,0,S,b,w,v[y]);u.__maxMipLevel=f?A.length-1:0,h(e,_)&&d(34067,e,x.width,x.height),u.__version=e.version,e.onUpdate&&e.onUpdate(e)}else n.activeTexture(33984+c),n.bindTexture(34067,u.__image__webglTextureCube)}function w(t,e){n.activeTexture(33984+e),n.bindTexture(34067,i.get(t).__webglTexture)}function M(n,o,s){var l;if(s?(t.texParameteri(n,10242,a.convert(o.wrapS)),t.texParameteri(n,10243,a.convert(o.wrapT)),t.texParameteri(n,10240,a.convert(o.magFilter)),t.texParameteri(n,10241,a.convert(o.minFilter))):(t.texParameteri(n,10242,33071),t.texParameteri(n,10243,33071),o.wrapS===Ms&&o.wrapT===Ms||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(n,10240,f(o.magFilter)),t.texParameteri(n,10241,f(o.minFilter)),o.minFilter!==Ts&&o.minFilter!==Ls&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),l=e.get("EXT_texture_filter_anisotropic")){if(o.type===zs&&null===e.get("OES_texture_float_linear"))return;if(o.type===Bs&&null===(r.isWebGL2||e.get("OES_texture_half_float_linear")))return;(o.anisotropy>1||i.get(o).__currentAnisotropy)&&(t.texParameterf(n,l.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(o.anisotropy,r.getMaxAnisotropy())),i.get(o).__currentAnisotropy=o.anisotropy)}}function S(e,i,f){var m;m=i.isDataTexture3D?32879:3553,void 0===e.__webglInit&&(e.__webglInit=!0,i.addEventListener("dispose",g),e.__webglTexture=t.createTexture(),o.memory.textures++),n.activeTexture(33984+f),n.bindTexture(m,e.__webglTexture),t.pixelStorei(37440,i.flipY),t.pixelStorei(37441,i.premultiplyAlpha),t.pixelStorei(3317,i.unpackAlignment);var v=s(i.image,r.maxTextureSize);u(i)&&!1===l(v)&&(v=c(v));var y=l(v),x=a.convert(i.format),_=a.convert(i.type),b=p(x,_);M(m,i,y);var w,S=i.mipmaps;if(i.isDepthTexture){if(b=6402,i.type===zs){if(!r.isWebGL2)throw new Error("Float Depth Texture only supported in WebGL2.0");b=36012}else r.isWebGL2&&(b=33189);i.format===qs&&6402===b&&i.type!==Os&&i.type!==Ns&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),i.type=Os,_=a.convert(i.type)),i.format===Zs&&(b=34041,i.type!==Hs&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),i.type=Hs,_=a.convert(i.type))),n.texImage2D(3553,0,b,v.width,v.height,0,x,_,null)}else if(i.isDataTexture)if(S.length>0&&y){for(var T=0,A=S.length;T<A;T++)w=S[T],n.texImage2D(3553,T,b,w.width,w.height,0,x,_,w.data);i.generateMipmaps=!1,e.__maxMipLevel=S.length-1}else n.texImage2D(3553,0,b,v.width,v.height,0,x,_,v.data),e.__maxMipLevel=0;else if(i.isCompressedTexture){for(var T=0,A=S.length;T<A;T++)w=S[T],i.format!==Ws&&i.format!==js?n.getCompressedTextureFormats().indexOf(x)>-1?n.compressedTexImage2D(3553,T,b,w.width,w.height,0,w.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(3553,T,b,w.width,w.height,0,x,_,w.data);e.__maxMipLevel=S.length-1}else if(i.isDataTexture3D)n.texImage3D(32879,0,b,v.width,v.height,v.depth,0,x,_,v.data),e.__maxMipLevel=0;else if(S.length>0&&y){for(var T=0,A=S.length;T<A;T++)w=S[T],n.texImage2D(3553,T,b,x,_,w);i.generateMipmaps=!1,e.__maxMipLevel=S.length-1}else n.texImage2D(3553,0,b,x,_,v),e.__maxMipLevel=0;h(i,y)&&d(3553,i,v.width,v.height),e.__version=i.version,i.onUpdate&&i.onUpdate(i)}function T(e,r,o,s){var l=a.convert(r.texture.format),c=a.convert(r.texture.type),u=p(l,c);n.texImage2D(s,0,u,r.width,r.height,0,l,c,null),t.bindFramebuffer(36160,e),t.framebufferTexture2D(36160,o,s,i.get(r.texture).__webglTexture,0),t.bindFramebuffer(36160,null)}function A(e,n){t.bindRenderbuffer(36161,e),n.depthBuffer&&!n.stencilBuffer?(t.renderbufferStorage(36161,33189,n.width,n.height),t.framebufferRenderbuffer(36160,36096,36161,e)):n.depthBuffer&&n.stencilBuffer?(t.renderbufferStorage(36161,34041,n.width,n.height),t.framebufferRenderbuffer(36160,33306,36161,e)):t.renderbufferStorage(36161,32854,n.width,n.height),t.bindRenderbuffer(36161,null)}function C(e,n){if(n&&n.isWebGLRenderTargetCube)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,e),!n.depthTexture||!n.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");i.get(n.depthTexture).__webglTexture&&n.depthTexture.image.width===n.width&&n.depthTexture.image.height===n.height||(n.depthTexture.image.width=n.width,n.depthTexture.image.height=n.height,n.depthTexture.needsUpdate=!0),x(n.depthTexture,0);var r=i.get(n.depthTexture).__webglTexture;if(n.depthTexture.format===qs)t.framebufferTexture2D(36160,36096,3553,r,0);else{if(n.depthTexture.format!==Zs)throw new Error("Unknown depthTexture format");t.framebufferTexture2D(36160,33306,3553,r,0)}}function L(e){var n=i.get(e),r=!0===e.isWebGLRenderTargetCube;if(e.depthTexture){if(r)throw new Error("target.depthTexture not supported in Cube render targets");C(n.__webglFramebuffer,e)}else if(r){n.__webglDepthbuffer=[];for(var a=0;a<6;a++)t.bindFramebuffer(36160,n.__webglFramebuffer[a]),n.__webglDepthbuffer[a]=t.createRenderbuffer(),A(n.__webglDepthbuffer[a],e)}else t.bindFramebuffer(36160,n.__webglFramebuffer),n.__webglDepthbuffer=t.createRenderbuffer(),A(n.__webglDepthbuffer,e);t.bindFramebuffer(36160,null)}function E(e){var r=i.get(e),a=i.get(e.texture);e.addEventListener("dispose",m),a.__webglTexture=t.createTexture(),o.memory.textures++;var s=!0===e.isWebGLRenderTargetCube,c=l(e);if(s){r.__webglFramebuffer=[];for(var u=0;u<6;u++)r.__webglFramebuffer[u]=t.createFramebuffer()}else r.__webglFramebuffer=t.createFramebuffer();if(s){n.bindTexture(34067,a.__webglTexture),M(34067,e.texture,c);for(var u=0;u<6;u++)T(r.__webglFramebuffer[u],e,36064,34069+u);h(e.texture,c)&&d(34067,e.texture,e.width,e.height),n.bindTexture(34067,null)}else n.bindTexture(3553,a.__webglTexture),M(3553,e.texture,c),T(r.__webglFramebuffer,e,36064,3553),h(e.texture,c)&&d(3553,e.texture,e.width,e.height),n.bindTexture(3553,null);e.depthBuffer&&L(e)}function I(t){var e=t.texture;if(h(e,l(t))){var r=t.isWebGLRenderTargetCube?34067:3553,a=i.get(e).__webglTexture;n.bindTexture(r,a),d(r,e,t.width,t.height),n.bindTexture(r,null)}}function P(t){var e=t.id,n=o.render.frame;R[e]!==n&&(R[e]=n,t.update())}var D,R={};this.setTexture2D=x,this.setTexture3D=_,this.setTextureCube=b,this.setTextureCubeDynamic=w,this.setupRenderTarget=E,this.updateRenderTargetMipmap=I}function Me(t,e,n){function i(t){var i;if(t===ws)return 10497;if(t===Ms)return 33071;if(t===Ss)return 33648;if(t===Ts)return 9728;if(t===As)return 9984;if(t===Cs)return 9986;if(t===Ls)return 9729;if(t===Es)return 9985;if(t===Is)return 9987;if(t===Ps)return 5121;if(t===Vs)return 32819;if(t===Fs)return 32820;if(t===Gs)return 33635;if(t===Ds)return 5120;if(t===Rs)return 5122;if(t===Os)return 5123;if(t===ks)return 5124;if(t===Ns)return 5125;if(t===zs)return 5126;if(t===Bs){if(n.isWebGL2)return 5131;if(null!==(i=e.get("OES_texture_half_float")))return i.HALF_FLOAT_OES}if(t===Us)return 6406;if(t===js)return 6407;if(t===Ws)return 6408;if(t===$s)return 6409;if(t===Ys)return 6410;if(t===qs)return 6402;if(t===Zs)return 34041;if(t===Js)return 6403;if(t===ko)return 32774;if(t===No)return 32778;if(t===zo)return 32779;if(t===Fo)return 0;if(t===Go)return 1;if(t===Ho)return 768;if(t===Uo)return 769;if(t===jo)return 770;if(t===Wo)return 771;if(t===$o)return 772;if(t===Yo)return 773;if(t===Xo)return 774;if(t===qo)return 775;if(t===Zo)return 776;if((t===Ks||t===Qs||t===tl||t===el)&&null!==(i=e.get("WEBGL_compressed_texture_s3tc"))){if(t===Ks)return i.COMPRESSED_RGB_S3TC_DXT1_EXT;if(t===Qs)return i.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(t===tl)return i.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(t===el)return i.COMPRESSED_RGBA_S3TC_DXT5_EXT}if((t===nl||t===il||t===rl||t===al)&&null!==(i=e.get("WEBGL_compressed_texture_pvrtc"))){if(t===nl)return i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(t===il)return i.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(t===rl)return i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(t===al)return i.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(t===ol&&null!==(i=e.get("WEBGL_compressed_texture_etc1")))return i.COMPRESSED_RGB_ETC1_WEBGL;if((t===sl||t===ll||t===cl||t===ul||t===hl||t===dl||t===pl||t===fl||t===gl||t===ml||t===vl||t===yl||t===xl||t===_l)&&null!==(i=e.get("WEBGL_compressed_texture_astc")))return t;if(t===Bo||t===Vo){if(n.isWebGL2){if(t===Bo)return 32775;if(t===Vo)return 32776}if(null!==(i=e.get("EXT_blend_minmax"))){if(t===Bo)return i.MIN_EXT;if(t===Vo)return i.MAX_EXT}}if(t===Hs){if(n.isWebGL2)return 34042;if(null!==(i=e.get("WEBGL_depth_texture")))return i.UNSIGNED_INT_24_8_WEBGL}return 0}return{convert:i}}function Se(){A.call(this),this.type="Group"}function Te(){A.call(this),this.type="Camera",this.matrixWorldInverse=new a,this.projectionMatrix=new a,this.projectionMatrixInverse=new a}function Ae(t,e,n,i){Te.call(this),this.type="PerspectiveCamera",this.fov=void 0!==t?t:50,this.zoom=1,this.near=void 0!==n?n:.1,this.far=void 0!==i?i:2e3,this.focus=10,this.aspect=void 0!==e?e:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function Ce(t){Ae.call(this),this.cameras=t||[]}function Le(t,e,n){gc.setFromMatrixPosition(e.matrixWorld),mc.setFromMatrixPosition(n.matrixWorld);var i=gc.distanceTo(mc),r=e.projectionMatrix.elements,a=n.projectionMatrix.elements,o=r[14]/(r[10]-1),s=r[14]/(r[10]+1),l=(r[9]+1)/r[5],c=(r[9]-1)/r[5],u=(r[8]-1)/r[0],h=(a[8]+1)/a[0],d=o*u,p=o*h,f=i/(-u+h),g=f*-u;e.matrixWorld.decompose(t.position,t.quaternion,t.scale),t.translateX(g),t.translateZ(f),t.matrixWorld.compose(t.position,t.quaternion,t.scale),t.matrixWorldInverse.getInverse(t.matrixWorld);var m=o+f,v=s+f,y=d-g,x=p+(i-g),_=l*s/v*m,b=c*s/v*m;t.projectionMatrix.makePerspective(y,x,_,b,m,v)}function Ee(t){function e(){return null!==c&&!0===c.isPresenting}function n(){if(e()){var n=c.getEyeParameters("left"),i=n.renderWidth*m,r=n.renderHeight*m;A=t.getPixelRatio(),T=t.getSize(),t.setDrawingBufferSize(2*i,r,1),L.start()}else l.enabled&&t.setDrawingBufferSize(T.width,T.height,A),L.stop()}function i(t){for(var e=navigator.getGamepads&&navigator.getGamepads(),n=0,i=0,r=e.length;n<r;n++){var a=e[n];if(a&&("Daydream Controller"===a.id||"Gear VR Controller"===a.id||"Oculus Go Controller"===a.id||"OpenVR Gamepad"===a.id||a.id.startsWith("Oculus Touch")||a.id.startsWith("Spatial Controller"))){if(i===t)return a;i++}}}function r(){for(var t=0;t<p.length;t++){var e=p[t],n=i(t);if(void 0!==n&&void 0!==n.pose){if(null===n.pose)return;var r=n.pose;!1===r.hasPosition&&e.position.set(.2,-.6,-.05),null!==r.position&&e.position.fromArray(r.position),null!==r.orientation&&e.quaternion.fromArray(r.orientation),e.matrix.compose(e.position,e.quaternion,e.scale),e.matrix.premultiply(f),e.matrix.decompose(e.position,e.quaternion,e.scale),e.matrixWorldNeedsUpdate=!0,e.visible=!0;var a="Daydream Controller"===n.id?0:1;C[t]!==n.buttons[a].pressed&&(C[t]=n.buttons[a].pressed,!0===C[t]?e.dispatchEvent({type:"selectstart"}):(e.dispatchEvent({type:"selectend"}),e.dispatchEvent({type:"select"})))}else e.visible=!1}}var l=this,c=null,h=null,d=null,p=[],f=new a,g=new a,m=1,v="stage";"undefined"!=typeof window&&"VRFrameData"in window&&(h=new window.VRFrameData,window.addEventListener("vrdisplaypresentchange",n,!1));var y=new a,x=new o,_=new s,w=new Ae;w.bounds=new u(0,0,.5,1),w.layers.enable(1);var M=new Ae;M.bounds=new u(.5,0,.5,1),M.layers.enable(2);var S=new Ce([w,M]);S.layers.enable(1),S.layers.enable(2);var T,A,C=[];this.enabled=!1,this.getController=function(t){var e=p[t];return void 0===e&&(e=new Se,e.matrixAutoUpdate=!1,e.visible=!1,p[t]=e),e},this.getDevice=function(){return c},this.setDevice=function(t){void 0!==t&&(c=t),L.setContext(t)},this.setFramebufferScaleFactor=function(t){m=t},this.setFrameOfReferenceType=function(t){v=t},this.setPoseTarget=function(t){void 0!==t&&(d=t)},this.getCamera=function(t){var e="stage"===v?1.6:0;if(null===c)return t.position.set(0,e,0),t;if(c.depthNear=t.near,c.depthFar=t.far,c.getFrameData(h),"stage"===v){var n=c.stageParameters;n?f.fromArray(n.sittingToStandingTransform):f.makeTranslation(0,e,0)}var i=h.pose,a=null!==d?d:t;if(a.matrix.copy(f),a.matrix.decompose(a.position,a.quaternion,a.scale),null!==i.orientation&&(x.fromArray(i.orientation),a.quaternion.multiply(x)),null!==i.position&&(x.setFromRotationMatrix(f),_.fromArray(i.position),_.applyQuaternion(x),a.position.add(_)),a.updateMatrixWorld(),!1===c.isPresenting)return t;w.near=t.near,M.near=t.near,w.far=t.far,M.far=t.far,w.matrixWorldInverse.fromArray(h.leftViewMatrix),M.matrixWorldInverse.fromArray(h.rightViewMatrix),g.getInverse(f),"stage"===v&&(w.matrixWorldInverse.multiply(g),M.matrixWorldInverse.multiply(g));var o=a.parent;null!==o&&(y.getInverse(o.matrixWorld),w.matrixWorldInverse.multiply(y),M.matrixWorldInverse.multiply(y)),w.matrixWorld.getInverse(w.matrixWorldInverse),M.matrixWorld.getInverse(M.matrixWorldInverse),w.projectionMatrix.fromArray(h.leftProjectionMatrix),M.projectionMatrix.fromArray(h.rightProjectionMatrix),Le(S,w,M);var s=c.getLayers();if(s.length){var l=s[0];null!==l.leftBounds&&4===l.leftBounds.length&&w.bounds.fromArray(l.leftBounds),null!==l.rightBounds&&4===l.rightBounds.length&&M.bounds.fromArray(l.rightBounds)}return r(),S},this.getStandingMatrix=function(){return f},this.isPresenting=e;var L=new b;this.setAnimationLoop=function(t){L.setAnimationLoop(t)},this.submitFrame=function(){e()&&c.submitFrame()},this.dispose=function(){"undefined"!=typeof window&&window.removeEventListener("vrdisplaypresentchange",n)}}function Ie(t){function e(){return null!==l&&null!==h}function n(t){var e=f[g.indexOf(t.inputSource)];e&&e.dispatchEvent({type:t.type})}function i(){t.setFramebuffer(null),_.stop()}function r(t,e){null===e?t.matrixWorld.copy(t.matrix):t.matrixWorld.multiplyMatrices(e.matrixWorld,t.matrix),t.matrixWorldInverse.getInverse(t.matrixWorld)}function a(t,e){if(null!==(p=e.getDevicePose(h)))for(var n=l.baseLayer,i=e.views,r=0;r<i.length;r++){var a=i[r],o=n.getViewport(a),s=p.getViewMatrix(a),c=y.cameras[r];c.matrix.fromArray(s).getInverse(c.matrix),c.projectionMatrix.fromArray(a.projectionMatrix),c.viewport.set(o.x,o.y,o.width,o.height),0===r&&y.matrix.copy(c.matrix)}for(var r=0;r<f.length;r++){var u=f[r],d=g[r];if(d){var m=e.getInputPose(d,h);if(null!==m){"targetRay"in m?u.matrix.elements=m.targetRay.transformMatrix:"pointerMatrix"in m&&(u.matrix.elements=m.pointerMatrix),u.matrix.decompose(u.position,u.rotation,u.scale),u.visible=!0;continue}}u.visible=!1}x&&x(t)}var o=t.context,s=null,l=null,c=1,h=null,d="stage",p=null,f=[],g=[],m=new Ae;m.layers.enable(1),m.viewport=new u;var v=new Ae;v.layers.enable(2),v.viewport=new u;var y=new Ce([m,v]);y.layers.enable(1),y.layers.enable(2),this.enabled=!1,this.getController=function(t){var e=f[t];return void 0===e&&(e=new Se,e.matrixAutoUpdate=!1,e.visible=!1,f[t]=e),e},this.getDevice=function(){return s},this.setDevice=function(t){void 0!==t&&(s=t),t instanceof XRDevice&&o.setCompatibleXRDevice(t)},this.setFramebufferScaleFactor=function(t){c=t},this.setFrameOfReferenceType=function(t){d=t},this.setSession=function(e){null!==(l=e)&&(l.addEventListener("select",n),l.addEventListener("selectstart",n),l.addEventListener("selectend",n),l.addEventListener("end",i),l.baseLayer=new XRWebGLLayer(l,o,{framebufferScaleFactor:c}),l.requestFrameOfReference(d).then(function(e){h=e,t.setFramebuffer(l.baseLayer.framebuffer),_.setContext(l),_.start()}),g=l.getInputSources(),l.addEventListener("inputsourceschange",function(){g=l.getInputSources(),console.log(g);for(var t=0;t<f.length;t++){f[t].userData.inputSource=g[t]}}))},this.getCamera=function(t){if(e()){var n=t.parent,i=y.cameras;r(y,n);for(var a=0;a<i.length;a++)r(i[a],n);t.matrixWorld.copy(y.matrixWorld);for(var o=t.children,a=0,s=o.length;a<s;a++)o[a].updateMatrixWorld(!0);return Le(y,m,v),y}return t},this.isPresenting=e;var x=null,_=new b;_.setAnimationLoop(a),this.setAnimationLoop=function(t){x=t},this.dispose=function(){},this.getStandingMatrix=function(){return console.warn("THREE.WebXRManager: getStandingMatrix() is no longer needed."),new THREE.Matrix4},this.submitFrame=function(){}}function Pe(t){function e(){return null===dt?St:1}function n(){kt=new et(lt),Nt=new Q(lt,kt,t),Nt.isWebGL2||(kt.get("WEBGL_depth_texture"),kt.get("OES_texture_float"),kt.get("OES_texture_half_float"),kt.get("OES_texture_half_float_linear"),kt.get("OES_standard_derivatives"),kt.get("OES_element_index_uint"),kt.get("ANGLE_instanced_arrays")),kt.get("OES_texture_float_linear"),Kt=new Me(lt,kt,Nt),zt=new be(lt,kt,Kt,Nt),zt.scissor(xt.copy(At).multiplyScalar(St)),zt.viewport(yt.copy(Tt).multiplyScalar(St)),Bt=new rt(lt),Vt=new ce,Ft=new we(lt,kt,zt,Vt,Nt,Kt,Bt),Gt=new w(lt),Ht=new nt(lt,Gt,Bt),Ut=new st(Ht,Bt),qt=new ot(lt),jt=new le(ct,kt,Nt),Wt=new pe,Yt=new ve,Xt=new J(ct,zt,Ut,Y),Zt=new K(lt,kt,Bt,Nt),Jt=new it(lt,kt,Bt,Nt),Bt.programs=jt.programs,ct.context=lt,ct.capabilities=Nt,ct.extensions=kt,ct.properties=Vt,ct.renderLists=Wt,ct.state=zt,ct.info=Bt}function i(t){t.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),ut=!0}function r(){console.log("THREE.WebGLRenderer: Context Restored."),ut=!1,n()}function o(t){var e=t.target;e.removeEventListener("dispose",o),l(e)}function l(t){c(t),Vt.remove(t)}function c(t){var e=Vt.get(t).program;t.program=void 0,void 0!==e&&jt.releaseProgram(e)}function h(t,e){t.render(function(t){ct.renderBufferImmediate(t,e)})}function d(t,e,n){if(n&&n.isInstancedBufferGeometry&!Nt.isWebGL2&&null===kt.get("ANGLE_instanced_arrays"))return void console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");zt.initAttributes();var i=n.attributes,r=e.getAttributes(),a=t.defaultAttributeValues;for(var o in r){var s=r[o];if(s>=0){var l=i[o];if(void 0!==l){var c=l.normalized,u=l.itemSize,h=Gt.get(l);if(void 0===h)continue;var d=h.buffer,p=h.type,f=h.bytesPerElement;if(l.isInterleavedBufferAttribute){var g=l.data,m=g.stride,v=l.offset;g&&g.isInstancedInterleavedBuffer?(zt.enableAttributeAndDivisor(s,g.meshPerAttribute),void 0===n.maxInstancedCount&&(n.maxInstancedCount=g.meshPerAttribute*g.count)):zt.enableAttribute(s),lt.bindBuffer(34962,d),lt.vertexAttribPointer(s,u,p,c,m*f,v*f)}else l.isInstancedBufferAttribute?(zt.enableAttributeAndDivisor(s,l.meshPerAttribute),void 0===n.maxInstancedCount&&(n.maxInstancedCount=l.meshPerAttribute*l.count)):zt.enableAttribute(s),lt.bindBuffer(34962,d),lt.vertexAttribPointer(s,u,p,c,0,0)}else if(void 0!==a){var y=a[o];if(void 0!==y)switch(y.length){case 2:lt.vertexAttrib2fv(s,y);break;case 3:lt.vertexAttrib3fv(s,y);break;case 4:lt.vertexAttrib4fv(s,y);break;default:lt.vertexAttrib1fv(s,y)}}}}zt.disableUnusedAttributes()}function f(t){Qt.isPresenting()||ee&&ee(t)}function g(t,e,n){if(!1!==t.visible){if(t.layers.test(e.layers))if(t.isLight)at.pushLight(t),t.castShadow&&at.pushShadow(t);else if(t.isSprite){if(!t.frustumCulled||Lt.intersectsSprite(t)){n&&Rt.setFromMatrixPosition(t.matrixWorld).applyMatrix4(Dt);var i=Ut.update(t),r=t.material;Z.push(t,i,r,Rt.z,null)}}else if(t.isImmediateRenderObject)n&&Rt.setFromMatrixPosition(t.matrixWorld).applyMatrix4(Dt),Z.push(t,null,t.material,Rt.z,null);else if((t.isMesh||t.isLine||t.isPoints)&&(t.isSkinnedMesh&&t.skeleton.update(),!t.frustumCulled||Lt.intersectsObject(t))){n&&Rt.setFromMatrixPosition(t.matrixWorld).applyMatrix4(Dt);var i=Ut.update(t),r=t.material;if(Array.isArray(r))for(var a=i.groups,o=0,s=a.length;o<s;o++){var l=a[o],c=r[l.materialIndex];c&&c.visible&&Z.push(t,i,c,Rt.z,l)}else r.visible&&Z.push(t,i,r,Rt.z,null)}for(var u=t.children,o=0,s=u.length;o<s;o++)g(u[o],e,n)}}function m(t,e,n,i){for(var r=0,a=t.length;r<a;r++){var o=t[r],s=o.object,l=o.geometry,c=void 0===i?o.material:i,u=o.group;if(n.isArrayCamera){vt=n;for(var h=n.cameras,d=0,p=h.length;d<p;d++){var f=h[d];if(s.layers.test(f.layers)){if("viewport"in f)zt.viewport(yt.copy(f.viewport));else{var g=f.bounds,m=g.x*wt,v=g.y*Mt,y=g.z*wt,_=g.w*Mt;zt.viewport(yt.set(m,v,y,_).multiplyScalar(St))}at.setupLights(f),x(s,e,f,l,c,u)}}}else vt=null,x(s,e,n,l,c,u)}}function x(t,e,n,i,r,a){if(t.onBeforeRender(ct,e,n,i,r,a),at=Yt.get(e,vt||n),t.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,t.matrixWorld),t.normalMatrix.getNormalMatrix(t.modelViewMatrix),t.isImmediateRenderObject){zt.setMaterial(r);var o=M(n,e.fog,r,t);gt.geometry=null,gt.program=null,gt.wireframe=!1,h(t,o)}else ct.renderBufferDirect(n,e.fog,i,r,t,a);t.onAfterRender(ct,e,n,i,r,a),at=Yt.get(e,vt||n)}function _(t,e,n){var i=Vt.get(t),r=at.state.lights,a=at.state.shadowsArray,s=i.lightsHash,l=r.state.hash,u=jt.getParameters(t,r.state,a,e,Et.numPlanes,Et.numIntersection,n),h=jt.getProgramCode(t,u),d=i.program,p=!0;if(void 0===d)t.addEventListener("dispose",o);else if(d.code!==h)c(t);else if(s.stateID!==l.stateID||s.directionalLength!==l.directionalLength||s.pointLength!==l.pointLength||s.spotLength!==l.spotLength||s.rectAreaLength!==l.rectAreaLength||s.hemiLength!==l.hemiLength||s.shadowsLength!==l.shadowsLength)s.stateID=l.stateID,s.directionalLength=l.directionalLength,s.pointLength=l.pointLength,s.spotLength=l.spotLength,s.rectAreaLength=l.rectAreaLength,s.hemiLength=l.hemiLength,s.shadowsLength=l.shadowsLength,p=!1;else{if(void 0!==u.shaderID)return;p=!1}if(p){if(u.shaderID){var f=Ql[u.shaderID];i.shader={name:t.type,uniforms:y(f.uniforms),vertexShader:f.vertexShader,fragmentShader:f.fragmentShader}}else i.shader={name:t.type,uniforms:t.uniforms,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader};t.onBeforeCompile(i.shader,ct),h=jt.getProgramCode(t,u),d=jt.acquireProgram(t,i.shader,u,h),i.program=d,t.program=d}var g=d.getAttributes();if(t.morphTargets){t.numSupportedMorphTargets=0;for(var m=0;m<ct.maxMorphTargets;m++)g["morphTarget"+m]>=0&&t.numSupportedMorphTargets++}if(t.morphNormals){t.numSupportedMorphNormals=0;for(var m=0;m<ct.maxMorphNormals;m++)g["morphNormal"+m]>=0&&t.numSupportedMorphNormals++}var v=i.shader.uniforms;(t.isShaderMaterial||t.isRawShaderMaterial)&&!0!==t.clipping||(i.numClippingPlanes=Et.numPlanes,i.numIntersection=Et.numIntersection,v.clippingPlanes=Et.uniform),i.fog=e,void 0===s&&(i.lightsHash=s={}),s.stateID=l.stateID,s.directionalLength=l.directionalLength,s.pointLength=l.pointLength,s.spotLength=l.spotLength,s.rectAreaLength=l.rectAreaLength,s.hemiLength=l.hemiLength,s.shadowsLength=l.shadowsLength,t.lights&&(v.ambientLightColor.value=r.state.ambient,v.directionalLights.value=r.state.directional,v.spotLights.value=r.state.spot,v.rectAreaLights.value=r.state.rectArea,v.pointLights.value=r.state.point,v.hemisphereLights.value=r.state.hemi,v.directionalShadowMap.value=r.state.directionalShadowMap,v.directionalShadowMatrix.value=r.state.directionalShadowMatrix,v.spotShadowMap.value=r.state.spotShadowMap,v.spotShadowMatrix.value=r.state.spotShadowMatrix,v.pointShadowMap.value=r.state.pointShadowMap,v.pointShadowMatrix.value=r.state.pointShadowMatrix);var x=i.program.getUniforms(),_=$t.seqWithValue(x.seq,v);i.uniformsList=_}function M(t,e,n,i){bt=0;var r=Vt.get(n),a=at.state.lights,o=r.lightsHash,s=a.state.hash;if(It&&(Pt||t!==mt)){var l=t===mt&&n.id===ft;Et.setState(n.clippingPlanes,n.clipIntersection,n.clipShadows,t,r,l)}!1===n.needsUpdate&&(void 0===r.program?n.needsUpdate=!0:n.fog&&r.fog!==e?n.needsUpdate=!0:!n.lights||o.stateID===s.stateID&&o.directionalLength===s.directionalLength&&o.pointLength===s.pointLength&&o.spotLength===s.spotLength&&o.rectAreaLength===s.rectAreaLength&&o.hemiLength===s.hemiLength&&o.shadowsLength===s.shadowsLength?void 0===r.numClippingPlanes||r.numClippingPlanes===Et.numPlanes&&r.numIntersection===Et.numIntersection||(n.needsUpdate=!0):n.needsUpdate=!0),n.needsUpdate&&(_(n,e,i),n.needsUpdate=!1);var c=!1,u=!1,h=!1,d=r.program,f=d.getUniforms(),g=r.shader.uniforms;if(zt.useProgram(d.program)&&(c=!0,u=!0,h=!0),n.id!==ft&&(ft=n.id,u=!0),c||mt!==t){if(f.setValue(lt,"projectionMatrix",t.projectionMatrix),Nt.logarithmicDepthBuffer&&f.setValue(lt,"logDepthBufFC",2/(Math.log(t.far+1)/Math.LN2)),mt!==t&&(mt=t,u=!0,h=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshStandardMaterial||n.envMap){var m=f.map.cameraPosition;void 0!==m&&m.setValue(lt,Rt.setFromMatrixPosition(t.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.skinning)&&f.setValue(lt,"viewMatrix",t.matrixWorldInverse)}if(n.skinning){f.setOptional(lt,i,"bindMatrix"),f.setOptional(lt,i,"bindMatrixInverse");var v=i.skeleton;if(v){var y=v.bones;if(Nt.floatVertexTextures){if(void 0===v.boneTexture){var x=Math.sqrt(4*y.length);x=Wl.ceilPowerOfTwo(x),x=Math.max(x,4);var b=new Float32Array(x*x*4);b.set(v.boneMatrices);var w=new p(b,x,x,Ws,zs);w.needsUpdate=!0,v.boneMatrices=b,v.boneTexture=w,v.boneTextureSize=x}f.setValue(lt,"boneTexture",v.boneTexture),f.setValue(lt,"boneTextureSize",v.boneTextureSize)}else f.setOptional(lt,v,"boneMatrices")}}return u&&(f.setValue(lt,"toneMappingExposure",ct.toneMappingExposure),f.setValue(lt,"toneMappingWhitePoint",ct.toneMappingWhitePoint),n.lights&&V(g,h),e&&n.fog&&E(g,e),n.isMeshBasicMaterial?S(g,n):n.isMeshLambertMaterial?(S(g,n),I(g,n)):n.isMeshPhongMaterial?(S(g,n),n.isMeshToonMaterial?D(g,n):P(g,n)):n.isMeshStandardMaterial?(S(g,n),n.isMeshPhysicalMaterial?O(g,n):R(g,n)):n.isMeshMatcapMaterial?(S(g,n),k(g,n)):n.isMeshDepthMaterial?(S(g,n),N(g,n)):n.isMeshDistanceMaterial?(S(g,n),z(g,n)):n.isMeshNormalMaterial?(S(g,n),B(g,n)):n.isLineBasicMaterial?(T(g,n),n.isLineDashedMaterial&&A(g,n)):n.isPointsMaterial?C(g,n):n.isSpriteMaterial?L(g,n):n.isShadowMaterial&&(g.color.value=n.color,g.opacity.value=n.opacity),void 0!==g.ltc_1&&(g.ltc_1.value=Kl.LTC_1),void 0!==g.ltc_2&&(g.ltc_2.value=Kl.LTC_2),$t.upload(lt,r.uniformsList,g,ct)),n.isShaderMaterial&&!0===n.uniformsNeedUpdate&&($t.upload(lt,r.uniformsList,g,ct),n.uniformsNeedUpdate=!1),n.isSpriteMaterial&&f.setValue(lt,"center",i.center),f.setValue(lt,"modelViewMatrix",i.modelViewMatrix),f.setValue(lt,"normalMatrix",i.normalMatrix),f.setValue(lt,"modelMatrix",i.matrixWorld),d}function S(t,e){t.opacity.value=e.opacity,e.color&&(t.diffuse.value=e.color),e.emissive&&t.emissive.value.copy(e.emissive).multiplyScalar(e.emissiveIntensity),e.map&&(t.map.value=e.map),e.alphaMap&&(t.alphaMap.value=e.alphaMap),e.specularMap&&(t.specularMap.value=e.specularMap),e.envMap&&(t.envMap.value=e.envMap,t.flipEnvMap.value=e.envMap.isCubeTexture?-1:1,t.reflectivity.value=e.reflectivity,t.refractionRatio.value=e.refractionRatio,t.maxMipLevel.value=Vt.get(e.envMap).__maxMipLevel),e.lightMap&&(t.lightMap.value=e.lightMap,t.lightMapIntensity.value=e.lightMapIntensity),e.aoMap&&(t.aoMap.value=e.aoMap,t.aoMapIntensity.value=e.aoMapIntensity);var n;e.map?n=e.map:e.specularMap?n=e.specularMap:e.displacementMap?n=e.displacementMap:e.normalMap?n=e.normalMap:e.bumpMap?n=e.bumpMap:e.roughnessMap?n=e.roughnessMap:e.metalnessMap?n=e.metalnessMap:e.alphaMap?n=e.alphaMap:e.emissiveMap&&(n=e.emissiveMap),void 0!==n&&(n.isWebGLRenderTarget&&(n=n.texture),!0===n.matrixAutoUpdate&&n.updateMatrix(),t.uvTransform.value.copy(n.matrix))}function T(t,e){t.diffuse.value=e.color,t.opacity.value=e.opacity}function A(t,e){t.dashSize.value=e.dashSize,t.totalSize.value=e.dashSize+e.gapSize,t.scale.value=e.scale}function C(t,e){t.diffuse.value=e.color,t.opacity.value=e.opacity,t.size.value=e.size*St,t.scale.value=.5*Mt,t.map.value=e.map,null!==e.map&&(!0===e.map.matrixAutoUpdate&&e.map.updateMatrix(),t.uvTransform.value.copy(e.map.matrix))}function L(t,e){t.diffuse.value=e.color,t.opacity.value=e.opacity,t.rotation.value=e.rotation,t.map.value=e.map,null!==e.map&&(!0===e.map.matrixAutoUpdate&&e.map.updateMatrix(),t.uvTransform.value.copy(e.map.matrix))}function E(t,e){t.fogColor.value=e.color,e.isFog?(t.fogNear.value=e.near,t.fogFar.value=e.far):e.isFogExp2&&(t.fogDensity.value=e.density)}function I(t,e){e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap)}function P(t,e){t.specular.value=e.specular,t.shininess.value=Math.max(e.shininess,1e-4),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,e.side===wo&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),e.side===wo&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}function D(t,e){P(t,e),e.gradientMap&&(t.gradientMap.value=e.gradientMap)}function R(t,e){t.roughness.value=e.roughness,t.metalness.value=e.metalness,e.roughnessMap&&(t.roughnessMap.value=e.roughnessMap),e.metalnessMap&&(t.metalnessMap.value=e.metalnessMap),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,e.side===wo&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),e.side===wo&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias),e.envMap&&(t.envMapIntensity.value=e.envMapIntensity)}function O(t,e){R(t,e),t.reflectivity.value=e.reflectivity,t.clearCoat.value=e.clearCoat,t.clearCoatRoughness.value=e.clearCoatRoughness}function k(t,e){e.matcap&&(t.matcap.value=e.matcap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,e.side===wo&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),e.side===wo&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}function N(t,e){e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}function z(t,e){e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias),t.referencePosition.value.copy(e.referencePosition),t.nearDistance.value=e.nearDistance,t.farDistance.value=e.farDistance}function B(t,e){e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,e.side===wo&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),e.side===wo&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}function V(t,e){t.ambientLightColor.needsUpdate=e,t.directionalLights.needsUpdate=e,t.pointLights.needsUpdate=e,t.spotLights.needsUpdate=e,t.rectAreaLights.needsUpdate=e,t.hemisphereLights.needsUpdate=e}function F(){var t=bt;return t>=Nt.maxTextures&&console.warn("THREE.WebGLRenderer: Trying to use "+t+" texture units while this GPU supports only "+Nt.maxTextures),bt+=1,t}console.log("THREE.WebGLRenderer",co),t=t||{};var G=void 0!==t.canvas?t.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),H=void 0!==t.context?t.context:null,U=void 0!==t.alpha&&t.alpha,j=void 0===t.depth||t.depth,W=void 0===t.stencil||t.stencil,$=void 0!==t.antialias&&t.antialias,Y=void 0===t.premultipliedAlpha||t.premultipliedAlpha,X=void 0!==t.preserveDrawingBuffer&&t.preserveDrawingBuffer,q=void 0!==t.powerPreference?t.powerPreference:"default",Z=null,at=null;this.domElement=G,this.context=null,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=cs,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var lt,ct=this,ut=!1,ht=null,dt=null,pt=null,ft=-1,gt={geometry:null,program:null,wireframe:!1},mt=null,vt=null,yt=new u,xt=new u,_t=null,bt=0,wt=G.width,Mt=G.height,St=1,Tt=new u(0,0,wt,Mt),At=new u(0,0,wt,Mt),Ct=!1,Lt=new v,Et=new tt,It=!1,Pt=!1,Dt=new a,Rt=new s;try{var Ot={alpha:U,depth:j,stencil:W,antialias:$,premultipliedAlpha:Y,preserveDrawingBuffer:X,powerPreference:q};if(G.addEventListener("webglcontextlost",i,!1),G.addEventListener("webglcontextrestored",r,!1),null===(lt=H||G.getContext("webgl",Ot)||G.getContext("experimental-webgl",Ot)))throw null!==G.getContext("webgl")?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.");void 0===lt.getShaderPrecisionFormat&&(lt.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(t){console.error("THREE.WebGLRenderer: "+t.message)}var kt,Nt,zt,Bt,Vt,Ft,Gt,Ht,Ut,jt,Wt,Yt,Xt,qt,Zt,Jt,Kt;n();var Qt=null;"undefined"!=typeof navigator&&(Qt="xr"in navigator?new Ie(ct):new Ee(ct)),this.vr=Qt;var te=new _e(ct,Ut,Nt.maxTextureSize);this.shadowMap=te,this.getContext=function(){return lt},this.getContextAttributes=function(){return lt.getContextAttributes()},this.forceContextLoss=function(){var t=kt.get("WEBGL_lose_context");t&&t.loseContext()},this.forceContextRestore=function(){var t=kt.get("WEBGL_lose_context");t&&t.restoreContext()},this.getPixelRatio=function(){return St},this.setPixelRatio=function(t){void 0!==t&&(St=t,this.setSize(wt,Mt,!1))},this.getSize=function(){return{width:wt,height:Mt}},this.setSize=function(t,e,n){if(Qt.isPresenting())return void console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");wt=t,Mt=e,G.width=t*St,G.height=e*St,!1!==n&&(G.style.width=t+"px",G.style.height=e+"px"),this.setViewport(0,0,t,e)},this.getDrawingBufferSize=function(){return{width:wt*St,height:Mt*St}},this.setDrawingBufferSize=function(t,e,n){wt=t,Mt=e,St=n,G.width=t*n,G.height=e*n,this.setViewport(0,0,t,e)},this.getCurrentViewport=function(){return yt},this.setViewport=function(t,e,n,i){Tt.set(t,Mt-e-i,n,i),zt.viewport(yt.copy(Tt).multiplyScalar(St))},this.setScissor=function(t,e,n,i){At.set(t,Mt-e-i,n,i),zt.scissor(xt.copy(At).multiplyScalar(St))},this.setScissorTest=function(t){zt.setScissorTest(Ct=t)},this.getClearColor=function(){return Xt.getClearColor()},this.setClearColor=function(){Xt.setClearColor.apply(Xt,arguments)},this.getClearAlpha=function(){return Xt.getClearAlpha()},this.setClearAlpha=function(){Xt.setClearAlpha.apply(Xt,arguments)},this.clear=function(t,e,n){var i=0;(void 0===t||t)&&(i|=16384),(void 0===e||e)&&(i|=256),(void 0===n||n)&&(i|=1024),lt.clear(i)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){G.removeEventListener("webglcontextlost",i,!1),G.removeEventListener("webglcontextrestored",r,!1),Wt.dispose(),Yt.dispose(),Vt.dispose(),Ut.dispose(),Qt.dispose(),ne.stop()},this.renderBufferImmediate=function(t,e){zt.initAttributes();var n=Vt.get(t);t.hasPositions&&!n.position&&(n.position=lt.createBuffer()),t.hasNormals&&!n.normal&&(n.normal=lt.createBuffer()),t.hasUvs&&!n.uv&&(n.uv=lt.createBuffer()),t.hasColors&&!n.color&&(n.color=lt.createBuffer());var i=e.getAttributes();t.hasPositions&&(lt.bindBuffer(34962,n.position),lt.bufferData(34962,t.positionArray,35048),zt.enableAttribute(i.position),lt.vertexAttribPointer(i.position,3,5126,!1,0,0)),t.hasNormals&&(lt.bindBuffer(34962,n.normal),lt.bufferData(34962,t.normalArray,35048),zt.enableAttribute(i.normal),lt.vertexAttribPointer(i.normal,3,5126,!1,0,0)),t.hasUvs&&(lt.bindBuffer(34962,n.uv),lt.bufferData(34962,t.uvArray,35048),zt.enableAttribute(i.uv),lt.vertexAttribPointer(i.uv,2,5126,!1,0,0)),t.hasColors&&(lt.bindBuffer(34962,n.color),lt.bufferData(34962,t.colorArray,35048),zt.enableAttribute(i.color),lt.vertexAttribPointer(i.color,3,5126,!1,0,0)),zt.disableUnusedAttributes(),lt.drawArrays(4,0,t.count),t.count=0},this.renderBufferDirect=function(t,n,i,r,a,o){var s=a.isMesh&&a.normalMatrix.determinant()<0;zt.setMaterial(r,s);var l=M(t,n,r,a),c=!1;gt.geometry===i.id&&gt.program===l.id&&gt.wireframe===(!0===r.wireframe)||(gt.geometry=i.id,gt.program=l.id,gt.wireframe=!0===r.wireframe,c=!0),a.morphTargetInfluences&&(qt.update(a,i,r,l),c=!0);var u=i.index,h=i.attributes.position,p=1;!0===r.wireframe&&(u=Ht.getWireframeAttribute(i),p=2);var f,g=Zt;null!==u&&(f=Gt.get(u),g=Jt,g.setIndex(f)),c&&(d(r,l,i),null!==u&&lt.bindBuffer(34963,f.buffer));var m=1/0;null!==u?m=u.count:void 0!==h&&(m=h.count);var v=i.drawRange.start*p,y=i.drawRange.count*p,x=null!==o?o.start*p:0,_=null!==o?o.count*p:1/0,b=Math.max(v,x),w=Math.min(m,v+y,x+_)-1,S=Math.max(0,w-b+1);if(0!==S){if(a.isMesh)if(!0===r.wireframe)zt.setLineWidth(r.wireframeLinewidth*e()),g.setMode(1);else switch(a.drawMode){case Il:g.setMode(4);break;case Pl:g.setMode(5);break;case Dl:g.setMode(6)}else if(a.isLine){var T=r.linewidth;void 0===T&&(T=1),zt.setLineWidth(T*e()),a.isLineSegments?g.setMode(1):a.isLineLoop?g.setMode(2):g.setMode(3)}else a.isPoints?g.setMode(0):a.isSprite&&g.setMode(4);i&&i.isInstancedBufferGeometry?i.maxInstancedCount>0&&g.renderInstances(i,b,S):g.render(b,S)}},this.compile=function(t,e){at=Yt.get(t,e),at.init(),t.traverse(function(t){t.isLight&&(at.pushLight(t),t.castShadow&&at.pushShadow(t))}),at.setupLights(e),t.traverse(function(e){if(e.material)if(Array.isArray(e.material))for(var n=0;n<e.material.length;n++)_(e.material[n],t.fog,e);else _(e.material,t.fog,e)})};var ee=null,ne=new b;ne.setAnimationLoop(f),"undefined"!=typeof window&&ne.setContext(window),this.setAnimationLoop=function(t){ee=t,Qt.setAnimationLoop(t),ne.start()},this.render=function(t,e,n,i){if(!e||!e.isCamera)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");if(!ut){gt.geometry=null,gt.program=null,gt.wireframe=!1,ft=-1,mt=null,!0===t.autoUpdate&&t.updateMatrixWorld(),null===e.parent&&e.updateMatrixWorld(),Qt.enabled&&(e=Qt.getCamera(e)),at=Yt.get(t,e),at.init(),t.onBeforeRender(ct,t,e,n),Dt.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),Lt.setFromMatrix(Dt),Pt=this.localClippingEnabled,It=Et.init(this.clippingPlanes,Pt,e),Z=Wt.get(t,e),Z.init(),g(t,e,ct.sortObjects),!0===ct.sortObjects&&Z.sort(),It&&Et.beginShadows();var r=at.state.shadowsArray;te.render(r,t,e),at.setupLights(e),It&&Et.endShadows(),this.info.autoReset&&this.info.reset(),void 0===n&&(n=null),this.setRenderTarget(n),Xt.render(Z,t,e,i);var a=Z.opaque,o=Z.transparent;if(t.overrideMaterial){var s=t.overrideMaterial;a.length&&m(a,t,e,s),o.length&&m(o,t,e,s)}else a.length&&m(a,t,e),o.length&&m(o,t,e);n&&Ft.updateRenderTargetMipmap(n),zt.buffers.depth.setTest(!0),zt.buffers.depth.setMask(!0),zt.buffers.color.setMask(!0),zt.setPolygonOffset(!1),t.onAfterRender(ct,t,e),Qt.enabled&&Qt.submitFrame(),Z=null,at=null}},this.allocTextureUnit=F,this.setTexture2D=function(){var t=!1;return function(e,n){e&&e.isWebGLRenderTarget&&(t||(console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."),t=!0),e=e.texture),Ft.setTexture2D(e,n)}}(),this.setTexture3D=function(){return function(t,e){Ft.setTexture3D(t,e)}}(),this.setTexture=function(){var t=!1;return function(e,n){t||(console.warn("THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead."),t=!0),Ft.setTexture2D(e,n)}}(),this.setTextureCube=function(){var t=!1;return function(e,n){e&&e.isWebGLRenderTargetCube&&(t||(console.warn("THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead."),t=!0),e=e.texture),e&&e.isCubeTexture||Array.isArray(e.image)&&6===e.image.length?Ft.setTextureCube(e,n):Ft.setTextureCubeDynamic(e,n)}}(),this.setFramebuffer=function(t){ht=t},this.getRenderTarget=function(){return dt},this.setRenderTarget=function(t){dt=t,t&&void 0===Vt.get(t).__webglFramebuffer&&Ft.setupRenderTarget(t);var e=ht,n=!1;if(t){var i=Vt.get(t).__webglFramebuffer;t.isWebGLRenderTargetCube?(e=i[t.activeCubeFace],n=!0):e=i,yt.copy(t.viewport),xt.copy(t.scissor),_t=t.scissorTest}else yt.copy(Tt).multiplyScalar(St),xt.copy(At).multiplyScalar(St),_t=Ct;if(pt!==e&&(lt.bindFramebuffer(36160,e),pt=e),zt.viewport(yt),zt.scissor(xt),zt.setScissorTest(_t),n){var r=Vt.get(t.texture);lt.framebufferTexture2D(36160,36064,34069+t.activeCubeFace,r.__webglTexture,t.activeMipMapLevel)}},this.readRenderTargetPixels=function(t,e,n,i,r,a){if(!t||!t.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");var o=Vt.get(t).__webglFramebuffer;if(o){var s=!1;o!==pt&&(lt.bindFramebuffer(36160,o),s=!0);try{var l=t.texture,c=l.format,u=l.type;if(c!==Ws&&Kt.convert(c)!==lt.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!(u===Ps||Kt.convert(u)===lt.getParameter(35738)||u===zs&&(Nt.isWebGL2||kt.get("OES_texture_float")||kt.get("WEBGL_color_buffer_float"))||u===Bs&&(Nt.isWebGL2?kt.get("EXT_color_buffer_float"):kt.get("EXT_color_buffer_half_float"))))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");36053===lt.checkFramebufferStatus(36160)?e>=0&&e<=t.width-i&&n>=0&&n<=t.height-r&&lt.readPixels(e,n,i,r,Kt.convert(c),Kt.convert(u),a):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{s&&lt.bindFramebuffer(36160,pt)}}},this.copyFramebufferToTexture=function(t,e,n){var i=e.image.width,r=e.image.height,a=Kt.convert(e.format);this.setTexture2D(e,0),lt.copyTexImage2D(3553,n||0,a,t.x,t.y,i,r,0)},this.copyTextureToTexture=function(t,e,n,i){var r=e.image.width,a=e.image.height,o=Kt.convert(n.format),s=Kt.convert(n.type);this.setTexture2D(n,0),e.isDataTexture?lt.texSubImage2D(3553,i||0,t.x,t.y,r,a,o,s,e.image.data):lt.texSubImage2D(3553,i||0,t.x,t.y,o,s,e.image)}}function De(t,e){this.name="",this.color=new _(t),this.density=void 0!==e?e:25e-5}function Re(t,e,n){this.name="",this.color=new _(t),this.near=void 0!==e?e:1,this.far=void 0!==n?n:1e3}function Oe(){A.call(this),this.type="Scene",this.background=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0}function ke(t,e){this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function Ne(t,e,n,i){this.data=t,this.itemSize=e,this.offset=n,this.normalized=!0===i}function ze(t){W.call(this),this.type="SpriteMaterial",this.color=new _(16777215),this.map=null,this.rotation=0,this.sizeAttenuation=!0,this.lights=!1,this.transparent=!0,this.setValues(t)}function Be(t){if(A.call(this),this.type="Sprite",void 0===vc){vc=new F;var e=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),n=new ke(e,5);vc.setIndex([0,1,2,0,2,3]),vc.addAttribute("position",new Ne(n,3,0,!1)),vc.addAttribute("uv",new Ne(n,2,3,!1))}this.geometry=vc,this.material=void 0!==t?t:new ze,this.center=new r(.5,.5)}function Ve(){A.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}})}function Fe(t,e){t&&t.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),Z.call(this,t,e),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new a,this.bindMatrixInverse=new a}function Ge(t,e){if(t=t||[],this.bones=t.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),void 0===e)this.calculateInverses();else if(this.bones.length===e.length)this.boneInverses=e.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[];for(var n=0,i=this.bones.length;n<i;n++)this.boneInverses.push(new a)}}function He(){A.call(this),this.type="Bone"}function Ue(t){W.call(this),this.type="LineBasicMaterial",this.color=new _(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.lights=!1,this.setValues(t)}function je(t,e,n){1===n&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."),A.call(this),this.type="Line",this.geometry=void 0!==t?t:new F,this.material=void 0!==e?e:new Ue({color:16777215*Math.random()})}function We(t,e){je.call(this,t,e),this.type="LineSegments"}function $e(t,e){je.call(this,t,e),this.type="LineLoop"}function Ye(t){W.call(this),this.type="PointsMaterial",this.color=new _(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.lights=!1,this.setValues(t)}function Xe(t,e){A.call(this),this.type="Points",this.geometry=void 0!==t?t:new F,this.material=void 0!==e?e:new Ye({color:16777215*Math.random()})}function qe(t,e,n,i,r,a,o,s,l){c.call(this,t,e,n,i,r,a,o,s,l),this.format=void 0!==o?o:js,this.minFilter=void 0!==a?a:Ls,this.magFilter=void 0!==r?r:Ls,this.generateMipmaps=!1}function Ze(t,e,n,i,r,a,o,s,l,u,h,d){c.call(this,null,a,o,s,l,u,i,r,h,d),this.image={width:e,height:n},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}function Je(t,e,n,i,r,a,o,s,l){c.call(this,t,e,n,i,r,a,o,s,l),this.needsUpdate=!0}function Ke(t,e,n,i,r,a,o,s,l,u){if((u=void 0!==u?u:qs)!==qs&&u!==Zs)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&u===qs&&(n=Os),void 0===n&&u===Zs&&(n=Hs),c.call(this,null,i,r,a,o,s,u,n,l),this.image={width:t,height:e},this.magFilter=void 0!==o?o:Ts,this.minFilter=void 0!==s?s:Ts,this.flipY=!1,this.generateMipmaps=!1}function Qe(t){F.call(this),this.type="WireframeGeometry";var e,n,i,r,a,o,l,c,u,h,d=[],p=[0,0],f={},g=["a","b","c"];if(t&&t.isGeometry){var m=t.faces;for(e=0,i=m.length;e<i;e++){var v=m[e];for(n=0;n<3;n++)l=v[g[n]],c=v[g[(n+1)%3]],p[0]=Math.min(l,c),p[1]=Math.max(l,c),u=p[0]+","+p[1],void 0===f[u]&&(f[u]={index1:p[0],index2:p[1]})}for(u in f)o=f[u],h=t.vertices[o.index1],d.push(h.x,h.y,h.z),h=t.vertices[o.index2],d.push(h.x,h.y,h.z)}else if(t&&t.isBufferGeometry){var y,x,_,b,w,M,S,T;if(h=new s,null!==t.index){for(y=t.attributes.position,x=t.index,_=t.groups,0===_.length&&(_=[{start:0,count:x.count,materialIndex:0}]),r=0,a=_.length;r<a;++r)for(b=_[r],w=b.start,M=b.count,e=w,i=w+M;e<i;e+=3)for(n=0;n<3;n++)l=x.getX(e+n),c=x.getX(e+(n+1)%3),p[0]=Math.min(l,c),p[1]=Math.max(l,c),u=p[0]+","+p[1],void 0===f[u]&&(f[u]={index1:p[0],index2:p[1]});for(u in f)o=f[u],h.fromBufferAttribute(y,o.index1),d.push(h.x,h.y,h.z),h.fromBufferAttribute(y,o.index2),d.push(h.x,h.y,h.z)}else for(y=t.attributes.position,e=0,i=y.count/3;e<i;e++)for(n=0;n<3;n++)S=3*e+n,h.fromBufferAttribute(y,S),d.push(h.x,h.y,h.z),T=3*e+(n+1)%3,h.fromBufferAttribute(y,T),d.push(h.x,h.y,h.z)}this.addAttribute("position",new N(d,3))}function tn(t,e,n){C.call(this),this.type="ParametricGeometry",this.parameters={func:t,slices:e,stacks:n},this.fromBufferGeometry(new en(t,e,n)),this.mergeVertices()}function en(t,e,n){F.call(this),this.type="ParametricBufferGeometry",this.parameters={func:t,slices:e,stacks:n};var i,r,a=[],o=[],l=[],c=[],u=new s,h=new s,d=new s,p=new s,f=new s;t.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");var g=e+1;for(i=0;i<=n;i++){var m=i/n;for(r=0;r<=e;r++){var v=r/e;t(v,m,h),o.push(h.x,h.y,h.z),v-1e-5>=0?(t(v-1e-5,m,d),p.subVectors(h,d)):(t(v+1e-5,m,d),p.subVectors(d,h)),m-1e-5>=0?(t(v,m-1e-5,d),f.subVectors(h,d)):(t(v,m+1e-5,d),f.subVectors(d,h)),u.crossVectors(p,f).normalize(),l.push(u.x,u.y,u.z),c.push(v,m)}}for(i=0;i<n;i++)for(r=0;r<e;r++){var y=i*g+r,x=i*g+r+1,_=(i+1)*g+r+1,b=(i+1)*g+r;a.push(y,x,b),a.push(x,_,b)}this.setIndex(a),this.addAttribute("position",new N(o,3)),this.addAttribute("normal",new N(l,3)),this.addAttribute("uv",new N(c,2))}function nn(t,e,n,i){C.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:t,indices:e,radius:n,detail:i},this.fromBufferGeometry(new rn(t,e,n,i)),this.mergeVertices()}function rn(t,e,n,i){function a(t,e,n,i){var r,a,o=Math.pow(2,i),s=[];for(r=0;r<=o;r++){s[r]=[];var c=t.clone().lerp(n,r/o),u=e.clone().lerp(n,r/o),h=o-r;for(a=0;a<=h;a++)s[r][a]=0===a&&r===o?c:c.clone().lerp(u,a/h)}for(r=0;r<o;r++)for(a=0;a<2*(o-r)-1;a++){var d=Math.floor(a/2);a%2==0?(l(s[r][d+1]),l(s[r+1][d]),l(s[r][d])):(l(s[r][d+1]),l(s[r+1][d+1]),l(s[r+1][d]))}}function o(){for(var t=0;t<g.length;t+=6){var e=g[t+0],n=g[t+2],i=g[t+4],r=Math.max(e,n,i),a=Math.min(e,n,i);r>.9&&a<.1&&(e<.2&&(g[t+0]+=1),n<.2&&(g[t+2]+=1),i<.2&&(g[t+4]+=1))}}function l(t){f.push(t.x,t.y,t.z)}function c(e,n){var i=3*e;n.x=t[i+0],n.y=t[i+1],n.z=t[i+2]}function u(){for(var t=new s,e=new s,n=new s,i=new s,a=new r,o=new r,l=new r,c=0,u=0;c<f.length;c+=9,u+=6){t.set(f[c+0],f[c+1],f[c+2]),e.set(f[c+3],f[c+4],f[c+5]),n.set(f[c+6],f[c+7],f[c+8]),a.set(g[u+0],g[u+1]),o.set(g[u+2],g[u+3]),l.set(g[u+4],g[u+5]),i.copy(t).add(e).add(n).divideScalar(3);var p=d(i);h(a,u+0,t,p),h(o,u+2,e,p),h(l,u+4,n,p)}}function h(t,e,n,i){i<0&&1===t.x&&(g[e]=t.x-1),0===n.x&&0===n.z&&(g[e]=i/2/Math.PI+.5)}function d(t){return Math.atan2(t.z,-t.x)}function p(t){return Math.atan2(-t.y,Math.sqrt(t.x*t.x+t.z*t.z))}F.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:t,indices:e,radius:n,detail:i},n=n||1,i=i||0;var f=[],g=[];!function(t){for(var n=new s,i=new s,r=new s,o=0;o<e.length;o+=3)c(e[o+0],n),c(e[o+1],i),c(e[o+2],r),a(n,i,r,t)}(i),function(t){for(var e=new s,n=0;n<f.length;n+=3)e.x=f[n+0],e.y=f[n+1],e.z=f[n+2],e.normalize().multiplyScalar(t),f[n+0]=e.x,f[n+1]=e.y,f[n+2]=e.z}(n),function(){for(var t=new s,e=0;e<f.length;e+=3){t.x=f[e+0],t.y=f[e+1],t.z=f[e+2];var n=d(t)/2/Math.PI+.5,i=p(t)/Math.PI+.5;g.push(n,1-i)}u(),o()}(),this.addAttribute("position",new N(f,3)),this.addAttribute("normal",new N(f.slice(),3)),this.addAttribute("uv",new N(g,2)),0===i?this.computeVertexNormals():this.normalizeNormals()}function an(t,e){C.call(this),this.type="TetrahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new on(t,e)),this.mergeVertices()}function on(t,e){var n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];rn.call(this,n,i,t,e),this.type="TetrahedronBufferGeometry",this.parameters={radius:t,detail:e}}function sn(t,e){C.call(this),this.type="OctahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new ln(t,e)),this.mergeVertices()}function ln(t,e){var n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];rn.call(this,n,i,t,e),this.type="OctahedronBufferGeometry",this.parameters={radius:t,detail:e}}function cn(t,e){C.call(this),this.type="IcosahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new un(t,e)),this.mergeVertices()}function un(t,e){var n=(1+Math.sqrt(5))/2,i=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],r=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];rn.call(this,i,r,t,e),this.type="IcosahedronBufferGeometry",this.parameters={radius:t,detail:e}}function hn(t,e){C.call(this),this.type="DodecahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new dn(t,e)),this.mergeVertices()}function dn(t,e){var n=(1+Math.sqrt(5))/2,i=1/n,r=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-n,0,-i,n,0,i,-n,0,i,n,-i,-n,0,-i,n,0,i,-n,0,i,n,0,-n,0,-i,n,0,-i,-n,0,i,n,0,i],a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];rn.call(this,r,a,t,e),this.type="DodecahedronBufferGeometry",this.parameters={radius:t,detail:e}}function pn(t,e,n,i,r,a){C.call(this),this.type="TubeGeometry",this.parameters={path:t,tubularSegments:e,radius:n,radialSegments:i,closed:r},void 0!==a&&console.warn("THREE.TubeGeometry: taper has been removed.");var o=new fn(t,e,n,i,r);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals,this.fromBufferGeometry(o),this.mergeVertices()}function fn(t,e,n,i,a){function o(r){m=t.getPointAt(r/e,m);var a=u.normals[r],o=u.binormals[r];for(d=0;d<=i;d++){var s=d/i*Math.PI*2,l=Math.sin(s),c=-Math.cos(s);f.x=c*a.x+l*o.x,f.y=c*a.y+l*o.y,f.z=c*a.z+l*o.z,f.normalize(),y.push(f.x,f.y,f.z),p.x=m.x+n*f.x,p.y=m.y+n*f.y,p.z=m.z+n*f.z,v.push(p.x,p.y,p.z)}}function l(){for(d=1;d<=e;d++)for(h=1;h<=i;h++){var t=(i+1)*(d-1)+(h-1),n=(i+1)*d+(h-1),r=(i+1)*d+h,a=(i+1)*(d-1)+h;_.push(t,n,a),_.push(n,r,a)}}function c(){for(h=0;h<=e;h++)for(d=0;d<=i;d++)g.x=h/e,g.y=d/i,x.push(g.x,g.y)}F.call(this),this.type="TubeBufferGeometry",this.parameters={path:t,tubularSegments:e,radius:n,radialSegments:i,closed:a},e=e||64,n=n||1,i=i||8,a=a||!1;var u=t.computeFrenetFrames(e,a);this.tangents=u.tangents,this.normals=u.normals,this.binormals=u.binormals;var h,d,p=new s,f=new s,g=new r,m=new s,v=[],y=[],x=[],_=[];!function(){for(h=0;h<e;h++)o(h);o(!1===a?e:0),c(),l()}(),this.setIndex(_),this.addAttribute("position",new N(v,3)),this.addAttribute("normal",new N(y,3)),this.addAttribute("uv",new N(x,2))}function gn(t,e,n,i,r,a,o){C.call(this),this.type="TorusKnotGeometry",this.parameters={radius:t,tube:e,tubularSegments:n,radialSegments:i,p:r,q:a},void 0!==o&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new mn(t,e,n,i,r,a)),this.mergeVertices()}function mn(t,e,n,i,r,a){function o(t,e,n,i,r){var a=Math.cos(t),o=Math.sin(t),s=n/e*t,l=Math.cos(s);r.x=i*(2+l)*.5*a,r.y=i*(2+l)*o*.5,r.z=i*Math.sin(s)*.5}F.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:t,tube:e,tubularSegments:n,radialSegments:i,p:r,q:a},t=t||1,e=e||.4,n=Math.floor(n)||64,i=Math.floor(i)||8,r=r||2,a=a||3;var l,c,u=[],h=[],d=[],p=[],f=new s,g=new s,m=new s,v=new s,y=new s,x=new s,_=new s;for(l=0;l<=n;++l){var b=l/n*r*Math.PI*2;for(o(b,r,a,t,m),o(b+.01,r,a,t,v),x.subVectors(v,m),_.addVectors(v,m),y.crossVectors(x,_),_.crossVectors(y,x),y.normalize(),_.normalize(),c=0;c<=i;++c){var w=c/i*Math.PI*2,M=-e*Math.cos(w),S=e*Math.sin(w);f.x=m.x+(M*_.x+S*y.x),f.y=m.y+(M*_.y+S*y.y),f.z=m.z+(M*_.z+S*y.z),h.push(f.x,f.y,f.z),g.subVectors(f,m).normalize(),d.push(g.x,g.y,g.z),p.push(l/n),p.push(c/i)}}for(c=1;c<=n;c++)for(l=1;l<=i;l++){var T=(i+1)*(c-1)+(l-1),A=(i+1)*c+(l-1),C=(i+1)*c+l,L=(i+1)*(c-1)+l;u.push(T,A,L),u.push(A,C,L)}this.setIndex(u),this.addAttribute("position",new N(h,3)),this.addAttribute("normal",new N(d,3)),this.addAttribute("uv",new N(p,2))}function vn(t,e,n,i,r){C.call(this),this.type="TorusGeometry",this.parameters={radius:t,tube:e,radialSegments:n,tubularSegments:i,arc:r},this.fromBufferGeometry(new yn(t,e,n,i,r)),this.mergeVertices()}function yn(t,e,n,i,r){F.call(this),this.type="TorusBufferGeometry",this.parameters={radius:t,tube:e,radialSegments:n,tubularSegments:i,arc:r},t=t||1,e=e||.4,n=Math.floor(n)||8,i=Math.floor(i)||6,r=r||2*Math.PI;var a,o,l=[],c=[],u=[],h=[],d=new s,p=new s,f=new s;for(a=0;a<=n;a++)for(o=0;o<=i;o++){var g=o/i*r,m=a/n*Math.PI*2;p.x=(t+e*Math.cos(m))*Math.cos(g),p.y=(t+e*Math.cos(m))*Math.sin(g),p.z=e*Math.sin(m),c.push(p.x,p.y,p.z),d.x=t*Math.cos(g),d.y=t*Math.sin(g),f.subVectors(p,d).normalize(),u.push(f.x,f.y,f.z),h.push(o/i),h.push(a/n)}for(a=1;a<=n;a++)for(o=1;o<=i;o++){var v=(i+1)*a+o-1,y=(i+1)*(a-1)+o-1,x=(i+1)*(a-1)+o,_=(i+1)*a+o;l.push(v,y,_),l.push(y,x,_)}this.setIndex(l),this.addAttribute("position",new N(c,3)),this.addAttribute("normal",new N(u,3)),this.addAttribute("uv",new N(h,2))}function xn(t,e,n,i,r){var a,o;if(r===$n(t,e,n,i)>0)for(a=e;a<n;a+=i)o=Un(a,t[a],t[a+1],o);else for(a=n-i;a>=e;a-=i)o=Un(a,t[a],t[a+1],o);return o&&zn(o,o.next)&&(jn(o),o=o.next),o}function _n(t,e){if(!t)return t;e||(e=t);var n,i=t;do{if(n=!1,i.steiner||!zn(i,i.next)&&0!==Nn(i.prev,i,i.next))i=i.next;else{if(jn(i),(i=e=i.prev)===i.next)break;n=!0}}while(n||i!==e);return e}function bn(t,e,n,i,r,a,o){if(t){!o&&a&&In(t,i,r,a);for(var s,l,c=t;t.prev!==t.next;)if(s=t.prev,l=t.next,a?Mn(t,i,r,a):wn(t))e.push(s.i/n),e.push(t.i/n),e.push(l.i/n),jn(t),t=l.next,c=l.next;else if((t=l)===c){o?1===o?(t=Sn(t,e,n),bn(t,e,n,i,r,a,2)):2===o&&Tn(t,e,n,i,r,a):bn(_n(t),e,n,i,r,a,1);break}}}function wn(t){var e=t.prev,n=t,i=t.next;if(Nn(e,n,i)>=0)return!1;for(var r=t.next.next;r!==t.prev;){if(On(e.x,e.y,n.x,n.y,i.x,i.y,r.x,r.y)&&Nn(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function Mn(t,e,n,i){var r=t.prev,a=t,o=t.next;if(Nn(r,a,o)>=0)return!1;for(var s=r.x<a.x?r.x<o.x?r.x:o.x:a.x<o.x?a.x:o.x,l=r.y<a.y?r.y<o.y?r.y:o.y:a.y<o.y?a.y:o.y,c=r.x>a.x?r.x>o.x?r.x:o.x:a.x>o.x?a.x:o.x,u=r.y>a.y?r.y>o.y?r.y:o.y:a.y>o.y?a.y:o.y,h=Dn(s,l,e,n,i),d=Dn(c,u,e,n,i),p=t.nextZ;p&&p.z<=d;){if(p!==t.prev&&p!==t.next&&On(r.x,r.y,a.x,a.y,o.x,o.y,p.x,p.y)&&Nn(p.prev,p,p.next)>=0)return!1;p=p.nextZ}for(p=t.prevZ;p&&p.z>=h;){if(p!==t.prev&&p!==t.next&&On(r.x,r.y,a.x,a.y,o.x,o.y,p.x,p.y)&&Nn(p.prev,p,p.next)>=0)return!1;p=p.prevZ}return!0}function Sn(t,e,n){var i=t;do{var r=i.prev,a=i.next.next;!zn(r,a)&&Bn(r,i,i.next,a)&&Fn(r,a)&&Fn(a,r)&&(e.push(r.i/n),e.push(i.i/n),e.push(a.i/n),jn(i),jn(i.next),i=t=a),i=i.next}while(i!==t);return i}function Tn(t,e,n,i,r,a){var o=t;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&kn(o,s)){var l=Hn(o,s);return o=_n(o,o.next),l=_n(l,l.next),bn(o,e,n,i,r,a),void bn(l,e,n,i,r,a)}s=s.next}o=o.next}while(o!==t)}function An(t,e,n,i){var r,a,o,s,l,c=[];for(r=0,a=e.length;r<a;r++)o=e[r]*i,s=r<a-1?e[r+1]*i:t.length,l=xn(t,o,s,i,!1),l===l.next&&(l.steiner=!0),c.push(Rn(l));for(c.sort(Cn),r=0;r<c.length;r++)Ln(c[r],n),n=_n(n,n.next);return n}function Cn(t,e){return t.x-e.x}function Ln(t,e){if(e=En(t,e)){var n=Hn(e,t);_n(n,n.next)}}function En(t,e){var n,i=e,r=t.x,a=t.y,o=-1/0;do{if(a<=i.y&&a>=i.next.y&&i.next.y!==i.y){var s=i.x+(a-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(s<=r&&s>o){if(o=s,s===r){if(a===i.y)return i;if(a===i.next.y)return i.next}n=i.x<i.next.x?i:i.next}}i=i.next}while(i!==e);if(!n)return null;if(r===o)return n.prev;var l,c=n,u=n.x,h=n.y,d=1/0;for(i=n.next;i!==c;)r>=i.x&&i.x>=u&&r!==i.x&&On(a<h?r:o,a,u,h,a<h?o:r,a,i.x,i.y)&&((l=Math.abs(a-i.y)/(r-i.x))<d||l===d&&i.x>n.x)&&Fn(i,t)&&(n=i,d=l),i=i.next;return n}function In(t,e,n,i){var r=t;do{null===r.z&&(r.z=Dn(r.x,r.y,e,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,Pn(r)}function Pn(t){var e,n,i,r,a,o,s,l,c=1;do{for(n=t,t=null,a=null,o=0;n;){for(o++,i=n,s=0,e=0;e<c&&(s++,i=i.nextZ);e++);for(l=c;s>0||l>0&&i;)0!==s&&(0===l||!i||n.z<=i.z)?(r=n,n=n.nextZ,s--):(r=i,i=i.nextZ,l--),a?a.nextZ=r:t=r,r.prevZ=a,a=r;n=i}a.nextZ=null,c*=2}while(o>1);return t}function Dn(t,e,n,i,r){return t=32767*(t-n)*r,e=32767*(e-i)*r,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t|e<<1}function Rn(t){var e=t,n=t;do{e.x<n.x&&(n=e),e=e.next}while(e!==t);return n}function On(t,e,n,i,r,a,o,s){return(r-o)*(e-s)-(t-o)*(a-s)>=0&&(t-o)*(i-s)-(n-o)*(e-s)>=0&&(n-o)*(a-s)-(r-o)*(i-s)>=0}function kn(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!Vn(t,e)&&Fn(t,e)&&Fn(e,t)&&Gn(t,e)}function Nn(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function zn(t,e){return t.x===e.x&&t.y===e.y}function Bn(t,e,n,i){return!!(zn(t,e)&&zn(n,i)||zn(t,i)&&zn(n,e))||Nn(t,e,n)>0!=Nn(t,e,i)>0&&Nn(n,i,t)>0!=Nn(n,i,e)>0}function Vn(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&Bn(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function Fn(t,e){return Nn(t.prev,t,t.next)<0?Nn(t,e,t.next)>=0&&Nn(t,t.prev,e)>=0:Nn(t,e,t.prev)<0||Nn(t,t.next,e)<0}function Gn(t,e){var n=t,i=!1,r=(t.x+e.x)/2,a=(t.y+e.y)/2;do{n.y>a!=n.next.y>a&&n.next.y!==n.y&&r<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next}while(n!==t);return i}function Hn(t,e){var n=new Wn(t.i,t.x,t.y),i=new Wn(e.i,e.x,e.y),r=t.next,a=e.prev;return t.next=e,e.prev=t,n.next=r,r.prev=n,i.next=n,n.prev=i,a.next=i,i.prev=a,i}function Un(t,e,n,i){var r=new Wn(t,e,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function jn(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Wn(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function $n(t,e,n,i){for(var r=0,a=e,o=n-i;a<n;a+=i)r+=(t[o]-t[a])*(t[a+1]+t[o+1]),o=a;return r}function Yn(t){var e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function Xn(t,e){for(var n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}function qn(t,e){C.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:t,options:e},this.fromBufferGeometry(new Zn(t,e)),this.mergeVertices()}function Zn(t,e){F.call(this),this.type="ExtrudeBufferGeometry",this.parameters={shapes:t,options:e},t=Array.isArray(t)?t:[t];for(var n=this,i=[],a=[],o=0,l=t.length;o<l;o++){var c=t[o];!function(t){function o(t,e,n){return e||console.error("THREE.ExtrudeGeometry: vec does not exist"),e.clone().multiplyScalar(n).add(t)}function l(t,e,n){var i,a,o,s=t.x-e.x,l=t.y-e.y,c=n.x-t.x,u=n.y-t.y,h=s*s+l*l,d=s*u-l*c;if(Math.abs(d)>Number.EPSILON){var p=Math.sqrt(h),f=Math.sqrt(c*c+u*u),g=e.x-l/p,m=e.y+s/p,v=n.x-u/f,y=n.y+c/f,x=((v-g)*u-(y-m)*c)/(s*u-l*c);i=g+s*x-t.x,a=m+l*x-t.y;var _=i*i+a*a;if(_<=2)return new r(i,a);o=Math.sqrt(_/2)}else{var b=!1;s>Number.EPSILON?c>Number.EPSILON&&(b=!0):s<-Number.EPSILON?c<-Number.EPSILON&&(b=!0):Math.sign(l)===Math.sign(u)&&(b=!0),b?(i=-l,a=s,o=Math.sqrt(h)):(i=s,a=l,o=Math.sqrt(h/2))}return new r(i/o,a/o)}function c(t,e){var n,i;for(X=t.length;--X>=0;){n=X,(i=X-1)<0&&(i=t.length-1);var r=0,a=v+2*w;for(r=0;r<a;r++){var o=W*r,s=W*(r+1);d(e+n+o,e+i+o,e+i+s,e+n+s)}}}function u(t,e,n){g.push(t),g.push(e),g.push(n)}function h(t,e,r){p(t),p(e),p(r);var a=i.length/3,o=S.generateTopUV(n,i,a-3,a-2,a-1);f(o[0]),f(o[1]),f(o[2])}function d(t,e,r,a){p(t),p(e),p(a),p(e),p(r),p(a);var o=i.length/3,s=S.generateSideWallUV(n,i,o-6,o-3,o-2,o-1);f(s[0]),f(s[1]),f(s[3]),f(s[1]),f(s[2]),f(s[3])}function p(t){i.push(g[3*t+0]),i.push(g[3*t+1]),i.push(g[3*t+2])}function f(t){a.push(t.x),a.push(t.y)}var g=[],m=void 0!==e.curveSegments?e.curveSegments:12,v=void 0!==e.steps?e.steps:1,y=void 0!==e.depth?e.depth:100,x=void 0===e.bevelEnabled||e.bevelEnabled,_=void 0!==e.bevelThickness?e.bevelThickness:6,b=void 0!==e.bevelSize?e.bevelSize:_-2,w=void 0!==e.bevelSegments?e.bevelSegments:3,M=e.extrudePath,S=void 0!==e.UVGenerator?e.UVGenerator:_c;void 0!==e.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),y=e.amount);var T,A,C,L,E,I=!1;M&&(T=M.getSpacedPoints(v),I=!0,x=!1,A=M.computeFrenetFrames(v,!1),C=new s,L=new s,E=new s),x||(w=0,_=0,b=0);var P,D,R,O=t.extractPoints(m),k=O.shape,N=O.holes;if(!xc.isClockWise(k))for(k=k.reverse(),D=0,R=N.length;D<R;D++)P=N[D],xc.isClockWise(P)&&(N[D]=P.reverse());var z=xc.triangulateShape(k,N),B=k;for(D=0,R=N.length;D<R;D++)P=N[D],k=k.concat(P);for(var V,F,G,H,U,j,W=k.length,$=z.length,Y=[],X=0,q=B.length,Z=q-1,J=X+1;X<q;X++,Z++,J++)Z===q&&(Z=0),J===q&&(J=0),Y[X]=l(B[X],B[Z],B[J]);var K,Q=[],tt=Y.concat();for(D=0,R=N.length;D<R;D++){for(P=N[D],K=[],X=0,q=P.length,Z=q-1,J=X+1;X<q;X++,Z++,J++)Z===q&&(Z=0),J===q&&(J=0),K[X]=l(P[X],P[Z],P[J]);Q.push(K),tt=tt.concat(K)}for(V=0;V<w;V++){for(G=V/w,H=_*Math.cos(G*Math.PI/2),F=b*Math.sin(G*Math.PI/2),X=0,q=B.length;X<q;X++)U=o(B[X],Y[X],F),u(U.x,U.y,-H);for(D=0,R=N.length;D<R;D++)for(P=N[D],K=Q[D],X=0,q=P.length;X<q;X++)U=o(P[X],K[X],F),u(U.x,U.y,-H)}for(F=b,X=0;X<W;X++)U=x?o(k[X],tt[X],F):k[X],I?(L.copy(A.normals[0]).multiplyScalar(U.x),C.copy(A.binormals[0]).multiplyScalar(U.y),E.copy(T[0]).add(L).add(C),u(E.x,E.y,E.z)):u(U.x,U.y,0);var et;for(et=1;et<=v;et++)for(X=0;X<W;X++)U=x?o(k[X],tt[X],F):k[X],I?(L.copy(A.normals[et]).multiplyScalar(U.x),C.copy(A.binormals[et]).multiplyScalar(U.y),E.copy(T[et]).add(L).add(C),u(E.x,E.y,E.z)):u(U.x,U.y,y/v*et);for(V=w-1;V>=0;V--){for(G=V/w,H=_*Math.cos(G*Math.PI/2),F=b*Math.sin(G*Math.PI/2),X=0,q=B.length;X<q;X++)U=o(B[X],Y[X],F),u(U.x,U.y,y+H);for(D=0,R=N.length;D<R;D++)for(P=N[D],K=Q[D],X=0,q=P.length;X<q;X++)U=o(P[X],K[X],F),I?u(U.x,U.y+T[v-1].y,T[v-1].x+H):u(U.x,U.y,y+H)}!function(){var t=i.length/3;if(x){var e=0,r=W*e;for(X=0;X<$;X++)j=z[X],h(j[2]+r,j[1]+r,j[0]+r);for(e=v+2*w,r=W*e,X=0;X<$;X++)j=z[X],h(j[0]+r,j[1]+r,j[2]+r)}else{for(X=0;X<$;X++)j=z[X],h(j[2],j[1],j[0]);for(X=0;X<$;X++)j=z[X],h(j[0]+W*v,j[1]+W*v,j[2]+W*v)}n.addGroup(t,i.length/3-t,0)}(),function(){var t=i.length/3,e=0;for(c(B,e),e+=B.length,D=0,R=N.length;D<R;D++)P=N[D],c(P,e),e+=P.length;n.addGroup(t,i.length/3-t,1)}()}(c)}this.addAttribute("position",new N(i,3)),this.addAttribute("uv",new N(a,2)),this.computeVertexNormals()}function Jn(t,e,n){if(n.shapes=[],Array.isArray(t))for(var i=0,r=t.length;i<r;i++){var a=t[i];n.shapes.push(a.uuid)}else n.shapes.push(t.uuid);return void 0!==e.extrudePath&&(n.options.extrudePath=e.extrudePath.toJSON()),n}function Kn(t,e){C.call(this),this.type="TextGeometry",this.parameters={text:t,parameters:e},this.fromBufferGeometry(new Qn(t,e)),this.mergeVertices()}function Qn(t,e){e=e||{};var n=e.font;if(!n||!n.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new C;var i=n.generateShapes(t,e.size);e.depth=void 0!==e.height?e.height:50,void 0===e.bevelThickness&&(e.bevelThickness=10),void 0===e.bevelSize&&(e.bevelSize=8),void 0===e.bevelEnabled&&(e.bevelEnabled=!1),Zn.call(this,i,e),this.type="TextBufferGeometry"}function ti(t,e,n,i,r,a,o){C.call(this),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:n,phiStart:i,phiLength:r,thetaStart:a,thetaLength:o},this.fromBufferGeometry(new ei(t,e,n,i,r,a,o)),this.mergeVertices()}function ei(t,e,n,i,r,a,o){F.call(this),this.type="SphereBufferGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:n,phiStart:i,phiLength:r,thetaStart:a,thetaLength:o},t=t||1,e=Math.max(3,Math.floor(e)||8),n=Math.max(2,Math.floor(n)||6),i=void 0!==i?i:0,r=void 0!==r?r:2*Math.PI,a=void 0!==a?a:0,o=void 0!==o?o:Math.PI;var l,c,u=a+o,h=0,d=[],p=new s,f=new s,g=[],m=[],v=[],y=[];for(c=0;c<=n;c++){var x=[],_=c/n;for(l=0;l<=e;l++){var b=l/e;p.x=-t*Math.cos(i+b*r)*Math.sin(a+_*o),p.y=t*Math.cos(a+_*o),p.z=t*Math.sin(i+b*r)*Math.sin(a+_*o),m.push(p.x,p.y,p.z),f.set(p.x,p.y,p.z).normalize(),v.push(f.x,f.y,f.z),y.push(b,1-_),x.push(h++)}d.push(x)}for(c=0;c<n;c++)for(l=0;l<e;l++){var w=d[c][l+1],M=d[c][l],S=d[c+1][l],T=d[c+1][l+1];(0!==c||a>0)&&g.push(w,M,T),(c!==n-1||u<Math.PI)&&g.push(M,S,T)}this.setIndex(g),this.addAttribute("position",new N(m,3)),this.addAttribute("normal",new N(v,3)),this.addAttribute("uv",new N(y,2))}function ni(t,e,n,i,r,a){C.call(this),this.type="RingGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:n,phiSegments:i,thetaStart:r,thetaLength:a},this.fromBufferGeometry(new ii(t,e,n,i,r,a)),this.mergeVertices()}function ii(t,e,n,i,a,o){F.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:n,phiSegments:i,thetaStart:a,thetaLength:o},t=t||.5,e=e||1,a=void 0!==a?a:0,o=void 0!==o?o:2*Math.PI,n=void 0!==n?Math.max(3,n):8,i=void 0!==i?Math.max(1,i):1;var l,c,u,h=[],d=[],p=[],f=[],g=t,m=(e-t)/i,v=new s,y=new r;for(c=0;c<=i;c++){for(u=0;u<=n;u++)l=a+u/n*o,v.x=g*Math.cos(l),v.y=g*Math.sin(l),d.push(v.x,v.y,v.z),p.push(0,0,1),y.x=(v.x/e+1)/2,y.y=(v.y/e+1)/2,f.push(y.x,y.y);g+=m}for(c=0;c<i;c++){var x=c*(n+1);for(u=0;u<n;u++){l=u+x;var _=l,b=l+n+1,w=l+n+2,M=l+1;h.push(_,b,M),h.push(b,w,M)}}this.setIndex(h),this.addAttribute("position",new N(d,3)),this.addAttribute("normal",new N(p,3)),this.addAttribute("uv",new N(f,2))}function ri(t,e,n,i){C.call(this),this.type="LatheGeometry",this.parameters={points:t,segments:e,phiStart:n,phiLength:i},this.fromBufferGeometry(new ai(t,e,n,i)),this.mergeVertices()}function ai(t,e,n,i){F.call(this),this.type="LatheBufferGeometry",this.parameters={points:t,segments:e,phiStart:n,phiLength:i},e=Math.floor(e)||12,n=n||0,i=i||2*Math.PI,i=Wl.clamp(i,0,2*Math.PI);var a,o,l,c=[],u=[],h=[],d=1/e,p=new s,f=new r;for(o=0;o<=e;o++){var g=n+o*d*i,m=Math.sin(g),v=Math.cos(g);for(l=0;l<=t.length-1;l++)p.x=t[l].x*m,p.y=t[l].y,p.z=t[l].x*v,u.push(p.x,p.y,p.z),f.x=o/e,f.y=l/(t.length-1),h.push(f.x,f.y)}for(o=0;o<e;o++)for(l=0;l<t.length-1;l++){a=l+o*t.length;var y=a,x=a+t.length,_=a+t.length+1,b=a+1;c.push(y,x,b),c.push(x,_,b)}if(this.setIndex(c),this.addAttribute("position",new N(u,3)),this.addAttribute("uv",new N(h,2)),this.computeVertexNormals(),i===2*Math.PI){var w=this.attributes.normal.array,M=new s,S=new s,T=new s;for(a=e*t.length*3,o=0,l=0;o<t.length;o++,l+=3)M.x=w[l+0],M.y=w[l+1],M.z=w[l+2],S.x=w[a+l+0],S.y=w[a+l+1],S.z=w[a+l+2],T.addVectors(M,S).normalize(),w[l+0]=w[a+l+0]=T.x,w[l+1]=w[a+l+1]=T.y,w[l+2]=w[a+l+2]=T.z}}function oi(t,e){C.call(this),this.type="ShapeGeometry","object"==typeof e&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),e=e.curveSegments),this.parameters={shapes:t,curveSegments:e},this.fromBufferGeometry(new si(t,e)),this.mergeVertices()}function si(t,e){function n(t){var n,s,c,u=r.length/3,h=t.extractPoints(e),d=h.shape,p=h.holes;if(!1===xc.isClockWise(d))for(d=d.reverse(),n=0,s=p.length;n<s;n++)c=p[n],!0===xc.isClockWise(c)&&(p[n]=c.reverse());var f=xc.triangulateShape(d,p);for(n=0,s=p.length;n<s;n++)c=p[n],d=d.concat(c);for(n=0,s=d.length;n<s;n++){var g=d[n];r.push(g.x,g.y,0),a.push(0,0,1),o.push(g.x,g.y)}for(n=0,s=f.length;n<s;n++){var m=f[n],v=m[0]+u,y=m[1]+u,x=m[2]+u;i.push(v,y,x),l+=3}}F.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:t,curveSegments:e},e=e||12;var i=[],r=[],a=[],o=[],s=0,l=0;if(!1===Array.isArray(t))n(t);else for(var c=0;c<t.length;c++)n(t[c]),this.addGroup(s,l,c),s+=l,l=0;this.setIndex(i),this.addAttribute("position",new N(r,3)),this.addAttribute("normal",new N(a,3)),this.addAttribute("uv",new N(o,2))}function li(t,e){if(e.shapes=[],Array.isArray(t))for(var n=0,i=t.length;n<i;n++){var r=t[n];e.shapes.push(r.uuid)}else e.shapes.push(t.uuid);return e}function ci(t,e){F.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:e},e=void 0!==e?e:1;var n,i,r,a,o=[],s=Math.cos(Wl.DEG2RAD*e),l=[0,0],c={},u=["a","b","c"];t.isBufferGeometry?(a=new C,a.fromBufferGeometry(t)):a=t.clone(),a.mergeVertices(),a.computeFaceNormals();for(var h=a.vertices,d=a.faces,p=0,f=d.length;p<f;p++)for(var g=d[p],m=0;m<3;m++)n=g[u[m]],i=g[u[(m+1)%3]],l[0]=Math.min(n,i),l[1]=Math.max(n,i),r=l[0]+","+l[1],void 0===c[r]?c[r]={index1:l[0],index2:l[1],face1:p,face2:void 0}:c[r].face2=p;for(r in c){var v=c[r];if(void 0===v.face2||d[v.face1].normal.dot(d[v.face2].normal)<=s){var y=h[v.index1];o.push(y.x,y.y,y.z),y=h[v.index2],o.push(y.x,y.y,y.z)}}this.addAttribute("position",new N(o,3))}function ui(t,e,n,i,r,a,o,s){C.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:n,radialSegments:i,heightSegments:r,openEnded:a,thetaStart:o,thetaLength:s},this.fromBufferGeometry(new hi(t,e,n,i,r,a,o,s)),this.mergeVertices()}function hi(t,e,n,i,a,o,l,c){function u(n){var a,o,u,v=new r,_=new s,b=0,w=!0===n?t:e,M=!0===n?1:-1;for(o=m,a=1;a<=i;a++)p.push(0,y*M,0),f.push(0,M,0),g.push(.5,.5),m++;for(u=m,a=0;a<=i;a++){var S=a/i,T=S*c+l,A=Math.cos(T),C=Math.sin(T);_.x=w*C,_.y=y*M,_.z=w*A,p.push(_.x,_.y,_.z),f.push(0,M,0),v.x=.5*A+.5,v.y=.5*C*M+.5,g.push(v.x,v.y),m++}for(a=0;a<i;a++){var L=o+a,E=u+a;!0===n?d.push(E,E+1,L):d.push(E+1,E,L),b+=3}h.addGroup(x,b,!0===n?1:2),x+=b}F.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:n,radialSegments:i,heightSegments:a,openEnded:o,thetaStart:l,thetaLength:c};var h=this;t=void 0!==t?t:1,e=void 0!==e?e:1,n=n||1,i=Math.floor(i)||8,a=Math.floor(a)||1,o=void 0!==o&&o,l=void 0!==l?l:0,c=void 0!==c?c:2*Math.PI;var d=[],p=[],f=[],g=[],m=0,v=[],y=n/2,x=0;!function(){var r,o,u=new s,_=new s,b=0,w=(e-t)/n;for(o=0;o<=a;o++){var M=[],S=o/a,T=S*(e-t)+t;for(r=0;r<=i;r++){var A=r/i,C=A*c+l,L=Math.sin(C),E=Math.cos(C);_.x=T*L,_.y=-S*n+y,_.z=T*E,p.push(_.x,_.y,_.z),u.set(L,w,E).normalize(),f.push(u.x,u.y,u.z),g.push(A,1-S),M.push(m++)}v.push(M)}for(r=0;r<i;r++)for(o=0;o<a;o++){var I=v[o][r],P=v[o+1][r],D=v[o+1][r+1],R=v[o][r+1];d.push(I,P,R),d.push(P,D,R),b+=6}h.addGroup(x,b,0),x+=b}(),!1===o&&(t>0&&u(!0),e>0&&u(!1)),this.setIndex(d),this.addAttribute("position",new N(p,3)),this.addAttribute("normal",new N(f,3)),this.addAttribute("uv",new N(g,2))}function di(t,e,n,i,r,a,o){ui.call(this,0,t,e,n,i,r,a,o),this.type="ConeGeometry",this.parameters={radius:t,height:e,radialSegments:n,heightSegments:i,openEnded:r,thetaStart:a,thetaLength:o}}function pi(t,e,n,i,r,a,o){hi.call(this,0,t,e,n,i,r,a,o),this.type="ConeBufferGeometry",this.parameters={radius:t,height:e,radialSegments:n,heightSegments:i,openEnded:r,thetaStart:a,thetaLength:o}}function fi(t,e,n,i){C.call(this),this.type="CircleGeometry",this.parameters={radius:t,segments:e,thetaStart:n,thetaLength:i},this.fromBufferGeometry(new gi(t,e,n,i)),this.mergeVertices()}function gi(t,e,n,i){F.call(this),this.type="CircleBufferGeometry",this.parameters={radius:t,segments:e,thetaStart:n,thetaLength:i},t=t||1,e=void 0!==e?Math.max(3,e):8,n=void 0!==n?n:0,i=void 0!==i?i:2*Math.PI;var a,o,l=[],c=[],u=[],h=[],d=new s,p=new r;for(c.push(0,0,0),u.push(0,0,1),h.push(.5,.5),o=0,a=3;o<=e;o++,a+=3){var f=n+o/e*i;d.x=t*Math.cos(f),d.y=t*Math.sin(f),c.push(d.x,d.y,d.z),u.push(0,0,1),p.x=(c[a]/t+1)/2,p.y=(c[a+1]/t+1)/2,h.push(p.x,p.y)}for(a=1;a<=e;a++)l.push(a,a+1,0);this.setIndex(l),this.addAttribute("position",new N(c,3)),this.addAttribute("normal",new N(u,3)),this.addAttribute("uv",new N(h,2))}function mi(t){W.call(this),this.type="ShadowMaterial",this.color=new _(0),this.transparent=!0,this.setValues(t)}function vi(t){$.call(this,t),this.type="RawShaderMaterial"}function yi(t){W.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new _(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new _(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ul,this.normalScale=new r(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function xi(t){yi.call(this),this.defines={PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearCoat=0,this.clearCoatRoughness=0,this.setValues(t)}function _i(t){W.call(this),this.type="MeshPhongMaterial",this.color=new _(16777215),this.specular=new _(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new _(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ul,this.normalScale=new r(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=as,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function bi(t){_i.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.gradientMap=null,this.setValues(t)}function wi(t){W.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ul,this.normalScale=new r(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function Mi(t){W.call(this),this.type="MeshLambertMaterial",this.color=new _(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new _(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=as,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function Si(t){W.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new _(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ul,this.normalScale=new r(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.lights=!1,this.setValues(t)}function Ti(t){Ue.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(t)}function Ai(t,e,n,i){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new e.constructor(n),this.sampleValues=e,this.valueSize=n}function Ci(t,e,n,i){Ai.call(this,t,e,n,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function Li(t,e,n,i){Ai.call(this,t,e,n,i)}function Ei(t,e,n,i){Ai.call(this,t,e,n,i)}function Ii(t,e,n,i){if(void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===e||0===e.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=Mc.convertArray(e,this.TimeBufferType),this.values=Mc.convertArray(n,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}function Pi(t,e,n){Ii.call(this,t,e,n)}function Di(t,e,n,i){Ii.call(this,t,e,n,i)}function Ri(t,e,n,i){Ii.call(this,t,e,n,i)}function Oi(t,e,n,i){Ai.call(this,t,e,n,i)}function ki(t,e,n,i){Ii.call(this,t,e,n,i)}function Ni(t,e,n,i){Ii.call(this,t,e,n,i)}function zi(t,e,n,i){Ii.call(this,t,e,n,i)}function Bi(t,e,n){this.name=t,this.tracks=n,this.duration=void 0!==e?e:-1,this.uuid=Wl.generateUUID(),this.duration<0&&this.resetDuration()}function Vi(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Ri;case"vector":case"vector2":case"vector3":case"vector4":return zi;case"color":return Di;case"quaternion":return ki;case"bool":case"boolean":return Pi;case"string":return Ni}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function Fi(t){if(void 0===t.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var e=Vi(t.type);if(void 0===t.times){var n=[],i=[];Mc.flattenJSON(t.keys,n,i,"value"),t.times=n,t.values=i}return void 0!==e.parse?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}function Gi(t,e,n){var i=this,r=!1,a=0,o=0,s=void 0;this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=n,this.itemStart=function(t){o++,!1===r&&void 0!==i.onStart&&i.onStart(t,a,o),r=!0},this.itemEnd=function(t){a++,void 0!==i.onProgress&&i.onProgress(t,a,o),a===o&&(r=!1,void 0!==i.onLoad&&i.onLoad())},this.itemError=function(t){void 0!==i.onError&&i.onError(t)},this.resolveURL=function(t){return s?s(t):t},this.setURLModifier=function(t){return s=t,this}}function Hi(t){this.manager=void 0!==t?t:Tc}function Ui(t){this.manager=void 0!==t?t:Tc}function ji(t){this.manager=void 0!==t?t:Tc,this._parser=null}function Wi(t){this.manager=void 0!==t?t:Tc,this._parser=null}function $i(t){this.manager=void 0!==t?t:Tc}function Yi(t){this.manager=void 0!==t?t:Tc}function Xi(t){this.manager=void 0!==t?t:Tc}function qi(){this.type="Curve",this.arcLengthDivisions=200}function Zi(t,e,n,i,r,a,o,s){qi.call(this),this.type="EllipseCurve",this.aX=t||0,this.aY=e||0,this.xRadius=n||1,this.yRadius=i||1,this.aStartAngle=r||0,this.aEndAngle=a||2*Math.PI,this.aClockwise=o||!1,this.aRotation=s||0}function Ji(t,e,n,i,r,a){Zi.call(this,t,e,n,n,i,r,a),this.type="ArcCurve"}function Ki(){function t(t,a,o,s){e=t,n=o,i=-3*t+3*a-2*o-s,r=2*t-2*a+o+s}var e=0,n=0,i=0,r=0;return{initCatmullRom:function(e,n,i,r,a){t(n,i,a*(i-e),a*(r-n))},initNonuniformCatmullRom:function(e,n,i,r,a,o,s){var l=(n-e)/a-(i-e)/(a+o)+(i-n)/o,c=(i-n)/o-(r-n)/(o+s)+(r-i)/s;l*=o,c*=o,t(n,i,l,c)},calc:function(t){var a=t*t;return e+n*t+i*a+r*(a*t)}}}function Qi(t,e,n,i){qi.call(this),this.type="CatmullRomCurve3",this.points=t||[],this.closed=e||!1,this.curveType=n||"centripetal",this.tension=i||.5}function tr(t,e,n,i,r){var a=.5*(i-e),o=.5*(r-n),s=t*t;return(2*n-2*i+a+o)*(t*s)+(-3*n+3*i-2*a-o)*s+a*t+n}function er(t,e){var n=1-t;return n*n*e}function nr(t,e){return 2*(1-t)*t*e}function ir(t,e){return t*t*e}function rr(t,e,n,i){return er(t,e)+nr(t,n)+ir(t,i)}function ar(t,e){var n=1-t;return n*n*n*e}function or(t,e){var n=1-t;return 3*n*n*t*e}function sr(t,e){return 3*(1-t)*t*t*e}function lr(t,e){return t*t*t*e}function cr(t,e,n,i,r){return ar(t,e)+or(t,n)+sr(t,i)+lr(t,r)}function ur(t,e,n,i){qi.call(this),this.type="CubicBezierCurve",this.v0=t||new r,this.v1=e||new r,this.v2=n||new r,this.v3=i||new r}function hr(t,e,n,i){qi.call(this),this.type="CubicBezierCurve3",this.v0=t||new s,this.v1=e||new s,this.v2=n||new s,this.v3=i||new s}function dr(t,e){qi.call(this),this.type="LineCurve",this.v1=t||new r,this.v2=e||new r}function pr(t,e){qi.call(this),this.type="LineCurve3",this.v1=t||new s,this.v2=e||new s}function fr(t,e,n){qi.call(this),this.type="QuadraticBezierCurve",this.v0=t||new r,this.v1=e||new r,this.v2=n||new r}function gr(t,e,n){qi.call(this),this.type="QuadraticBezierCurve3",this.v0=t||new s,this.v1=e||new s,this.v2=n||new s}function mr(t){qi.call(this),this.type="SplineCurve",this.points=t||[]}function vr(){qi.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function yr(t){vr.call(this),this.type="Path",this.currentPoint=new r,t&&this.setFromPoints(t)}function xr(t){yr.call(this,t),this.uuid=Wl.generateUUID(),this.type="Shape",this.holes=[]}function _r(t,e){A.call(this),this.type="Light",this.color=new _(t),this.intensity=void 0!==e?e:1,this.receiveShadow=void 0}function br(t,e,n){_r.call(this,t,n),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(A.DefaultUp),this.updateMatrix(),this.groundColor=new _(e)}function wr(t){this.camera=t,this.bias=0,this.radius=1,this.mapSize=new r(512,512),this.map=null,this.matrix=new a}function Mr(){wr.call(this,new Ae(50,1,.5,500))}function Sr(t,e,n,i,r,a){_r.call(this,t,e),this.type="SpotLight",this.position.copy(A.DefaultUp),this.updateMatrix(),this.target=new A,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(t){this.intensity=t/Math.PI}}),this.distance=void 0!==n?n:0,this.angle=void 0!==i?i:Math.PI/3,this.penumbra=void 0!==r?r:0,this.decay=void 0!==a?a:1,this.shadow=new Mr}function Tr(t,e,n,i){_r.call(this,t,e),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(t){this.intensity=t/(4*Math.PI)}}),this.distance=void 0!==n?n:0,this.decay=void 0!==i?i:1,this.shadow=new wr(new Ae(90,1,.5,500))}function Ar(t,e,n,i,r,a){Te.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=void 0!==t?t:-1,this.right=void 0!==e?e:1,this.top=void 0!==n?n:1,this.bottom=void 0!==i?i:-1,this.near=void 0!==r?r:.1,this.far=void 0!==a?a:2e3,this.updateProjectionMatrix()}function Cr(){wr.call(this,new Ar(-5,5,5,-5,.5,500))}function Lr(t,e){_r.call(this,t,e),this.type="DirectionalLight",this.position.copy(A.DefaultUp),this.updateMatrix(),this.target=new A,this.shadow=new Cr}function Er(t,e){_r.call(this,t,e),this.type="AmbientLight",this.castShadow=void 0}function Ir(t,e,n,i){_r.call(this,t,e),this.type="RectAreaLight",this.width=void 0!==n?n:10,this.height=void 0!==i?i:10}function Pr(t){this.manager=void 0!==t?t:Tc,this.textures={}}function Dr(t){this.manager=void 0!==t?t:Tc}function Rr(t){this.manager=void 0!==t?t:Tc,this.resourcePath=""}function Or(t){"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.manager=void 0!==t?t:Tc,this.options=void 0}function kr(){this.type="ShapePath",this.color=new _,this.subPaths=[],this.currentPath=null}function Nr(t){this.type="Font",this.data=t}function zr(t,e,n){for(var i=Array.from?Array.from(t):String(t).split(""),r=e/n.resolution,a=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*r,o=[],s=0,l=0,c=0;c<i.length;c++){var u=i[c];if("\n"===u)s=0,l-=a;else{var h=Br(u,r,s,l,n);s+=h.offsetX,o.push(h.path)}}return o}function Br(t,e,n,i,r){var a=r.glyphs[t]||r.glyphs["?"];if(a){var o,s,l,c,u,h,d,p,f=new kr;if(a.o)for(var g=a._cachedOutline||(a._cachedOutline=a.o.split(" ")),m=0,v=g.length;m<v;){var y=g[m++];switch(y){case"m":o=g[m++]*e+n,s=g[m++]*e+i,f.moveTo(o,s);break;case"l":o=g[m++]*e+n,s=g[m++]*e+i,f.lineTo(o,s);break;case"q":l=g[m++]*e+n,c=g[m++]*e+i,u=g[m++]*e+n,h=g[m++]*e+i,f.quadraticCurveTo(u,h,l,c);break;case"b":l=g[m++]*e+n,c=g[m++]*e+i,u=g[m++]*e+n,h=g[m++]*e+i,d=g[m++]*e+n,p=g[m++]*e+i,f.bezierCurveTo(u,h,d,p,l,c)}}return{offsetX:a.ha*e,path:f}}}function Vr(t){this.manager=void 0!==t?t:Tc}function Fr(){}function Gr(t){this.manager=void 0!==t?t:Tc}function Hr(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Ae,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Ae,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1}function Ur(t,e,n,i){A.call(this),this.type="CubeCamera";var r=new Ae(90,1,t,e);r.up.set(0,-1,0),r.lookAt(new s(1,0,0)),this.add(r);var a=new Ae(90,1,t,e);a.up.set(0,-1,0),a.lookAt(new s(-1,0,0)),this.add(a);var o=new Ae(90,1,t,e);o.up.set(0,0,1),o.lookAt(new s(0,1,0)),this.add(o);var l=new Ae(90,1,t,e);l.up.set(0,0,-1),l.lookAt(new s(0,-1,0)),this.add(l);var c=new Ae(90,1,t,e);c.up.set(0,-1,0),c.lookAt(new s(0,0,1)),this.add(c);var u=new Ae(90,1,t,e);u.up.set(0,-1,0),u.lookAt(new s(0,0,-1)),this.add(u),i=i||{format:js,magFilter:Ls,minFilter:Ls},this.renderTarget=new d(n,n,i),this.renderTarget.texture.name="CubeCamera",this.update=function(t,e){null===this.parent&&this.updateMatrixWorld();var n=this.renderTarget,i=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,n.activeCubeFace=0,t.render(e,r,n),n.activeCubeFace=1,t.render(e,a,n),n.activeCubeFace=2,t.render(e,o,n),n.activeCubeFace=3,t.render(e,l,n),n.activeCubeFace=4,t.render(e,c,n),n.texture.generateMipmaps=i,n.activeCubeFace=5,t.render(e,u,n),t.setRenderTarget(null)},this.clear=function(t,e,n,i){for(var r=this.renderTarget,a=0;a<6;a++)r.activeCubeFace=a,t.setRenderTarget(r),t.clear(e,n,i);t.setRenderTarget(null)}}function jr(t){this.autoStart=void 0===t||t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}function Wr(){A.call(this),this.type="AudioListener",this.context=Bc.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0}function $r(t){A.call(this),this.type="Audio",this.listener=t,this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.startTime=0,this.offset=0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this.filters=[]}function Yr(t){$r.call(this,t),this.panner=this.context.createPanner(),this.panner.connect(this.gain)}function Xr(t,e){this.analyser=t.context.createAnalyser(),this.analyser.fftSize=void 0!==e?e:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}function qr(t,e,n){this.binding=t,this.valueSize=n;var i,r=Float64Array;switch(e){case"quaternion":i=this._slerp;break;case"string":case"bool":r=Array,i=this._select;break;default:i=this._lerp}this.buffer=new r(4*n),this._mixBufferRegion=i,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}function Zr(t,e,n){var i=n||Jr.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,i)}function Jr(t,e,n){this.path=e,this.parsedPath=n||Jr.parseTrackName(e),this.node=Jr.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t}function Kr(){this.uuid=Wl.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var t={};this._indicesByUUID=t;for(var e=0,n=arguments.length;e!==n;++e)t[arguments[e].uuid]=e;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var i=this;this.stats={objects:{get total(){return i._objects.length},get inUse(){return this.total-i.nCachedObjects_}},get bindingsPerObject(){return i._bindings.length}}}function Qr(t,e,n){this._mixer=t,this._clip=e,this._localRoot=n||null;for(var i=e.tracks,r=i.length,a=new Array(r),o={endingStart:Cl,endingEnd:Cl},s=0;s!==r;++s){var l=i[s].createInterpolant(null);a[s]=l,l.settings=o}this._interpolantSettings=o,this._interpolants=a,this._propertyBindings=new Array(r),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=wl,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function ta(t){this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function ea(t){"string"==typeof t&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),t=arguments[1]),this.value=t}function na(){F.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}function ia(t,e,n){ke.call(this,t,e),this.meshPerAttribute=n||1}function ra(t,e,n,i){"number"==typeof n&&(i=n,n=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),L.call(this,t,e,n),this.meshPerAttribute=i||1}function aa(t,e,n,i){this.ray=new Y(t,e),this.near=n||0,this.far=i||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function oa(t,e){return t.distance-e.distance}function sa(t,e,n,i){if(!1!==t.visible&&(t.raycast(e,n),!0===i))for(var r=t.children,a=0,o=r.length;a<o;a++)sa(r[a],e,n,!0)}function la(t,e,n){return this.radius=void 0!==t?t:1,this.phi=void 0!==e?e:0,this.theta=void 0!==n?n:0,this}function ca(t,e,n){return this.radius=void 0!==t?t:1,this.theta=void 0!==e?e:0,this.y=void 0!==n?n:0,this}function ua(t,e){this.min=void 0!==t?t:new r(1/0,1/0),this.max=void 0!==e?e:new r(-1/0,-1/0)}function ha(t,e){this.start=void 0!==t?t:new s,this.end=void 0!==e?e:new s}function da(t){A.call(this),this.material=t,this.render=function(){}}function pa(t,e,n,i){this.object=t,this.size=void 0!==e?e:1;var r=void 0!==n?n:16711680,a=void 0!==i?i:1,o=0,s=this.object.geometry;s&&s.isGeometry?o=3*s.faces.length:s&&s.isBufferGeometry&&(o=s.attributes.normal.count);var l=new F,c=new N(2*o*3,3);l.addAttribute("position",c),We.call(this,l,new Ue({color:r,linewidth:a})),this.matrixAutoUpdate=!1,this.update()}function fa(t,e){A.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=e;for(var n=new F,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],r=0,a=1;r<32;r++,a++){var o=r/32*Math.PI*2,s=a/32*Math.PI*2;i.push(Math.cos(o),Math.sin(o),1,Math.cos(s),Math.sin(s),1)}n.addAttribute("position",new N(i,3));var l=new Ue({fog:!1});this.cone=new We(n,l),this.add(this.cone),this.update()}function ga(t){var e=[];t&&t.isBone&&e.push(t);for(var n=0;n<t.children.length;n++)e.push.apply(e,ga(t.children[n]));return e}function ma(t){for(var e=ga(t),n=new F,i=[],r=[],a=new _(0,0,1),o=new _(0,1,0),s=0;s<e.length;s++){var l=e[s];l.parent&&l.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),r.push(a.r,a.g,a.b),r.push(o.r,o.g,o.b))}n.addAttribute("position",new N(i,3)),n.addAttribute("color",new N(r,3));var c=new Ue({vertexColors:Lo,depthTest:!1,depthWrite:!1,transparent:!0});We.call(this,n,c),this.root=t,this.bones=e,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1}function va(t,e,n){this.light=t,this.light.updateMatrixWorld(),this.color=n;var i=new ei(e,4,2),r=new q({wireframe:!0,fog:!1});Z.call(this,i,r),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function ya(t,e){A.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=e;var n=new Ue({fog:!1}),i=new F;i.addAttribute("position",new L(new Float32Array(15),3)),this.line=new je(i,n),this.add(this.line),this.update()}function xa(t,e,n){A.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=n;var i=new ln(e);i.rotateY(.5*Math.PI),this.material=new q({wireframe:!0,fog:!1}),void 0===this.color&&(this.material.vertexColors=Lo);var r=i.getAttribute("position"),a=new Float32Array(3*r.count);i.addAttribute("color",new L(a,3)),this.add(new Z(i,this.material)),this.update()}function _a(t,e,n,i){t=t||10,e=e||10,n=new _(void 0!==n?n:4473924),i=new _(void 0!==i?i:8947848);for(var r=e/2,a=t/e,o=t/2,s=[],l=[],c=0,u=0,h=-o;c<=e;c++,h+=a){s.push(-o,0,h,o,0,h),s.push(h,0,-o,h,0,o);var d=c===r?n:i;d.toArray(l,u),u+=3,d.toArray(l,u),u+=3,d.toArray(l,u),u+=3,d.toArray(l,u),u+=3}var p=new F;p.addAttribute("position",new N(s,3)),p.addAttribute("color",new N(l,3));var f=new Ue({vertexColors:Lo});We.call(this,p,f)}function ba(t,e,n,i,r,a){t=t||10,e=e||16,n=n||8,i=i||64,r=new _(void 0!==r?r:4473924),a=new _(void 0!==a?a:8947848);var o,s,l,c,u,h,d,p=[],f=[];for(c=0;c<=e;c++)l=c/e*(2*Math.PI),o=Math.sin(l)*t,s=Math.cos(l)*t,p.push(0,0,0),p.push(o,0,s),d=1&c?r:a,f.push(d.r,d.g,d.b),f.push(d.r,d.g,d.b);for(c=0;c<=n;c++)for(d=1&c?r:a,h=t-t/n*c,u=0;u<i;u++)l=u/i*(2*Math.PI),o=Math.sin(l)*h,s=Math.cos(l)*h,p.push(o,0,s),f.push(d.r,d.g,d.b),l=(u+1)/i*(2*Math.PI),o=Math.sin(l)*h,s=Math.cos(l)*h,p.push(o,0,s),f.push(d.r,d.g,d.b);var g=new F;g.addAttribute("position",new N(p,3)),g.addAttribute("color",new N(f,3));var m=new Ue({vertexColors:Lo});We.call(this,g,m)}function wa(t,e,n,i){this.object=t,this.size=void 0!==e?e:1;var r=void 0!==n?n:16776960,a=void 0!==i?i:1,o=0,s=this.object.geometry;s&&s.isGeometry?o=s.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");var l=new F,c=new N(2*o*3,3);l.addAttribute("position",c),We.call(this,l,new Ue({color:r,linewidth:a})),this.matrixAutoUpdate=!1,this.update()}function Ma(t,e,n){A.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,void 0===e&&(e=1);var i=new F;i.addAttribute("position",new N([-e,e,0,e,e,0,e,-e,0,-e,-e,0,-e,e,0],3));var r=new Ue({fog:!1});this.lightPlane=new je(i,r),this.add(this.lightPlane),i=new F,i.addAttribute("position",new N([0,0,0,0,0,1],3)),this.targetLine=new je(i,r),this.add(this.targetLine),this.update()}function Sa(t){function e(t,e,i){n(t,i),n(e,i)}function n(t,e){a.push(0,0,0),o.push(e.r,e.g,e.b),void 0===s[t]&&(s[t]=[]),s[t].push(a.length/3-1)}var i=new F,r=new Ue({color:16777215,vertexColors:Co}),a=[],o=[],s={},l=new _(16755200),c=new _(16711680),u=new _(43775),h=new _(16777215),d=new _(3355443);e("n1","n2",l),e("n2","n4",l),e("n4","n3",l),e("n3","n1",l),e("f1","f2",l),e("f2","f4",l),e("f4","f3",l),e("f3","f1",l),e("n1","f1",l),e("n2","f2",l),e("n3","f3",l),e("n4","f4",l),e("p","n1",c),e("p","n2",c),e("p","n3",c),e("p","n4",c),e("u1","u2",u),e("u2","u3",u),e("u3","u1",u),e("c","t",h),e("p","c",d),e("cn1","cn2",d),e("cn3","cn4",d),e("cf1","cf2",d),e("cf3","cf4",d),i.addAttribute("position",new N(a,3)),i.addAttribute("color",new N(o,3)),We.call(this,i,r),this.camera=t,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update()}function Ta(t,e){this.object=t,void 0===e&&(e=16776960);var n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(24),r=new F;r.setIndex(new L(n,1)),r.addAttribute("position",new L(i,3)),We.call(this,r,new Ue({color:e})),this.matrixAutoUpdate=!1,this.update()}function Aa(t,e){this.type="Box3Helper",this.box=t;var n=void 0!==e?e:16776960,i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],a=new F;a.setIndex(new L(i,1)),a.addAttribute("position",new N(r,3)),We.call(this,a,new Ue({color:n})),this.geometry.computeBoundingSphere()}function Ca(t,e,n){this.type="PlaneHelper",this.plane=t,this.size=void 0===e?1:e;var i=void 0!==n?n:16776960,r=[1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],a=new F;a.addAttribute("position",new N(r,3)),a.computeBoundingSphere(),je.call(this,a,new Ue({color:i}));var o=[1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],s=new F;s.addAttribute("position",new N(o,3)),s.computeBoundingSphere(),this.add(new Z(s,new q({color:i,opacity:.2,transparent:!0,depthWrite:!1})))}function La(t,e,n,i,r,a){A.call(this),void 0===t&&(t=new THREE.Vector3(0,0,1)),void 0===e&&(e=new THREE.Vector3(0,0,0)),void 0===n&&(n=1),void 0===i&&(i=16776960),void 0===r&&(r=.2*n),void 0===a&&(a=.2*r),void 0===Fc&&(Fc=new F,Fc.addAttribute("position",new N([0,0,0,0,1,0],3)),Gc=new hi(0,.5,1,5,1),Gc.translate(0,-.5,0)),this.position.copy(e),this.line=new je(Fc,new Ue({color:i})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Z(Gc,new q({color:i})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(t),this.setLength(n,r,a)}function Ea(t){t=t||1;var e=[0,0,0,t,0,0,0,0,0,0,t,0,0,0,0,0,0,t],n=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new F;i.addAttribute("position",new N(e,3)),i.addAttribute("color",new N(n,3));var r=new Ue({vertexColors:Lo});We.call(this,i,r)}function Ia(t,e,n,i,r,a,o){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new M(t,e,n,r,a,o)}function Pa(t){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),t}function Da(t){return void 0===t&&(t=[]),console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),t.isMultiMaterial=!0,t.materials=t,t.clone=function(){return t.slice()},t}function Ra(t,e){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new Xe(t,e)}function Oa(t){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new Be(t)}function ka(t,e){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new Xe(t,e)}function Na(t){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new Ye(t)}function za(t){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new Ye(t)}function Ba(t){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new Ye(t)}function Va(t,e,n){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new s(t,e,n)}function Fa(t,e){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead."),new L(t,e).setDynamic(!0)}function Ga(t,e){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new E(t,e)}function Ha(t,e){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new I(t,e)}function Ua(t,e){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new P(t,e)}function ja(t,e){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new D(t,e)}function Wa(t,e){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new R(t,e)}function $a(t,e){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new O(t,e)}function Ya(t,e){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new k(t,e)}function Xa(t,e){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new N(t,e)}function qa(t,e){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new z(t,e)}function Za(t){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),Qi.call(this,t),this.type="catmullrom",this.closed=!0}function Ja(t){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),Qi.call(this,t),this.type="catmullrom"}function Ka(t){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),Qi.call(this,t),this.type="catmullrom"}function Qa(t){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new Ea(t)}function to(t,e){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new Ta(t,e)}function eo(t,e){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new We(new ci(t.geometry),new Ue({color:void 0!==e?e:16777215}))}function no(t,e){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new We(new Qe(t.geometry),new Ue({color:void 0!==e?e:16777215}))}function io(t){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new Hi(t)}function ro(t){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new Wi(t)}function ao(){console.error("THREE.Projector has been moved to /examples/js/renderers/Projector.js."),this.projectVector=function(t,e){console.warn("THREE.Projector: .projectVector() is now vector.project()."),t.project(e)},this.unprojectVector=function(t,e){console.warn("THREE.Projector: .unprojectVector() is now vector.unproject()."),t.unproject(e)},this.pickingRay=function(){console.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")}}function oo(){console.error("THREE.CanvasRenderer has been removed")}function so(){console.error("THREE.JSONLoader has been removed.")}function lo(){console.error("THREE.LensFlare has been moved to /examples/js/objects/Lensflare.js")}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"WebGLRenderTargetCube",function(){return d}),n.d(e,"WebGLRenderTarget",function(){return h}),n.d(e,"WebGLRenderer",function(){return Pe}),n.d(e,"ShaderLib",function(){return Ql}),n.d(e,"UniformsLib",function(){return Kl}),n.d(e,"UniformsUtils",function(){return Zl}),n.d(e,"ShaderChunk",function(){return ql}),n.d(e,"FogExp2",function(){return De}),n.d(e,"Fog",function(){return Re}),n.d(e,"Scene",function(){return Oe}),n.d(e,"Sprite",function(){return Be}),n.d(e,"LOD",function(){return Ve}),n.d(e,"SkinnedMesh",function(){return Fe}),n.d(e,"Skeleton",function(){return Ge}),n.d(e,"Bone",function(){return He}),n.d(e,"Mesh",function(){return Z}),n.d(e,"LineSegments",function(){return We}),n.d(e,"LineLoop",function(){return $e}),n.d(e,"Line",function(){return je}),n.d(e,"Points",function(){return Xe}),n.d(e,"Group",function(){return Se}),n.d(e,"VideoTexture",function(){return qe}),n.d(e,"DataTexture",function(){return p}),n.d(e,"DataTexture3D",function(){return ct}),n.d(e,"CompressedTexture",function(){return Ze}),n.d(e,"CubeTexture",function(){return lt}),n.d(e,"CanvasTexture",function(){return Je}),n.d(e,"DepthTexture",function(){return Ke}),n.d(e,"Texture",function(){return c}),n.d(e,"AnimationLoader",function(){return Ui}),n.d(e,"CompressedTextureLoader",function(){return ji}),n.d(e,"DataTextureLoader",function(){return Wi}),n.d(e,"CubeTextureLoader",function(){return Yi}),n.d(e,"TextureLoader",function(){return Xi}),n.d(e,"ObjectLoader",function(){return Rr}),n.d(e,"MaterialLoader",function(){return Pr}),n.d(e,"BufferGeometryLoader",function(){return Dr}),n.d(e,"DefaultLoadingManager",function(){return Tc}),n.d(e,"LoadingManager",function(){return Gi}),n.d(e,"ImageLoader",function(){return $i}),n.d(e,"ImageBitmapLoader",function(){return Or}),n.d(e,"FontLoader",function(){return Vr}),n.d(e,"FileLoader",function(){return Hi}),n.d(e,"Loader",function(){return Fr}),n.d(e,"LoaderUtils",function(){return Dc}),n.d(e,"Cache",function(){return Sc}),n.d(e,"AudioLoader",function(){return Gr}),n.d(e,"SpotLightShadow",function(){return Mr}),n.d(e,"SpotLight",function(){return Sr}),n.d(e,"PointLight",function(){return Tr}),n.d(e,"RectAreaLight",function(){return Ir}),n.d(e,"HemisphereLight",function(){return br}),n.d(e,"DirectionalLightShadow",function(){return Cr}),n.d(e,"DirectionalLight",function(){return Lr}),n.d(e,"AmbientLight",function(){return Er}),n.d(e,"LightShadow",function(){return wr}),n.d(e,"Light",function(){return _r}),n.d(e,"StereoCamera",function(){return Hr}),n.d(e,"PerspectiveCamera",function(){return Ae}),n.d(e,"OrthographicCamera",function(){return Ar}),n.d(e,"CubeCamera",function(){return Ur}),n.d(e,"ArrayCamera",function(){return Ce}),n.d(e,"Camera",function(){return Te}),n.d(e,"AudioListener",function(){return Wr}),n.d(e,"PositionalAudio",function(){return Yr}),n.d(e,"AudioContext",function(){return Bc}),n.d(e,"AudioAnalyser",function(){return Xr}),n.d(e,"Audio",function(){return $r}),n.d(e,"VectorKeyframeTrack",function(){return zi}),n.d(e,"StringKeyframeTrack",function(){return Ni}),n.d(e,"QuaternionKeyframeTrack",function(){return ki}),n.d(e,"NumberKeyframeTrack",function(){return Ri}),n.d(e,"ColorKeyframeTrack",function(){return Di}),n.d(e,"BooleanKeyframeTrack",function(){return Pi}),n.d(e,"PropertyMixer",function(){return qr}),n.d(e,"PropertyBinding",function(){return Jr}),n.d(e,"KeyframeTrack",function(){return Ii}),n.d(e,"AnimationUtils",function(){return Mc}),n.d(e,"AnimationObjectGroup",function(){return Kr}),n.d(e,"AnimationMixer",function(){return ta}),n.d(e,"AnimationClip",function(){return Bi}),n.d(e,"Uniform",function(){return ea}),n.d(e,"InstancedBufferGeometry",function(){return na}),n.d(e,"BufferGeometry",function(){return F}),n.d(e,"Geometry",function(){return C}),n.d(e,"InterleavedBufferAttribute",function(){return Ne}),n.d(e,"InstancedInterleavedBuffer",function(){return ia}),n.d(e,"InterleavedBuffer",function(){return ke}),n.d(e,"InstancedBufferAttribute",function(){return ra}),n.d(e,"Face3",function(){return M}),n.d(e,"Object3D",function(){return A}),n.d(e,"Raycaster",function(){return aa}),n.d(e,"Layers",function(){return T}),n.d(e,"EventDispatcher",function(){return i}),n.d(e,"Clock",function(){return jr}),n.d(e,"QuaternionLinearInterpolant",function(){return Oi}),n.d(e,"LinearInterpolant",function(){return Li}),n.d(e,"DiscreteInterpolant",function(){return Ei}),n.d(e,"CubicInterpolant",function(){return Ci}),n.d(e,"Interpolant",function(){return Ai}),n.d(e,"Triangle",function(){return X}),n.d(e,"Math",function(){return Wl}),n.d(e,"Spherical",function(){return la}),n.d(e,"Cylindrical",function(){return ca}),n.d(e,"Plane",function(){return m}),n.d(e,"Frustum",function(){return v}),n.d(e,"Sphere",function(){return g}),n.d(e,"Ray",function(){return Y}),n.d(e,"Matrix4",function(){return a}),n.d(e,"Matrix3",function(){return l}),n.d(e,"Box3",function(){return f}),n.d(e,"Box2",function(){return ua}),n.d(e,"Line3",function(){return ha}),n.d(e,"Euler",function(){return S}),n.d(e,"Vector4",function(){return u}),n.d(e,"Vector3",function(){return s}),n.d(e,"Vector2",function(){return r}),n.d(e,"Quaternion",function(){return o}),n.d(e,"Color",function(){return _}),n.d(e,"ImmediateRenderObject",function(){return da}),n.d(e,"VertexNormalsHelper",function(){return pa}),n.d(e,"SpotLightHelper",function(){return fa}),n.d(e,"SkeletonHelper",function(){return ma}),n.d(e,"PointLightHelper",function(){return va}),n.d(e,"RectAreaLightHelper",function(){return ya}),n.d(e,"HemisphereLightHelper",function(){return xa}),n.d(e,"GridHelper",function(){return _a}),n.d(e,"PolarGridHelper",function(){return ba}),n.d(e,"FaceNormalsHelper",function(){return wa}),n.d(e,"DirectionalLightHelper",function(){return Ma}),n.d(e,"CameraHelper",function(){return Sa}),n.d(e,"BoxHelper",function(){return Ta}),n.d(e,"Box3Helper",function(){return Aa}),n.d(e,"PlaneHelper",function(){return Ca}),n.d(e,"ArrowHelper",function(){return La}),n.d(e,"AxesHelper",function(){return Ea}),n.d(e,"Shape",function(){return xr}),n.d(e,"Path",function(){return yr}),n.d(e,"ShapePath",function(){return kr}),n.d(e,"Font",function(){return Nr}),n.d(e,"CurvePath",function(){return vr}),n.d(e,"Curve",function(){return qi}),n.d(e,"ImageUtils",function(){return Yl}),n.d(e,"ShapeUtils",function(){return xc}),n.d(e,"WebGLUtils",function(){return Me}),n.d(e,"WireframeGeometry",function(){return Qe}),n.d(e,"ParametricGeometry",function(){return tn}),n.d(e,"ParametricBufferGeometry",function(){return en}),n.d(e,"TetrahedronGeometry",function(){return an}),n.d(e,"TetrahedronBufferGeometry",function(){return on}),n.d(e,"OctahedronGeometry",function(){return sn}),n.d(e,"OctahedronBufferGeometry",function(){return ln}),n.d(e,"IcosahedronGeometry",function(){return cn}),n.d(e,"IcosahedronBufferGeometry",function(){return un}),n.d(e,"DodecahedronGeometry",function(){return hn}),n.d(e,"DodecahedronBufferGeometry",function(){return dn}),n.d(e,"PolyhedronGeometry",function(){return nn}),n.d(e,"PolyhedronBufferGeometry",function(){return rn}),n.d(e,"TubeGeometry",function(){return pn}),n.d(e,"TubeBufferGeometry",function(){return fn}),n.d(e,"TorusKnotGeometry",function(){return gn}),n.d(e,"TorusKnotBufferGeometry",function(){return mn}),n.d(e,"TorusGeometry",function(){return vn}),n.d(e,"TorusBufferGeometry",function(){return yn}),n.d(e,"TextGeometry",function(){return Kn}),n.d(e,"TextBufferGeometry",function(){return Qn}),n.d(e,"SphereGeometry",function(){return ti}),n.d(e,"SphereBufferGeometry",function(){return ei}),n.d(e,"RingGeometry",function(){return ni}),n.d(e,"RingBufferGeometry",function(){return ii}),n.d(e,"PlaneGeometry",function(){return U}),n.d(e,"PlaneBufferGeometry",function(){return j}),n.d(e,"LatheGeometry",function(){return ri}),n.d(e,"LatheBufferGeometry",function(){return ai}),n.d(e,"ShapeGeometry",function(){return oi}),n.d(e,"ShapeBufferGeometry",function(){return si}),n.d(e,"ExtrudeGeometry",function(){return qn}),n.d(e,"ExtrudeBufferGeometry",function(){return Zn}),n.d(e,"EdgesGeometry",function(){return ci}),n.d(e,"ConeGeometry",function(){return di}),n.d(e,"ConeBufferGeometry",function(){return pi}),n.d(e,"CylinderGeometry",function(){return ui}),n.d(e,"CylinderBufferGeometry",function(){return hi}),n.d(e,"CircleGeometry",function(){return fi}),n.d(e,"CircleBufferGeometry",function(){return gi}),n.d(e,"BoxGeometry",function(){return G}),n.d(e,"BoxBufferGeometry",function(){return H}),n.d(e,"ShadowMaterial",function(){return mi}),n.d(e,"SpriteMaterial",function(){return ze}),n.d(e,"RawShaderMaterial",function(){return vi}),n.d(e,"ShaderMaterial",function(){return $}),n.d(e,"PointsMaterial",function(){return Ye}),n.d(e,"MeshPhysicalMaterial",function(){return xi}),n.d(e,"MeshStandardMaterial",function(){return yi}),n.d(e,"MeshPhongMaterial",function(){return _i}),n.d(e,"MeshToonMaterial",function(){return bi}),n.d(e,"MeshNormalMaterial",function(){return wi}),n.d(e,"MeshLambertMaterial",function(){return Mi}),n.d(e,"MeshDepthMaterial",function(){return ye});n.d(e,"MeshDistanceMaterial",function(){return xe}),n.d(e,"MeshBasicMaterial",function(){return q}),n.d(e,"MeshMatcapMaterial",function(){return Si}),n.d(e,"LineDashedMaterial",function(){return Ti}),n.d(e,"LineBasicMaterial",function(){return Ue}),n.d(e,"Material",function(){return W}),n.d(e,"Float64BufferAttribute",function(){return z}),n.d(e,"Float32BufferAttribute",function(){return N}),n.d(e,"Uint32BufferAttribute",function(){return k}),n.d(e,"Int32BufferAttribute",function(){return O}),n.d(e,"Uint16BufferAttribute",function(){return R}),n.d(e,"Int16BufferAttribute",function(){return D}),n.d(e,"Uint8ClampedBufferAttribute",function(){return P}),n.d(e,"Uint8BufferAttribute",function(){return I}),n.d(e,"Int8BufferAttribute",function(){return E}),n.d(e,"BufferAttribute",function(){return L}),n.d(e,"ArcCurve",function(){return Ji}),n.d(e,"CatmullRomCurve3",function(){return Qi}),n.d(e,"CubicBezierCurve",function(){return ur}),n.d(e,"CubicBezierCurve3",function(){return hr}),n.d(e,"EllipseCurve",function(){return Zi}),n.d(e,"LineCurve",function(){return dr}),n.d(e,"LineCurve3",function(){return pr}),n.d(e,"QuadraticBezierCurve",function(){return fr}),n.d(e,"QuadraticBezierCurve3",function(){return gr}),n.d(e,"SplineCurve",function(){return mr}),n.d(e,"REVISION",function(){return co}),n.d(e,"MOUSE",function(){return uo}),n.d(e,"CullFaceNone",function(){return ho}),n.d(e,"CullFaceBack",function(){return po}),n.d(e,"CullFaceFront",function(){return fo}),n.d(e,"CullFaceFrontBack",function(){return go}),n.d(e,"FrontFaceDirectionCW",function(){return mo}),n.d(e,"FrontFaceDirectionCCW",function(){return vo}),n.d(e,"BasicShadowMap",function(){return yo}),n.d(e,"PCFShadowMap",function(){return xo}),n.d(e,"PCFSoftShadowMap",function(){return _o}),n.d(e,"FrontSide",function(){return bo}),n.d(e,"BackSide",function(){return wo}),n.d(e,"DoubleSide",function(){return Mo}),n.d(e,"FlatShading",function(){return So}),n.d(e,"SmoothShading",function(){return To}),n.d(e,"NoColors",function(){return Ao}),n.d(e,"FaceColors",function(){return Co}),n.d(e,"VertexColors",function(){return Lo}),n.d(e,"NoBlending",function(){return Eo}),n.d(e,"NormalBlending",function(){return Io}),n.d(e,"AdditiveBlending",function(){return Po}),n.d(e,"SubtractiveBlending",function(){return Do}),n.d(e,"MultiplyBlending",function(){return Ro}),n.d(e,"CustomBlending",function(){return Oo}),n.d(e,"AddEquation",function(){return ko}),n.d(e,"SubtractEquation",function(){return No}),n.d(e,"ReverseSubtractEquation",function(){return zo}),n.d(e,"MinEquation",function(){return Bo}),n.d(e,"MaxEquation",function(){return Vo}),n.d(e,"ZeroFactor",function(){return Fo}),n.d(e,"OneFactor",function(){return Go}),n.d(e,"SrcColorFactor",function(){return Ho}),n.d(e,"OneMinusSrcColorFactor",function(){return Uo}),n.d(e,"SrcAlphaFactor",function(){return jo}),n.d(e,"OneMinusSrcAlphaFactor",function(){return Wo}),n.d(e,"DstAlphaFactor",function(){return $o}),n.d(e,"OneMinusDstAlphaFactor",function(){return Yo}),n.d(e,"DstColorFactor",function(){return Xo}),n.d(e,"OneMinusDstColorFactor",function(){return qo}),n.d(e,"SrcAlphaSaturateFactor",function(){return Zo}),n.d(e,"NeverDepth",function(){return Jo}),n.d(e,"AlwaysDepth",function(){return Ko}),n.d(e,"LessDepth",function(){return Qo}),n.d(e,"LessEqualDepth",function(){return ts}),n.d(e,"EqualDepth",function(){return es}),n.d(e,"GreaterEqualDepth",function(){return ns}),n.d(e,"GreaterDepth",function(){return is}),n.d(e,"NotEqualDepth",function(){return rs}),n.d(e,"MultiplyOperation",function(){return as}),n.d(e,"MixOperation",function(){return os}),n.d(e,"AddOperation",function(){return ss}),n.d(e,"NoToneMapping",function(){return ls}),n.d(e,"LinearToneMapping",function(){return cs}),n.d(e,"ReinhardToneMapping",function(){return us}),n.d(e,"Uncharted2ToneMapping",function(){return hs}),n.d(e,"CineonToneMapping",function(){return ds}),n.d(e,"ACESFilmicToneMapping",function(){return ps}),n.d(e,"UVMapping",function(){return fs}),n.d(e,"CubeReflectionMapping",function(){return gs}),n.d(e,"CubeRefractionMapping",function(){return ms}),n.d(e,"EquirectangularReflectionMapping",function(){return vs}),n.d(e,"EquirectangularRefractionMapping",function(){return ys}),n.d(e,"SphericalReflectionMapping",function(){return xs}),n.d(e,"CubeUVReflectionMapping",function(){return _s}),n.d(e,"CubeUVRefractionMapping",function(){return bs}),n.d(e,"RepeatWrapping",function(){return ws}),n.d(e,"ClampToEdgeWrapping",function(){return Ms}),n.d(e,"MirroredRepeatWrapping",function(){return Ss}),n.d(e,"NearestFilter",function(){return Ts}),n.d(e,"NearestMipMapNearestFilter",function(){return As}),n.d(e,"NearestMipMapLinearFilter",function(){return Cs}),n.d(e,"LinearFilter",function(){return Ls}),n.d(e,"LinearMipMapNearestFilter",function(){return Es}),n.d(e,"LinearMipMapLinearFilter",function(){return Is}),n.d(e,"UnsignedByteType",function(){return Ps}),n.d(e,"ByteType",function(){return Ds}),n.d(e,"ShortType",function(){return Rs}),n.d(e,"UnsignedShortType",function(){return Os}),n.d(e,"IntType",function(){return ks}),n.d(e,"UnsignedIntType",function(){return Ns}),n.d(e,"FloatType",function(){return zs}),n.d(e,"HalfFloatType",function(){return Bs}),n.d(e,"UnsignedShort4444Type",function(){return Vs}),n.d(e,"UnsignedShort5551Type",function(){return Fs}),n.d(e,"UnsignedShort565Type",function(){return Gs}),n.d(e,"UnsignedInt248Type",function(){return Hs}),n.d(e,"AlphaFormat",function(){return Us}),n.d(e,"RGBFormat",function(){return js}),n.d(e,"RGBAFormat",function(){return Ws}),n.d(e,"LuminanceFormat",function(){return $s}),n.d(e,"LuminanceAlphaFormat",function(){return Ys}),n.d(e,"RGBEFormat",function(){return Xs}),n.d(e,"DepthFormat",function(){return qs}),n.d(e,"DepthStencilFormat",function(){return Zs}),n.d(e,"RedFormat",function(){return Js}),n.d(e,"RGB_S3TC_DXT1_Format",function(){return Ks}),n.d(e,"RGBA_S3TC_DXT1_Format",function(){return Qs}),n.d(e,"RGBA_S3TC_DXT3_Format",function(){return tl}),n.d(e,"RGBA_S3TC_DXT5_Format",function(){return el}),n.d(e,"RGB_PVRTC_4BPPV1_Format",function(){return nl}),n.d(e,"RGB_PVRTC_2BPPV1_Format",function(){return il}),n.d(e,"RGBA_PVRTC_4BPPV1_Format",function(){return rl}),n.d(e,"RGBA_PVRTC_2BPPV1_Format",function(){return al}),n.d(e,"RGB_ETC1_Format",function(){return ol}),n.d(e,"RGBA_ASTC_4x4_Format",function(){return sl}),n.d(e,"RGBA_ASTC_5x4_Format",function(){return ll}),n.d(e,"RGBA_ASTC_5x5_Format",function(){return cl}),n.d(e,"RGBA_ASTC_6x5_Format",function(){return ul}),n.d(e,"RGBA_ASTC_6x6_Format",function(){return hl}),n.d(e,"RGBA_ASTC_8x5_Format",function(){return dl}),n.d(e,"RGBA_ASTC_8x6_Format",function(){return pl}),n.d(e,"RGBA_ASTC_8x8_Format",function(){return fl}),n.d(e,"RGBA_ASTC_10x5_Format",function(){return gl}),n.d(e,"RGBA_ASTC_10x6_Format",function(){return ml}),n.d(e,"RGBA_ASTC_10x8_Format",function(){return vl}),n.d(e,"RGBA_ASTC_10x10_Format",function(){return yl}),n.d(e,"RGBA_ASTC_12x10_Format",function(){return xl}),n.d(e,"RGBA_ASTC_12x12_Format",function(){return _l}),n.d(e,"LoopOnce",function(){return bl}),n.d(e,"LoopRepeat",function(){return wl}),n.d(e,"LoopPingPong",function(){return Ml}),n.d(e,"InterpolateDiscrete",function(){return Sl}),n.d(e,"InterpolateLinear",function(){return Tl}),n.d(e,"InterpolateSmooth",function(){return Al}),n.d(e,"ZeroCurvatureEnding",function(){return Cl}),n.d(e,"ZeroSlopeEnding",function(){return Ll}),n.d(e,"WrapAroundEnding",function(){return El}),n.d(e,"TrianglesDrawMode",function(){return Il}),n.d(e,"TriangleStripDrawMode",function(){return Pl}),n.d(e,"TriangleFanDrawMode",function(){return Dl}),n.d(e,"LinearEncoding",function(){return Rl}),n.d(e,"sRGBEncoding",function(){return Ol}),n.d(e,"GammaEncoding",function(){return kl}),n.d(e,"RGBEEncoding",function(){return Nl}),n.d(e,"LogLuvEncoding",function(){return zl}),n.d(e,"RGBM7Encoding",function(){return Bl}),n.d(e,"RGBM16Encoding",function(){return Vl}),n.d(e,"RGBDEncoding",function(){return Fl}),n.d(e,"BasicDepthPacking",function(){return Gl}),n.d(e,"RGBADepthPacking",function(){return Hl}),n.d(e,"TangentSpaceNormalMap",function(){return Ul}),n.d(e,"ObjectSpaceNormalMap",function(){return jl}),n.d(e,"CubeGeometry",function(){return G}),n.d(e,"Face4",function(){return Ia}),n.d(e,"LineStrip",function(){return Hc}),n.d(e,"LinePieces",function(){return Uc}),n.d(e,"MeshFaceMaterial",function(){return Pa}),n.d(e,"MultiMaterial",function(){return Da}),n.d(e,"PointCloud",function(){return Ra}),n.d(e,"Particle",function(){return Oa}),n.d(e,"ParticleSystem",function(){return ka}),n.d(e,"PointCloudMaterial",function(){return Na}),n.d(e,"ParticleBasicMaterial",function(){return za}),n.d(e,"ParticleSystemMaterial",function(){return Ba}),n.d(e,"Vertex",function(){return Va}),n.d(e,"DynamicBufferAttribute",function(){return Fa}),n.d(e,"Int8Attribute",function(){return Ga}),n.d(e,"Uint8Attribute",function(){return Ha}),n.d(e,"Uint8ClampedAttribute",function(){return Ua}),n.d(e,"Int16Attribute",function(){return ja}),n.d(e,"Uint16Attribute",function(){return Wa}),n.d(e,"Int32Attribute",function(){return $a}),n.d(e,"Uint32Attribute",function(){return Ya}),n.d(e,"Float32Attribute",function(){return Xa}),n.d(e,"Float64Attribute",function(){return qa}),n.d(e,"ClosedSplineCurve3",function(){return Za}),n.d(e,"SplineCurve3",function(){return Ja}),n.d(e,"Spline",function(){return Ka}),n.d(e,"AxisHelper",function(){return Qa}),n.d(e,"BoundingBoxHelper",function(){return to}),n.d(e,"EdgesHelper",function(){return eo}),n.d(e,"WireframeHelper",function(){return no}),n.d(e,"XHRLoader",function(){return io});n.d(e,"BinaryTextureLoader",function(){return ro}),n.d(e,"GeometryUtils",function(){return jc}),n.d(e,"Projector",function(){return ao}),n.d(e,"CanvasRenderer",function(){return oo}),n.d(e,"JSONLoader",function(){return so}),n.d(e,"SceneUtils",function(){return Wc}),n.d(e,"LensFlare",function(){return lo}),void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Number.isInteger&&(Number.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}),void 0===Math.sign&&(Math.sign=function(t){return t<0?-1:t>0?1:+t}),"name"in Function.prototype==!1&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===Object.assign&&function(){Object.assign=function(t){if(void 0===t||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(void 0!==i&&null!==i)for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}}(),Object.assign(i.prototype,{addEventListener:function(t,e){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[t]&&(n[t]=[]),-1===n[t].indexOf(e)&&n[t].push(e)},hasEventListener:function(t,e){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[t]&&-1!==n[t].indexOf(e)},removeEventListener:function(t,e){if(void 0!==this._listeners){var n=this._listeners,i=n[t];if(void 0!==i){var r=i.indexOf(e);-1!==r&&i.splice(r,1)}}},dispatchEvent:function(t){if(void 0!==this._listeners){var e=this._listeners,n=e[t.type];if(void 0!==n){t.target=this;for(var i=n.slice(0),r=0,a=i.length;r<a;r++)i[r].call(this,t)}}}});var co="99",uo={LEFT:0,MIDDLE:1,RIGHT:2},ho=0,po=1,fo=2,go=3,mo=0,vo=1,yo=0,xo=1,_o=2,bo=0,wo=1,Mo=2,So=1,To=2,Ao=0,Co=1,Lo=2,Eo=0,Io=1,Po=2,Do=3,Ro=4,Oo=5,ko=100,No=101,zo=102,Bo=103,Vo=104,Fo=200,Go=201,Ho=202,Uo=203,jo=204,Wo=205,$o=206,Yo=207,Xo=208,qo=209,Zo=210,Jo=0,Ko=1,Qo=2,ts=3,es=4,ns=5,is=6,rs=7,as=0,os=1,ss=2,ls=0,cs=1,us=2,hs=3,ds=4,ps=5,fs=300,gs=301,ms=302,vs=303,ys=304,xs=305,_s=306,bs=307,ws=1e3,Ms=1001,Ss=1002,Ts=1003,As=1004,Cs=1005,Ls=1006,Es=1007,Is=1008,Ps=1009,Ds=1010,Rs=1011,Os=1012,ks=1013,Ns=1014,zs=1015,Bs=1016,Vs=1017,Fs=1018,Gs=1019,Hs=1020,Us=1021,js=1022,Ws=1023,$s=1024,Ys=1025,Xs=Ws,qs=1026,Zs=1027,Js=1028,Ks=33776,Qs=33777,tl=33778,el=33779,nl=35840,il=35841,rl=35842,al=35843,ol=36196,sl=37808,ll=37809,cl=37810,ul=37811,hl=37812,dl=37813,pl=37814,fl=37815,gl=37816,ml=37817,vl=37818,yl=37819,xl=37820,_l=37821,bl=2200,wl=2201,Ml=2202,Sl=2300,Tl=2301,Al=2302,Cl=2400,Ll=2401,El=2402,Il=0,Pl=1,Dl=2,Rl=3e3,Ol=3001,kl=3007,Nl=3002,zl=3003,Bl=3004,Vl=3005,Fl=3006,Gl=3200,Hl=3201,Ul=0,jl=1,Wl={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){for(var t=[],e=0;e<256;e++)t[e]=(e<16?"0":"")+e.toString(16);return function(){var e=4294967295*Math.random()|0,n=4294967295*Math.random()|0,i=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(t[255&e]+t[e>>8&255]+t[e>>16&255]+t[e>>24&255]+"-"+t[255&n]+t[n>>8&255]+"-"+t[n>>16&15|64]+t[n>>24&255]+"-"+t[63&i|128]+t[i>>8&255]+"-"+t[i>>16&255]+t[i>>24&255]+t[255&r]+t[r>>8&255]+t[r>>16&255]+t[r>>24&255]).toUpperCase()}}(),clamp:function(t,e,n){return Math.max(e,Math.min(n,t))},euclideanModulo:function(t,e){return(t%e+e)%e},mapLinear:function(t,e,n,i,r){return i+(t-e)*(r-i)/(n-e)},lerp:function(t,e,n){return(1-n)*t+n*e},smoothstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*(3-2*t)},smootherstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*t*(t*(6*t-15)+10)},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},degToRad:function(t){return t*Wl.DEG2RAD},radToDeg:function(t){return t*Wl.RAD2DEG},isPowerOfTwo:function(t){return 0==(t&t-1)&&0!==t},ceilPowerOfTwo:function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},floorPowerOfTwo:function(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}};Object.defineProperties(r.prototype,{width:{get:function(){return this.x},set:function(t){this.x=t}},height:{get:function(){return this.y},set:function(t){this.y=t}}}),Object.assign(r.prototype,{isVector2:!0,set:function(t,e){return this.x=t,this.y=e,this},setScalar:function(t){return this.x=t,this.y=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(t){return this.x=t.x,this.y=t.y,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this)},addScalar:function(t){return this.x+=t,this.y+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this)},subScalar:function(t){return this.x-=t,this.y-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this},divide:function(t){return this.x/=t.x,this.y/=t.y,this},divideScalar:function(t){return this.multiplyScalar(1/t)},applyMatrix3:function(t){var e=this.x,n=this.y,i=t.elements;return this.x=i[0]*e+i[3]*n+i[6],this.y=i[1]*e+i[4]*n+i[7],this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this},clampScalar:function(){var t=new r,e=new r;return function(n,i){return t.set(n,n),e.set(i,i),this.clamp(t,e)}}(),clampLength:function(t,e){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(t){return this.x*t.x+this.y*t.y},cross:function(t){return this.x*t.y-this.y*t.x},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var t=Math.atan2(this.y,this.x);return t<0&&(t+=2*Math.PI),t},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,n=this.y-t.y;return e*e+n*n},manhattanDistanceTo:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t},fromBufferAttribute:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this},rotateAround:function(t,e){var n=Math.cos(e),i=Math.sin(e),r=this.x-t.x,a=this.y-t.y;return this.x=r*n-a*i+t.x,this.y=r*i+a*n+t.y,this}}),Object.assign(a.prototype,{isMatrix4:!0,set:function(t,e,n,i,r,a,o,s,l,c,u,h,d,p,f,g){var m=this.elements;return m[0]=t,m[4]=e,m[8]=n,m[12]=i,m[1]=r,m[5]=a,m[9]=o,m[13]=s,m[2]=l,m[6]=c,m[10]=u,m[14]=h,m[3]=d,m[7]=p,m[11]=f,m[15]=g,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new a).fromArray(this.elements)},copy:function(t){var e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],this},copyPosition:function(t){var e=this.elements,n=t.elements;return e[12]=n[12],e[13]=n[13],e[14]=n[14],this},extractBasis:function(t,e,n){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this},makeBasis:function(t,e,n){return this.set(t.x,e.x,n.x,0,t.y,e.y,n.y,0,t.z,e.z,n.z,0,0,0,0,1),this},extractRotation:function(){var t=new s;return function(e){var n=this.elements,i=e.elements,r=1/t.setFromMatrixColumn(e,0).length(),a=1/t.setFromMatrixColumn(e,1).length(),o=1/t.setFromMatrixColumn(e,2).length();return n[0]=i[0]*r,n[1]=i[1]*r,n[2]=i[2]*r,n[3]=0,n[4]=i[4]*a,n[5]=i[5]*a,n[6]=i[6]*a,n[7]=0,n[8]=i[8]*o,n[9]=i[9]*o,n[10]=i[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}}(),makeRotationFromEuler:function(t){t&&t.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var e=this.elements,n=t.x,i=t.y,r=t.z,a=Math.cos(n),o=Math.sin(n),s=Math.cos(i),l=Math.sin(i),c=Math.cos(r),u=Math.sin(r);if("XYZ"===t.order){var h=a*c,d=a*u,p=o*c,f=o*u;e[0]=s*c,e[4]=-s*u,e[8]=l,e[1]=d+p*l,e[5]=h-f*l,e[9]=-o*s,e[2]=f-h*l,e[6]=p+d*l,e[10]=a*s}else if("YXZ"===t.order){var g=s*c,m=s*u,v=l*c,y=l*u;e[0]=g+y*o,e[4]=v*o-m,e[8]=a*l,e[1]=a*u,e[5]=a*c,e[9]=-o,e[2]=m*o-v,e[6]=y+g*o,e[10]=a*s}else if("ZXY"===t.order){var g=s*c,m=s*u,v=l*c,y=l*u;e[0]=g-y*o,e[4]=-a*u,e[8]=v+m*o,e[1]=m+v*o,e[5]=a*c,e[9]=y-g*o,e[2]=-a*l,e[6]=o,e[10]=a*s}else if("ZYX"===t.order){var h=a*c,d=a*u,p=o*c,f=o*u;e[0]=s*c,e[4]=p*l-d,e[8]=h*l+f,e[1]=s*u,e[5]=f*l+h,e[9]=d*l-p,e[2]=-l,e[6]=o*s,e[10]=a*s}else if("YZX"===t.order){var x=a*s,_=a*l,b=o*s,w=o*l;e[0]=s*c,e[4]=w-x*u,e[8]=b*u+_,e[1]=u,e[5]=a*c,e[9]=-o*c,e[2]=-l*c,e[6]=_*u+b,e[10]=x-w*u}else if("XZY"===t.order){var x=a*s,_=a*l,b=o*s,w=o*l;e[0]=s*c,e[4]=-u,e[8]=l*c,e[1]=x*u+w,e[5]=a*c,e[9]=_*u-b,e[2]=b*u-_,e[6]=o*c,e[10]=w*u+x}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},makeRotationFromQuaternion:function(){var t=new s(0,0,0),e=new s(1,1,1);return function(n){return this.compose(t,n,e)}}(),lookAt:function(){var t=new s,e=new s,n=new s;return function(i,r,a){var o=this.elements;return n.subVectors(i,r),0===n.lengthSq()&&(n.z=1),n.normalize(),t.crossVectors(a,n),0===t.lengthSq()&&(1===Math.abs(a.z)?n.x+=1e-4:n.z+=1e-4,n.normalize(),t.crossVectors(a,n)),t.normalize(),e.crossVectors(n,t),o[0]=t.x,o[4]=e.x,o[8]=n.x,o[1]=t.y,o[5]=e.y,o[9]=n.y,o[2]=t.z,o[6]=e.z,o[10]=n.z,this}}(),multiply:function(t,e){return void 0!==e?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){var n=t.elements,i=e.elements,r=this.elements,a=n[0],o=n[4],s=n[8],l=n[12],c=n[1],u=n[5],h=n[9],d=n[13],p=n[2],f=n[6],g=n[10],m=n[14],v=n[3],y=n[7],x=n[11],_=n[15],b=i[0],w=i[4],M=i[8],S=i[12],T=i[1],A=i[5],C=i[9],L=i[13],E=i[2],I=i[6],P=i[10],D=i[14],R=i[3],O=i[7],k=i[11],N=i[15];return r[0]=a*b+o*T+s*E+l*R,r[4]=a*w+o*A+s*I+l*O,r[8]=a*M+o*C+s*P+l*k,r[12]=a*S+o*L+s*D+l*N,r[1]=c*b+u*T+h*E+d*R,r[5]=c*w+u*A+h*I+d*O,r[9]=c*M+u*C+h*P+d*k,r[13]=c*S+u*L+h*D+d*N,r[2]=p*b+f*T+g*E+m*R,r[6]=p*w+f*A+g*I+m*O,r[10]=p*M+f*C+g*P+m*k,r[14]=p*S+f*L+g*D+m*N,r[3]=v*b+y*T+x*E+_*R,r[7]=v*w+y*A+x*I+_*O,r[11]=v*M+y*C+x*P+_*k,r[15]=v*S+y*L+x*D+_*N,this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this},applyToBufferAttribute:function(){var t=new s;return function(e){for(var n=0,i=e.count;n<i;n++)t.x=e.getX(n),t.y=e.getY(n),t.z=e.getZ(n),t.applyMatrix4(this),e.setXYZ(n,t.x,t.y,t.z);return e}}(),determinant:function(){var t=this.elements,e=t[0],n=t[4],i=t[8],r=t[12],a=t[1],o=t[5],s=t[9],l=t[13],c=t[2],u=t[6],h=t[10],d=t[14];return t[3]*(+r*s*u-i*l*u-r*o*h+n*l*h+i*o*d-n*s*d)+t[7]*(+e*s*d-e*l*h+r*a*h-i*a*d+i*l*c-r*s*c)+t[11]*(+e*l*u-e*o*d-r*a*u+n*a*d+r*o*c-n*l*c)+t[15]*(-i*o*c-e*s*u+e*o*h+i*a*u-n*a*h+n*s*c)},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this},setPosition:function(t){var e=this.elements;return e[12]=t.x,e[13]=t.y,e[14]=t.z,this},getInverse:function(t,e){var n=this.elements,i=t.elements,r=i[0],a=i[1],o=i[2],s=i[3],l=i[4],c=i[5],u=i[6],h=i[7],d=i[8],p=i[9],f=i[10],g=i[11],m=i[12],v=i[13],y=i[14],x=i[15],_=p*y*h-v*f*h+v*u*g-c*y*g-p*u*x+c*f*x,b=m*f*h-d*y*h-m*u*g+l*y*g+d*u*x-l*f*x,w=d*v*h-m*p*h+m*c*g-l*v*g-d*c*x+l*p*x,M=m*p*u-d*v*u-m*c*f+l*v*f+d*c*y-l*p*y,S=r*_+a*b+o*w+s*M;if(0===S){var T="THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0";if(!0===e)throw new Error(T);return console.warn(T),this.identity()}var A=1/S;return n[0]=_*A,n[1]=(v*f*s-p*y*s-v*o*g+a*y*g+p*o*x-a*f*x)*A,n[2]=(c*y*s-v*u*s+v*o*h-a*y*h-c*o*x+a*u*x)*A,n[3]=(p*u*s-c*f*s-p*o*h+a*f*h+c*o*g-a*u*g)*A,n[4]=b*A,n[5]=(d*y*s-m*f*s+m*o*g-r*y*g-d*o*x+r*f*x)*A,n[6]=(m*u*s-l*y*s-m*o*h+r*y*h+l*o*x-r*u*x)*A,n[7]=(l*f*s-d*u*s+d*o*h-r*f*h-l*o*g+r*u*g)*A,n[8]=w*A,n[9]=(m*p*s-d*v*s-m*a*g+r*v*g+d*a*x-r*p*x)*A,n[10]=(l*v*s-m*c*s+m*a*h-r*v*h-l*a*x+r*c*x)*A,n[11]=(d*c*s-l*p*s-d*a*h+r*p*h+l*a*g-r*c*g)*A,n[12]=M*A,n[13]=(d*v*o-m*p*o+m*a*f-r*v*f-d*a*y+r*p*y)*A,n[14]=(m*c*o-l*v*o-m*a*u+r*v*u+l*a*y-r*c*y)*A,n[15]=(l*p*o-d*c*o+d*a*u-r*p*u-l*a*f+r*c*f)*A,this},scale:function(t){var e=this.elements,n=t.x,i=t.y,r=t.z;return e[0]*=n,e[4]*=i,e[8]*=r,e[1]*=n,e[5]*=i,e[9]*=r,e[2]*=n,e[6]*=i,e[10]*=r,e[3]*=n,e[7]*=i,e[11]*=r,this},getMaxScaleOnAxis:function(){var t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],n=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],i=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,n,i))},makeTranslation:function(t,e,n){return this.set(1,0,0,t,0,1,0,e,0,0,1,n,0,0,0,1),this},makeRotationX:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(1,0,0,0,0,e,-n,0,0,n,e,0,0,0,0,1),this},makeRotationY:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(e,0,n,0,0,1,0,0,-n,0,e,0,0,0,0,1),this},makeRotationZ:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,0,n,e,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(t,e){var n=Math.cos(e),i=Math.sin(e),r=1-n,a=t.x,o=t.y,s=t.z,l=r*a,c=r*o;return this.set(l*a+n,l*o-i*s,l*s+i*o,0,l*o+i*s,c*o+n,c*s-i*a,0,l*s-i*o,c*s+i*a,r*s*s+n,0,0,0,0,1),this},makeScale:function(t,e,n){return this.set(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1),this},makeShear:function(t,e,n){return this.set(1,e,n,0,t,1,n,0,t,e,1,0,0,0,0,1),this},compose:function(t,e,n){var i=this.elements,r=e._x,a=e._y,o=e._z,s=e._w,l=r+r,c=a+a,u=o+o,h=r*l,d=r*c,p=r*u,f=a*c,g=a*u,m=o*u,v=s*l,y=s*c,x=s*u,_=n.x,b=n.y,w=n.z;return i[0]=(1-(f+m))*_,i[1]=(d+x)*_,i[2]=(p-y)*_,i[3]=0,i[4]=(d-x)*b,i[5]=(1-(h+m))*b,i[6]=(g+v)*b,i[7]=0,i[8]=(p+y)*w,i[9]=(g-v)*w,i[10]=(1-(h+f))*w,i[11]=0,i[12]=t.x,i[13]=t.y,i[14]=t.z,i[15]=1,this},decompose:function(){var t=new s,e=new a;return function(n,i,r){var a=this.elements,o=t.set(a[0],a[1],a[2]).length(),s=t.set(a[4],a[5],a[6]).length(),l=t.set(a[8],a[9],a[10]).length();this.determinant()<0&&(o=-o),n.x=a[12],n.y=a[13],n.z=a[14],e.copy(this);var c=1/o,u=1/s,h=1/l;return e.elements[0]*=c,e.elements[1]*=c,e.elements[2]*=c,e.elements[4]*=u,e.elements[5]*=u,e.elements[6]*=u,e.elements[8]*=h,e.elements[9]*=h,e.elements[10]*=h,i.setFromRotationMatrix(e),r.x=o,r.y=s,r.z=l,this}}(),makePerspective:function(t,e,n,i,r,a){void 0===a&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var o=this.elements,s=2*r/(e-t),l=2*r/(n-i),c=(e+t)/(e-t),u=(n+i)/(n-i),h=-(a+r)/(a-r),d=-2*a*r/(a-r);return o[0]=s,o[4]=0,o[8]=c,o[12]=0,o[1]=0,o[5]=l,o[9]=u,o[13]=0,o[2]=0,o[6]=0,o[10]=h,o[14]=d,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this},makeOrthographic:function(t,e,n,i,r,a){var o=this.elements,s=1/(e-t),l=1/(n-i),c=1/(a-r),u=(e+t)*s,h=(n+i)*l,d=(a+r)*c;return o[0]=2*s,o[4]=0,o[8]=0,o[12]=-u,o[1]=0,o[5]=2*l,o[9]=0,o[13]=-h,o[2]=0,o[6]=0,o[10]=-2*c,o[14]=-d,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this},equals:function(t){for(var e=this.elements,n=t.elements,i=0;i<16;i++)if(e[i]!==n[i])return!1;return!0},fromArray:function(t,e){void 0===e&&(e=0);for(var n=0;n<16;n++)this.elements[n]=t[n+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t[e+9]=n[9],t[e+10]=n[10],t[e+11]=n[11],t[e+12]=n[12],t[e+13]=n[13],t[e+14]=n[14],t[e+15]=n[15],t}}),Object.assign(o,{slerp:function(t,e,n,i){return n.copy(t).slerp(e,i)},slerpFlat:function(t,e,n,i,r,a,o){var s=n[i+0],l=n[i+1],c=n[i+2],u=n[i+3],h=r[a+0],d=r[a+1],p=r[a+2],f=r[a+3];if(u!==f||s!==h||l!==d||c!==p){var g=1-o,m=s*h+l*d+c*p+u*f,v=m>=0?1:-1,y=1-m*m;if(y>Number.EPSILON){var x=Math.sqrt(y),_=Math.atan2(x,m*v);g=Math.sin(g*_)/x,o=Math.sin(o*_)/x}var b=o*v;if(s=s*g+h*b,l=l*g+d*b,c=c*g+p*b,u=u*g+f*b,g===1-o){var w=1/Math.sqrt(s*s+l*l+c*c+u*u);s*=w,l*=w,c*=w,u*=w}}t[e]=s,t[e+1]=l,t[e+2]=c,t[e+3]=u}}),Object.defineProperties(o.prototype,{x:{get:function(){return this._x},set:function(t){this._x=t,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(t){this._y=t,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(t){this._z=t,this.onChangeCallback()}},w:{get:function(){return this._w},set:function(t){this._w=t,this.onChangeCallback()}}}),Object.assign(o.prototype,{isQuaternion:!0,set:function(t,e,n,i){return this._x=t,this._y=e,this._z=n,this._w=i,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this.onChangeCallback(),this},setFromEuler:function(t,e){if(!t||!t.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=t._x,i=t._y,r=t._z,a=t.order,o=Math.cos,s=Math.sin,l=o(n/2),c=o(i/2),u=o(r/2),h=s(n/2),d=s(i/2),p=s(r/2);return"XYZ"===a?(this._x=h*c*u+l*d*p,this._y=l*d*u-h*c*p,this._z=l*c*p+h*d*u,this._w=l*c*u-h*d*p):"YXZ"===a?(this._x=h*c*u+l*d*p,this._y=l*d*u-h*c*p,this._z=l*c*p-h*d*u,this._w=l*c*u+h*d*p):"ZXY"===a?(this._x=h*c*u-l*d*p,this._y=l*d*u+h*c*p,this._z=l*c*p+h*d*u,this._w=l*c*u-h*d*p):"ZYX"===a?(this._x=h*c*u-l*d*p,this._y=l*d*u+h*c*p,this._z=l*c*p-h*d*u,this._w=l*c*u+h*d*p):"YZX"===a?(this._x=h*c*u+l*d*p,this._y=l*d*u+h*c*p,this._z=l*c*p-h*d*u,this._w=l*c*u-h*d*p):"XZY"===a&&(this._x=h*c*u-l*d*p,this._y=l*d*u-h*c*p,this._z=l*c*p+h*d*u,this._w=l*c*u+h*d*p),!1!==e&&this.onChangeCallback(),this},setFromAxisAngle:function(t,e){var n=e/2,i=Math.sin(n);return this._x=t.x*i,this._y=t.y*i,this._z=t.z*i,this._w=Math.cos(n),this.onChangeCallback(),this},setFromRotationMatrix:function(t){var e,n=t.elements,i=n[0],r=n[4],a=n[8],o=n[1],s=n[5],l=n[9],c=n[2],u=n[6],h=n[10],d=i+s+h;return d>0?(e=.5/Math.sqrt(d+1),this._w=.25/e,this._x=(u-l)*e,this._y=(a-c)*e,this._z=(o-r)*e):i>s&&i>h?(e=2*Math.sqrt(1+i-s-h),this._w=(u-l)/e,this._x=.25*e,this._y=(r+o)/e,this._z=(a+c)/e):s>h?(e=2*Math.sqrt(1+s-i-h),this._w=(a-c)/e,this._x=(r+o)/e,this._y=.25*e,this._z=(l+u)/e):(e=2*Math.sqrt(1+h-i-s),this._w=(o-r)/e,this._x=(a+c)/e,this._y=(l+u)/e,this._z=.25*e),this.onChangeCallback(),this},setFromUnitVectors:function(){var t,e=new s;return function(n,i){return void 0===e&&(e=new s),t=n.dot(i)+1,t<1e-6?(t=0,Math.abs(n.x)>Math.abs(n.z)?e.set(-n.y,n.x,0):e.set(0,-n.z,n.y)):e.crossVectors(n,i),this._x=e.x,this._y=e.y,this._z=e.z,this._w=t,this.normalize()}}(),angleTo:function(t){return 2*Math.acos(Math.abs(Wl.clamp(this.dot(t),-1,1)))},rotateTowards:function(t,e){var n=this.angleTo(t);if(0===n)return this;var i=Math.min(1,e/n);return this.slerp(t,i),this},inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this.onChangeCallback(),this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)},premultiply:function(t){return this.multiplyQuaternions(t,this)},multiplyQuaternions:function(t,e){var n=t._x,i=t._y,r=t._z,a=t._w,o=e._x,s=e._y,l=e._z,c=e._w;return this._x=n*c+a*o+i*l-r*s,this._y=i*c+a*s+r*o-n*l,this._z=r*c+a*l+n*s-i*o,this._w=a*c-n*o-i*s-r*l,this.onChangeCallback(),this},slerp:function(t,e){if(0===e)return this;if(1===e)return this.copy(t);var n=this._x,i=this._y,r=this._z,a=this._w,o=a*t._w+n*t._x+i*t._y+r*t._z;if(o<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,o=-o):this.copy(t),o>=1)return this._w=a,this._x=n,this._y=i,this._z=r,this;var s=1-o*o;if(s<=Number.EPSILON){var l=1-e;return this._w=l*a+e*this._w,this._x=l*n+e*this._x,this._y=l*i+e*this._y,this._z=l*r+e*this._z,this.normalize()}var c=Math.sqrt(s),u=Math.atan2(c,o),h=Math.sin((1-e)*u)/c,d=Math.sin(e*u)/c;return this._w=a*h+this._w*d,this._x=n*h+this._x*d,this._y=i*h+this._y*d,this._z=r*h+this._z*d,this.onChangeCallback(),this},equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w},fromArray:function(t,e){return void 0===e&&(e=0),this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}}),Object.assign(s.prototype,{isVector3:!0,set:function(t,e,n){return this.x=t,this.y=e,this.z=n,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this},multiplyVectors:function(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this},applyEuler:function(){var t=new o;return function(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(t.setFromEuler(e))}}(),applyAxisAngle:function(){var t=new o;return function(e,n){return this.applyQuaternion(t.setFromAxisAngle(e,n))}}(),applyMatrix3:function(t){var e=this.x,n=this.y,i=this.z,r=t.elements;return this.x=r[0]*e+r[3]*n+r[6]*i,this.y=r[1]*e+r[4]*n+r[7]*i,this.z=r[2]*e+r[5]*n+r[8]*i,this},applyMatrix4:function(t){var e=this.x,n=this.y,i=this.z,r=t.elements,a=1/(r[3]*e+r[7]*n+r[11]*i+r[15]);return this.x=(r[0]*e+r[4]*n+r[8]*i+r[12])*a,this.y=(r[1]*e+r[5]*n+r[9]*i+r[13])*a,this.z=(r[2]*e+r[6]*n+r[10]*i+r[14])*a,this},applyQuaternion:function(t){var e=this.x,n=this.y,i=this.z,r=t.x,a=t.y,o=t.z,s=t.w,l=s*e+a*i-o*n,c=s*n+o*e-r*i,u=s*i+r*n-a*e,h=-r*e-a*n-o*i;return this.x=l*s+h*-r+c*-o-u*-a,this.y=c*s+h*-a+u*-r-l*-o,this.z=u*s+h*-o+l*-a-c*-r,this},project:function(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)},unproject:function(){var t=new a;return function(e){return this.applyMatrix4(t.getInverse(e.projectionMatrix)).applyMatrix4(e.matrixWorld)}}(),transformDirection:function(t){var e=this.x,n=this.y,i=this.z,r=t.elements;return this.x=r[0]*e+r[4]*n+r[8]*i,this.y=r[1]*e+r[5]*n+r[9]*i,this.z=r[2]*e+r[6]*n+r[10]*i,this.normalize()},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this},divideScalar:function(t){return this.multiplyScalar(1/t)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this},clampScalar:function(){var t=new s,e=new s;return function(n,i){return t.set(n,n,n),e.set(i,i,i),this.clamp(t,e)}}(),clampLength:function(t,e){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},cross:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,e)):this.crossVectors(this,t)},crossVectors:function(t,e){var n=t.x,i=t.y,r=t.z,a=e.x,o=e.y,s=e.z;return this.x=i*s-r*o,this.y=r*a-n*s,this.z=n*o-i*a,this},projectOnVector:function(t){var e=t.dot(this)/t.lengthSq();return this.copy(t).multiplyScalar(e)},projectOnPlane:function(){var t=new s;return function(e){return t.copy(this).projectOnVector(e),this.sub(t)}}(),reflect:function(){var t=new s;return function(e){return this.sub(t.copy(e).multiplyScalar(2*this.dot(e)))}}(),angleTo:function(t){var e=this.dot(t)/Math.sqrt(this.lengthSq()*t.lengthSq());return Math.acos(Wl.clamp(e,-1,1))},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,n=this.y-t.y,i=this.z-t.z;return e*e+n*n+i*i},manhattanDistanceTo:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)},setFromSpherical:function(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)},setFromSphericalCoords:function(t,e,n){var i=Math.sin(e)*t;return this.x=i*Math.sin(n),this.y=Math.cos(e)*t,this.z=i*Math.cos(n),this},setFromCylindrical:function(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)},setFromCylindricalCoords:function(t,e,n){return this.x=t*Math.sin(e),this.y=n,this.z=t*Math.cos(e),this},setFromMatrixPosition:function(t){var e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this},setFromMatrixScale:function(t){var e=this.setFromMatrixColumn(t,0).length(),n=this.setFromMatrixColumn(t,1).length(),i=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=n,this.z=i,this},setFromMatrixColumn:function(t,e){return this.fromArray(t.elements,4*e)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t},fromBufferAttribute:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}}),Object.assign(l.prototype,{isMatrix3:!0,set:function(t,e,n,i,r,a,o,s,l){var c=this.elements;return c[0]=t,c[1]=i,c[2]=o,c[3]=e,c[4]=r,c[5]=s,c[6]=n,c[7]=a,c[8]=l,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(t){var e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],this},setFromMatrix4:function(t){var e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this},applyToBufferAttribute:function(){var t=new s;return function(e){for(var n=0,i=e.count;n<i;n++)t.x=e.getX(n),t.y=e.getY(n),t.z=e.getZ(n),t.applyMatrix3(this),e.setXYZ(n,t.x,t.y,t.z);return e}}(),multiply:function(t){return this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){var n=t.elements,i=e.elements,r=this.elements,a=n[0],o=n[3],s=n[6],l=n[1],c=n[4],u=n[7],h=n[2],d=n[5],p=n[8],f=i[0],g=i[3],m=i[6],v=i[1],y=i[4],x=i[7],_=i[2],b=i[5],w=i[8];return r[0]=a*f+o*v+s*_,r[3]=a*g+o*y+s*b,r[6]=a*m+o*x+s*w,r[1]=l*f+c*v+u*_,r[4]=l*g+c*y+u*b,r[7]=l*m+c*x+u*w,r[2]=h*f+d*v+p*_,r[5]=h*g+d*y+p*b,r[8]=h*m+d*x+p*w,this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this},determinant:function(){var t=this.elements,e=t[0],n=t[1],i=t[2],r=t[3],a=t[4],o=t[5],s=t[6],l=t[7],c=t[8];return e*a*c-e*o*l-n*r*c+n*o*s+i*r*l-i*a*s},getInverse:function(t,e){t&&t.isMatrix4&&console.error("THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.");var n=t.elements,i=this.elements,r=n[0],a=n[1],o=n[2],s=n[3],l=n[4],c=n[5],u=n[6],h=n[7],d=n[8],p=d*l-c*h,f=c*u-d*s,g=h*s-l*u,m=r*p+a*f+o*g;if(0===m){var v="THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0";if(!0===e)throw new Error(v);return console.warn(v),this.identity()}var y=1/m;return i[0]=p*y,i[1]=(o*h-d*a)*y,i[2]=(c*a-o*l)*y,i[3]=f*y,i[4]=(d*r-o*u)*y,i[5]=(o*s-c*r)*y,i[6]=g*y,i[7]=(a*u-h*r)*y,i[8]=(l*r-a*s)*y,this},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this},getNormalMatrix:function(t){return this.setFromMatrix4(t).getInverse(this).transpose()},transposeIntoArray:function(t){var e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this},setUvTransform:function(t,e,n,i,r,a,o){var s=Math.cos(r),l=Math.sin(r);this.set(n*s,n*l,-n*(s*a+l*o)+a+t,-i*l,i*s,-i*(-l*a+s*o)+o+e,0,0,1)},scale:function(t,e){var n=this.elements;return n[0]*=t,n[3]*=t,n[6]*=t,n[1]*=e,n[4]*=e,n[7]*=e,this},rotate:function(t){var e=Math.cos(t),n=Math.sin(t),i=this.elements,r=i[0],a=i[3],o=i[6],s=i[1],l=i[4],c=i[7];return i[0]=e*r+n*s,i[3]=e*a+n*l,i[6]=e*o+n*c,i[1]=-n*r+e*s,i[4]=-n*a+e*l,i[7]=-n*o+e*c,this},translate:function(t,e){var n=this.elements;return n[0]+=t*n[2],n[3]+=t*n[5],n[6]+=t*n[8],n[1]+=e*n[2],n[4]+=e*n[5],n[7]+=e*n[8],this},equals:function(t){for(var e=this.elements,n=t.elements,i=0;i<9;i++)if(e[i]!==n[i])return!1;return!0},fromArray:function(t,e){void 0===e&&(e=0);for(var n=0;n<9;n++)this.elements[n]=t[n+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t}});var $l,Yl={getDataURL:function(t){var e;if("undefined"==typeof HTMLCanvasElement)return t.src;if(t instanceof HTMLCanvasElement)e=t;else{void 0===$l&&($l=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),$l.width=t.width,$l.height=t.height;var n=$l.getContext("2d");t instanceof ImageData?n.putImageData(t,0,0):n.drawImage(t,0,0,t.width,t.height),e=$l}return e.width>2048||e.height>2048?e.toDataURL("image/jpeg",.6):e.toDataURL("image/png")}},Xl=0;c.DEFAULT_IMAGE=void 0,c.DEFAULT_MAPPING=fs,c.prototype=Object.assign(Object.create(i.prototype),{constructor:c,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.name=t.name,this.image=t.image,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this},toJSON:function(t){var e=void 0===t||"string"==typeof t;if(!e&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];var n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY};if(void 0!==this.image){var i=this.image;if(void 0===i.uuid&&(i.uuid=Wl.generateUUID()),!e&&void 0===t.images[i.uuid]){var r;if(Array.isArray(i)){r=[];for(var a=0,o=i.length;a<o;a++)r.push(Yl.getDataURL(i[a]))}else r=Yl.getDataURL(i);t.images[i.uuid]={uuid:i.uuid,url:r}}n.image=i.uuid}return e||(t.textures[this.uuid]=n),n},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(t){if(this.mapping!==fs)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case ws:t.x=t.x-Math.floor(t.x);break;case Ms:t.x=t.x<0?0:1;break;case Ss:1===Math.abs(Math.floor(t.x)%2)?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case ws:t.y=t.y-Math.floor(t.y);break;case Ms:t.y=t.y<0?0:1;break;case Ss:1===Math.abs(Math.floor(t.y)%2)?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}}),Object.defineProperty(c.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(u.prototype,{isVector4:!0,set:function(t,e,n,i){return this.x=t,this.y=e,this.z=n,this.w=i,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this.w=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setW:function(t){return this.w=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this},applyMatrix4:function(t){var e=this.x,n=this.y,i=this.z,r=this.w,a=t.elements;return this.x=a[0]*e+a[4]*n+a[8]*i+a[12]*r,this.y=a[1]*e+a[5]*n+a[9]*i+a[13]*r,this.z=a[2]*e+a[6]*n+a[10]*i+a[14]*r,this.w=a[3]*e+a[7]*n+a[11]*i+a[15]*r,this},divideScalar:function(t){return this.multiplyScalar(1/t)},setAxisAngleFromQuaternion:function(t){this.w=2*Math.acos(t.w);var e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this},setAxisAngleFromRotationMatrix:function(t){var e,n,i,r,a=t.elements,o=a[0],s=a[4],l=a[8],c=a[1],u=a[5],h=a[9],d=a[2],p=a[6],f=a[10];if(Math.abs(s-c)<.01&&Math.abs(l-d)<.01&&Math.abs(h-p)<.01){if(Math.abs(s+c)<.1&&Math.abs(l+d)<.1&&Math.abs(h+p)<.1&&Math.abs(o+u+f-3)<.1)return this.set(1,0,0,0),this;e=Math.PI;var g=(o+1)/2,m=(u+1)/2,v=(f+1)/2,y=(s+c)/4,x=(l+d)/4,_=(h+p)/4;return g>m&&g>v?g<.01?(n=0,i=.707106781,r=.707106781):(n=Math.sqrt(g),i=y/n,r=x/n):m>v?m<.01?(n=.707106781,i=0,r=.707106781):(i=Math.sqrt(m),n=y/i,r=_/i):v<.01?(n=.707106781,i=.707106781,r=0):(r=Math.sqrt(v),n=x/r,i=_/r),this.set(n,i,r,e),this}var b=Math.sqrt((p-h)*(p-h)+(l-d)*(l-d)+(c-s)*(c-s));return Math.abs(b)<.001&&(b=1),this.x=(p-h)/b,this.y=(l-d)/b,this.z=(c-s)/b,this.w=Math.acos((o+u+f-1)/2),this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this},clampScalar:function(){var t,e;return function(n,i){return void 0===t&&(t=new u,e=new u),t.set(n,n,n,n),e.set(i,i,i,i),this.clamp(t,e)}}(),clampLength:function(t,e){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t},fromBufferAttribute:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}}),h.prototype=Object.assign(Object.create(i.prototype),{constructor:h,isWebGLRenderTarget:!0,setSize:function(t,e){this.width===t&&this.height===e||(this.width=t,this.height=e,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.width=t.width,this.height=t.height,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.depthTexture=t.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),d.prototype=Object.create(h.prototype),d.prototype.constructor=d,d.prototype.isWebGLRenderTargetCube=!0,p.prototype=Object.create(c.prototype),p.prototype.constructor=p,p.prototype.isDataTexture=!0,Object.assign(f.prototype,{isBox3:!0,set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromArray:function(t){for(var e=1/0,n=1/0,i=1/0,r=-1/0,a=-1/0,o=-1/0,s=0,l=t.length;s<l;s+=3){var c=t[s],u=t[s+1],h=t[s+2];c<e&&(e=c),u<n&&(n=u),h<i&&(i=h),c>r&&(r=c),u>a&&(a=u),h>o&&(o=h)}return this.min.set(e,n,i),this.max.set(r,a,o),this},setFromBufferAttribute:function(t){for(var e=1/0,n=1/0,i=1/0,r=-1/0,a=-1/0,o=-1/0,s=0,l=t.count;s<l;s++){var c=t.getX(s),u=t.getY(s),h=t.getZ(s);c<e&&(e=c),u<n&&(n=u),h<i&&(i=h),c>r&&(r=c),u>a&&(a=u),h>o&&(o=h)}return this.min.set(e,n,i),this.max.set(r,a,o),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new s;return function(e,n){var i=t.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}}(),setFromObject:function(t){return this.makeEmpty(),this.expandByObject(t)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(t){return void 0===t&&(console.warn("THREE.Box3: .getCenter() target is now required"),t=new s),this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){return void 0===t&&(console.warn("THREE.Box3: .getSize() target is now required"),t=new s),this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},expandByObject:function(){function t(t){var a=t.geometry;if(void 0!==a)if(a.isGeometry){var o=a.vertices;for(n=0,i=o.length;n<i;n++)r.copy(o[n]),r.applyMatrix4(t.matrixWorld),e.expandByPoint(r)}else if(a.isBufferGeometry){var s=a.attributes.position;if(void 0!==s)for(n=0,i=s.count;n<i;n++)r.fromBufferAttribute(s,n).applyMatrix4(t.matrixWorld),e.expandByPoint(r)}}var e,n,i,r=new s;return function(n){return e=this,n.updateMatrixWorld(!0),n.traverse(t),this}}(),containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z},getParameter:function(t,e){return void 0===e&&(console.warn("THREE.Box3: .getParameter() target is now required"),e=new s),e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)},intersectsSphere:function(){var t=new s;return function(e){return this.clampPoint(e.center,t),t.distanceToSquared(e.center)<=e.radius*e.radius}}(),intersectsPlane:function(t){var e,n;return t.normal.x>0?(e=t.normal.x*this.min.x,n=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,n=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,n+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,n+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,n+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,n+=t.normal.z*this.min.z),e<=-t.constant&&n>=-t.constant},intersectsTriangle:function(){function t(t){var r,a;for(r=0,a=t.length-3;r<=a;r+=3){l.fromArray(t,r);var o=u.x*Math.abs(l.x)+u.y*Math.abs(l.y)+u.z*Math.abs(l.z),s=e.dot(l),c=n.dot(l),h=i.dot(l);if(Math.max(-Math.max(s,c,h),Math.min(s,c,h))>o)return!1}return!0}var e=new s,n=new s,i=new s,r=new s,a=new s,o=new s,l=new s,c=new s,u=new s,h=new s;return function(s){if(this.isEmpty())return!1;this.getCenter(c),u.subVectors(this.max,c),e.subVectors(s.a,c),n.subVectors(s.b,c),i.subVectors(s.c,c),r.subVectors(n,e),a.subVectors(i,n),o.subVectors(e,i);var l=[0,-r.z,r.y,0,-a.z,a.y,0,-o.z,o.y,r.z,0,-r.x,a.z,0,-a.x,o.z,0,-o.x,-r.y,r.x,0,-a.y,a.x,0,-o.y,o.x,0];return!!t(l)&&(l=[1,0,0,0,1,0,0,0,1],!!t(l)&&(h.crossVectors(r,a),l=[h.x,h.y,h.z],t(l)))}}(),clampPoint:function(t,e){return void 0===e&&(console.warn("THREE.Box3: .clampPoint() target is now required"),e=new s),e.copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new s;return function(e){return t.copy(e).clamp(this.min,this.max).sub(e).length()}}(),getBoundingSphere:function(){var t=new s;return function(e){return void 0===e&&(console.warn("THREE.Box3: .getBoundingSphere() target is now required"),e=new g),this.getCenter(e.center),e.radius=.5*this.getSize(t).length(),e}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},applyMatrix4:function(){var t=[new s,new s,new s,new s,new s,new s,new s,new s];return function(e){return this.isEmpty()?this:(t[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),t[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),t[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),t[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),t[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),t[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),t[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),t[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(t),this)}}(),translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}),Object.assign(g.prototype,{set:function(t,e){return this.center.copy(t),this.radius=e,this},setFromPoints:function(){var t=new f;return function(e,n){var i=this.center;void 0!==n?i.copy(n):t.setFromPoints(e).getCenter(i);for(var r=0,a=0,o=e.length;a<o;a++)r=Math.max(r,i.distanceToSquared(e[a]));return this.radius=Math.sqrt(r),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.center.copy(t.center),this.radius=t.radius,this},empty:function(){return this.radius<=0},containsPoint:function(t){return t.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(t){return t.distanceTo(this.center)-this.radius},intersectsSphere:function(t){var e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e},intersectsBox:function(t){return t.intersectsSphere(this)},intersectsPlane:function(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius},clampPoint:function(t,e){var n=this.center.distanceToSquared(t);return void 0===e&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),e=new s),e.copy(t),n>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e},getBoundingBox:function(t){return void 0===t&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),t=new f),t.set(this.center,this.center),t.expandByScalar(this.radius),t},applyMatrix4:function(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this},translate:function(t){return this.center.add(t),this},equals:function(t){return t.center.equals(this.center)&&t.radius===this.radius}}),Object.assign(m.prototype,{set:function(t,e){return this.normal.copy(t),this.constant=e,this},setComponents:function(t,e,n,i){return this.normal.set(t,e,n),this.constant=i,this},setFromNormalAndCoplanarPoint:function(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this},setFromCoplanarPoints:function(){var t=new s,e=new s;return function(n,i,r){var a=t.subVectors(r,i).cross(e.subVectors(n,i)).normalize();return this.setFromNormalAndCoplanarPoint(a,n),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.normal.copy(t.normal),this.constant=t.constant,this},normalize:function(){var t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(t){return this.normal.dot(t)+this.constant},distanceToSphere:function(t){return this.distanceToPoint(t.center)-t.radius},projectPoint:function(t,e){return void 0===e&&(console.warn("THREE.Plane: .projectPoint() target is now required"),e=new s),e.copy(this.normal).multiplyScalar(-this.distanceToPoint(t)).add(t)},intersectLine:function(){var t=new s;return function(e,n){void 0===n&&(console.warn("THREE.Plane: .intersectLine() target is now required"),n=new s);var i=e.delta(t),r=this.normal.dot(i);if(0!==r){var a=-(e.start.dot(this.normal)+this.constant)/r;if(!(a<0||a>1))return n.copy(i).multiplyScalar(a).add(e.start)}else if(0===this.distanceToPoint(e.start))return n.copy(e.start)}}(),intersectsLine:function(t){var e=this.distanceToPoint(t.start),n=this.distanceToPoint(t.end);return e<0&&n>0||n<0&&e>0},intersectsBox:function(t){return t.intersectsPlane(this)},intersectsSphere:function(t){return t.intersectsPlane(this)},coplanarPoint:function(t){return void 0===t&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),t=new s),t.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var t=new s,e=new l;return function(n,i){var r=i||e.getNormalMatrix(n),a=this.coplanarPoint(t).applyMatrix4(n),o=this.normal.applyMatrix3(r).normalize();return this.constant=-a.dot(o),this}}(),translate:function(t){return this.constant-=t.dot(this.normal),this},equals:function(t){return t.normal.equals(this.normal)&&t.constant===this.constant}}),Object.assign(v.prototype,{set:function(t,e,n,i,r,a){var o=this.planes;return o[0].copy(t),o[1].copy(e),o[2].copy(n),o[3].copy(i),o[4].copy(r),o[5].copy(a),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){for(var e=this.planes,n=0;n<6;n++)e[n].copy(t.planes[n]);return this},setFromMatrix:function(t){var e=this.planes,n=t.elements,i=n[0],r=n[1],a=n[2],o=n[3],s=n[4],l=n[5],c=n[6],u=n[7],h=n[8],d=n[9],p=n[10],f=n[11],g=n[12],m=n[13],v=n[14],y=n[15];return e[0].setComponents(o-i,u-s,f-h,y-g).normalize(),e[1].setComponents(o+i,u+s,f+h,y+g).normalize(),e[2].setComponents(o+r,u+l,f+d,y+m).normalize(),e[3].setComponents(o-r,u-l,f-d,y-m).normalize(),e[4].setComponents(o-a,u-c,f-p,y-v).normalize(),e[5].setComponents(o+a,u+c,f+p,y+v).normalize(),this},intersectsObject:function(){var t=new g;return function(e){var n=e.geometry;return null===n.boundingSphere&&n.computeBoundingSphere(),t.copy(n.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(t)}}(),intersectsSprite:function(){var t=new g;return function(e){return t.center.set(0,0,0),t.radius=.7071067811865476,t.applyMatrix4(e.matrixWorld),this.intersectsSphere(t)}}(),intersectsSphere:function(t){for(var e=this.planes,n=t.center,i=-t.radius,r=0;r<6;r++){if(e[r].distanceToPoint(n)<i)return!1}return!0},intersectsBox:function(){var t=new s;return function(e){for(var n=this.planes,i=0;i<6;i++){var r=n[i];if(t.x=r.normal.x>0?e.max.x:e.min.x,t.y=r.normal.y>0?e.max.y:e.min.y,t.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(t)<0)return!1}return!0}}(),containsPoint:function(t){for(var e=this.planes,n=0;n<6;n++)if(e[n].distanceToPoint(t)<0)return!1;return!0}});var ql={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );",bsdfs:"float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvarying vec3 vViewPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_vertex:"#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",common:"#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV( sampler2D envMap, vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = normalMatrix * objectNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\treflectVec = normalize( reflectVec );\n\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_pars_fragment:"#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntensity;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent ));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tfogDepth = -mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef TOON\n\tuniform sampler2D gradientMap;\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t\t#ifdef USE_GRADIENTMAP\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\t\t#else\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t\t#endif\n\t}\n#endif",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif",lights_pars_begin:"uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t\tfloat shadowCameraNear;\n\t\tfloat shadowCameraFar;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifdef TOON\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#else\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\t#endif\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos - halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos + halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos + halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos - halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearCoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tirradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), maxMipLevel );\n\t#ifndef STANDARD\n\t\tclearCoatRadiance += getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), maxMipLevel );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\tgl_Position.z *= gl_Position.w;\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#ifdef USE_MAP\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif",map_particle_pars_fragment:"#ifdef USE_MAP\n\tuniform mat3 uvTransform;\n\tuniform sampler2D map;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",normal_fragment_begin:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n#endif",normal_fragment_maps:"#ifdef USE_NORMALMAP\n\t#ifdef OBJECTSPACE_NORMALMAP\n\t\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t#ifdef FLIP_SIDED\n\t\t\tnormal = - normal;\n\t\t#endif\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\tnormal = normalize( normalMatrix * normal );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\t#ifdef OBJECTSPACE_NORMALMAP\n\t\tuniform mat3 normalMatrix;\n\t#else\n\t\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\t\tvec2 st0 = dFdx( vUv.st );\n\t\t\tvec2 st1 = dFdy( vUv.st );\n\t\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\t\tvec3 N = normalize( surf_norm );\n\t\t\tmat3 tsn = mat3( S, T, N );\n\t\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t\tmapN.xy *= normalScale;\n\t\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\treturn normalize( tsn * mapN );\n\t\t}\n\t#endif\n#endif",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#if defined( DITHERING )\n  gl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#if defined( DITHERING )\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n\t#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( ( color * ( 2.51 * color + 0.03 ) ) / ( color * ( 2.43 * color + 0.59 ) + 0.14 ) );\n}",uv_pars_fragment:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n#endif",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV;\n\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphysical_frag:"#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <fog_fragment>\n}",shadow_vert:"#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}"},Zl={clone:y,merge:x},Jl={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Object.assign(_.prototype,{isColor:!0,r:1,g:1,b:1,set:function(t){return t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t),this},setScalar:function(t){return this.r=t,this.g=t,this.b=t,this},setHex:function(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this},setRGB:function(t,e,n){return this.r=t,this.g=e,this.b=n,this},setHSL:function(){function t(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+6*(e-t)*(2/3-n):t}return function(e,n,i){if(e=Wl.euclideanModulo(e,1),n=Wl.clamp(n,0,1),i=Wl.clamp(i,0,1),0===n)this.r=this.g=this.b=i;else{var r=i<=.5?i*(1+n):i+n-i*n,a=2*i-r;this.r=t(a,r,e+1/3),this.g=t(a,r,e),this.b=t(a,r,e-1/3)}return this}}(),setStyle:function(t){function e(e){void 0!==e&&parseFloat(e)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}var n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(t)){var i,r=n[1],a=n[2];switch(r){case"rgb":case"rgba":if(i=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(i[1],10))/255,this.g=Math.min(255,parseInt(i[2],10))/255,this.b=Math.min(255,parseInt(i[3],10))/255,e(i[5]),this;if(i=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(i[1],10))/100,this.g=Math.min(100,parseInt(i[2],10))/100,this.b=Math.min(100,parseInt(i[3],10))/100,e(i[5]),this;break;case"hsl":case"hsla":if(i=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a)){var o=parseFloat(i[1])/360,s=parseInt(i[2],10)/100,l=parseInt(i[3],10)/100;return e(i[5]),this.setHSL(o,s,l)}}}else if(n=/^\#([A-Fa-f0-9]+)$/.exec(t)){var c=n[1],u=c.length;if(3===u)return this.r=parseInt(c.charAt(0)+c.charAt(0),16)/255,this.g=parseInt(c.charAt(1)+c.charAt(1),16)/255,this.b=parseInt(c.charAt(2)+c.charAt(2),16)/255,this;if(6===u)return this.r=parseInt(c.charAt(0)+c.charAt(1),16)/255,this.g=parseInt(c.charAt(2)+c.charAt(3),16)/255,this.b=parseInt(c.charAt(4)+c.charAt(5),16)/255,this}if(t&&t.length>0){var c=Jl[t];void 0!==c?this.setHex(c):console.warn("THREE.Color: Unknown color "+t)}return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this},copyGammaToLinear:function(t,e){return void 0===e&&(e=2),this.r=Math.pow(t.r,e),this.g=Math.pow(t.g,e),this.b=Math.pow(t.b,e),this},copyLinearToGamma:function(t,e){void 0===e&&(e=2);var n=e>0?1/e:1;return this.r=Math.pow(t.r,n),this.g=Math.pow(t.g,n),this.b=Math.pow(t.b,n),this},convertGammaToLinear:function(t){return this.copyGammaToLinear(this,t),this},convertLinearToGamma:function(t){return this.copyLinearToGamma(this,t),this},copySRGBToLinear:function(){function t(t){return t<.04045?.0773993808*t:Math.pow(.9478672986*t+.0521327014,2.4)}return function(e){return this.r=t(e.r),this.g=t(e.g),this.b=t(e.b),this}}(),copyLinearToSRGB:function(){function t(t){return t<.0031308?12.92*t:1.055*Math.pow(t,.41666)-.055}return function(e){return this.r=t(e.r),this.g=t(e.g),this.b=t(e.b),this}}(),convertSRGBToLinear:function(){return this.copySRGBToLinear(this),this},convertLinearToSRGB:function(){return this.copyLinearToSRGB(this),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(t){void 0===t&&(console.warn("THREE.Color: .getHSL() target is now required"),t={h:0,s:0,l:0});var e,n,i=this.r,r=this.g,a=this.b,o=Math.max(i,r,a),s=Math.min(i,r,a),l=(s+o)/2;if(s===o)e=0,n=0;else{var c=o-s;switch(n=l<=.5?c/(o+s):c/(2-o-s),o){case i:e=(r-a)/c+(r<a?6:0);break;case r:e=(a-i)/c+2;break;case a:e=(i-r)/c+4}e/=6}return t.h=e,t.s=n,t.l=l,t},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(){var t={};return function(e,n,i){return this.getHSL(t),t.h+=e,t.s+=n,t.l+=i,this.setHSL(t.h,t.s,t.l),this}}(),add:function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this},addColors:function(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this},addScalar:function(t){return this.r+=t,this.g+=t,this.b+=t,this},sub:function(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this},multiply:function(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this},multiplyScalar:function(t){return this.r*=t,this.g*=t,this.b*=t,this},lerp:function(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this},lerpHSL:function(){var t={h:0,s:0,l:0},e={h:0,s:0,l:0};return function(n,i){this.getHSL(t),n.getHSL(e);var r=Wl.lerp(t.h,e.h,i),a=Wl.lerp(t.s,e.s,i),o=Wl.lerp(t.l,e.l,i);return this.setHSL(r,a,o),this}}(),equals:function(t){return t.r===this.r&&t.g===this.g&&t.b===this.b},fromArray:function(t,e){return void 0===e&&(e=0),this.r=t[e],this.g=t[e+1],this.b=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t},toJSON:function(){return this.getHex()}});var Kl={common:{diffuse:{value:new _(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new l},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new r(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new _(16777215)}},lights:{ambientLightColor:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new _(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},uvTransform:{value:new l}},sprite:{diffuse:{value:new _(15658734)},opacity:{value:1},center:{value:new r(.5,.5)},rotation:{value:0},map:{value:null},uvTransform:{value:new l}}},Ql={basic:{uniforms:x([Kl.common,Kl.specularmap,Kl.envmap,Kl.aomap,Kl.lightmap,Kl.fog]),vertexShader:ql.meshbasic_vert,fragmentShader:ql.meshbasic_frag},lambert:{uniforms:x([Kl.common,Kl.specularmap,Kl.envmap,Kl.aomap,Kl.lightmap,Kl.emissivemap,Kl.fog,Kl.lights,{emissive:{value:new _(0)}}]),vertexShader:ql.meshlambert_vert,fragmentShader:ql.meshlambert_frag},phong:{uniforms:x([Kl.common,Kl.specularmap,Kl.envmap,Kl.aomap,Kl.lightmap,Kl.emissivemap,Kl.bumpmap,Kl.normalmap,Kl.displacementmap,Kl.gradientmap,Kl.fog,Kl.lights,{emissive:{value:new _(0)},specular:{value:new _(1118481)},shininess:{value:30}}]),vertexShader:ql.meshphong_vert,fragmentShader:ql.meshphong_frag},standard:{uniforms:x([Kl.common,Kl.envmap,Kl.aomap,Kl.lightmap,Kl.emissivemap,Kl.bumpmap,Kl.normalmap,Kl.displacementmap,Kl.roughnessmap,Kl.metalnessmap,Kl.fog,Kl.lights,{emissive:{value:new _(0)},roughness:{value:.5},metalness:{value:.5},envMapIntensity:{value:1}}]),vertexShader:ql.meshphysical_vert,fragmentShader:ql.meshphysical_frag},matcap:{uniforms:x([Kl.common,Kl.bumpmap,Kl.normalmap,Kl.displacementmap,Kl.fog,{matcap:{value:null}}]),vertexShader:ql.meshmatcap_vert,fragmentShader:ql.meshmatcap_frag},points:{uniforms:x([Kl.points,Kl.fog]),vertexShader:ql.points_vert,fragmentShader:ql.points_frag},dashed:{uniforms:x([Kl.common,Kl.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ql.linedashed_vert,fragmentShader:ql.linedashed_frag},depth:{uniforms:x([Kl.common,Kl.displacementmap]),vertexShader:ql.depth_vert,fragmentShader:ql.depth_frag},normal:{uniforms:x([Kl.common,Kl.bumpmap,Kl.normalmap,Kl.displacementmap,{opacity:{value:1}}]),vertexShader:ql.normal_vert,fragmentShader:ql.normal_frag},sprite:{uniforms:x([Kl.sprite,Kl.fog]),vertexShader:ql.sprite_vert,fragmentShader:ql.sprite_frag},background:{uniforms:{uvTransform:{value:new l},t2D:{value:null}},vertexShader:ql.background_vert,fragmentShader:ql.background_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ql.cube_vert,fragmentShader:ql.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ql.equirect_vert,fragmentShader:ql.equirect_frag},distanceRGBA:{uniforms:x([Kl.common,Kl.displacementmap,{referencePosition:{value:new s},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ql.distanceRGBA_vert,fragmentShader:ql.distanceRGBA_frag},shadow:{uniforms:x([Kl.lights,Kl.fog,{color:{value:new _(0)},opacity:{value:1}}]),vertexShader:ql.shadow_vert,fragmentShader:ql.shadow_frag}};Ql.physical={uniforms:x([Ql.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:ql.meshphysical_vert,fragmentShader:ql.meshphysical_frag},Object.assign(M.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.a=t.a,this.b=t.b,this.c=t.c,this.normal.copy(t.normal),this.color.copy(t.color),this.materialIndex=t.materialIndex;for(var e=0,n=t.vertexNormals.length;e<n;e++)this.vertexNormals[e]=t.vertexNormals[e].clone();for(var e=0,n=t.vertexColors.length;e<n;e++)this.vertexColors[e]=t.vertexColors[e].clone();return this}}),S.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],S.DefaultOrder="XYZ",Object.defineProperties(S.prototype,{x:{get:function(){return this._x},set:function(t){this._x=t,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(t){this._y=t,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(t){this._z=t,this.onChangeCallback()}},order:{get:function(){return this._order},set:function(t){this._order=t,this.onChangeCallback()}}}),Object.assign(S.prototype,{isEuler:!0,set:function(t,e,n,i){return this._x=t,this._y=e,this._z=n,this._order=i||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this.onChangeCallback(),this},setFromRotationMatrix:function(t,e,n){var i=Wl.clamp,r=t.elements,a=r[0],o=r[4],s=r[8],l=r[1],c=r[5],u=r[9],h=r[2],d=r[6],p=r[10];return e=e||this._order,"XYZ"===e?(this._y=Math.asin(i(s,-1,1)),Math.abs(s)<.99999?(this._x=Math.atan2(-u,p),this._z=Math.atan2(-o,a)):(this._x=Math.atan2(d,c),this._z=0)):"YXZ"===e?(this._x=Math.asin(-i(u,-1,1)),Math.abs(u)<.99999?(this._y=Math.atan2(s,p),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-h,a),this._z=0)):"ZXY"===e?(this._x=Math.asin(i(d,-1,1)),Math.abs(d)<.99999?(this._y=Math.atan2(-h,p),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,a))):"ZYX"===e?(this._y=Math.asin(-i(h,-1,1)),Math.abs(h)<.99999?(this._x=Math.atan2(d,p),this._z=Math.atan2(l,a)):(this._x=0,this._z=Math.atan2(-o,c))):"YZX"===e?(this._z=Math.asin(i(l,-1,1)),Math.abs(l)<.99999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-h,a)):(this._x=0,this._y=Math.atan2(s,p))):"XZY"===e?(this._z=Math.asin(-i(o,-1,1)),Math.abs(o)<.99999?(this._x=Math.atan2(d,c),this._y=Math.atan2(s,a)):(this._x=Math.atan2(-u,p),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+e),this._order=e,!1!==n&&this.onChangeCallback(),this},setFromQuaternion:function(){var t=new a;return function(e,n,i){return t.makeRotationFromQuaternion(e),this.setFromRotationMatrix(t,n,i)}}(),setFromVector3:function(t,e){return this.set(t.x,t.y,t.z,e||this._order)},reorder:function(){var t=new o;return function(e){return t.setFromEuler(this),this.setFromQuaternion(t,e)}}(),equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order},fromArray:function(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t},toVector3:function(t){return t?t.set(this._x,this._y,this._z):new s(this._x,this._y,this._z)},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}}),Object.assign(T.prototype,{set:function(t){this.mask=1<<t|0},enable:function(t){this.mask|=1<<t|0},toggle:function(t){this.mask^=1<<t|0},disable:function(t){this.mask&=~(1<<t|0)},test:function(t){return 0!=(this.mask&t.mask)}});var tc=0;A.DefaultUp=new s(0,1,0),A.DefaultMatrixAutoUpdate=!0,A.prototype=Object.assign(Object.create(i.prototype),{constructor:A,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix:function(t){this.matrix.multiplyMatrices(t,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(t){return this.quaternion.premultiply(t),this},setRotationFromAxisAngle:function(t,e){this.quaternion.setFromAxisAngle(t,e)},setRotationFromEuler:function(t){this.quaternion.setFromEuler(t,!0)},setRotationFromMatrix:function(t){this.quaternion.setFromRotationMatrix(t)},setRotationFromQuaternion:function(t){this.quaternion.copy(t)},rotateOnAxis:function(){var t=new o;return function(e,n){return t.setFromAxisAngle(e,n),this.quaternion.multiply(t),this}}(),rotateOnWorldAxis:function(){var t=new o;return function(e,n){return t.setFromAxisAngle(e,n),this.quaternion.premultiply(t),this}}(),rotateX:function(){var t=new s(1,0,0);return function(e){return this.rotateOnAxis(t,e)}}(),rotateY:function(){var t=new s(0,1,0);return function(e){return this.rotateOnAxis(t,e)}}(),rotateZ:function(){var t=new s(0,0,1);return function(e){return this.rotateOnAxis(t,e)}}(),translateOnAxis:function(){var t=new s;return function(e,n){return t.copy(e).applyQuaternion(this.quaternion),this.position.add(t.multiplyScalar(n)),this}}(),translateX:function(){var t=new s(1,0,0);return function(e){return this.translateOnAxis(t,e)}}(),translateY:function(){var t=new s(0,1,0);return function(e){return this.translateOnAxis(t,e)}}(),translateZ:function(){var t=new s(0,0,1);return function(e){return this.translateOnAxis(t,e)}}(),localToWorld:function(t){return t.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var t=new a;return function(e){return e.applyMatrix4(t.getInverse(this.matrixWorld))}}(),lookAt:function(){var t=new o,e=new a,n=new s,i=new s;return function(r,a,o){r.isVector3?n.copy(r):n.set(r,a,o);var s=this.parent;this.updateWorldMatrix(!0,!1),i.setFromMatrixPosition(this.matrixWorld),this.isCamera?e.lookAt(i,n,this.up):e.lookAt(n,i,this.up),this.quaternion.setFromRotationMatrix(e),s&&(e.extractRotation(s.matrixWorld),t.setFromRotationMatrix(e),this.quaternion.premultiply(t.inverse()))}}(),add:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,t.dispatchEvent({type:"added"}),this.children.push(t)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)},remove:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.remove(arguments[e]);return this}var n=this.children.indexOf(t);return-1!==n&&(t.parent=null,t.dispatchEvent({type:"removed"}),this.children.splice(n,1)),this},getObjectById:function(t){return this.getObjectByProperty("id",t)},getObjectByName:function(t){return this.getObjectByProperty("name",t)},getObjectByProperty:function(t,e){if(this[t]===e)return this;for(var n=0,i=this.children.length;n<i;n++){var r=this.children[n],a=r.getObjectByProperty(t,e);if(void 0!==a)return a}},getWorldPosition:function(t){return void 0===t&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),t=new s),this.updateMatrixWorld(!0),t.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(){var t=new s,e=new s;return function(n){return void 0===n&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),n=new o),this.updateMatrixWorld(!0),this.matrixWorld.decompose(t,n,e),n}}(),getWorldScale:function(){var t=new s,e=new o;return function(n){return void 0===n&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),n=new s),this.updateMatrixWorld(!0),this.matrixWorld.decompose(t,e,n),n}}(),getWorldDirection:function(t){void 0===t&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),t=new s),this.updateMatrixWorld(!0);var e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()},raycast:function(){},traverse:function(t){t(this);for(var e=this.children,n=0,i=e.length;n<i;n++)e[n].traverse(t)},traverseVisible:function(t){if(!1!==this.visible){t(this);for(var e=this.children,n=0,i=e.length;n<i;n++)e[n].traverseVisible(t)}},traverseAncestors:function(t){var e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);for(var e=this.children,n=0,i=e.length;n<i;n++)e[n].updateMatrixWorld(t)},updateWorldMatrix:function(t,e){var n=this.parent;if(!0===t&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===e)for(var i=this.children,r=0,a=i.length;r<a;r++)i[r].updateWorldMatrix(!1,!0)},toJSON:function(t){function e(e,n){return void 0===e[n.uuid]&&(e[n.uuid]=n.toJSON(t)),n.uuid}function n(t){var e=[];for(var n in t){var i=t[n];delete i.metadata,e.push(i)}return e}var i=void 0===t||"string"==typeof t,r={};i&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var a={};if(a.uuid=this.uuid,a.type=this.type,""!==this.name&&(a.name=this.name),!0===this.castShadow&&(a.castShadow=!0),!0===this.receiveShadow&&(a.receiveShadow=!0),!1===this.visible&&(a.visible=!1),!1===this.frustumCulled&&(a.frustumCulled=!1),0!==this.renderOrder&&(a.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(a.userData=this.userData),a.layers=this.layers.mask,a.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(a.matrixAutoUpdate=!1),this.isMesh||this.isLine||this.isPoints){a.geometry=e(t.geometries,this.geometry);var o=this.geometry.parameters;if(void 0!==o&&void 0!==o.shapes){var s=o.shapes;if(Array.isArray(s))for(var l=0,c=s.length;l<c;l++){var u=s[l];e(t.shapes,u)}else e(t.shapes,s)}}if(void 0!==this.material)if(Array.isArray(this.material)){for(var h=[],l=0,c=this.material.length;l<c;l++)h.push(e(t.materials,this.material[l]));a.material=h}else a.material=e(t.materials,this.material);if(this.children.length>0){a.children=[];for(var l=0;l<this.children.length;l++)a.children.push(this.children[l].toJSON(t).object)}if(i){var d=n(t.geometries),p=n(t.materials),f=n(t.textures),g=n(t.images),s=n(t.shapes);d.length>0&&(r.geometries=d),p.length>0&&(r.materials=p),f.length>0&&(r.textures=f),g.length>0&&(r.images=g),s.length>0&&(r.shapes=s)}return r.object=a,r},clone:function(t){return(new this.constructor).copy(this,t)},copy:function(t,e){if(void 0===e&&(e=!0),this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===e)for(var n=0;n<t.children.length;n++){var i=t.children[n];this.add(i.clone())}return this}});var ec=0;C.prototype=Object.assign(Object.create(i.prototype),{constructor:C,isGeometry:!0,applyMatrix:function(t){for(var e=(new l).getNormalMatrix(t),n=0,i=this.vertices.length;n<i;n++){this.vertices[n].applyMatrix4(t)}for(var n=0,i=this.faces.length;n<i;n++){var r=this.faces[n];r.normal.applyMatrix3(e).normalize();for(var a=0,o=r.vertexNormals.length;a<o;a++)r.vertexNormals[a].applyMatrix3(e).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(){var t=new a;return function(e){return t.makeRotationX(e),this.applyMatrix(t),this}}(),rotateY:function(){var t=new a;return function(e){return t.makeRotationY(e),this.applyMatrix(t),this}}(),rotateZ:function(){var t=new a;return function(e){return t.makeRotationZ(e),this.applyMatrix(t),this}}(),translate:function(){var t=new a;return function(e,n,i){return t.makeTranslation(e,n,i),this.applyMatrix(t),this}}(),scale:function(){var t=new a;return function(e,n,i){return t.makeScale(e,n,i),this.applyMatrix(t),this}}(),lookAt:function(){var t=new A;return function(e){t.lookAt(e),t.updateMatrix(),this.applyMatrix(t.matrix)}}(),fromBufferGeometry:function(t){function e(t,e,i,a){var o=void 0===c?[]:[n.colors[t].clone(),n.colors[e].clone(),n.colors[i].clone()],d=void 0===l?[]:[(new s).fromArray(l,3*t),(new s).fromArray(l,3*e),(new s).fromArray(l,3*i)],p=new M(t,e,i,d,o,a);n.faces.push(p),void 0!==u&&n.faceVertexUvs[0].push([(new r).fromArray(u,2*t),(new r).fromArray(u,2*e),(new r).fromArray(u,2*i)]),void 0!==h&&n.faceVertexUvs[1].push([(new r).fromArray(h,2*t),(new r).fromArray(h,2*e),(new r).fromArray(h,2*i)])}var n=this,i=null!==t.index?t.index.array:void 0,a=t.attributes,o=a.position.array,l=void 0!==a.normal?a.normal.array:void 0,c=void 0!==a.color?a.color.array:void 0,u=void 0!==a.uv?a.uv.array:void 0,h=void 0!==a.uv2?a.uv2.array:void 0;void 0!==h&&(this.faceVertexUvs[1]=[]);for(var d=0,p=0;d<o.length;d+=3,p+=2)n.vertices.push((new s).fromArray(o,d)),void 0!==c&&n.colors.push((new _).fromArray(c,d));var f=t.groups;if(f.length>0)for(var d=0;d<f.length;d++)for(var g=f[d],m=g.start,v=g.count,p=m,y=m+v;p<y;p+=3)void 0!==i?e(i[p],i[p+1],i[p+2],g.materialIndex):e(p,p+1,p+2,g.materialIndex);else if(void 0!==i)for(var d=0;d<i.length;d+=3)e(i[d],i[d+1],i[d+2]);else for(var d=0;d<o.length/3;d+=3)e(d,d+1,d+2);return this.computeFaceNormals(),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this},center:function(){var t=new s;return function(){return this.computeBoundingBox(),this.boundingBox.getCenter(t).negate(),this.translate(t.x,t.y,t.z),this}}(),normalize:function(){this.computeBoundingSphere();var t=this.boundingSphere.center,e=this.boundingSphere.radius,n=0===e?1:1/e,i=new a;return i.set(n,0,0,-n*t.x,0,n,0,-n*t.y,0,0,n,-n*t.z,0,0,0,1),this.applyMatrix(i),this},computeFaceNormals:function(){for(var t=new s,e=new s,n=0,i=this.faces.length;n<i;n++){var r=this.faces[n],a=this.vertices[r.a],o=this.vertices[r.b],l=this.vertices[r.c];t.subVectors(l,o),e.subVectors(a,o),t.cross(e),t.normalize(),r.normal.copy(t)}},computeVertexNormals:function(t){void 0===t&&(t=!0);var e,n,i,r,a,o;for(o=new Array(this.vertices.length),e=0,n=this.vertices.length;e<n;e++)o[e]=new s;if(t){var l,c,u,h=new s,d=new s;for(i=0,r=this.faces.length;i<r;i++)a=this.faces[i],l=this.vertices[a.a],c=this.vertices[a.b],u=this.vertices[a.c],h.subVectors(u,c),d.subVectors(l,c),h.cross(d),o[a.a].add(h),o[a.b].add(h),o[a.c].add(h)}else for(this.computeFaceNormals(),i=0,r=this.faces.length;i<r;i++)a=this.faces[i],o[a.a].add(a.normal),o[a.b].add(a.normal),o[a.c].add(a.normal);for(e=0,n=this.vertices.length;e<n;e++)o[e].normalize();for(i=0,r=this.faces.length;i<r;i++){a=this.faces[i];var p=a.vertexNormals;3===p.length?(p[0].copy(o[a.a]),p[1].copy(o[a.b]),p[2].copy(o[a.c])):(p[0]=o[a.a].clone(),p[1]=o[a.b].clone(),p[2]=o[a.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var t,e,n;for(this.computeFaceNormals(),t=0,e=this.faces.length;t<e;t++){n=this.faces[t];var i=n.vertexNormals;3===i.length?(i[0].copy(n.normal),i[1].copy(n.normal),i[2].copy(n.normal)):(i[0]=n.normal.clone(),i[1]=n.normal.clone(),i[2]=n.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var t,e,n,i,r;for(n=0,i=this.faces.length;n<i;n++)for(r=this.faces[n],r.__originalFaceNormal?r.__originalFaceNormal.copy(r.normal):r.__originalFaceNormal=r.normal.clone(),r.__originalVertexNormals||(r.__originalVertexNormals=[]),t=0,e=r.vertexNormals.length;t<e;t++)r.__originalVertexNormals[t]?r.__originalVertexNormals[t].copy(r.vertexNormals[t]):r.__originalVertexNormals[t]=r.vertexNormals[t].clone();var a=new C;for(a.faces=this.faces,t=0,e=this.morphTargets.length;t<e;t++){if(!this.morphNormals[t]){this.morphNormals[t]={},this.morphNormals[t].faceNormals=[],this.morphNormals[t].vertexNormals=[];var o,l,c=this.morphNormals[t].faceNormals,u=this.morphNormals[t].vertexNormals;for(n=0,i=this.faces.length;n<i;n++)o=new s,l={a:new s,b:new s,c:new s},c.push(o),u.push(l)}var h=this.morphNormals[t];a.vertices=this.morphTargets[t].vertices,a.computeFaceNormals(),a.computeVertexNormals();var o,l;for(n=0,i=this.faces.length;n<i;n++)r=this.faces[n],o=h.faceNormals[n],l=h.vertexNormals[n],o.copy(r.normal),l.a.copy(r.vertexNormals[0]),l.b.copy(r.vertexNormals[1]),l.c.copy(r.vertexNormals[2])}for(n=0,i=this.faces.length;n<i;n++)r=this.faces[n],r.normal=r.__originalFaceNormal,r.vertexNormals=r.__originalVertexNormals},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new f),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new g),this.boundingSphere.setFromPoints(this.vertices)},merge:function(t,e,n){if(!t||!t.isGeometry)return void console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",t);var i,r=this.vertices.length,a=this.vertices,o=t.vertices,s=this.faces,c=t.faces,u=this.faceVertexUvs[0],h=t.faceVertexUvs[0],d=this.colors,p=t.colors;void 0===n&&(n=0),void 0!==e&&(i=(new l).getNormalMatrix(e));for(var f=0,g=o.length;f<g;f++){var m=o[f],v=m.clone();void 0!==e&&v.applyMatrix4(e),a.push(v)}for(var f=0,g=p.length;f<g;f++)d.push(p[f].clone());for(f=0,g=c.length;f<g;f++){var y,x,_,b=c[f],w=b.vertexNormals,S=b.vertexColors;y=new M(b.a+r,b.b+r,b.c+r),y.normal.copy(b.normal),void 0!==i&&y.normal.applyMatrix3(i).normalize();for(var T=0,A=w.length;T<A;T++)x=w[T].clone(),void 0!==i&&x.applyMatrix3(i).normalize(),y.vertexNormals.push(x);y.color.copy(b.color);for(var T=0,A=S.length;T<A;T++)_=S[T],y.vertexColors.push(_.clone());y.materialIndex=b.materialIndex+n,s.push(y)}for(f=0,g=h.length;f<g;f++){var C=h[f],L=[];if(void 0!==C){for(var T=0,A=C.length;T<A;T++)L.push(C[T].clone());u.push(L)}}},mergeMesh:function(t){if(!t||!t.isMesh)return void console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",t);t.matrixAutoUpdate&&t.updateMatrix(),this.merge(t.geometry,t.matrix)},mergeVertices:function(){var t,e,n,i,r,a,o,s,l={},c=[],u=[],h=Math.pow(10,4);for(n=0,i=this.vertices.length;n<i;n++)t=this.vertices[n],e=Math.round(t.x*h)+"_"+Math.round(t.y*h)+"_"+Math.round(t.z*h),void 0===l[e]?(l[e]=n,c.push(this.vertices[n]),u[n]=c.length-1):u[n]=u[l[e]];var d=[];for(n=0,i=this.faces.length;n<i;n++){r=this.faces[n],r.a=u[r.a],r.b=u[r.b],r.c=u[r.c],a=[r.a,r.b,r.c];for(var p=0;p<3;p++)if(a[p]===a[(p+1)%3]){d.push(n);break}}for(n=d.length-1;n>=0;n--){var f=d[n];for(this.faces.splice(f,1),o=0,s=this.faceVertexUvs.length;o<s;o++)this.faceVertexUvs[o].splice(f,1)}var g=this.vertices.length-c.length;return this.vertices=c,g},setFromPoints:function(t){this.vertices=[];for(var e=0,n=t.length;e<n;e++){var i=t[e];this.vertices.push(new s(i.x,i.y,i.z||0))}return this},sortFacesByMaterialIndex:function(){function t(t,e){return t.materialIndex-e.materialIndex}for(var e=this.faces,n=e.length,i=0;i<n;i++)e[i]._id=i;e.sort(t);var r,a,o=this.faceVertexUvs[0],s=this.faceVertexUvs[1];o&&o.length===n&&(r=[]),s&&s.length===n&&(a=[]);for(var i=0;i<n;i++){var l=e[i]._id;r&&r.push(o[l]),a&&a.push(s[l])}r&&(this.faceVertexUvs[0]=r),a&&(this.faceVertexUvs[1]=a)},toJSON:function(){function t(t,e,n){return n?t|1<<e:t&~(1<<e)}function e(t){var e=t.x.toString()+t.y.toString()+t.z.toString();return void 0!==d[e]?d[e]:(d[e]=h.length/3,h.push(t.x,t.y,t.z),d[e])}function n(t){var e=t.r.toString()+t.g.toString()+t.b.toString();return void 0!==f[e]?f[e]:(f[e]=p.length,p.push(t.getHex()),f[e])}function i(t){var e=t.x.toString()+t.y.toString();return void 0!==m[e]?m[e]:(m[e]=g.length/2,g.push(t.x,t.y),m[e])}var r={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),void 0!==this.parameters){var a=this.parameters;for(var o in a)void 0!==a[o]&&(r[o]=a[o]);return r}for(var s=[],l=0;l<this.vertices.length;l++){var c=this.vertices[l];s.push(c.x,c.y,c.z)}for(var u=[],h=[],d={},p=[],f={},g=[],m={},l=0;l<this.faces.length;l++){var v=this.faces[l],y=void 0!==this.faceVertexUvs[0][l],x=v.normal.length()>0,_=v.vertexNormals.length>0,b=1!==v.color.r||1!==v.color.g||1!==v.color.b,w=v.vertexColors.length>0,M=0;if(M=t(M,0,0),M=t(M,1,!0),M=t(M,2,!1),M=t(M,3,y),M=t(M,4,x),M=t(M,5,_),M=t(M,6,b),M=t(M,7,w),u.push(M),u.push(v.a,v.b,v.c),u.push(v.materialIndex),y){var S=this.faceVertexUvs[0][l];u.push(i(S[0]),i(S[1]),i(S[2]))}if(x&&u.push(e(v.normal)),_){var T=v.vertexNormals;u.push(e(T[0]),e(T[1]),e(T[2]))}if(b&&u.push(n(v.color)),w){var A=v.vertexColors;u.push(n(A[0]),n(A[1]),n(A[2]))}}return r.data={},r.data.vertices=s,r.data.normals=h,p.length>0&&(r.data.colors=p),g.length>0&&(r.data.uvs=[g]),r.data.faces=u,r},clone:function(){return(new C).copy(this)},copy:function(t){var e,n,i,r,a,o;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;var s=t.vertices;for(e=0,n=s.length;e<n;e++)this.vertices.push(s[e].clone());var l=t.colors;for(e=0,n=l.length;e<n;e++)this.colors.push(l[e].clone());var c=t.faces;for(e=0,n=c.length;e<n;e++)this.faces.push(c[e].clone());for(e=0,n=t.faceVertexUvs.length;e<n;e++){var u=t.faceVertexUvs[e];for(void 0===this.faceVertexUvs[e]&&(this.faceVertexUvs[e]=[]),i=0,r=u.length;i<r;i++){var h=u[i],d=[];for(a=0,o=h.length;a<o;a++){var p=h[a];d.push(p.clone())}this.faceVertexUvs[e].push(d)}}var f=t.morphTargets;for(e=0,n=f.length;e<n;e++){var g={};if(g.name=f[e].name,void 0!==f[e].vertices)for(g.vertices=[],i=0,r=f[e].vertices.length;i<r;i++)g.vertices.push(f[e].vertices[i].clone());if(void 0!==f[e].normals)for(g.normals=[],i=0,r=f[e].normals.length;i<r;i++)g.normals.push(f[e].normals[i].clone());this.morphTargets.push(g)}var m=t.morphNormals;for(e=0,n=m.length;e<n;e++){var v={};if(void 0!==m[e].vertexNormals)for(v.vertexNormals=[],i=0,r=m[e].vertexNormals.length;i<r;i++){var y=m[e].vertexNormals[i],x={};x.a=y.a.clone(),x.b=y.b.clone(),x.c=y.c.clone(),v.vertexNormals.push(x)}if(void 0!==m[e].faceNormals)for(v.faceNormals=[],i=0,r=m[e].faceNormals.length;i<r;i++)v.faceNormals.push(m[e].faceNormals[i].clone());this.morphNormals.push(v)}var _=t.skinWeights;for(e=0,n=_.length;e<n;e++)this.skinWeights.push(_[e].clone());var b=t.skinIndices;for(e=0,n=b.length;e<n;e++)this.skinIndices.push(b[e].clone());var w=t.lineDistances;for(e=0,n=w.length;e<n;e++)this.lineDistances.push(w[e]);var M=t.boundingBox;null!==M&&(this.boundingBox=M.clone());var S=t.boundingSphere;return null!==S&&(this.boundingSphere=S.clone()),this.elementsNeedUpdate=t.elementsNeedUpdate,this.verticesNeedUpdate=t.verticesNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.lineDistancesNeedUpdate=t.lineDistancesNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(L.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(L.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setArray:function(t){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");return this.count=void 0!==t?t.length/this.itemSize:0,this.array=t,this},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.dynamic=t.dynamic,this},copyAt:function(t,e,n){t*=this.itemSize,n*=e.itemSize;for(var i=0,r=this.itemSize;i<r;i++)this.array[t+i]=e.array[n+i];return this},copyArray:function(t){return this.array.set(t),this},copyColorsArray:function(t){for(var e=this.array,n=0,i=0,r=t.length;i<r;i++){var a=t[i];void 0===a&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),a=new _),e[n++]=a.r,e[n++]=a.g,e[n++]=a.b}return this},copyVector2sArray:function(t){for(var e=this.array,n=0,i=0,a=t.length;i<a;i++){var o=t[i];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),o=new r),e[n++]=o.x,e[n++]=o.y}return this},copyVector3sArray:function(t){for(var e=this.array,n=0,i=0,r=t.length;i<r;i++){var a=t[i];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),a=new s),e[n++]=a.x,e[n++]=a.y,e[n++]=a.z}return this},copyVector4sArray:function(t){for(var e=this.array,n=0,i=0,r=t.length;i<r;i++){var a=t[i];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),a=new u),e[n++]=a.x,e[n++]=a.y,e[n++]=a.z,e[n++]=a.w}return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},getX:function(t){return this.array[t*this.itemSize]},setX:function(t,e){return this.array[t*this.itemSize]=e,this},getY:function(t){return this.array[t*this.itemSize+1]},setY:function(t,e){return this.array[t*this.itemSize+1]=e,this},getZ:function(t){return this.array[t*this.itemSize+2]},setZ:function(t,e){return this.array[t*this.itemSize+2]=e,this},getW:function(t){return this.array[t*this.itemSize+3]},setW:function(t,e){return this.array[t*this.itemSize+3]=e,this},setXY:function(t,e,n){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this},setXYZ:function(t,e,n,i){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=i,this},setXYZW:function(t,e,n,i,r){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=i,this.array[t+3]=r,this},onUpload:function(t){return this.onUploadCallback=t,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)}}),E.prototype=Object.create(L.prototype),E.prototype.constructor=E,I.prototype=Object.create(L.prototype),I.prototype.constructor=I,P.prototype=Object.create(L.prototype),P.prototype.constructor=P,D.prototype=Object.create(L.prototype),D.prototype.constructor=D,R.prototype=Object.create(L.prototype),R.prototype.constructor=R,O.prototype=Object.create(L.prototype),O.prototype.constructor=O,k.prototype=Object.create(L.prototype),k.prototype.constructor=k,N.prototype=Object.create(L.prototype),N.prototype.constructor=N,z.prototype=Object.create(L.prototype),z.prototype.constructor=z,Object.assign(B.prototype,{computeGroups:function(t){for(var e,n=[],i=void 0,r=t.faces,a=0;a<r.length;a++){var o=r[a];o.materialIndex!==i&&(i=o.materialIndex,void 0!==e&&(e.count=3*a-e.start,n.push(e)),e={start:3*a,materialIndex:i})}void 0!==e&&(e.count=3*a-e.start,n.push(e)),this.groups=n},fromGeometry:function(t){var e,n=t.faces,i=t.vertices,a=t.faceVertexUvs,o=a[0]&&a[0].length>0,s=a[1]&&a[1].length>0,l=t.morphTargets,c=l.length;if(c>0){e=[];for(var u=0;u<c;u++)e[u]={name:l[u].name,data:[]};this.morphTargets.position=e}var h,d=t.morphNormals,p=d.length;if(p>0){h=[];for(var u=0;u<p;u++)h[u]={name:d[u].name,data:[]};this.morphTargets.normal=h}var f=t.skinIndices,g=t.skinWeights,m=f.length===i.length,v=g.length===i.length;i.length>0&&0===n.length&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(var u=0;u<n.length;u++){var y=n[u];this.vertices.push(i[y.a],i[y.b],i[y.c]);var x=y.vertexNormals;if(3===x.length)this.normals.push(x[0],x[1],x[2]);else{var _=y.normal;this.normals.push(_,_,_)}var b=y.vertexColors;if(3===b.length)this.colors.push(b[0],b[1],b[2]);else{var w=y.color;this.colors.push(w,w,w)}if(!0===o){var M=a[0][u];void 0!==M?this.uvs.push(M[0],M[1],M[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",u),this.uvs.push(new r,new r,new r))}if(!0===s){var M=a[1][u];void 0!==M?this.uvs2.push(M[0],M[1],M[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",u),this.uvs2.push(new r,new r,new r))}for(var S=0;S<c;S++){var T=l[S].vertices;e[S].data.push(T[y.a],T[y.b],T[y.c])}for(var S=0;S<p;S++){var A=d[S].vertexNormals[u];h[S].data.push(A.a,A.b,A.c)}m&&this.skinIndices.push(f[y.a],f[y.b],f[y.c]),v&&this.skinWeights.push(g[y.a],g[y.b],g[y.c])}return this.computeGroups(t),this.verticesNeedUpdate=t.verticesNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this}});var nc=1;F.prototype=Object.assign(Object.create(i.prototype),{constructor:F,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(t){Array.isArray(t)?this.index=new(V(t)>65535?k:R)(t,1):this.index=t},addAttribute:function(t,e){return e&&e.isBufferAttribute||e&&e.isInterleavedBufferAttribute?"index"===t?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(e),this):(this.attributes[t]=e,this):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.addAttribute(t,new L(arguments[1],arguments[2])))},getAttribute:function(t){return this.attributes[t]},removeAttribute:function(t){return delete this.attributes[t],this},addGroup:function(t,e,n){this.groups.push({start:t,count:e,materialIndex:void 0!==n?n:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(t,e){this.drawRange.start=t,this.drawRange.count=e},applyMatrix:function(t){var e=this.attributes.position;void 0!==e&&(t.applyToBufferAttribute(e),e.needsUpdate=!0);var n=this.attributes.normal;if(void 0!==n){(new l).getNormalMatrix(t).applyToBufferAttribute(n),n.needsUpdate=!0}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(){var t=new a;return function(e){return t.makeRotationX(e),this.applyMatrix(t),this}}(),rotateY:function(){var t=new a;return function(e){return t.makeRotationY(e),this.applyMatrix(t),this}}(),rotateZ:function(){var t=new a;return function(e){return t.makeRotationZ(e),this.applyMatrix(t),this}}(),translate:function(){var t=new a;return function(e,n,i){return t.makeTranslation(e,n,i),this.applyMatrix(t),this}}(),scale:function(){var t=new a;return function(e,n,i){return t.makeScale(e,n,i),this.applyMatrix(t),this}}(),lookAt:function(){var t=new A;return function(e){t.lookAt(e),t.updateMatrix(),this.applyMatrix(t.matrix)}}(),center:function(){var t=new s;return function(){return this.computeBoundingBox(),this.boundingBox.getCenter(t).negate(),this.translate(t.x,t.y,t.z),this}}(),setFromObject:function(t){var e=t.geometry;if(t.isPoints||t.isLine){var n=new N(3*e.vertices.length,3),i=new N(3*e.colors.length,3);if(this.addAttribute("position",n.copyVector3sArray(e.vertices)),this.addAttribute("color",i.copyColorsArray(e.colors)),e.lineDistances&&e.lineDistances.length===e.vertices.length){var r=new N(e.lineDistances.length,1);this.addAttribute("lineDistance",r.copyArray(e.lineDistances))}null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone())}else t.isMesh&&e&&e.isGeometry&&this.fromGeometry(e);return this},setFromPoints:function(t){for(var e=[],n=0,i=t.length;n<i;n++){var r=t[n];e.push(r.x,r.y,r.z||0)}return this.addAttribute("position",new N(e,3)),this},updateFromObject:function(t){var e=t.geometry;if(t.isMesh){var n=e.__directGeometry;if(!0===e.elementsNeedUpdate&&(n=void 0,e.elementsNeedUpdate=!1),void 0===n)return this.fromGeometry(e);n.verticesNeedUpdate=e.verticesNeedUpdate,n.normalsNeedUpdate=e.normalsNeedUpdate,n.colorsNeedUpdate=e.colorsNeedUpdate,n.uvsNeedUpdate=e.uvsNeedUpdate,n.groupsNeedUpdate=e.groupsNeedUpdate,e.verticesNeedUpdate=!1,e.normalsNeedUpdate=!1,e.colorsNeedUpdate=!1,e.uvsNeedUpdate=!1,e.groupsNeedUpdate=!1,e=n}var i;return!0===e.verticesNeedUpdate&&(i=this.attributes.position,void 0!==i&&(i.copyVector3sArray(e.vertices),i.needsUpdate=!0),e.verticesNeedUpdate=!1),!0===e.normalsNeedUpdate&&(i=this.attributes.normal,void 0!==i&&(i.copyVector3sArray(e.normals),i.needsUpdate=!0),e.normalsNeedUpdate=!1),!0===e.colorsNeedUpdate&&(i=this.attributes.color,void 0!==i&&(i.copyColorsArray(e.colors),i.needsUpdate=!0),e.colorsNeedUpdate=!1),e.uvsNeedUpdate&&(i=this.attributes.uv,void 0!==i&&(i.copyVector2sArray(e.uvs),i.needsUpdate=!0),e.uvsNeedUpdate=!1),e.lineDistancesNeedUpdate&&(i=this.attributes.lineDistance,void 0!==i&&(i.copyArray(e.lineDistances),i.needsUpdate=!0),e.lineDistancesNeedUpdate=!1),e.groupsNeedUpdate&&(e.computeGroups(t.geometry),this.groups=e.groups,e.groupsNeedUpdate=!1),this},fromGeometry:function(t){return t.__directGeometry=(new B).fromGeometry(t),this.fromDirectGeometry(t.__directGeometry)},fromDirectGeometry:function(t){var e=new Float32Array(3*t.vertices.length);if(this.addAttribute("position",new L(e,3).copyVector3sArray(t.vertices)),t.normals.length>0){var n=new Float32Array(3*t.normals.length);this.addAttribute("normal",new L(n,3).copyVector3sArray(t.normals))}if(t.colors.length>0){var i=new Float32Array(3*t.colors.length);this.addAttribute("color",new L(i,3).copyColorsArray(t.colors))}if(t.uvs.length>0){var r=new Float32Array(2*t.uvs.length);this.addAttribute("uv",new L(r,2).copyVector2sArray(t.uvs))}if(t.uvs2.length>0){var a=new Float32Array(2*t.uvs2.length);this.addAttribute("uv2",new L(a,2).copyVector2sArray(t.uvs2))}this.groups=t.groups;for(var o in t.morphTargets){for(var s=[],l=t.morphTargets[o],c=0,u=l.length;c<u;c++){var h=l[c],d=new N(3*h.data.length,3);d.name=h.name,s.push(d.copyVector3sArray(h.data))}this.morphAttributes[o]=s}if(t.skinIndices.length>0){var p=new N(4*t.skinIndices.length,4);this.addAttribute("skinIndex",p.copyVector4sArray(t.skinIndices))}if(t.skinWeights.length>0){var f=new N(4*t.skinWeights.length,4);this.addAttribute("skinWeight",f.copyVector4sArray(t.skinWeights))}return null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new f);var t=this.attributes.position;void 0!==t?this.boundingBox.setFromBufferAttribute(t):this.boundingBox.makeEmpty(),(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){var t=new f,e=new s;return function(){null===this.boundingSphere&&(this.boundingSphere=new g);var n=this.attributes.position;if(n){var i=this.boundingSphere.center;t.setFromBufferAttribute(n),t.getCenter(i);for(var r=0,a=0,o=n.count;a<o;a++)e.x=n.getX(a),e.y=n.getY(a),e.z=n.getZ(a),r=Math.max(r,i.distanceToSquared(e));this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var t=this.index,e=this.attributes;if(e.position){var n=e.position.array;if(void 0===e.normal)this.addAttribute("normal",new L(new Float32Array(n.length),3));else for(var i=e.normal.array,r=0,a=i.length;r<a;r++)i[r]=0;var o,l,c,u=e.normal.array,h=new s,d=new s,p=new s,f=new s,g=new s;if(t)for(var m=t.array,r=0,a=t.count;r<a;r+=3)o=3*m[r+0],l=3*m[r+1],c=3*m[r+2],h.fromArray(n,o),d.fromArray(n,l),p.fromArray(n,c),f.subVectors(p,d),g.subVectors(h,d),f.cross(g),u[o]+=f.x,u[o+1]+=f.y,u[o+2]+=f.z,u[l]+=f.x,u[l+1]+=f.y,u[l+2]+=f.z,u[c]+=f.x,u[c+1]+=f.y,u[c+2]+=f.z;else for(var r=0,a=n.length;r<a;r+=9)h.fromArray(n,r),d.fromArray(n,r+3),p.fromArray(n,r+6),f.subVectors(p,d),g.subVectors(h,d),f.cross(g),u[r]=f.x,u[r+1]=f.y,u[r+2]=f.z,u[r+3]=f.x,u[r+4]=f.y,u[r+5]=f.z,u[r+6]=f.x,u[r+7]=f.y,u[r+8]=f.z;this.normalizeNormals(),e.normal.needsUpdate=!0}},merge:function(t,e){if(!t||!t.isBufferGeometry)return void console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",t);void 0===e&&(e=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var n=this.attributes;for(var i in n)if(void 0!==t.attributes[i])for(var r=n[i],a=r.array,o=t.attributes[i],s=o.array,l=o.itemSize,c=0,u=l*e;c<s.length;c++,u++)a[u]=s[c];return this},normalizeNormals:function(){var t=new s;return function(){for(var e=this.attributes.normal,n=0,i=e.count;n<i;n++)t.x=e.getX(n),t.y=e.getY(n),t.z=e.getZ(n),t.normalize(),e.setXYZ(n,t.x,t.y,t.z)}}(),toNonIndexed:function(){if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var t=new F,e=this.index.array,n=this.attributes;for(var i in n){for(var r=n[i],a=r.array,o=r.itemSize,s=new a.constructor(e.length*o),l=0,c=0,u=0,h=e.length;u<h;u++){l=e[u]*o;for(var d=0;d<o;d++)s[c++]=a[l++]}t.addAttribute(i,new L(s,o))}for(var p=this.groups,u=0,h=p.length;u<h;u++){var f=p[u];t.addGroup(f.start,f.count,f.materialIndex)}return t},toJSON:function(){var t={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),void 0!==this.parameters){var e=this.parameters;for(var n in e)void 0!==e[n]&&(t[n]=e[n]);return t}t.data={attributes:{}};var i=this.index;if(null!==i){var r=Array.prototype.slice.call(i.array);t.data.index={type:i.array.constructor.name,array:r}}var a=this.attributes;for(var n in a){var o=a[n],r=Array.prototype.slice.call(o.array);t.data.attributes[n]={itemSize:o.itemSize,type:o.array.constructor.name,array:r,normalized:o.normalized}}var s=this.groups;s.length>0&&(t.data.groups=JSON.parse(JSON.stringify(s)));var l=this.boundingSphere;return null!==l&&(t.data.boundingSphere={center:l.center.toArray(),radius:l.radius}),t},clone:function(){return(new F).copy(this)},copy:function(t){var e,n,i;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;var r=t.index;null!==r&&this.setIndex(r.clone());var a=t.attributes;for(e in a){var o=a[e];this.addAttribute(e,o.clone())}var s=t.morphAttributes;for(e in s){var l=[],c=s[e];for(n=0,i=c.length;n<i;n++)l.push(c[n].clone());this.morphAttributes[e]=l}var u=t.groups;for(n=0,i=u.length;n<i;n++){var h=u[n];this.addGroup(h.start,h.count,h.materialIndex)}var d=t.boundingBox;null!==d&&(this.boundingBox=d.clone());var p=t.boundingSphere;return null!==p&&(this.boundingSphere=p.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),G.prototype=Object.create(C.prototype),G.prototype.constructor=G,H.prototype=Object.create(F.prototype),H.prototype.constructor=H,U.prototype=Object.create(C.prototype),U.prototype.constructor=U,j.prototype=Object.create(F.prototype),j.prototype.constructor=j;var ic=0;W.prototype=Object.assign(Object.create(i.prototype),{constructor:W,isMaterial:!0,onBeforeCompile:function(){},setValues:function(t){if(void 0!==t)for(var e in t){var n=t[e];if(void 0!==n)if("shading"!==e){var i=this[e];void 0!==i?i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[e]=n:console.warn("THREE."+this.type+": '"+e+"' is not a property of this material.")}else console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=n===So;else console.warn("THREE.Material: '"+e+"' parameter is undefined.")}},toJSON:function(t){function e(t){var e=[];for(var n in t){var i=t[n];delete i.metadata,e.push(i)}return e}var n=void 0===t||"string"==typeof t;n&&(t={textures:{},images:{}});var i={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),void 0!==this.roughness&&(i.roughness=this.roughness),void 0!==this.metalness&&(i.metalness=this.metalness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),1!==this.emissiveIntensity&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),void 0!==this.shininess&&(i.shininess=this.shininess),void 0!==this.clearCoat&&(i.clearCoat=this.clearCoat),void 0!==this.clearCoatRoughness&&(i.clearCoatRoughness=this.clearCoatRoughness),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(t).uuid),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(t).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(t).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(t).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(t).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(t).uuid,i.reflectivity=this.reflectivity,void 0!==this.combine&&(i.combine=this.combine),void 0!==this.envMapIntensity&&(i.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.size&&(i.size=this.size),void 0!==this.sizeAttenuation&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Io&&(i.blending=this.blending),!0===this.flatShading&&(i.flatShading=this.flatShading),this.side!==bo&&(i.side=this.side),this.vertexColors!==Ao&&(i.vertexColors=this.vertexColors),this.opacity<1&&(i.opacity=this.opacity),!0===this.transparent&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,0!==this.rotation&&(i.rotation=this.rotation),!0===this.polygonOffset&&(i.polygonOffset=!0),0!==this.polygonOffsetFactor&&(i.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(i.polygonOffsetUnits=this.polygonOffsetUnits),1!==this.linewidth&&(i.linewidth=this.linewidth),void 0!==this.dashSize&&(i.dashSize=this.dashSize),void 0!==this.gapSize&&(i.gapSize=this.gapSize),void 0!==this.scale&&(i.scale=this.scale),!0===this.dithering&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(i.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(i.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(i.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(i.morphTargets=!0),!0===this.skinning&&(i.skinning=!0),!1===this.visible&&(i.visible=!1),"{}"!==JSON.stringify(this.userData)&&(i.userData=this.userData),n){var r=e(t.textures),a=e(t.images);r.length>0&&(i.textures=r),a.length>0&&(i.images=a)}return i},clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.name=t.name,this.fog=t.fog,this.lights=t.lights,this.blending=t.blending,this.side=t.side,this.flatShading=t.flatShading,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.premultipliedAlpha=t.premultipliedAlpha,this.visible=t.visible,this.userData=JSON.parse(JSON.stringify(t.userData)),this.clipShadows=t.clipShadows,this.clipIntersection=t.clipIntersection;var e=t.clippingPlanes,n=null;if(null!==e){var i=e.length;n=new Array(i);for(var r=0;r!==i;++r)n[r]=e[r].clone()}return this.clippingPlanes=n,this.shadowSide=t.shadowSide,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),$.prototype=Object.create(W.prototype),$.prototype.constructor=$,$.prototype.isShaderMaterial=!0,$.prototype.copy=function(t){return W.prototype.copy.call(this,t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=y(t.uniforms),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.lights=t.lights,this.clipping=t.clipping,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.extensions=t.extensions,this},$.prototype.toJSON=function(t){var e=W.prototype.toJSON.call(this,t);e.uniforms={};for(var n in this.uniforms){var i=this.uniforms[n],r=i.value;r.isTexture?e.uniforms[n]={type:"t",value:r.toJSON(t).uuid}:r.isColor?e.uniforms[n]={type:"c",value:r.getHex()}:r.isVector2?e.uniforms[n]={type:"v2",value:r.toArray()}:r.isVector3?e.uniforms[n]={type:"v3",value:r.toArray()}:r.isVector4?e.uniforms[n]={type:"v4",value:r.toArray()}:r.isMatrix4?e.uniforms[n]={type:"m4",value:r.toArray()}:e.uniforms[n]={value:r}}return Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e},Object.assign(Y.prototype,{set:function(t,e){return this.origin.copy(t),this.direction.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this},at:function(t,e){return void 0===e&&(console.warn("THREE.Ray: .at() target is now required"),e=new s),e.copy(this.direction).multiplyScalar(t).add(this.origin)},lookAt:function(t){return this.direction.copy(t).sub(this.origin).normalize(),this},recast:function(){var t=new s;return function(e){return this.origin.copy(this.at(e,t)),this}}(),closestPointToPoint:function(t,e){void 0===e&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),e=new s),e.subVectors(t,this.origin);var n=e.dot(this.direction);return n<0?e.copy(this.origin):e.copy(this.direction).multiplyScalar(n).add(this.origin)},distanceToPoint:function(t){return Math.sqrt(this.distanceSqToPoint(t))},distanceSqToPoint:function(){var t=new s;return function(e){var n=t.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(t.copy(this.direction).multiplyScalar(n).add(this.origin),t.distanceToSquared(e))}}(),distanceSqToSegment:function(){var t=new s,e=new s,n=new s;return function(i,r,a,o){t.copy(i).add(r).multiplyScalar(.5),e.copy(r).sub(i).normalize(),n.copy(this.origin).sub(t);var s,l,c,u,h=.5*i.distanceTo(r),d=-this.direction.dot(e),p=n.dot(this.direction),f=-n.dot(e),g=n.lengthSq(),m=Math.abs(1-d*d);if(m>0)if(s=d*f-p,l=d*p-f,u=h*m,s>=0)if(l>=-u)if(l<=u){var v=1/m;s*=v,l*=v,c=s*(s+d*l+2*p)+l*(d*s+l+2*f)+g}else l=h,s=Math.max(0,-(d*l+p)),c=-s*s+l*(l+2*f)+g;else l=-h,s=Math.max(0,-(d*l+p)),c=-s*s+l*(l+2*f)+g;else l<=-u?(s=Math.max(0,-(-d*h+p)),l=s>0?-h:Math.min(Math.max(-h,-f),h),c=-s*s+l*(l+2*f)+g):l<=u?(s=0,l=Math.min(Math.max(-h,-f),h),c=l*(l+2*f)+g):(s=Math.max(0,-(d*h+p)),l=s>0?h:Math.min(Math.max(-h,-f),h),c=-s*s+l*(l+2*f)+g);else l=d>0?-h:h,s=Math.max(0,-(d*l+p)),c=-s*s+l*(l+2*f)+g;return a&&a.copy(this.direction).multiplyScalar(s).add(this.origin),o&&o.copy(e).multiplyScalar(l).add(t),c}}(),intersectSphere:function(){var t=new s;return function(e,n){t.subVectors(e.center,this.origin);var i=t.dot(this.direction),r=t.dot(t)-i*i,a=e.radius*e.radius;if(r>a)return null;var o=Math.sqrt(a-r),s=i-o,l=i+o;return s<0&&l<0?null:s<0?this.at(l,n):this.at(s,n)}}(),intersectsSphere:function(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius},distanceToPlane:function(t){var e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(t.normal)+t.constant)/e;return n>=0?n:null},intersectPlane:function(t,e){var n=this.distanceToPlane(t);return null===n?null:this.at(n,e)},intersectsPlane:function(t){var e=t.distanceToPoint(this.origin);return 0===e||t.normal.dot(this.direction)*e<0},intersectBox:function(t,e){var n,i,r,a,o,s,l=1/this.direction.x,c=1/this.direction.y,u=1/this.direction.z,h=this.origin;return l>=0?(n=(t.min.x-h.x)*l,i=(t.max.x-h.x)*l):(n=(t.max.x-h.x)*l,i=(t.min.x-h.x)*l),c>=0?(r=(t.min.y-h.y)*c,a=(t.max.y-h.y)*c):(r=(t.max.y-h.y)*c,a=(t.min.y-h.y)*c),n>a||r>i?null:((r>n||n!==n)&&(n=r),(a<i||i!==i)&&(i=a),u>=0?(o=(t.min.z-h.z)*u,s=(t.max.z-h.z)*u):(o=(t.max.z-h.z)*u,s=(t.min.z-h.z)*u),n>s||o>i?null:((o>n||n!==n)&&(n=o),(s<i||i!==i)&&(i=s),i<0?null:this.at(n>=0?n:i,e)))},intersectsBox:function(){var t=new s;return function(e){return null!==this.intersectBox(e,t)}}(),intersectTriangle:function(){var t=new s,e=new s,n=new s,i=new s;return function(r,a,o,s,l){e.subVectors(a,r),n.subVectors(o,r),i.crossVectors(e,n);var c,u=this.direction.dot(i);if(u>0){if(s)return null;c=1}else{if(!(u<0))return null;c=-1,u=-u}t.subVectors(this.origin,r);var h=c*this.direction.dot(n.crossVectors(t,n));if(h<0)return null;var d=c*this.direction.dot(e.cross(t));if(d<0)return null;if(h+d>u)return null;var p=-c*t.dot(i);return p<0?null:this.at(p/u,l)}}(),applyMatrix4:function(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this},equals:function(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}}),Object.assign(X,{getNormal:function(){var t=new s;return function(e,n,i,r){void 0===r&&(console.warn("THREE.Triangle: .getNormal() target is now required"),r=new s),r.subVectors(i,n),t.subVectors(e,n),r.cross(t);var a=r.lengthSq();return a>0?r.multiplyScalar(1/Math.sqrt(a)):r.set(0,0,0)}}(),getBarycoord:function(){var t=new s,e=new s,n=new s;return function(i,r,a,o,l){t.subVectors(o,r),e.subVectors(a,r),n.subVectors(i,r);var c=t.dot(t),u=t.dot(e),h=t.dot(n),d=e.dot(e),p=e.dot(n),f=c*d-u*u;if(void 0===l&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),l=new s),0===f)return l.set(-2,-1,-1);var g=1/f,m=(d*h-u*p)*g,v=(c*p-u*h)*g;return l.set(1-m-v,v,m)}}(),containsPoint:function(){var t=new s;return function(e,n,i,r){return X.getBarycoord(e,n,i,r,t),t.x>=0&&t.y>=0&&t.x+t.y<=1}}(),getUV:function(){var t=new s;return function(e,n,i,r,a,o,s,l){return this.getBarycoord(e,n,i,r,t),l.set(0,0),l.addScaledVector(a,t.x),l.addScaledVector(o,t.y),l.addScaledVector(s,t.z),l}}()}),Object.assign(X.prototype,{set:function(t,e,n){return this.a.copy(t),this.b.copy(e),this.c.copy(n),this},setFromPointsAndIndices:function(t,e,n,i){return this.a.copy(t[e]),this.b.copy(t[n]),this.c.copy(t[i]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this},getArea:function(){var t=new s,e=new s;return function(){return t.subVectors(this.c,this.b),e.subVectors(this.a,this.b),.5*t.cross(e).length()}}(),getMidpoint:function(t){return void 0===t&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),t=new s),t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function(t){return X.getNormal(this.a,this.b,this.c,t)},getPlane:function(t){return void 0===t&&(console.warn("THREE.Triangle: .getPlane() target is now required"),t=new s),t.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function(t,e){return X.getBarycoord(t,this.a,this.b,this.c,e)},containsPoint:function(t){return X.containsPoint(t,this.a,this.b,this.c)},getUV:function(t,e,n,i,r){return X.getUV(t,this.a,this.b,this.c,e,n,i,r)},intersectsBox:function(t){return t.intersectsTriangle(this)},closestPointToPoint:function(){var t=new s,e=new s,n=new s,i=new s,r=new s,a=new s;return function(o,l){void 0===l&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),l=new s);var c,u,h=this.a,d=this.b,p=this.c;t.subVectors(d,h),e.subVectors(p,h),i.subVectors(o,h);var f=t.dot(i),g=e.dot(i);if(f<=0&&g<=0)return l.copy(h);r.subVectors(o,d);var m=t.dot(r),v=e.dot(r);if(m>=0&&v<=m)return l.copy(d);var y=f*v-m*g;if(y<=0&&f>=0&&m<=0)return c=f/(f-m),l.copy(h).addScaledVector(t,c);a.subVectors(o,p);var x=t.dot(a),_=e.dot(a);if(_>=0&&x<=_)return l.copy(p);var b=x*g-f*_;if(b<=0&&g>=0&&_<=0)return u=g/(g-_),l.copy(h).addScaledVector(e,u);var w=m*_-x*v;if(w<=0&&v-m>=0&&x-_>=0)return n.subVectors(p,d),u=(v-m)/(v-m+(x-_)),l.copy(d).addScaledVector(n,u);var M=1/(w+b+y);return c=b*M,u=y*M,l.copy(h).addScaledVector(t,c).addScaledVector(e,u)}}(),equals:function(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}),q.prototype=Object.create(W.prototype),q.prototype.constructor=q,q.prototype.isMeshBasicMaterial=!0,q.prototype.copy=function(t){return W.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this},Z.prototype=Object.assign(Object.create(A.prototype),{constructor:Z,isMesh:!0,setDrawMode:function(t){this.drawMode=t},copy:function(t){return A.prototype.copy.call(this,t),this.drawMode=t.drawMode,void 0!==t.morphTargetInfluences&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),void 0!==t.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this},updateMorphTargets:function(){var t,e,n,i=this.geometry;if(i.isBufferGeometry){var r=i.morphAttributes,a=Object.keys(r);if(a.length>0){var o=r[a[0]];if(void 0!==o)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},t=0,e=o.length;t<e;t++)n=o[t].name||String(t),this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=t}}else{var s=i.morphTargets;if(void 0!==s&&s.length>0)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},t=0,e=s.length;t<e;t++)n=s[t].name||String(t),this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=t}},raycast:function(){function t(t,e,n,i,r,a,o,s){if(null===(e.side===wo?i.intersectTriangle(o,a,r,!0,s):i.intersectTriangle(r,a,o,e.side!==Mo,s)))return null;x.copy(s),x.applyMatrix4(t.matrixWorld);var l=n.ray.origin.distanceTo(x);return l<n.near||l>n.far?null:{distance:l,point:x.clone(),object:t}}function e(e,n,i,a,o,s,h,d,p){l.fromBufferAttribute(o,h),c.fromBufferAttribute(o,d),u.fromBufferAttribute(o,p);var g=t(e,n,i,a,l,c,u,y);if(g){s&&(f.fromBufferAttribute(s,h),m.fromBufferAttribute(s,d),v.fromBufferAttribute(s,p),g.uv=X.getUV(y,l,c,u,f,m,v,new r));var x=new M(h,d,p);X.getNormal(l,c,u,x.normal),g.face=x}return g}var n=new a,i=new Y,o=new g,l=new s,c=new s,u=new s,h=new s,d=new s,p=new s,f=new r,m=new r,v=new r,y=new s,x=new s;return function(a,s){var g=this.geometry,x=this.material,_=this.matrixWorld;if(void 0!==x&&(null===g.boundingSphere&&g.computeBoundingSphere(),o.copy(g.boundingSphere),o.applyMatrix4(_),!1!==a.ray.intersectsSphere(o)&&(n.getInverse(_),i.copy(a.ray).applyMatrix4(n),null===g.boundingBox||!1!==i.intersectsBox(g.boundingBox)))){var b;if(g.isBufferGeometry){var w,M,S,T,A,C,L,E,I,P,D,R=g.index,O=g.attributes.position,k=g.attributes.uv,N=g.groups,z=g.drawRange;if(null!==R)if(Array.isArray(x))for(T=0,C=N.length;T<C;T++)for(E=N[T],I=x[E.materialIndex],P=Math.max(E.start,z.start),D=Math.min(E.start+E.count,z.start+z.count),A=P,L=D;A<L;A+=3)w=R.getX(A),M=R.getX(A+1),S=R.getX(A+2),(b=e(this,I,a,i,O,k,w,M,S))&&(b.faceIndex=Math.floor(A/3),s.push(b));else for(P=Math.max(0,z.start),D=Math.min(R.count,z.start+z.count),T=P,C=D;T<C;T+=3)w=R.getX(T),M=R.getX(T+1),S=R.getX(T+2),(b=e(this,x,a,i,O,k,w,M,S))&&(b.faceIndex=Math.floor(T/3),s.push(b));else if(void 0!==O)if(Array.isArray(x))for(T=0,C=N.length;T<C;T++)for(E=N[T],I=x[E.materialIndex],P=Math.max(E.start,z.start),D=Math.min(E.start+E.count,z.start+z.count),A=P,L=D;A<L;A+=3)w=A,M=A+1,S=A+2,(b=e(this,I,a,i,O,k,w,M,S))&&(b.faceIndex=Math.floor(A/3),s.push(b));else for(P=Math.max(0,z.start),D=Math.min(O.count,z.start+z.count),T=P,C=D;T<C;T+=3)w=T,M=T+1,S=T+2,(b=e(this,x,a,i,O,k,w,M,S))&&(b.faceIndex=Math.floor(T/3),s.push(b))}else if(g.isGeometry){var B,V,F,G,H=Array.isArray(x),U=g.vertices,j=g.faces,W=g.faceVertexUvs[0];W.length>0&&(G=W);for(var $=0,Y=j.length;$<Y;$++){var q=j[$],Z=H?x[q.materialIndex]:x;if(void 0!==Z){if(B=U[q.a],V=U[q.b],F=U[q.c],!0===Z.morphTargets){var J=g.morphTargets,K=this.morphTargetInfluences;l.set(0,0,0),c.set(0,0,0),u.set(0,0,0);for(var Q=0,tt=J.length;Q<tt;Q++){var et=K[Q];if(0!==et){var nt=J[Q].vertices;l.addScaledVector(h.subVectors(nt[q.a],B),et),c.addScaledVector(d.subVectors(nt[q.b],V),et),u.addScaledVector(p.subVectors(nt[q.c],F),et)}}l.add(B),c.add(V),u.add(F),B=l,V=c,F=u}if(b=t(this,Z,a,i,B,V,F,y)){if(G&&G[$]){var it=G[$];f.copy(it[0]),m.copy(it[1]),v.copy(it[2]),b.uv=X.getUV(y,B,V,F,f,m,v,new r)}b.face=q,b.faceIndex=$,s.push(b)}}}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),lt.prototype=Object.create(c.prototype),lt.prototype.constructor=lt,lt.prototype.isCubeTexture=!0,Object.defineProperty(lt.prototype,"images",{get:function(){return this.image},set:function(t){this.image=t}}),ct.prototype=Object.create(c.prototype),ct.prototype.constructor=ct,ct.prototype.isDataTexture3D=!0;var rc=new c,ac=new ct,oc=new lt,sc=[],lc=[],cc=new Float32Array(16),uc=new Float32Array(9),hc=new Float32Array(4);Ht.prototype.updateCache=function(t){var e=this.cache;t instanceof Float32Array&&e.length!==t.length&&(this.cache=new Float32Array(t.length)),pt(e,t)},Ut.prototype.setValue=function(t,e,n){for(var i=this.seq,r=0,a=i.length;r!==a;++r){var o=i[r];o.setValue(t,e[o.id],n)}};var dc=/([\w\d_]+)(\])?(\[|\.)?/g;$t.prototype.setValue=function(t,e,n){var i=this.map[e];void 0!==i&&i.setValue(t,n,this.renderer)},$t.prototype.setOptional=function(t,e,n){var i=e[n];void 0!==i&&this.setValue(t,n,i)},$t.upload=function(t,e,n,i){for(var r=0,a=e.length;r!==a;++r){var o=e[r],s=n[o.id];!1!==s.needsUpdate&&o.setValue(t,s.value,i)}},$t.seqWithValue=function(t,e){for(var n=[],i=0,r=t.length;i!==r;++i){var a=t[i];a.id in e&&n.push(a)}return n};var pc=0,fc=0;ye.prototype=Object.create(W.prototype),ye.prototype.constructor=ye,ye.prototype.isMeshDepthMaterial=!0,ye.prototype.copy=function(t){return W.prototype.copy.call(this,t),this.depthPacking=t.depthPacking,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this},xe.prototype=Object.create(W.prototype),xe.prototype.constructor=xe,xe.prototype.isMeshDistanceMaterial=!0,xe.prototype.copy=function(t){return W.prototype.copy.call(this,t),this.referencePosition.copy(t.referencePosition),this.nearDistance=t.nearDistance,this.farDistance=t.farDistance,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this},Se.prototype=Object.assign(Object.create(A.prototype),{constructor:Se,isGroup:!0}),Te.prototype=Object.assign(Object.create(A.prototype),{constructor:Te,isCamera:!0,copy:function(t,e){return A.prototype.copy.call(this,t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this},getWorldDirection:function(t){void 0===t&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),t=new s),this.updateMatrixWorld(!0);var e=this.matrixWorld.elements;return t.set(-e[8],-e[9],-e[10]).normalize()},updateMatrixWorld:function(t){A.prototype.updateMatrixWorld.call(this,t),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}}),Ae.prototype=Object.assign(Object.create(Te.prototype),{constructor:Ae,isPerspectiveCamera:!0,copy:function(t,e){return Te.prototype.copy.call(this,t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this},setFocalLength:function(t){var e=.5*this.getFilmHeight()/t;this.fov=2*Wl.RAD2DEG*Math.atan(e),this.updateProjectionMatrix()},getFocalLength:function(){var t=Math.tan(.5*Wl.DEG2RAD*this.fov);return.5*this.getFilmHeight()/t},getEffectiveFOV:function(){return 2*Wl.RAD2DEG*Math.atan(Math.tan(.5*Wl.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(t,e,n,i,r,a){this.aspect=t/e,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=a,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=this.near,e=t*Math.tan(.5*Wl.DEG2RAD*this.fov)/this.zoom,n=2*e,i=this.aspect*n,r=-.5*i,a=this.view;if(null!==this.view&&this.view.enabled){var o=a.fullWidth,s=a.fullHeight;r+=a.offsetX*i/o,e-=a.offsetY*n/s,i*=a.width/o,n*=a.height/s}var l=this.filmOffset;0!==l&&(r+=t*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+i,e,e-n,t,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(t){var e=A.prototype.toJSON.call(this,t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}),Ce.prototype=Object.assign(Object.create(Ae.prototype),{constructor:Ce,isArrayCamera:!0});var gc=new s,mc=new s;De.prototype.isFogExp2=!0,De.prototype.clone=function(){return new De(this.color,this.density)},De.prototype.toJSON=function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}},Re.prototype.isFog=!0,Re.prototype.clone=function(){return new Re(this.color,this.near,this.far)},Re.prototype.toJSON=function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}},Oe.prototype=Object.assign(Object.create(A.prototype),{constructor:Oe,copy:function(t,e){return A.prototype.copy.call(this,t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.fog&&(this.fog=t.fog.clone()),null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.autoUpdate=t.autoUpdate,this.matrixAutoUpdate=t.matrixAutoUpdate,this},toJSON:function(t){var e=A.prototype.toJSON.call(this,t);return null!==this.background&&(e.object.background=this.background.toJSON(t)),null!==this.fog&&(e.object.fog=this.fog.toJSON()),e}}),Object.defineProperty(ke.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(ke.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setArray:function(t){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");return this.count=void 0!==t?t.length/this.stride:0,this.array=t,this},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.dynamic=t.dynamic,this},copyAt:function(t,e,n){t*=this.stride,n*=e.stride;for(var i=0,r=this.stride;i<r;i++)this.array[t+i]=e.array[n+i];return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(t){return this.onUploadCallback=t,this}}),Object.defineProperties(Ne.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),Object.assign(Ne.prototype,{isInterleavedBufferAttribute:!0,setX:function(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this},setY:function(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this},setZ:function(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this},setW:function(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this},getX:function(t){return this.data.array[t*this.data.stride+this.offset]},getY:function(t){return this.data.array[t*this.data.stride+this.offset+1]},getZ:function(t){return this.data.array[t*this.data.stride+this.offset+2]},getW:function(t){return this.data.array[t*this.data.stride+this.offset+3]},setXY:function(t,e,n){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this},setXYZ:function(t,e,n,i){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=i,this},setXYZW:function(t,e,n,i,r){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=i,this.data.array[t+3]=r,this}}),ze.prototype=Object.create(W.prototype),ze.prototype.constructor=ze,ze.prototype.isSpriteMaterial=!0,ze.prototype.copy=function(t){return W.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.rotation=t.rotation,this.sizeAttenuation=t.sizeAttenuation,this};var vc;Be.prototype=Object.assign(Object.create(A.prototype),{constructor:Be,isSprite:!0,raycast:function(){function t(t,e,n,i,r,a){o.subVectors(t,n).addScalar(.5).multiply(i),void 0!==r?(l.x=a*o.x-r*o.y,l.y=r*o.x+a*o.y):l.copy(o),t.copy(e),t.x+=l.x,t.y+=l.y,t.applyMatrix4(c)}var e=new s,n=new s,i=new s,o=new r,l=new r,c=new a,u=new s,h=new s,d=new s,p=new r,f=new r,g=new r;return function(a,o){n.setFromMatrixScale(this.matrixWorld),c.getInverse(this.modelViewMatrix).premultiply(this.matrixWorld),i.setFromMatrixPosition(this.modelViewMatrix);var s,l,m=this.material.rotation;0!==m&&(l=Math.cos(m),s=Math.sin(m));var v=this.center;t(u.set(-.5,-.5,0),i,v,n,s,l),t(h.set(.5,-.5,0),i,v,n,s,l),t(d.set(.5,.5,0),i,v,n,s,l),p.set(0,0),f.set(1,0),g.set(1,1);var y=a.ray.intersectTriangle(u,h,d,!1,e);if(null!==y||(t(h.set(-.5,.5,0),i,v,n,s,l),f.set(0,1),null!==(y=a.ray.intersectTriangle(u,d,h,!1,e)))){var x=a.ray.origin.distanceTo(e);x<a.near||x>a.far||o.push({distance:x,point:e.clone(),uv:X.getUV(e,u,h,d,p,f,g,new r),face:null,object:this})}}}(),clone:function(){return new this.constructor(this.material).copy(this)},copy:function(t){return A.prototype.copy.call(this,t),void 0!==t.center&&this.center.copy(t.center),this}}),Ve.prototype=Object.assign(Object.create(A.prototype),{constructor:Ve,copy:function(t){A.prototype.copy.call(this,t,!1);for(var e=t.levels,n=0,i=e.length;n<i;n++){var r=e[n];this.addLevel(r.object.clone(),r.distance)}return this},addLevel:function(t,e){void 0===e&&(e=0),e=Math.abs(e);for(var n=this.levels,i=0;i<n.length&&!(e<n[i].distance);i++);n.splice(i,0,{distance:e,object:t}),this.add(t)},getObjectForDistance:function(t){for(var e=this.levels,n=1,i=e.length;n<i&&!(t<e[n].distance);n++);return e[n-1].object},raycast:function(){var t=new s;return function(e,n){t.setFromMatrixPosition(this.matrixWorld);var i=e.ray.origin.distanceTo(t);this.getObjectForDistance(i).raycast(e,n)}}(),update:function(){var t=new s,e=new s;return function(n){var i=this.levels;if(i.length>1){t.setFromMatrixPosition(n.matrixWorld),e.setFromMatrixPosition(this.matrixWorld);var r=t.distanceTo(e);i[0].object.visible=!0;for(var a=1,o=i.length;a<o&&r>=i[a].distance;a++)i[a-1].object.visible=!1,i[a].object.visible=!0;for(;a<o;a++)i[a].object.visible=!1}}}(),toJSON:function(t){var e=A.prototype.toJSON.call(this,t);e.object.levels=[];for(var n=this.levels,i=0,r=n.length;i<r;i++){var a=n[i];e.object.levels.push({object:a.object.uuid,distance:a.distance})}return e}}),Fe.prototype=Object.assign(Object.create(Z.prototype),{constructor:Fe,isSkinnedMesh:!0,bind:function(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.getInverse(e)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){for(var t=new u,e=this.geometry.attributes.skinWeight,n=0,i=e.count;n<i;n++){t.x=e.getX(n),t.y=e.getY(n),t.z=e.getZ(n),t.w=e.getW(n);var r=1/t.manhattanLength();r!==1/0?t.multiplyScalar(r):t.set(1,0,0,0),e.setXYZW(n,t.x,t.y,t.z,t.w)}},updateMatrixWorld:function(t){Z.prototype.updateMatrixWorld.call(this,t),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Object.assign(Ge.prototype,{calculateInverses:function(){this.boneInverses=[];for(var t=0,e=this.bones.length;t<e;t++){var n=new a;this.bones[t]&&n.getInverse(this.bones[t].matrixWorld),this.boneInverses.push(n)}},pose:function(){var t,e,n;for(e=0,n=this.bones.length;e<n;e++)(t=this.bones[e])&&t.matrixWorld.getInverse(this.boneInverses[e]);for(e=0,n=this.bones.length;e<n;e++)(t=this.bones[e])&&(t.parent&&t.parent.isBone?(t.matrix.getInverse(t.parent.matrixWorld),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))},update:function(){var t=new a,e=new a;return function(){for(var n=this.bones,i=this.boneInverses,r=this.boneMatrices,a=this.boneTexture,o=0,s=n.length;o<s;o++){var l=n[o]?n[o].matrixWorld:e;t.multiplyMatrices(l,i[o]),t.toArray(r,16*o)}void 0!==a&&(a.needsUpdate=!0)}}(),clone:function(){return new Ge(this.bones,this.boneInverses)},getBoneByName:function(t){for(var e=0,n=this.bones.length;e<n;e++){var i=this.bones[e];if(i.name===t)return i}}}),He.prototype=Object.assign(Object.create(A.prototype),{constructor:He,isBone:!0}),Ue.prototype=Object.create(W.prototype),Ue.prototype.constructor=Ue,Ue.prototype.isLineBasicMaterial=!0,Ue.prototype.copy=function(t){return W.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this},je.prototype=Object.assign(Object.create(A.prototype),{constructor:je,isLine:!0,computeLineDistances:function(){var t=new s,e=new s;return function(){var n=this.geometry;if(n.isBufferGeometry)if(null===n.index){for(var i=n.attributes.position,r=[0],a=1,o=i.count;a<o;a++)t.fromBufferAttribute(i,a-1),e.fromBufferAttribute(i,a),r[a]=r[a-1],r[a]+=t.distanceTo(e);n.addAttribute("lineDistance",new N(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(n.isGeometry){var s=n.vertices,r=n.lineDistances;r[0]=0;for(var a=1,o=s.length;a<o;a++)r[a]=r[a-1],r[a]+=s[a-1].distanceTo(s[a])}return this}}(),raycast:function(){var t=new a,e=new Y,n=new g;return function(i,r){var a=i.linePrecision,o=this.geometry,l=this.matrixWorld;if(null===o.boundingSphere&&o.computeBoundingSphere(),n.copy(o.boundingSphere),n.applyMatrix4(l),n.radius+=a,!1!==i.ray.intersectsSphere(n)){t.getInverse(l),e.copy(i.ray).applyMatrix4(t);var c=a/((this.scale.x+this.scale.y+this.scale.z)/3),u=c*c,h=new s,d=new s,p=new s,f=new s,g=this&&this.isLineSegments?2:1;if(o.isBufferGeometry){var m=o.index,v=o.attributes,y=v.position.array;if(null!==m)for(var x=m.array,_=0,b=x.length-1;_<b;_+=g){var w=x[_],M=x[_+1];h.fromArray(y,3*w),d.fromArray(y,3*M);var S=e.distanceSqToSegment(h,d,f,p);if(!(S>u)){f.applyMatrix4(this.matrixWorld);var T=i.ray.origin.distanceTo(f);T<i.near||T>i.far||r.push({distance:T,point:p.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}else for(var _=0,b=y.length/3-1;_<b;_+=g){h.fromArray(y,3*_),d.fromArray(y,3*_+3);var S=e.distanceSqToSegment(h,d,f,p);if(!(S>u)){f.applyMatrix4(this.matrixWorld);var T=i.ray.origin.distanceTo(f);T<i.near||T>i.far||r.push({distance:T,point:p.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}}else if(o.isGeometry)for(var A=o.vertices,C=A.length,_=0;_<C-1;_+=g){var S=e.distanceSqToSegment(A[_],A[_+1],f,p);if(!(S>u)){f.applyMatrix4(this.matrixWorld);var T=i.ray.origin.distanceTo(f);T<i.near||T>i.far||r.push({distance:T,point:p.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}}}}(),copy:function(t){return A.prototype.copy.call(this,t),this.geometry.copy(t.geometry),this.material.copy(t.material),this},clone:function(){return(new this.constructor).copy(this)}}),We.prototype=Object.assign(Object.create(je.prototype),{constructor:We,isLineSegments:!0,computeLineDistances:function(){var t=new s,e=new s;return function(){var n=this.geometry;if(n.isBufferGeometry)if(null===n.index){for(var i=n.attributes.position,r=[],a=0,o=i.count;a<o;a+=2)t.fromBufferAttribute(i,a),e.fromBufferAttribute(i,a+1),r[a]=0===a?0:r[a-1],r[a+1]=r[a]+t.distanceTo(e);n.addAttribute("lineDistance",new N(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(n.isGeometry)for(var s=n.vertices,r=n.lineDistances,a=0,o=s.length;a<o;a+=2)t.copy(s[a]),e.copy(s[a+1]),r[a]=0===a?0:r[a-1],r[a+1]=r[a]+t.distanceTo(e);return this}}()}),$e.prototype=Object.assign(Object.create(je.prototype),{constructor:$e,isLineLoop:!0}),Ye.prototype=Object.create(W.prototype),Ye.prototype.constructor=Ye,Ye.prototype.isPointsMaterial=!0,Ye.prototype.copy=function(t){return W.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this.morphTargets=t.morphTargets,this},Xe.prototype=Object.assign(Object.create(A.prototype),{constructor:Xe,isPoints:!0,raycast:function(){var t=new a,e=new Y,n=new g;return function(i,r){function a(t,n){var a=e.distanceSqToPoint(t);if(a<d){e.closestPointToPoint(t,f),f.applyMatrix4(c);var s=i.ray.origin.distanceTo(f);if(s<i.near||s>i.far)return;r.push({distance:s,distanceToRay:Math.sqrt(a),point:f.clone(),index:n,face:null,object:o})}}var o=this,l=this.geometry,c=this.matrixWorld,u=i.params.Points.threshold;if(null===l.boundingSphere&&l.computeBoundingSphere(),n.copy(l.boundingSphere),n.applyMatrix4(c),n.radius+=u,!1!==i.ray.intersectsSphere(n)){t.getInverse(c),e.copy(i.ray).applyMatrix4(t);var h=u/((this.scale.x+this.scale.y+this.scale.z)/3),d=h*h,p=new s,f=new s;if(l.isBufferGeometry){var g=l.index,m=l.attributes,v=m.position.array;if(null!==g)for(var y=g.array,x=0,_=y.length;x<_;x++){var b=y[x];p.fromArray(v,3*b),a(p,b)}else for(var x=0,w=v.length/3;x<w;x++)p.fromArray(v,3*x),a(p,x)}else for(var M=l.vertices,x=0,w=M.length;x<w;x++)a(M[x],x)}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),qe.prototype=Object.assign(Object.create(c.prototype),{constructor:qe,isVideoTexture:!0,update:function(){var t=this.image;t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),Ze.prototype=Object.create(c.prototype),Ze.prototype.constructor=Ze,Ze.prototype.isCompressedTexture=!0,Je.prototype=Object.create(c.prototype),Je.prototype.constructor=Je,Je.prototype.isCanvasTexture=!0,Ke.prototype=Object.create(c.prototype),Ke.prototype.constructor=Ke,Ke.prototype.isDepthTexture=!0,Qe.prototype=Object.create(F.prototype),Qe.prototype.constructor=Qe,tn.prototype=Object.create(C.prototype),tn.prototype.constructor=tn,en.prototype=Object.create(F.prototype),en.prototype.constructor=en,nn.prototype=Object.create(C.prototype),nn.prototype.constructor=nn,rn.prototype=Object.create(F.prototype),rn.prototype.constructor=rn,an.prototype=Object.create(C.prototype),an.prototype.constructor=an,on.prototype=Object.create(rn.prototype),on.prototype.constructor=on,sn.prototype=Object.create(C.prototype),sn.prototype.constructor=sn,ln.prototype=Object.create(rn.prototype),ln.prototype.constructor=ln,cn.prototype=Object.create(C.prototype),cn.prototype.constructor=cn,un.prototype=Object.create(rn.prototype),un.prototype.constructor=un,hn.prototype=Object.create(C.prototype),hn.prototype.constructor=hn,dn.prototype=Object.create(rn.prototype),dn.prototype.constructor=dn,pn.prototype=Object.create(C.prototype),pn.prototype.constructor=pn,fn.prototype=Object.create(F.prototype),fn.prototype.constructor=fn,gn.prototype=Object.create(C.prototype),gn.prototype.constructor=gn,mn.prototype=Object.create(F.prototype),mn.prototype.constructor=mn,vn.prototype=Object.create(C.prototype),vn.prototype.constructor=vn,yn.prototype=Object.create(F.prototype),yn.prototype.constructor=yn;var yc={triangulate:function(t,e,n){n=n||2;var i=e&&e.length,r=i?e[0]*n:t.length,a=xn(t,0,r,n,!0),o=[];if(!a)return o;var s,l,c,u,h,d,p;if(i&&(a=An(t,e,a,n)),t.length>80*n){s=c=t[0],l=u=t[1];for(var f=n;f<r;f+=n)h=t[f],d=t[f+1],h<s&&(s=h),d<l&&(l=d),h>c&&(c=h),d>u&&(u=d);p=Math.max(c-s,u-l),p=0!==p?1/p:0}return bn(a,o,n,s,l,p),o}},xc={area:function(t){for(var e=t.length,n=0,i=e-1,r=0;r<e;i=r++)n+=t[i].x*t[r].y-t[r].x*t[i].y;return.5*n},isClockWise:function(t){return xc.area(t)<0},triangulateShape:function(t,e){var n=[],i=[],r=[];Yn(t),Xn(n,t);var a=t.length;e.forEach(Yn);for(var o=0;o<e.length;o++)i.push(a),a+=e[o].length,Xn(n,e[o]);for(var s=yc.triangulate(n,i),o=0;o<s.length;o+=3)r.push(s.slice(o,o+3));return r}};qn.prototype=Object.create(C.prototype),qn.prototype.constructor=qn,qn.prototype.toJSON=function(){var t=C.prototype.toJSON.call(this);return Jn(this.parameters.shapes,this.parameters.options,t)},Zn.prototype=Object.create(F.prototype),Zn.prototype.constructor=Zn,Zn.prototype.toJSON=function(){var t=F.prototype.toJSON.call(this);return Jn(this.parameters.shapes,this.parameters.options,t)};var _c={generateTopUV:function(t,e,n,i,a){var o=e[3*n],s=e[3*n+1],l=e[3*i],c=e[3*i+1],u=e[3*a],h=e[3*a+1];return[new r(o,s),new r(l,c),new r(u,h)]},generateSideWallUV:function(t,e,n,i,a,o){var s=e[3*n],l=e[3*n+1],c=e[3*n+2],u=e[3*i],h=e[3*i+1],d=e[3*i+2],p=e[3*a],f=e[3*a+1],g=e[3*a+2],m=e[3*o],v=e[3*o+1],y=e[3*o+2];return Math.abs(l-h)<.01?[new r(s,1-c),new r(u,1-d),new r(p,1-g),new r(m,1-y)]:[new r(l,1-c),new r(h,1-d),new r(f,1-g),new r(v,1-y)]}};Kn.prototype=Object.create(C.prototype),Kn.prototype.constructor=Kn,Qn.prototype=Object.create(Zn.prototype),Qn.prototype.constructor=Qn,ti.prototype=Object.create(C.prototype),ti.prototype.constructor=ti,ei.prototype=Object.create(F.prototype),ei.prototype.constructor=ei,ni.prototype=Object.create(C.prototype),ni.prototype.constructor=ni,ii.prototype=Object.create(F.prototype),ii.prototype.constructor=ii,ri.prototype=Object.create(C.prototype),ri.prototype.constructor=ri,ai.prototype=Object.create(F.prototype),ai.prototype.constructor=ai,oi.prototype=Object.create(C.prototype),oi.prototype.constructor=oi,oi.prototype.toJSON=function(){var t=C.prototype.toJSON.call(this);return li(this.parameters.shapes,t)},si.prototype=Object.create(F.prototype),si.prototype.constructor=si,si.prototype.toJSON=function(){var t=F.prototype.toJSON.call(this);return li(this.parameters.shapes,t)},ci.prototype=Object.create(F.prototype),ci.prototype.constructor=ci,ui.prototype=Object.create(C.prototype),ui.prototype.constructor=ui,hi.prototype=Object.create(F.prototype),hi.prototype.constructor=hi,di.prototype=Object.create(ui.prototype),di.prototype.constructor=di,pi.prototype=Object.create(hi.prototype),pi.prototype.constructor=pi,fi.prototype=Object.create(C.prototype),fi.prototype.constructor=fi,gi.prototype=Object.create(F.prototype),gi.prototype.constructor=gi;var bc=Object.freeze({WireframeGeometry:Qe,ParametricGeometry:tn,ParametricBufferGeometry:en,TetrahedronGeometry:an,TetrahedronBufferGeometry:on,OctahedronGeometry:sn,OctahedronBufferGeometry:ln,IcosahedronGeometry:cn,IcosahedronBufferGeometry:un,DodecahedronGeometry:hn,DodecahedronBufferGeometry:dn,PolyhedronGeometry:nn,PolyhedronBufferGeometry:rn,TubeGeometry:pn,TubeBufferGeometry:fn,TorusKnotGeometry:gn,TorusKnotBufferGeometry:mn,TorusGeometry:vn,TorusBufferGeometry:yn,TextGeometry:Kn,TextBufferGeometry:Qn,SphereGeometry:ti,SphereBufferGeometry:ei,RingGeometry:ni,RingBufferGeometry:ii,PlaneGeometry:U,PlaneBufferGeometry:j,LatheGeometry:ri,LatheBufferGeometry:ai,ShapeGeometry:oi,ShapeBufferGeometry:si,ExtrudeGeometry:qn,ExtrudeBufferGeometry:Zn,EdgesGeometry:ci,ConeGeometry:di,ConeBufferGeometry:pi,CylinderGeometry:ui,CylinderBufferGeometry:hi,CircleGeometry:fi,CircleBufferGeometry:gi,BoxGeometry:G,BoxBufferGeometry:H});mi.prototype=Object.create(W.prototype),mi.prototype.constructor=mi,mi.prototype.isShadowMaterial=!0,mi.prototype.copy=function(t){return W.prototype.copy.call(this,t),this.color.copy(t.color),this},vi.prototype=Object.create($.prototype),vi.prototype.constructor=vi,vi.prototype.isRawShaderMaterial=!0,yi.prototype=Object.create(W.prototype),yi.prototype.constructor=yi,yi.prototype.isMeshStandardMaterial=!0,yi.prototype.copy=function(t){return W.prototype.copy.call(this,t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},xi.prototype=Object.create(yi.prototype),xi.prototype.constructor=xi,xi.prototype.isMeshPhysicalMaterial=!0,xi.prototype.copy=function(t){return yi.prototype.copy.call(this,t),this.defines={PHYSICAL:""},this.reflectivity=t.reflectivity,this.clearCoat=t.clearCoat,this.clearCoatRoughness=t.clearCoatRoughness,this},_i.prototype=Object.create(W.prototype),_i.prototype.constructor=_i,_i.prototype.isMeshPhongMaterial=!0,_i.prototype.copy=function(t){return W.prototype.copy.call(this,t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},bi.prototype=Object.create(_i.prototype),bi.prototype.constructor=bi,bi.prototype.isMeshToonMaterial=!0,bi.prototype.copy=function(t){return _i.prototype.copy.call(this,t),this.gradientMap=t.gradientMap,this},wi.prototype=Object.create(W.prototype),wi.prototype.constructor=wi,wi.prototype.isMeshNormalMaterial=!0,wi.prototype.copy=function(t){return W.prototype.copy.call(this,t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},Mi.prototype=Object.create(W.prototype),Mi.prototype.constructor=Mi,Mi.prototype.isMeshLambertMaterial=!0,Mi.prototype.copy=function(t){return W.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},Si.prototype=Object.create(W.prototype),Si.prototype.constructor=Si,Si.prototype.isMeshMatcapMaterial=!0,Si.prototype.copy=function(t){return W.prototype.copy.call(this,t),this.defines={MATCAP:""},this.color.copy(t.color),this.matcap=t.matcap,this.map=t.map,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},Ti.prototype=Object.create(Ue.prototype),Ti.prototype.constructor=Ti,Ti.prototype.isLineDashedMaterial=!0,Ti.prototype.copy=function(t){return Ue.prototype.copy.call(this,t),this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this};var wc=Object.freeze({ShadowMaterial:mi,SpriteMaterial:ze,RawShaderMaterial:vi,ShaderMaterial:$,PointsMaterial:Ye,MeshPhysicalMaterial:xi,MeshStandardMaterial:yi,MeshPhongMaterial:_i,MeshToonMaterial:bi,MeshNormalMaterial:wi,MeshLambertMaterial:Mi,MeshDepthMaterial:ye,MeshDistanceMaterial:xe,MeshBasicMaterial:q,MeshMatcapMaterial:Si,LineDashedMaterial:Ti,LineBasicMaterial:Ue,Material:W}),Mc={arraySlice:function(t,e,n){return Mc.isTypedArray(t)?new t.constructor(t.subarray(e,void 0!==n?n:t.length)):t.slice(e,n)},convertArray:function(t,e,n){return!t||!n&&t.constructor===e?t:"number"==typeof e.BYTES_PER_ELEMENT?new e(t):Array.prototype.slice.call(t)},isTypedArray:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},getKeyframeOrder:function(t){function e(e,n){return t[e]-t[n]}for(var n=t.length,i=new Array(n),r=0;r!==n;++r)i[r]=r;return i.sort(e),i},sortedArray:function(t,e,n){for(var i=t.length,r=new t.constructor(i),a=0,o=0;o!==i;++a)for(var s=n[a]*e,l=0;l!==e;++l)r[o++]=t[s+l];return r},flattenJSON:function(t,e,n,i){for(var r=1,a=t[0];void 0!==a&&void 0===a[i];)a=t[r++];if(void 0!==a){var o=a[i];if(void 0!==o)if(Array.isArray(o))do{o=a[i],void 0!==o&&(e.push(a.time),n.push.apply(n,o)),a=t[r++]}while(void 0!==a);else if(void 0!==o.toArray)do{o=a[i],void 0!==o&&(e.push(a.time),o.toArray(n,n.length)),a=t[r++]}while(void 0!==a);else do{o=a[i],void 0!==o&&(e.push(a.time),n.push(o)),a=t[r++]}while(void 0!==a)}}};Object.assign(Ai.prototype,{evaluate:function(t){var e=this.parameterPositions,n=this._cachedIndex,i=e[n],r=e[n-1];t:{e:{var a;n:{i:if(!(t<i)){for(var o=n+2;;){if(void 0===i){if(t<r)break i;return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,t,r)}if(n===o)break;if(r=i,i=e[++n],t<i)break e}a=e.length;break n}{if(t>=r)break t;var s=e[1];t<s&&(n=2,r=s);for(var o=n-2;;){if(void 0===r)return this._cachedIndex=0,this.beforeStart_(0,t,i);if(n===o)break;if(i=r,r=e[--n-1],t>=r)break e}a=n,n=0}}for(;n<a;){var l=n+a>>>1;t<e[l]?a=l:n=l+1}if(i=e[n],void 0===(r=e[n-1]))return this._cachedIndex=0,this.beforeStart_(0,t,i);if(void 0===i)return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,r,t)}this._cachedIndex=n,this.intervalChanged_(n,r,i)}return this.interpolate_(n,r,t,i)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(t){for(var e=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=t*i,a=0;a!==i;++a)e[a]=n[r+a];return e},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),
//!\ DECLARE ALIAS AFTER assign prototype !
Object.assign(Ai.prototype,{beforeStart_:Ai.prototype.copySampleValue_,afterEnd_:Ai.prototype.copySampleValue_}),Ci.prototype=Object.assign(Object.create(Ai.prototype),{constructor:Ci,DefaultSettings_:{endingStart:Cl,endingEnd:Cl},intervalChanged_:function(t,e,n){var i=this.parameterPositions,r=t-2,a=t+1,o=i[r],s=i[a];if(void 0===o)switch(this.getSettings_().endingStart){case Ll:r=t,o=2*e-n;break;case El:r=i.length-2,o=e+i[r]-i[r+1];break;default:r=t,o=n}if(void 0===s)switch(this.getSettings_().endingEnd){case Ll:a=t,s=2*n-e;break;case El:a=1,s=n+i[1]-i[0];break;default:a=t-1,s=e}var l=.5*(n-e),c=this.valueSize;this._weightPrev=l/(e-o),this._weightNext=l/(s-n),this._offsetPrev=r*c,this._offsetNext=a*c},interpolate_:function(t,e,n,i){for(var r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=t*o,l=s-o,c=this._offsetPrev,u=this._offsetNext,h=this._weightPrev,d=this._weightNext,p=(n-e)/(i-e),f=p*p,g=f*p,m=-h*g+2*h*f-h*p,v=(1+h)*g+(-1.5-2*h)*f+(-.5+h)*p+1,y=(-1-d)*g+(1.5+d)*f+.5*p,x=d*g-d*f,_=0;_!==o;++_)r[_]=m*a[c+_]+v*a[l+_]+y*a[s+_]+x*a[u+_];return r}}),Li.prototype=Object.assign(Object.create(Ai.prototype),{constructor:Li,interpolate_:function(t,e,n,i){for(var r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=t*o,l=s-o,c=(n-e)/(i-e),u=1-c,h=0;h!==o;++h)r[h]=a[l+h]*u+a[s+h]*c;return r}}),Ei.prototype=Object.assign(Object.create(Ai.prototype),{constructor:Ei,interpolate_:function(t){return this.copySampleValue_(t-1)}}),Object.assign(Ii,{toJSON:function(t){var e,n=t.constructor;if(void 0!==n.toJSON)e=n.toJSON(t);else{e={name:t.name,times:Mc.convertArray(t.times,Array),values:Mc.convertArray(t.values,Array)};var i=t.getInterpolation();i!==t.DefaultInterpolation&&(e.interpolation=i)}return e.type=t.ValueTypeName,e}}),Object.assign(Ii.prototype,{constructor:Ii,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:Tl,InterpolantFactoryMethodDiscrete:function(t){return new Ei(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodLinear:function(t){return new Li(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:function(t){return new Ci(this.times,this.values,this.getValueSize(),t)},setInterpolation:function(t){var e;switch(t){case Sl:e=this.InterpolantFactoryMethodDiscrete;break;case Tl:e=this.InterpolantFactoryMethodLinear;break;case Al:e=this.InterpolantFactoryMethodSmooth}if(void 0===e){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=e,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Sl;case this.InterpolantFactoryMethodLinear:return Tl;case this.InterpolantFactoryMethodSmooth:return Al}},getValueSize:function(){return this.values.length/this.times.length},shift:function(t){if(0!==t)for(var e=this.times,n=0,i=e.length;n!==i;++n)e[n]+=t;return this},scale:function(t){if(1!==t)for(var e=this.times,n=0,i=e.length;n!==i;++n)e[n]*=t;return this},trim:function(t,e){for(var n=this.times,i=n.length,r=0,a=i-1;r!==i&&n[r]<t;)++r;for(;-1!==a&&n[a]>e;)--a;if(++a,0!==r||a!==i){r>=a&&(a=Math.max(a,1),r=a-1);var o=this.getValueSize();this.times=Mc.arraySlice(n,r,a),this.values=Mc.arraySlice(this.values,r*o,a*o)}return this},validate:function(){var t=!0,e=this.getValueSize();e-Math.floor(e)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);var n=this.times,i=this.values,r=n.length;0===r&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);for(var a=null,o=0;o!==r;o++){var s=n[o];if("number"==typeof s&&isNaN(s)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,s),t=!1;break}if(null!==a&&a>s){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,s,a),t=!1;break}a=s}if(void 0!==i&&Mc.isTypedArray(i))for(var o=0,l=i.length;o!==l;++o){var c=i[o];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,o,c),t=!1;break}}return t},optimize:function(){for(var t=this.times,e=this.values,n=this.getValueSize(),i=this.getInterpolation()===Al,r=1,a=t.length-1,o=1;o<a;++o){var s=!1,l=t[o];if(l!==t[o+1]&&(1!==o||l!==l[0]))if(i)s=!0;else for(var c=o*n,u=c-n,h=c+n,d=0;d!==n;++d){var p=e[c+d];if(p!==e[u+d]||p!==e[h+d]){s=!0;break}}if(s){if(o!==r){t[r]=t[o];for(var f=o*n,g=r*n,d=0;d!==n;++d)e[g+d]=e[f+d]}++r}}if(a>0){t[r]=t[a];for(var f=a*n,g=r*n,d=0;d!==n;++d)e[g+d]=e[f+d];++r}return r!==t.length&&(this.times=Mc.arraySlice(t,0,r),this.values=Mc.arraySlice(e,0,r*n)),this}}),Pi.prototype=Object.assign(Object.create(Ii.prototype),{constructor:Pi,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:Sl,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Di.prototype=Object.assign(Object.create(Ii.prototype),{constructor:Di,ValueTypeName:"color"}),Ri.prototype=Object.assign(Object.create(Ii.prototype),{constructor:Ri,ValueTypeName:"number"}),Oi.prototype=Object.assign(Object.create(Ai.prototype),{constructor:Oi,interpolate_:function(t,e,n,i){for(var r=this.resultBuffer,a=this.sampleValues,s=this.valueSize,l=t*s,c=(n-e)/(i-e),u=l+s;l!==u;l+=4)o.slerpFlat(r,0,a,l-s,a,l,c);return r}}),ki.prototype=Object.assign(Object.create(Ii.prototype),{constructor:ki,ValueTypeName:"quaternion",DefaultInterpolation:Tl,InterpolantFactoryMethodLinear:function(t){return new Oi(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:void 0}),Ni.prototype=Object.assign(Object.create(Ii.prototype),{constructor:Ni,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:Sl,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),zi.prototype=Object.assign(Object.create(Ii.prototype),{constructor:zi,ValueTypeName:"vector"}),Object.assign(Bi,{parse:function(t){for(var e=[],n=t.tracks,i=1/(t.fps||1),r=0,a=n.length;r!==a;++r)e.push(Fi(n[r]).scale(i));return new Bi(t.name,t.duration,e)},toJSON:function(t){for(var e=[],n=t.tracks,i={name:t.name,duration:t.duration,tracks:e,uuid:t.uuid},r=0,a=n.length;r!==a;++r)e.push(Ii.toJSON(n[r]));return i},CreateFromMorphTargetSequence:function(t,e,n,i){for(var r=e.length,a=[],o=0;o<r;o++){var s=[],l=[];s.push((o+r-1)%r,o,(o+1)%r),l.push(0,1,0);var c=Mc.getKeyframeOrder(s);s=Mc.sortedArray(s,1,c),l=Mc.sortedArray(l,1,c),i||0!==s[0]||(s.push(r),l.push(l[0])),a.push(new Ri(".morphTargetInfluences["+e[o].name+"]",s,l).scale(1/n))}return new Bi(t,-1,a)},findByName:function(t,e){var n=t;if(!Array.isArray(t)){var i=t;n=i.geometry&&i.geometry.animations||i.animations}for(var r=0;r<n.length;r++)if(n[r].name===e)return n[r];return null},CreateClipsFromMorphTargetSequences:function(t,e,n){for(var i={},r=/^([\w-]*?)([\d]+)$/,a=0,o=t.length;a<o;a++){var s=t[a],l=s.name.match(r);if(l&&l.length>1){var c=l[1],u=i[c];u||(i[c]=u=[]),u.push(s)}}var h=[];for(var c in i)h.push(Bi.CreateFromMorphTargetSequence(c,i[c],e,n));return h},parseAnimation:function(t,e){if(!t)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var n=function(t,e,n,i,r){if(0!==n.length){var a=[],o=[];Mc.flattenJSON(n,a,o,i),0!==a.length&&r.push(new t(e,a,o))}},i=[],r=t.name||"default",a=t.length||-1,o=t.fps||30,s=t.hierarchy||[],l=0;l<s.length;l++){var c=s[l].keys;if(c&&0!==c.length)if(c[0].morphTargets){for(var u={},h=0;h<c.length;h++)if(c[h].morphTargets)for(var d=0;d<c[h].morphTargets.length;d++)u[c[h].morphTargets[d]]=-1;for(var p in u){for(var f=[],g=[],d=0;d!==c[h].morphTargets.length;++d){var m=c[h];f.push(m.time),g.push(m.morphTarget===p?1:0)}i.push(new Ri(".morphTargetInfluence["+p+"]",f,g))}a=u.length*(o||1)}else{var v=".bones["+e[l].name+"]";n(zi,v+".position",c,"pos",i),n(ki,v+".quaternion",c,"rot",i),n(zi,v+".scale",c,"scl",i)}}return 0===i.length?null:new Bi(r,a,i)}}),Object.assign(Bi.prototype,{resetDuration:function(){for(var t=this.tracks,e=0,n=0,i=t.length;n!==i;++n){var r=this.tracks[n];e=Math.max(e,r.times[r.times.length-1])}return this.duration=e,this},trim:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this},validate:function(){for(var t=!0,e=0;e<this.tracks.length;e++)t=t&&this.tracks[e].validate();return t},optimize:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this}});var Sc={enabled:!1,files:{},add:function(t,e){!1!==this.enabled&&(this.files[t]=e)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}},Tc=new Gi,Ac={};Object.assign(Hi.prototype,{load:function(t,e,n,i){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var r=this,a=Sc.get(t);if(void 0!==a)return r.manager.itemStart(t),setTimeout(function(){e&&e(a),r.manager.itemEnd(t)},0),a;if(void 0!==Ac[t])return void Ac[t].push({onLoad:e,onProgress:n,onError:i});var o=/^data:(.*?)(;base64)?,(.*)$/,s=t.match(o);if(s){var l=s[1],c=!!s[2],u=s[3];u=decodeURIComponent(u),c&&(u=atob(u));try{var h,d=(this.responseType||"").toLowerCase();switch(d){case"arraybuffer":case"blob":for(var p=new Uint8Array(u.length),f=0;f<u.length;f++)p[f]=u.charCodeAt(f);h="blob"===d?new Blob([p.buffer],{type:l}):p.buffer;break;case"document":var g=new DOMParser;h=g.parseFromString(u,l);break;case"json":h=JSON.parse(u);break;default:h=u}setTimeout(function(){e&&e(h),r.manager.itemEnd(t)},0)}catch(e){setTimeout(function(){i&&i(e),r.manager.itemError(t),r.manager.itemEnd(t)},0)}}else{Ac[t]=[],Ac[t].push({onLoad:e,onProgress:n,onError:i});var m=new XMLHttpRequest;m.open("GET",t,!0),m.addEventListener("load",function(e){var n=this.response;Sc.add(t,n);var i=Ac[t];if(delete Ac[t],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received.");for(var a=0,o=i.length;a<o;a++){var s=i[a];s.onLoad&&s.onLoad(n)}r.manager.itemEnd(t)}else{for(var a=0,o=i.length;a<o;a++){var s=i[a];s.onError&&s.onError(e)}r.manager.itemError(t),r.manager.itemEnd(t)}},!1),m.addEventListener("progress",function(e){for(var n=Ac[t],i=0,r=n.length;i<r;i++){var a=n[i];a.onProgress&&a.onProgress(e)}},!1),m.addEventListener("error",function(e){var n=Ac[t];delete Ac[t];for(var i=0,a=n.length;i<a;i++){var o=n[i];o.onError&&o.onError(e)}r.manager.itemError(t),r.manager.itemEnd(t)},!1),m.addEventListener("abort",function(e){var n=Ac[t];delete Ac[t];for(var i=0,a=n.length;i<a;i++){var o=n[i];o.onError&&o.onError(e)}r.manager.itemError(t),r.manager.itemEnd(t)},!1),void 0!==this.responseType&&(m.responseType=this.responseType),void 0!==this.withCredentials&&(m.withCredentials=this.withCredentials),m.overrideMimeType&&m.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain");for(var v in this.requestHeader)m.setRequestHeader(v,this.requestHeader[v]);m.send(null)}return r.manager.itemStart(t),m},setPath:function(t){return this.path=t,this},setResponseType:function(t){return this.responseType=t,this},setWithCredentials:function(t){return this.withCredentials=t,this},setMimeType:function(t){return this.mimeType=t,this},setRequestHeader:function(t){return this.requestHeader=t,this}}),Object.assign(Ui.prototype,{load:function(t,e,n,i){var r=this,a=new Hi(r.manager);a.setPath(r.path),a.load(t,function(t){e(r.parse(JSON.parse(t)))},n,i)},parse:function(t,e){for(var n=[],i=0;i<t.length;i++){var r=Bi.parse(t[i]);n.push(r)}e(n)},setPath:function(t){return this.path=t,this}}),Object.assign(ji.prototype,{load:function(t,e,n,i){var r=this,a=[],o=new Ze;o.image=a;var s=new Hi(this.manager);if(s.setPath(this.path),s.setResponseType("arraybuffer"),Array.isArray(t))for(var l=0,c=0,u=t.length;c<u;++c)!function(c){s.load(t[c],function(t){var n=r._parser(t,!0);a[c]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},6===(l+=1)&&(1===n.mipmapCount&&(o.minFilter=Ls),o.format=n.format,o.needsUpdate=!0,e&&e(o))},n,i)}(c);else s.load(t,function(t){var n=r._parser(t,!0);if(n.isCubemap)for(var i=n.mipmaps.length/n.mipmapCount,s=0;s<i;s++){a[s]={mipmaps:[]};for(var l=0;l<n.mipmapCount;l++)a[s].mipmaps.push(n.mipmaps[s*n.mipmapCount+l]),a[s].format=n.format,a[s].width=n.width,a[s].height=n.height}else o.image.width=n.width,o.image.height=n.height,o.mipmaps=n.mipmaps;1===n.mipmapCount&&(o.minFilter=Ls),o.format=n.format,o.needsUpdate=!0,e&&e(o)},n,i);return o},setPath:function(t){return this.path=t,this}}),Object.assign(Wi.prototype,{load:function(t,e,n,i){var r=this,a=new p,o=new Hi(this.manager);return o.setResponseType("arraybuffer"),o.setPath(this.path),o.load(t,function(t){var n=r._parser(t);n&&(void 0!==n.image?a.image=n.image:void 0!==n.data&&(a.image.width=n.width,a.image.height=n.height,a.image.data=n.data),a.wrapS=void 0!==n.wrapS?n.wrapS:Ms,a.wrapT=void 0!==n.wrapT?n.wrapT:Ms,a.magFilter=void 0!==n.magFilter?n.magFilter:Ls,a.minFilter=void 0!==n.minFilter?n.minFilter:Is,a.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.format&&(a.format=n.format),void 0!==n.type&&(a.type=n.type),void 0!==n.mipmaps&&(a.mipmaps=n.mipmaps),1===n.mipmapCount&&(a.minFilter=Ls),a.needsUpdate=!0,e&&e(a,n))},n,i),a},setPath:function(t){return this.path=t,this}}),Object.assign($i.prototype,{crossOrigin:"anonymous",load:function(t,e,n,i){function r(){l.removeEventListener("load",r,!1),l.removeEventListener("error",a,!1),Sc.add(t,this),e&&e(this),o.manager.itemEnd(t)}function a(e){l.removeEventListener("load",r,!1),l.removeEventListener("error",a,!1),i&&i(e),o.manager.itemError(t),o.manager.itemEnd(t)}void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var o=this,s=Sc.get(t);if(void 0!==s)return o.manager.itemStart(t),setTimeout(function(){e&&e(s),o.manager.itemEnd(t)},0),s;var l=document.createElementNS("http://www.w3.org/1999/xhtml","img");return l.addEventListener("load",r,!1),l.addEventListener("error",a,!1),"data:"!==t.substr(0,5)&&void 0!==this.crossOrigin&&(l.crossOrigin=this.crossOrigin),o.manager.itemStart(t),l.src=t,l},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),Object.assign(Yi.prototype,{crossOrigin:"anonymous",load:function(t,e,n,i){var r=new lt,a=new $i(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);for(var o=0,s=0;s<t.length;++s)!function(n){a.load(t[n],function(t){r.images[n]=t,6==++o&&(r.needsUpdate=!0,e&&e(r))},void 0,i)}(s);return r},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),Object.assign(Xi.prototype,{crossOrigin:"anonymous",load:function(t,e,n,i){var r=new c,a=new $i(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(t,function(n){r.image=n;var i=t.search(/\.jpe?g($|\?)/i)>0||0===t.search(/^data\:image\/jpeg/);r.format=i?js:Ws,r.needsUpdate=!0,void 0!==e&&e(r)},n,i),r},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),Object.assign(qi.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(t,e){var n=this.getUtoTmapping(t);return this.getPoint(n,e)},getPoints:function(t){void 0===t&&(t=5);for(var e=[],n=0;n<=t;n++)e.push(this.getPoint(n/t));return e},getSpacedPoints:function(t){void 0===t&&(t=5);for(var e=[],n=0;n<=t;n++)e.push(this.getPointAt(n/t));return e},getLength:function(){var t=this.getLengths();return t[t.length-1]},getLengths:function(t){if(void 0===t&&(t=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var e,n,i=[],r=this.getPoint(0),a=0;for(i.push(0),n=1;n<=t;n++)e=this.getPoint(n/t),a+=e.distanceTo(r),i.push(a),r=e;return this.cacheArcLengths=i,i},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(t,e){var n,i=this.getLengths(),r=0,a=i.length;n=e||t*i[a-1];for(var o,s=0,l=a-1;s<=l;)if(r=Math.floor(s+(l-s)/2),(o=i[r]-n)<0)s=r+1;else{if(!(o>0)){l=r;break}l=r-1}if(r=l,i[r]===n)return r/(a-1);var c=i[r];return(r+(n-c)/(i[r+1]-c))/(a-1)},getTangent:function(t){var e=t-1e-4,n=t+1e-4;e<0&&(e=0),n>1&&(n=1);var i=this.getPoint(e);return this.getPoint(n).clone().sub(i).normalize()},getTangentAt:function(t){var e=this.getUtoTmapping(t);return this.getTangent(e)},computeFrenetFrames:function(t,e){var n,i,r,o=new s,l=[],c=[],u=[],h=new s,d=new a;for(n=0;n<=t;n++)i=n/t,l[n]=this.getTangentAt(i),l[n].normalize();c[0]=new s,u[0]=new s;var p=Number.MAX_VALUE,f=Math.abs(l[0].x),g=Math.abs(l[0].y),m=Math.abs(l[0].z);for(f<=p&&(p=f,o.set(1,0,0)),g<=p&&(p=g,o.set(0,1,0)),m<=p&&o.set(0,0,1),h.crossVectors(l[0],o).normalize(),c[0].crossVectors(l[0],h),u[0].crossVectors(l[0],c[0]),n=1;n<=t;n++)c[n]=c[n-1].clone(),u[n]=u[n-1].clone(),h.crossVectors(l[n-1],l[n]),h.length()>Number.EPSILON&&(h.normalize(),r=Math.acos(Wl.clamp(l[n-1].dot(l[n]),-1,1)),c[n].applyMatrix4(d.makeRotationAxis(h,r))),u[n].crossVectors(l[n],c[n]);if(!0===e)for(r=Math.acos(Wl.clamp(c[0].dot(c[t]),-1,1)),r/=t,l[0].dot(h.crossVectors(c[0],c[t]))>0&&(r=-r),n=1;n<=t;n++)c[n].applyMatrix4(d.makeRotationAxis(l[n],r*n)),u[n].crossVectors(l[n],c[n]);return{tangents:l,normals:c,binormals:u}},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this},toJSON:function(){var t={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t},fromJSON:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}),Zi.prototype=Object.create(qi.prototype),Zi.prototype.constructor=Zi,Zi.prototype.isEllipseCurve=!0,Zi.prototype.getPoint=function(t,e){for(var n=e||new r,i=2*Math.PI,a=this.aEndAngle-this.aStartAngle,o=Math.abs(a)<Number.EPSILON;a<0;)a+=i;for(;a>i;)a-=i;a<Number.EPSILON&&(a=o?0:i),!0!==this.aClockwise||o||(a===i?a=-i:a-=i);var s=this.aStartAngle+t*a,l=this.aX+this.xRadius*Math.cos(s),c=this.aY+this.yRadius*Math.sin(s);if(0!==this.aRotation){var u=Math.cos(this.aRotation),h=Math.sin(this.aRotation),d=l-this.aX,p=c-this.aY;l=d*u-p*h+this.aX,c=d*h+p*u+this.aY}return n.set(l,c)},Zi.prototype.copy=function(t){return qi.prototype.copy.call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this},Zi.prototype.toJSON=function(){var t=qi.prototype.toJSON.call(this);return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t},Zi.prototype.fromJSON=function(t){return qi.prototype.fromJSON.call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this},Ji.prototype=Object.create(Zi.prototype),Ji.prototype.constructor=Ji,Ji.prototype.isArcCurve=!0;var Cc=new s,Lc=new Ki,Ec=new Ki,Ic=new Ki;Qi.prototype=Object.create(qi.prototype),Qi.prototype.constructor=Qi,Qi.prototype.isCatmullRomCurve3=!0,Qi.prototype.getPoint=function(t,e){var n=e||new s,i=this.points,r=i.length,a=(r-(this.closed?0:1))*t,o=Math.floor(a),l=a-o;this.closed?o+=o>0?0:(Math.floor(Math.abs(o)/r)+1)*r:0===l&&o===r-1&&(o=r-2,l=1);var c,u,h,d;if(this.closed||o>0?c=i[(o-1)%r]:(Cc.subVectors(i[0],i[1]).add(i[0]),c=Cc),u=i[o%r],h=i[(o+1)%r],this.closed||o+2<r?d=i[(o+2)%r]:(Cc.subVectors(i[r-1],i[r-2]).add(i[r-1]),d=Cc),"centripetal"===this.curveType||"chordal"===this.curveType){var p="chordal"===this.curveType?.5:.25,f=Math.pow(c.distanceToSquared(u),p),g=Math.pow(u.distanceToSquared(h),p),m=Math.pow(h.distanceToSquared(d),p);g<1e-4&&(g=1),f<1e-4&&(f=g),m<1e-4&&(m=g),Lc.initNonuniformCatmullRom(c.x,u.x,h.x,d.x,f,g,m),Ec.initNonuniformCatmullRom(c.y,u.y,h.y,d.y,f,g,m),Ic.initNonuniformCatmullRom(c.z,u.z,h.z,d.z,f,g,m)}else"catmullrom"===this.curveType&&(Lc.initCatmullRom(c.x,u.x,h.x,d.x,this.tension),Ec.initCatmullRom(c.y,u.y,h.y,d.y,this.tension),Ic.initCatmullRom(c.z,u.z,h.z,d.z,this.tension));return n.set(Lc.calc(l),Ec.calc(l),Ic.calc(l)),n},Qi.prototype.copy=function(t){qi.prototype.copy.call(this,t),this.points=[];for(var e=0,n=t.points.length;e<n;e++){var i=t.points[e];this.points.push(i.clone())}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this},Qi.prototype.toJSON=function(){var t=qi.prototype.toJSON.call(this);t.points=[];for(var e=0,n=this.points.length;e<n;e++){var i=this.points[e];t.points.push(i.toArray())}return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t},Qi.prototype.fromJSON=function(t){qi.prototype.fromJSON.call(this,t),this.points=[];for(var e=0,n=t.points.length;e<n;e++){var i=t.points[e];this.points.push((new s).fromArray(i))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this},ur.prototype=Object.create(qi.prototype),ur.prototype.constructor=ur,ur.prototype.isCubicBezierCurve=!0,ur.prototype.getPoint=function(t,e){var n=e||new r,i=this.v0,a=this.v1,o=this.v2,s=this.v3;return n.set(cr(t,i.x,a.x,o.x,s.x),cr(t,i.y,a.y,o.y,s.y)),n},ur.prototype.copy=function(t){return qi.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this},ur.prototype.toJSON=function(){var t=qi.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t},ur.prototype.fromJSON=function(t){return qi.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this},hr.prototype=Object.create(qi.prototype),hr.prototype.constructor=hr,hr.prototype.isCubicBezierCurve3=!0,hr.prototype.getPoint=function(t,e){var n=e||new s,i=this.v0,r=this.v1,a=this.v2,o=this.v3;return n.set(cr(t,i.x,r.x,a.x,o.x),cr(t,i.y,r.y,a.y,o.y),cr(t,i.z,r.z,a.z,o.z)),n},hr.prototype.copy=function(t){return qi.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this},hr.prototype.toJSON=function(){var t=qi.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t},hr.prototype.fromJSON=function(t){return qi.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this},dr.prototype=Object.create(qi.prototype),dr.prototype.constructor=dr,dr.prototype.isLineCurve=!0,dr.prototype.getPoint=function(t,e){var n=e||new r;return 1===t?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(t).add(this.v1)),n},dr.prototype.getPointAt=function(t,e){return this.getPoint(t,e)},dr.prototype.getTangent=function(){return this.v2.clone().sub(this.v1).normalize()},dr.prototype.copy=function(t){return qi.prototype.copy.call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this},dr.prototype.toJSON=function(){var t=qi.prototype.toJSON.call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},dr.prototype.fromJSON=function(t){return qi.prototype.fromJSON.call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},pr.prototype=Object.create(qi.prototype),pr.prototype.constructor=pr,pr.prototype.isLineCurve3=!0,pr.prototype.getPoint=function(t,e){var n=e||new s;return 1===t?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(t).add(this.v1)),n},pr.prototype.getPointAt=function(t,e){return this.getPoint(t,e)},pr.prototype.copy=function(t){return qi.prototype.copy.call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this},pr.prototype.toJSON=function(){var t=qi.prototype.toJSON.call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},pr.prototype.fromJSON=function(t){return qi.prototype.fromJSON.call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},fr.prototype=Object.create(qi.prototype),fr.prototype.constructor=fr,fr.prototype.isQuadraticBezierCurve=!0,fr.prototype.getPoint=function(t,e){var n=e||new r,i=this.v0,a=this.v1,o=this.v2;return n.set(rr(t,i.x,a.x,o.x),rr(t,i.y,a.y,o.y)),n},fr.prototype.copy=function(t){return qi.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this},fr.prototype.toJSON=function(){var t=qi.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},fr.prototype.fromJSON=function(t){return qi.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},gr.prototype=Object.create(qi.prototype),gr.prototype.constructor=gr,gr.prototype.isQuadraticBezierCurve3=!0,gr.prototype.getPoint=function(t,e){var n=e||new s,i=this.v0,r=this.v1,a=this.v2;return n.set(rr(t,i.x,r.x,a.x),rr(t,i.y,r.y,a.y),rr(t,i.z,r.z,a.z)),n},gr.prototype.copy=function(t){return qi.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this},gr.prototype.toJSON=function(){var t=qi.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},gr.prototype.fromJSON=function(t){return qi.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},mr.prototype=Object.create(qi.prototype),mr.prototype.constructor=mr,mr.prototype.isSplineCurve=!0,mr.prototype.getPoint=function(t,e){var n=e||new r,i=this.points,a=(i.length-1)*t,o=Math.floor(a),s=a-o,l=i[0===o?o:o-1],c=i[o],u=i[o>i.length-2?i.length-1:o+1],h=i[o>i.length-3?i.length-1:o+2];return n.set(tr(s,l.x,c.x,u.x,h.x),tr(s,l.y,c.y,u.y,h.y)),n},mr.prototype.copy=function(t){qi.prototype.copy.call(this,t),this.points=[];for(var e=0,n=t.points.length;e<n;e++){var i=t.points[e];this.points.push(i.clone())}return this},mr.prototype.toJSON=function(){var t=qi.prototype.toJSON.call(this);t.points=[];for(var e=0,n=this.points.length;e<n;e++){var i=this.points[e];t.points.push(i.toArray())}return t},mr.prototype.fromJSON=function(t){qi.prototype.fromJSON.call(this,t),this.points=[];for(var e=0,n=t.points.length;e<n;e++){var i=t.points[e];this.points.push((new r).fromArray(i))}return this};var Pc=Object.freeze({ArcCurve:Ji,CatmullRomCurve3:Qi,CubicBezierCurve:ur,CubicBezierCurve3:hr,EllipseCurve:Zi,LineCurve:dr,LineCurve3:pr,QuadraticBezierCurve:fr,QuadraticBezierCurve3:gr,SplineCurve:mr});vr.prototype=Object.assign(Object.create(qi.prototype),{constructor:vr,add:function(t){this.curves.push(t)},closePath:function(){var t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new dr(e,t))},getPoint:function(t){for(var e=t*this.getLength(),n=this.getCurveLengths(),i=0;i<n.length;){if(n[i]>=e){var r=n[i]-e,a=this.curves[i],o=a.getLength(),s=0===o?0:1-r/o;return a.getPointAt(s)}i++}return null},getLength:function(){var t=this.getCurveLengths();return t[t.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var t=[],e=0,n=0,i=this.curves.length;n<i;n++)e+=this.curves[n].getLength(),t.push(e);return this.cacheLengths=t,t},getSpacedPoints:function(t){void 0===t&&(t=40);for(var e=[],n=0;n<=t;n++)e.push(this.getPoint(n/t));return this.autoClose&&e.push(e[0]),e},getPoints:function(t){t=t||12;for(var e,n=[],i=0,r=this.curves;i<r.length;i++)for(var a=r[i],o=a&&a.isEllipseCurve?2*t:a&&(a.isLineCurve||a.isLineCurve3)?1:a&&a.isSplineCurve?t*a.points.length:t,s=a.getPoints(o),l=0;l<s.length;l++){var c=s[l];e&&e.equals(c)||(n.push(c),e=c)}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n},copy:function(t){qi.prototype.copy.call(this,t),this.curves=[];for(var e=0,n=t.curves.length;e<n;e++){var i=t.curves[e];this.curves.push(i.clone())}return this.autoClose=t.autoClose,this},toJSON:function(){var t=qi.prototype.toJSON.call(this);t.autoClose=this.autoClose,t.curves=[];for(var e=0,n=this.curves.length;e<n;e++){var i=this.curves[e];t.curves.push(i.toJSON())}return t},fromJSON:function(t){qi.prototype.fromJSON.call(this,t),this.autoClose=t.autoClose,this.curves=[];for(var e=0,n=t.curves.length;e<n;e++){var i=t.curves[e];this.curves.push((new Pc[i.type]).fromJSON(i))}return this}}),yr.prototype=Object.assign(Object.create(vr.prototype),{constructor:yr,setFromPoints:function(t){this.moveTo(t[0].x,t[0].y);for(var e=1,n=t.length;e<n;e++)this.lineTo(t[e].x,t[e].y)},moveTo:function(t,e){this.currentPoint.set(t,e)},lineTo:function(t,e){var n=new dr(this.currentPoint.clone(),new r(t,e));this.curves.push(n),this.currentPoint.set(t,e)},quadraticCurveTo:function(t,e,n,i){var a=new fr(this.currentPoint.clone(),new r(t,e),new r(n,i));this.curves.push(a),this.currentPoint.set(n,i)},bezierCurveTo:function(t,e,n,i,a,o){var s=new ur(this.currentPoint.clone(),new r(t,e),new r(n,i),new r(a,o));this.curves.push(s),this.currentPoint.set(a,o)},splineThru:function(t){var e=[this.currentPoint.clone()].concat(t),n=new mr(e);this.curves.push(n),this.currentPoint.copy(t[t.length-1])},arc:function(t,e,n,i,r,a){var o=this.currentPoint.x,s=this.currentPoint.y;this.absarc(t+o,e+s,n,i,r,a)},absarc:function(t,e,n,i,r,a){this.absellipse(t,e,n,n,i,r,a)},ellipse:function(t,e,n,i,r,a,o,s){var l=this.currentPoint.x,c=this.currentPoint.y;this.absellipse(t+l,e+c,n,i,r,a,o,s)},absellipse:function(t,e,n,i,r,a,o,s){var l=new Zi(t,e,n,i,r,a,o,s);if(this.curves.length>0){var c=l.getPoint(0);c.equals(this.currentPoint)||this.lineTo(c.x,c.y)}this.curves.push(l);var u=l.getPoint(1);this.currentPoint.copy(u)},copy:function(t){return vr.prototype.copy.call(this,t),this.currentPoint.copy(t.currentPoint),this},toJSON:function(){var t=vr.prototype.toJSON.call(this);return t.currentPoint=this.currentPoint.toArray(),t},fromJSON:function(t){return vr.prototype.fromJSON.call(this,t),this.currentPoint.fromArray(t.currentPoint),this}}),xr.prototype=Object.assign(Object.create(yr.prototype),{constructor:xr,getPointsHoles:function(t){for(var e=[],n=0,i=this.holes.length;n<i;n++)e[n]=this.holes[n].getPoints(t);return e},extractPoints:function(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}},copy:function(t){yr.prototype.copy.call(this,t),this.holes=[];for(var e=0,n=t.holes.length;e<n;e++){var i=t.holes[e];this.holes.push(i.clone())}return this},toJSON:function(){var t=yr.prototype.toJSON.call(this);t.uuid=this.uuid,t.holes=[];for(var e=0,n=this.holes.length;e<n;e++){var i=this.holes[e];t.holes.push(i.toJSON())}return t},fromJSON:function(t){yr.prototype.fromJSON.call(this,t),this.uuid=t.uuid,this.holes=[];for(var e=0,n=t.holes.length;e<n;e++){var i=t.holes[e];this.holes.push((new yr).fromJSON(i))}return this}}),_r.prototype=Object.assign(Object.create(A.prototype),{constructor:_r,isLight:!0,copy:function(t){return A.prototype.copy.call(this,t),this.color.copy(t.color),this.intensity=t.intensity,this},toJSON:function(t){var e=A.prototype.toJSON.call(this,t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}),br.prototype=Object.assign(Object.create(_r.prototype),{constructor:br,isHemisphereLight:!0,copy:function(t){return _r.prototype.copy.call(this,t),this.groundColor.copy(t.groundColor),this}}),Object.assign(wr.prototype,{copy:function(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var t={};return 0!==this.bias&&(t.bias=this.bias),1!==this.radius&&(t.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}),Mr.prototype=Object.assign(Object.create(wr.prototype),{constructor:Mr,isSpotLightShadow:!0,update:function(t){var e=this.camera,n=2*Wl.RAD2DEG*t.angle,i=this.mapSize.width/this.mapSize.height,r=t.distance||e.far;n===e.fov&&i===e.aspect&&r===e.far||(e.fov=n,e.aspect=i,e.far=r,e.updateProjectionMatrix())}}),Sr.prototype=Object.assign(Object.create(_r.prototype),{constructor:Sr,isSpotLight:!0,copy:function(t){return _r.prototype.copy.call(this,t),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),Tr.prototype=Object.assign(Object.create(_r.prototype),{constructor:Tr,isPointLight:!0,copy:function(t){return _r.prototype.copy.call(this,t),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}),Ar.prototype=Object.assign(Object.create(Te.prototype),{constructor:Ar,isOrthographicCamera:!0,copy:function(t,e){return Te.prototype.copy.call(this,t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:Object.assign({},t.view),this},setViewOffset:function(t,e,n,i,r,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=a,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2,r=n-t,a=n+t,o=i+e,s=i-e;if(null!==this.view&&this.view.enabled){var l=this.zoom/(this.view.width/this.view.fullWidth),c=this.zoom/(this.view.height/this.view.fullHeight),u=(this.right-this.left)/this.view.width,h=(this.top-this.bottom)/this.view.height;r+=u*(this.view.offsetX/l),a=r+u*(this.view.width/l),o-=h*(this.view.offsetY/c),s=o-h*(this.view.height/c)}this.projectionMatrix.makeOrthographic(r,a,o,s,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(t){var e=A.prototype.toJSON.call(this,t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}}),Cr.prototype=Object.assign(Object.create(wr.prototype),{constructor:Cr}),Lr.prototype=Object.assign(Object.create(_r.prototype),{constructor:Lr,isDirectionalLight:!0,copy:function(t){return _r.prototype.copy.call(this,t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),Er.prototype=Object.assign(Object.create(_r.prototype),{constructor:Er,isAmbientLight:!0}),Ir.prototype=Object.assign(Object.create(_r.prototype),{constructor:Ir,isRectAreaLight:!0,copy:function(t){return _r.prototype.copy.call(this,t),this.width=t.width,this.height=t.height,this},toJSON:function(t){var e=_r.prototype.toJSON.call(this,t);return e.object.width=this.width,e.object.height=this.height,e}}),Object.assign(Pr.prototype,{load:function(t,e,n,i){var r=this,a=new Hi(r.manager);a.setPath(r.path),a.load(t,function(t){e(r.parse(JSON.parse(t)))},n,i)},parse:function(t){function e(t){return void 0===n[t]&&console.warn("THREE.MaterialLoader: Undefined texture",t),n[t]}var n=this.textures,i=new wc[t.type];if(void 0!==t.uuid&&(i.uuid=t.uuid),void 0!==t.name&&(i.name=t.name),void 0!==t.color&&i.color.setHex(t.color),void 0!==t.roughness&&(i.roughness=t.roughness),void 0!==t.metalness&&(i.metalness=t.metalness),void 0!==t.emissive&&i.emissive.setHex(t.emissive),void 0!==t.specular&&i.specular.setHex(t.specular),void 0!==t.shininess&&(i.shininess=t.shininess),void 0!==t.clearCoat&&(i.clearCoat=t.clearCoat),void 0!==t.clearCoatRoughness&&(i.clearCoatRoughness=t.clearCoatRoughness),void 0!==t.vertexColors&&(i.vertexColors=t.vertexColors),void 0!==t.fog&&(i.fog=t.fog),void 0!==t.flatShading&&(i.flatShading=t.flatShading),void 0!==t.blending&&(i.blending=t.blending),void 0!==t.combine&&(i.combine=t.combine),void 0!==t.side&&(i.side=t.side),void 0!==t.opacity&&(i.opacity=t.opacity),void 0!==t.transparent&&(i.transparent=t.transparent),void 0!==t.alphaTest&&(i.alphaTest=t.alphaTest),void 0!==t.depthTest&&(i.depthTest=t.depthTest),void 0!==t.depthWrite&&(i.depthWrite=t.depthWrite),void 0!==t.colorWrite&&(i.colorWrite=t.colorWrite),void 0!==t.wireframe&&(i.wireframe=t.wireframe),void 0!==t.wireframeLinewidth&&(i.wireframeLinewidth=t.wireframeLinewidth),void 0!==t.wireframeLinecap&&(i.wireframeLinecap=t.wireframeLinecap),void 0!==t.wireframeLinejoin&&(i.wireframeLinejoin=t.wireframeLinejoin),void 0!==t.rotation&&(i.rotation=t.rotation),1!==t.linewidth&&(i.linewidth=t.linewidth),void 0!==t.dashSize&&(i.dashSize=t.dashSize),void 0!==t.gapSize&&(i.gapSize=t.gapSize),void 0!==t.scale&&(i.scale=t.scale),void 0!==t.polygonOffset&&(i.polygonOffset=t.polygonOffset),void 0!==t.polygonOffsetFactor&&(i.polygonOffsetFactor=t.polygonOffsetFactor),void 0!==t.polygonOffsetUnits&&(i.polygonOffsetUnits=t.polygonOffsetUnits),void 0!==t.skinning&&(i.skinning=t.skinning),void 0!==t.morphTargets&&(i.morphTargets=t.morphTargets),void 0!==t.dithering&&(i.dithering=t.dithering),void 0!==t.visible&&(i.visible=t.visible),void 0!==t.userData&&(i.userData=t.userData),void 0!==t.uniforms)for(var o in t.uniforms){var l=t.uniforms[o];switch(i.uniforms[o]={},l.type){case"t":i.uniforms[o].value=e(l.value);break;case"c":i.uniforms[o].value=(new _).setHex(l.value);break;case"v2":i.uniforms[o].value=(new r).fromArray(l.value);break;case"v3":i.uniforms[o].value=(new s).fromArray(l.value);break;case"v4":i.uniforms[o].value=(new u).fromArray(l.value);break;case"m4":i.uniforms[o].value=(new a).fromArray(l.value);break;default:i.uniforms[o].value=l.value}}if(void 0!==t.defines&&(i.defines=t.defines),void 0!==t.vertexShader&&(i.vertexShader=t.vertexShader),void 0!==t.fragmentShader&&(i.fragmentShader=t.fragmentShader),void 0!==t.shading&&(i.flatShading=1===t.shading),void 0!==t.size&&(i.size=t.size),void 0!==t.sizeAttenuation&&(i.sizeAttenuation=t.sizeAttenuation),void 0!==t.map&&(i.map=e(t.map)),void 0!==t.alphaMap&&(i.alphaMap=e(t.alphaMap),i.transparent=!0),void 0!==t.bumpMap&&(i.bumpMap=e(t.bumpMap)),void 0!==t.bumpScale&&(i.bumpScale=t.bumpScale),void 0!==t.normalMap&&(i.normalMap=e(t.normalMap)),void 0!==t.normalMapType&&(i.normalMapType=t.normalMapType),void 0!==t.normalScale){var c=t.normalScale;!1===Array.isArray(c)&&(c=[c,c]),i.normalScale=(new r).fromArray(c)}return void 0!==t.displacementMap&&(i.displacementMap=e(t.displacementMap)),void 0!==t.displacementScale&&(i.displacementScale=t.displacementScale),void 0!==t.displacementBias&&(i.displacementBias=t.displacementBias),void 0!==t.roughnessMap&&(i.roughnessMap=e(t.roughnessMap)),void 0!==t.metalnessMap&&(i.metalnessMap=e(t.metalnessMap)),void 0!==t.emissiveMap&&(i.emissiveMap=e(t.emissiveMap)),void 0!==t.emissiveIntensity&&(i.emissiveIntensity=t.emissiveIntensity),void 0!==t.specularMap&&(i.specularMap=e(t.specularMap)),void 0!==t.envMap&&(i.envMap=e(t.envMap)),void 0!==t.envMapIntensity&&(i.envMapIntensity=t.envMapIntensity),void 0!==t.reflectivity&&(i.reflectivity=t.reflectivity),void 0!==t.lightMap&&(i.lightMap=e(t.lightMap)),void 0!==t.lightMapIntensity&&(i.lightMapIntensity=t.lightMapIntensity),void 0!==t.aoMap&&(i.aoMap=e(t.aoMap)),void 0!==t.aoMapIntensity&&(i.aoMapIntensity=t.aoMapIntensity),void 0!==t.gradientMap&&(i.gradientMap=e(t.gradientMap)),i},setPath:function(t){return this.path=t,this},setTextures:function(t){return this.textures=t,this}});var Dc={decodeText:function(t){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(t);for(var e="",n=0,i=t.length;n<i;n++)e+=String.fromCharCode(t[n]);return decodeURIComponent(escape(e))},extractUrlBase:function(t){var e=t.lastIndexOf("/");return-1===e?"./":t.substr(0,e+1)}};Object.assign(Dr.prototype,{load:function(t,e,n,i){var r=this,a=new Hi(r.manager);a.setPath(r.path),a.load(t,function(t){e(r.parse(JSON.parse(t)))},n,i)},parse:function(t){var e=new F,n=t.data.index;if(void 0!==n){var i=new Rc[n.type](n.array);e.setIndex(new L(i,1))}var r=t.data.attributes;for(var a in r){var o=r[a],i=new Rc[o.type](o.array);e.addAttribute(a,new L(i,o.itemSize,o.normalized))}var l=t.data.groups||t.data.drawcalls||t.data.offsets;if(void 0!==l)for(var c=0,u=l.length;c!==u;++c){var h=l[c];e.addGroup(h.start,h.count,h.materialIndex)}var d=t.data.boundingSphere;if(void 0!==d){var p=new s;void 0!==d.center&&p.fromArray(d.center),e.boundingSphere=new g(p,d.radius)}return t.name&&(e.name=t.name),t.userData&&(e.userData=t.userData),e},setPath:function(t){return this.path=t,this}});var Rc={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:"undefined"!=typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};Object.assign(Rr.prototype,{crossOrigin:"anonymous",load:function(t,e,n,i){var r=this,a=void 0===this.path?Dc.extractUrlBase(t):this.path;this.resourcePath=this.resourcePath||a;var o=new Hi(r.manager);o.setPath(this.path),o.load(t,function(n){var a=null;try{a=JSON.parse(n)}catch(e){return void 0!==i&&i(e),void console.error("THREE:ObjectLoader: Can't parse "+t+".",e.message)}var o=a.metadata;if(void 0===o||void 0===o.type||"geometry"===o.type.toLowerCase())return void console.error("THREE.ObjectLoader: Can't load "+t);r.parse(a,e)},n,i)},setPath:function(t){return this.path=t,this},setResourcePath:function(t){return this.resourcePath=t,this},setCrossOrigin:function(t){return this.crossOrigin=t,this},parse:function(t,e){var n=this.parseShape(t.shapes),i=this.parseGeometries(t.geometries,n),r=this.parseImages(t.images,function(){void 0!==e&&e(s)}),a=this.parseTextures(t.textures,r),o=this.parseMaterials(t.materials,a),s=this.parseObject(t.object,i,o);return t.animations&&(s.animations=this.parseAnimations(t.animations)),void 0!==t.images&&0!==t.images.length||void 0!==e&&e(s),s},parseShape:function(t){var e={};if(void 0!==t)for(var n=0,i=t.length;n<i;n++){var r=(new xr).fromJSON(t[n]);e[r.uuid]=r}return e},parseGeometries:function(t,e){var n={};if(void 0!==t)for(var i=new Dr,r=0,a=t.length;r<a;r++){var o,s=t[r];switch(s.type){case"PlaneGeometry":case"PlaneBufferGeometry":o=new bc[s.type](s.width,s.height,s.widthSegments,s.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":o=new bc[s.type](s.width,s.height,s.depth,s.widthSegments,s.heightSegments,s.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":o=new bc[s.type](s.radius,s.segments,s.thetaStart,s.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":o=new bc[s.type](s.radiusTop,s.radiusBottom,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":o=new bc[s.type](s.radius,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":o=new bc[s.type](s.radius,s.widthSegments,s.heightSegments,s.phiStart,s.phiLength,s.thetaStart,s.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":o=new bc[s.type](s.radius,s.detail);break;case"RingGeometry":case"RingBufferGeometry":o=new bc[s.type](s.innerRadius,s.outerRadius,s.thetaSegments,s.phiSegments,s.thetaStart,s.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":o=new bc[s.type](s.radius,s.tube,s.radialSegments,s.tubularSegments,s.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":o=new bc[s.type](s.radius,s.tube,s.tubularSegments,s.radialSegments,s.p,s.q);break;case"LatheGeometry":case"LatheBufferGeometry":o=new bc[s.type](s.points,s.segments,s.phiStart,s.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":o=new bc[s.type](s.vertices,s.indices,s.radius,s.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":for(var l=[],c=0,u=s.shapes.length;c<u;c++){var h=e[s.shapes[c]];l.push(h)}o=new bc[s.type](l,s.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":for(var l=[],c=0,u=s.shapes.length;c<u;c++){var h=e[s.shapes[c]];l.push(h)}var d=s.options.extrudePath;void 0!==d&&(s.options.extrudePath=(new Pc[d.type]).fromJSON(d)),o=new bc[s.type](l,s.options);break;case"BufferGeometry":o=i.parse(s);break;case"Geometry":if("THREE"in window&&"LegacyJSONLoader"in THREE){var p=new THREE.LegacyJSONLoader;o=p.parse(s,this.resourcePath).geometry}else console.error('THREE.ObjectLoader: You have to import LegacyJSONLoader in order load geometry data of type "Geometry".');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+s.type+'"');continue}o.uuid=s.uuid,void 0!==s.name&&(o.name=s.name),!0===o.isBufferGeometry&&void 0!==s.userData&&(o.userData=s.userData),n[s.uuid]=o}return n},parseMaterials:function(t,e){var n={},i={};if(void 0!==t){var r=new Pr;r.setTextures(e);for(var a=0,o=t.length;a<o;a++){var s=t[a];if("MultiMaterial"===s.type){for(var l=[],c=0;c<s.materials.length;c++){var u=s.materials[c];void 0===n[u.uuid]&&(n[u.uuid]=r.parse(u)),l.push(n[u.uuid])}i[s.uuid]=l}else i[s.uuid]=r.parse(s),n[s.uuid]=i[s.uuid]}}return i},parseAnimations:function(t){for(var e=[],n=0;n<t.length;n++){var i=t[n],r=Bi.parse(i);void 0!==i.uuid&&(r.uuid=i.uuid),e.push(r)}return e},parseImages:function(t,e){function n(t){return i.manager.itemStart(t),o.load(t,function(){i.manager.itemEnd(t)},void 0,function(){i.manager.itemError(t),i.manager.itemEnd(t)})}var i=this,r={};if(void 0!==t&&t.length>0){var a=new Gi(e),o=new $i(a);o.setCrossOrigin(this.crossOrigin);for(var s=0,l=t.length;s<l;s++){var c=t[s],u=c.url;if(Array.isArray(u)){r[c.uuid]=[];for(var h=0,d=u.length;h<d;h++){var p=u[h],f=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(p)?p:i.resourcePath+p;r[c.uuid].push(n(f))}}else{var f=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c.url)?c.url:i.resourcePath+c.url;r[c.uuid]=n(f)}}}return r},parseTextures:function(t,e){function n(t,e){return"number"==typeof t?t:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",t),e[t])}var i={};if(void 0!==t)for(var r=0,a=t.length;r<a;r++){var o=t[r];void 0===o.image&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),void 0===e[o.image]&&console.warn("THREE.ObjectLoader: Undefined image",o.image);var s;s=Array.isArray(e[o.image])?new lt(e[o.image]):new c(e[o.image]),s.needsUpdate=!0,s.uuid=o.uuid,void 0!==o.name&&(s.name=o.name),void 0!==o.mapping&&(s.mapping=n(o.mapping,Oc)),void 0!==o.offset&&s.offset.fromArray(o.offset),void 0!==o.repeat&&s.repeat.fromArray(o.repeat),void 0!==o.center&&s.center.fromArray(o.center),void 0!==o.rotation&&(s.rotation=o.rotation),void 0!==o.wrap&&(s.wrapS=n(o.wrap[0],kc),s.wrapT=n(o.wrap[1],kc)),void 0!==o.format&&(s.format=o.format),void 0!==o.minFilter&&(s.minFilter=n(o.minFilter,Nc)),void 0!==o.magFilter&&(s.magFilter=n(o.magFilter,Nc)),void 0!==o.anisotropy&&(s.anisotropy=o.anisotropy),void 0!==o.flipY&&(s.flipY=o.flipY),i[o.uuid]=s}return i},parseObject:function(t,e,n){function i(t){return void 0===e[t]&&console.warn("THREE.ObjectLoader: Undefined geometry",t),e[t]}function r(t){if(void 0!==t){if(Array.isArray(t)){for(var e=[],i=0,r=t.length;i<r;i++){var a=t[i];void 0===n[a]&&console.warn("THREE.ObjectLoader: Undefined material",a),e.push(n[a])}return e}return void 0===n[t]&&console.warn("THREE.ObjectLoader: Undefined material",t),n[t]}}var a;switch(t.type){case"Scene":a=new Oe,void 0!==t.background&&Number.isInteger(t.background)&&(a.background=new _(t.background)),void 0!==t.fog&&("Fog"===t.fog.type?a.fog=new Re(t.fog.color,t.fog.near,t.fog.far):"FogExp2"===t.fog.type&&(a.fog=new De(t.fog.color,t.fog.density)));break;case"PerspectiveCamera":a=new Ae(t.fov,t.aspect,t.near,t.far),void 0!==t.focus&&(a.focus=t.focus),void 0!==t.zoom&&(a.zoom=t.zoom),void 0!==t.filmGauge&&(a.filmGauge=t.filmGauge),void 0!==t.filmOffset&&(a.filmOffset=t.filmOffset),void 0!==t.view&&(a.view=Object.assign({},t.view));break;case"OrthographicCamera":a=new Ar(t.left,t.right,t.top,t.bottom,t.near,t.far),void 0!==t.zoom&&(a.zoom=t.zoom),void 0!==t.view&&(a.view=Object.assign({},t.view));break;case"AmbientLight":a=new Er(t.color,t.intensity);break;case"DirectionalLight":a=new Lr(t.color,t.intensity);break;case"PointLight":a=new Tr(t.color,t.intensity,t.distance,t.decay);break;case"RectAreaLight":a=new Ir(t.color,t.intensity,t.width,t.height);break;case"SpotLight":a=new Sr(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay);break;case"HemisphereLight":a=new br(t.color,t.groundColor,t.intensity);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":var o=i(t.geometry),s=r(t.material);a=o.bones&&o.bones.length>0?new Fe(o,s):new Z(o,s);break;case"LOD":a=new Ve;break;case"Line":a=new je(i(t.geometry),r(t.material),t.mode);break;case"LineLoop":a=new $e(i(t.geometry),r(t.material));break;case"LineSegments":a=new We(i(t.geometry),r(t.material));break;case"PointCloud":case"Points":a=new Xe(i(t.geometry),r(t.material));break;case"Sprite":a=new Be(r(t.material));break;case"Group":a=new Se;break;default:a=new A}if(a.uuid=t.uuid,void 0!==t.name&&(a.name=t.name),void 0!==t.matrix?(a.matrix.fromArray(t.matrix),void 0!==t.matrixAutoUpdate&&(a.matrixAutoUpdate=t.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(void 0!==t.position&&a.position.fromArray(t.position),void 0!==t.rotation&&a.rotation.fromArray(t.rotation),void 0!==t.quaternion&&a.quaternion.fromArray(t.quaternion),void 0!==t.scale&&a.scale.fromArray(t.scale)),void 0!==t.castShadow&&(a.castShadow=t.castShadow),void 0!==t.receiveShadow&&(a.receiveShadow=t.receiveShadow),t.shadow&&(void 0!==t.shadow.bias&&(a.shadow.bias=t.shadow.bias),void 0!==t.shadow.radius&&(a.shadow.radius=t.shadow.radius),void 0!==t.shadow.mapSize&&a.shadow.mapSize.fromArray(t.shadow.mapSize),void 0!==t.shadow.camera&&(a.shadow.camera=this.parseObject(t.shadow.camera))),void 0!==t.visible&&(a.visible=t.visible),void 0!==t.frustumCulled&&(a.frustumCulled=t.frustumCulled),void 0!==t.renderOrder&&(a.renderOrder=t.renderOrder),void 0!==t.userData&&(a.userData=t.userData),void 0!==t.layers&&(a.layers.mask=t.layers),void 0!==t.children)for(var l=t.children,c=0;c<l.length;c++)a.add(this.parseObject(l[c],e,n));if("LOD"===t.type)for(var u=t.levels,h=0;h<u.length;h++){var d=u[h],p=a.getObjectByProperty("uuid",d.object);void 0!==p&&a.addLevel(p,d.distance)}return a}});var Oc={UVMapping:fs,CubeReflectionMapping:gs,CubeRefractionMapping:ms,EquirectangularReflectionMapping:vs,EquirectangularRefractionMapping:ys,SphericalReflectionMapping:xs,CubeUVReflectionMapping:_s,CubeUVRefractionMapping:bs},kc={RepeatWrapping:ws,ClampToEdgeWrapping:Ms,MirroredRepeatWrapping:Ss},Nc={NearestFilter:Ts,NearestMipMapNearestFilter:As,NearestMipMapLinearFilter:Cs,LinearFilter:Ls,LinearMipMapNearestFilter:Es,LinearMipMapLinearFilter:Is};Or.prototype={constructor:Or,setOptions:function(t){return this.options=t,this},load:function(t,e,n,i){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var r=this,a=Sc.get(t);if(void 0!==a)return r.manager.itemStart(t),setTimeout(function(){e&&e(a),r.manager.itemEnd(t)},0),a;fetch(t).then(function(t){return t.blob()}).then(function(t){return createImageBitmap(t,r.options)}).then(function(n){Sc.add(t,n),e&&e(n),r.manager.itemEnd(t)}).catch(function(e){i&&i(e),r.manager.itemError(t),r.manager.itemEnd(t)})},setCrossOrigin:function(){return this},setPath:function(t){return this.path=t,this}},Object.assign(kr.prototype,{moveTo:function(t,e){this.currentPath=new yr,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e)},lineTo:function(t,e){this.currentPath.lineTo(t,e)},quadraticCurveTo:function(t,e,n,i){this.currentPath.quadraticCurveTo(t,e,n,i)},bezierCurveTo:function(t,e,n,i,r,a){this.currentPath.bezierCurveTo(t,e,n,i,r,a)},splineThru:function(t){this.currentPath.splineThru(t)},toShapes:function(t,e){function n(t){for(var e=[],n=0,i=t.length;n<i;n++){var r=t[n],a=new xr;a.curves=r.curves,e.push(a)}return e}var i=xc.isClockWise,r=this.subPaths;if(0===r.length)return[];if(!0===e)return n(r);var a,o,s,l=[];if(1===r.length)return o=r[0],s=new xr,s.curves=o.curves,l.push(s),l;var c=!i(r[0].getPoints());c=t?!c:c;var u,h=[],d=[],p=[],f=0;d[f]=void 0,p[f]=[];for(var g=0,m=r.length;g<m;g++)o=r[g],u=o.getPoints(),a=i(u),a=t?!a:a,a?(!c&&d[f]&&f++,d[f]={s:new xr,p:u},d[f].s.curves=o.curves,c&&f++,p[f]=[]):p[f].push({h:o,p:u[0]});if(!d[0])return n(r);if(d.length>1){for(var v=!1,y=[],x=0,_=d.length;x<_;x++)h[x]=[];for(var x=0,_=d.length;x<_;x++)for(var b=p[x],w=0;w<b.length;w++){for(var M=b[w],S=!0,T=0;T<d.length;T++)(function(t,e){for(var n=e.length,i=!1,r=n-1,a=0;a<n;r=a++){var o=e[r],s=e[a],l=s.x-o.x,c=s.y-o.y;if(Math.abs(c)>Number.EPSILON){if(c<0&&(o=e[a],l=-l,s=e[r],c=-c),t.y<o.y||t.y>s.y)continue;if(t.y===o.y){if(t.x===o.x)return!0}else{var u=c*(t.x-o.x)-l*(t.y-o.y);if(0===u)return!0;if(u<0)continue;i=!i}}else{if(t.y!==o.y)continue;if(s.x<=t.x&&t.x<=o.x||o.x<=t.x&&t.x<=s.x)return!0}}return i})(M.p,d[T].p)&&(x!==T&&y.push({froms:x,tos:T,hole:w}),S?(S=!1,h[T].push(M)):v=!0);S&&h[x].push(M)}y.length>0&&(v||(p=h))}for(var A,g=0,C=d.length;g<C;g++){s=d[g].s,l.push(s),A=p[g];for(var L=0,E=A.length;L<E;L++)s.holes.push(A[L].h)}return l}}),Object.assign(Nr.prototype,{isFont:!0,generateShapes:function(t,e){void 0===e&&(e=100);for(var n=[],i=zr(t,e,this.data),r=0,a=i.length;r<a;r++)Array.prototype.push.apply(n,i[r].toShapes());return n}}),Object.assign(Vr.prototype,{load:function(t,e,n,i){var r=this,a=new Hi(this.manager);a.setPath(this.path),a.load(t,function(t){var n;try{n=JSON.parse(t)}catch(e){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),n=JSON.parse(t.substring(65,t.length-2))}var i=r.parse(n);e&&e(i)},n,i)},parse:function(t){return new Nr(t)},setPath:function(t){return this.path=t,this}}),Fr.Handlers={handlers:[],add:function(t,e){this.handlers.push(t,e)},get:function(t){for(var e=this.handlers,n=0,i=e.length;n<i;n+=2){var r=e[n],a=e[n+1];if(r.test(t))return a}return null}},Object.assign(Fr.prototype,{crossOrigin:"anonymous",onLoadStart:function(){},onLoadProgress:function(){},onLoadComplete:function(){},initMaterials:function(t,e,n){for(var i=[],r=0;r<t.length;++r)i[r]=this.createMaterial(t[r],e,n);return i},createMaterial:function(){var t={NoBlending:Eo,NormalBlending:Io,AdditiveBlending:Po,SubtractiveBlending:Do,MultiplyBlending:Ro,CustomBlending:Oo},e=new _,n=new Xi,i=new Pr;return function(r,a,o){function s(t,e,i,r,s){var c,u=a+t,h=Fr.Handlers.get(u);null!==h?c=h.load(u):(n.setCrossOrigin(o),c=n.load(u)),void 0!==e&&(c.repeat.fromArray(e),1!==e[0]&&(c.wrapS=ws),1!==e[1]&&(c.wrapT=ws)),void 0!==i&&c.offset.fromArray(i),void 0!==r&&("repeat"===r[0]&&(c.wrapS=ws),"mirror"===r[0]&&(c.wrapS=Ss),"repeat"===r[1]&&(c.wrapT=ws),"mirror"===r[1]&&(c.wrapT=Ss)),void 0!==s&&(c.anisotropy=s);var d=Wl.generateUUID();return l[d]=c,d}var l={},c={uuid:Wl.generateUUID(),type:"MeshLambertMaterial"};for(var u in r){var h=r[u];switch(u){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":break;case"DbgName":c.name=h;break;case"blending":c.blending=t[h];break;case"colorAmbient":case"mapAmbient":console.warn("THREE.Loader.createMaterial:",u,"is no longer supported.");break;case"colorDiffuse":c.color=e.fromArray(h).getHex();break;case"colorSpecular":c.specular=e.fromArray(h).getHex();break;case"colorEmissive":c.emissive=e.fromArray(h).getHex();break;case"specularCoef":c.shininess=h;break;case"shading":"basic"===h.toLowerCase()&&(c.type="MeshBasicMaterial"),"phong"===h.toLowerCase()&&(c.type="MeshPhongMaterial"),"standard"===h.toLowerCase()&&(c.type="MeshStandardMaterial");break;case"mapDiffuse":c.map=s(h,r.mapDiffuseRepeat,r.mapDiffuseOffset,r.mapDiffuseWrap,r.mapDiffuseAnisotropy);break;case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":break;case"mapEmissive":c.emissiveMap=s(h,r.mapEmissiveRepeat,r.mapEmissiveOffset,r.mapEmissiveWrap,r.mapEmissiveAnisotropy);break;case"mapEmissiveRepeat":case"mapEmissiveOffset":case"mapEmissiveWrap":case"mapEmissiveAnisotropy":break;case"mapLight":c.lightMap=s(h,r.mapLightRepeat,r.mapLightOffset,r.mapLightWrap,r.mapLightAnisotropy);break;case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":break;case"mapAO":c.aoMap=s(h,r.mapAORepeat,r.mapAOOffset,r.mapAOWrap,r.mapAOAnisotropy);break;case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":break;case"mapBump":c.bumpMap=s(h,r.mapBumpRepeat,r.mapBumpOffset,r.mapBumpWrap,r.mapBumpAnisotropy);break;case"mapBumpScale":c.bumpScale=h;break;case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":break;case"mapNormal":c.normalMap=s(h,r.mapNormalRepeat,r.mapNormalOffset,r.mapNormalWrap,r.mapNormalAnisotropy);break;case"mapNormalFactor":c.normalScale=h;break;case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":break;case"mapSpecular":c.specularMap=s(h,r.mapSpecularRepeat,r.mapSpecularOffset,r.mapSpecularWrap,r.mapSpecularAnisotropy);break;case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":break;case"mapMetalness":c.metalnessMap=s(h,r.mapMetalnessRepeat,r.mapMetalnessOffset,r.mapMetalnessWrap,r.mapMetalnessAnisotropy);break;case"mapMetalnessRepeat":case"mapMetalnessOffset":case"mapMetalnessWrap":case"mapMetalnessAnisotropy":break;case"mapRoughness":c.roughnessMap=s(h,r.mapRoughnessRepeat,r.mapRoughnessOffset,r.mapRoughnessWrap,r.mapRoughnessAnisotropy);break;case"mapRoughnessRepeat":case"mapRoughnessOffset":case"mapRoughnessWrap":case"mapRoughnessAnisotropy":break;case"mapAlpha":c.alphaMap=s(h,r.mapAlphaRepeat,r.mapAlphaOffset,r.mapAlphaWrap,r.mapAlphaAnisotropy);break;case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"flipSided":c.side=wo;break;case"doubleSided":c.side=Mo;break;case"transparency":console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity"),c.opacity=h;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":c[u]=h;break;case"vertexColors":!0===h&&(c.vertexColors=Lo),"face"===h&&(c.vertexColors=Co);break;default:console.error("THREE.Loader.createMaterial: Unsupported",u,h)}}return"MeshBasicMaterial"===c.type&&delete c.emissive,"MeshPhongMaterial"!==c.type&&delete c.specular,c.opacity<1&&(c.transparent=!0),i.setTextures(l),i.parse(c)}}()});var zc,Bc={getContext:function(){return void 0===zc&&(zc=new(window.AudioContext||window.webkitAudioContext)),zc},setContext:function(t){zc=t}};Object.assign(Gr.prototype,{load:function(t,e,n,i){var r=new Hi(this.manager);r.setResponseType("arraybuffer"),r.setPath(this.path),r.load(t,function(t){var n=t.slice(0);Bc.getContext().decodeAudioData(n,function(t){e(t)})},n,i)},setPath:function(t){return this.path=t,this}}),Object.assign(Hr.prototype,{update:function(){var t,e,n,i,r,o,s,l,c=new a,u=new a;return function(a){if(t!==this||e!==a.focus||n!==a.fov||i!==a.aspect*this.aspect||r!==a.near||o!==a.far||s!==a.zoom||l!==this.eyeSep){t=this,e=a.focus,n=a.fov,i=a.aspect*this.aspect,r=a.near,o=a.far,s=a.zoom;var h=a.projectionMatrix.clone();l=this.eyeSep/2;var d,p,f=l*r/e,g=r*Math.tan(Wl.DEG2RAD*n*.5)/s;u.elements[12]=-l,c.elements[12]=l,d=-g*i+f,p=g*i+f,h.elements[0]=2*r/(p-d),h.elements[8]=(p+d)/(p-d),this.cameraL.projectionMatrix.copy(h),d=-g*i-f,p=g*i-f,h.elements[0]=2*r/(p-d),h.elements[8]=(p+d)/(p-d),this.cameraR.projectionMatrix.copy(h)}this.cameraL.matrixWorld.copy(a.matrixWorld).multiply(u),this.cameraR.matrixWorld.copy(a.matrixWorld).multiply(c)}}()}),Ur.prototype=Object.create(A.prototype),Ur.prototype.constructor=Ur,Object.assign(jr.prototype,{start:function(){this.startTime=("undefined"==typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var e=("undefined"==typeof performance?Date:performance).now();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}}),Wr.prototype=Object.assign(Object.create(A.prototype),{constructor:Wr,getInput:function(){return this.gain},removeFilter:function(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this},getFilter:function(){return this.filter},setFilter:function(t){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this},updateMatrixWorld:function(){var t=new s,e=new o,n=new s,i=new s,r=new jr;return function(a){A.prototype.updateMatrixWorld.call(this,a);var o=this.context.listener,s=this.up;if(this.timeDelta=r.getDelta(),this.matrixWorld.decompose(t,e,n),i.set(0,0,-1).applyQuaternion(e),o.positionX){var l=this.context.currentTime+this.timeDelta;o.positionX.linearRampToValueAtTime(t.x,l),o.positionY.linearRampToValueAtTime(t.y,l),o.positionZ.linearRampToValueAtTime(t.z,l),o.forwardX.linearRampToValueAtTime(i.x,l),o.forwardY.linearRampToValueAtTime(i.y,l),o.forwardZ.linearRampToValueAtTime(i.z,l),o.upX.linearRampToValueAtTime(s.x,l),o.upY.linearRampToValueAtTime(s.y,l),o.upZ.linearRampToValueAtTime(s.z,l)}else o.setPosition(t.x,t.y,t.z),o.setOrientation(i.x,i.y,i.z,s.x,s.y,s.z)}}()}),$r.prototype=Object.assign(Object.create(A.prototype),{constructor:$r,getOutput:function(){return this.gain},setNodeSource:function(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this},setMediaElementSource:function(t){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(t),this.connect(),this},setBuffer:function(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(){if(!0===this.isPlaying)return void console.warn("THREE.Audio: Audio is already playing.");if(!1===this.hasPlaybackControl)return void console.warn("THREE.Audio: this Audio has no playback control.");var t=this.context.createBufferSource();return t.buffer=this.buffer,t.detune.value=this.detune,t.loop=this.loop,t.onended=this.onEnded.bind(this),t.playbackRate.setValueAtTime(this.playbackRate,this.startTime),this.startTime=this.context.currentTime,t.start(this.startTime,this.offset),this.isPlaying=!0,this.source=t,this.connect()},pause:function(){return!1===this.hasPlaybackControl?void console.warn("THREE.Audio: this Audio has no playback control."):(!0===this.isPlaying&&(this.source.stop(),this.source.onended=null,this.offset+=(this.context.currentTime-this.startTime)*this.playbackRate,this.isPlaying=!1),this)},stop:function(){return!1===this.hasPlaybackControl?void console.warn("THREE.Audio: this Audio has no playback control."):(this.source.stop(),this.source.onended=null,this.offset=0,this.isPlaying=!1,this)},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(t){return t||(t=[]),!0===this.isPlaying?(this.disconnect(),this.filters=t,this.connect()):this.filters=t,this},setDetune:function(t){return this.detune=t,!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this},getDetune:function(){return this.detune},getFilter:function(){return this.getFilters()[0]},setFilter:function(t){return this.setFilters(t?[t]:[])},setPlaybackRate:function(t){return!1===this.hasPlaybackControl?void console.warn("THREE.Audio: this Audio has no playback control."):(this.playbackRate=t,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this)},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(t){return!1===this.hasPlaybackControl?void console.warn("THREE.Audio: this Audio has no playback control."):(this.loop=t,!0===this.isPlaying&&(this.source.loop=this.loop),this)},getVolume:function(){return this.gain.gain.value},setVolume:function(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}}),Yr.prototype=Object.assign(Object.create($r.prototype),{constructor:Yr,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(t){return this.panner.refDistance=t,this},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(t){return this.panner.rolloffFactor=t,this},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(t){return this.panner.distanceModel=t,this},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(t){return this.panner.maxDistance=t,this},setDirectionalCone:function(t,e,n){return this.panner.coneInnerAngle=t,this.panner.coneOuterAngle=e,this.panner.coneOuterGain=n,this},updateMatrixWorld:function(){var t=new s,e=new o,n=new s,i=new s;return function(r){A.prototype.updateMatrixWorld.call(this,r);var a=this.panner;if(this.matrixWorld.decompose(t,e,n),i.set(0,0,1).applyQuaternion(e),a.positionX){var o=this.context.currentTime+this.listener.timeDelta;a.positionX.linearRampToValueAtTime(t.x,o),a.positionY.linearRampToValueAtTime(t.y,o),a.positionZ.linearRampToValueAtTime(t.z,o),a.orientationX.linearRampToValueAtTime(i.x,o),a.orientationY.linearRampToValueAtTime(i.y,o),a.orientationZ.linearRampToValueAtTime(i.z,o)}else a.setPosition(t.x,t.y,t.z),a.setOrientation(i.x,i.y,i.z)}}()}),Object.assign(Xr.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var t=0,e=this.getFrequencyData(),n=0;n<e.length;n++)t+=e[n];return t/e.length}}),Object.assign(qr.prototype,{accumulate:function(t,e){var n=this.buffer,i=this.valueSize,r=t*i+i,a=this.cumulativeWeight;if(0===a){for(var o=0;o!==i;++o)n[r+o]=n[o];a=e}else{a+=e;var s=e/a;this._mixBufferRegion(n,r,0,s,i)}this.cumulativeWeight=a},apply:function(t){var e=this.valueSize,n=this.buffer,i=t*e+e,r=this.cumulativeWeight,a=this.binding;if(this.cumulativeWeight=0,r<1){var o=3*e;this._mixBufferRegion(n,i,o,1-r,e)}for(var s=e,l=e+e;s!==l;++s)if(n[s]!==n[s+e]){a.setValue(n,i);break}},saveOriginalState:function(){var t=this.binding,e=this.buffer,n=this.valueSize,i=3*n;t.getValue(e,i);for(var r=n,a=i;r!==a;++r)e[r]=e[i+r%n];this.cumulativeWeight=0},restoreOriginalState:function(){var t=3*this.valueSize;this.binding.setValue(this.buffer,t)},_select:function(t,e,n,i,r){if(i>=.5)for(var a=0;a!==r;++a)t[e+a]=t[n+a]},_slerp:function(t,e,n,i){o.slerpFlat(t,e,t,e,t,n,i)},_lerp:function(t,e,n,i,r){for(var a=1-i,o=0;o!==r;++o){var s=e+o;t[s]=t[s]*a+t[n+o]*i}}});var Vc="\\[\\]\\.:\\/";Object.assign(Zr.prototype,{getValue:function(t,e){this.bind();var n=this._targetGroup.nCachedObjects_,i=this._bindings[n];void 0!==i&&i.getValue(t,e)},setValue:function(t,e){for(var n=this._bindings,i=this._targetGroup.nCachedObjects_,r=n.length;i!==r;++i)n[i].setValue(t,e)},bind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].bind()},unbind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].unbind()}}),Object.assign(Jr,{Composite:Zr,create:function(t,e,n){return t&&t.isAnimationObjectGroup?new Jr.Composite(t,e,n):new Jr(t,e,n)},sanitizeNodeName:function(){var t=new RegExp("["+Vc+"]","g");return function(e){return e.replace(/\s/g,"_").replace(t,"")}}(),parseTrackName:function(){var t="[^"+Vc+"]",e="[^"+Vc.replace("\\.","")+"]",n=/((?:WC+[\/:])*)/.source.replace("WC",t),i=/(WCOD+)?/.source.replace("WCOD",e),r=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",t),a=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",t),o=new RegExp("^"+n+i+r+a+"$"),s=["material","materials","bones"];return function(t){var e=o.exec(t);if(!e)throw new Error("PropertyBinding: Cannot parse trackName: "+t);var n={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},i=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==i&&-1!==i){var r=n.nodeName.substring(i+1);-1!==s.indexOf(r)&&(n.nodeName=n.nodeName.substring(0,i),n.objectName=r)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return n}}(),findNode:function(t,e){if(!e||""===e||"root"===e||"."===e||-1===e||e===t.name||e===t.uuid)return t;if(t.skeleton){var n=t.skeleton.getBoneByName(e);if(void 0!==n)return n}if(t.children){var i=function(t){for(var n=0;n<t.length;n++){var r=t[n];if(r.name===e||r.uuid===e)return r;var a=i(r.children);if(a)return a}return null},r=i(t.children);if(r)return r}return null}}),Object.assign(Jr.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(t,e){t[e]=this.node[this.propertyName]},function(t,e){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)t[e++]=n[i]},function(t,e){t[e]=this.resolvedProperty[this.propertyIndex]},function(t,e){this.resolvedProperty.toArray(t,e)}],SetterByBindingTypeAndVersioning:[[function(t,e){this.targetObject[this.propertyName]=t[e]},function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)n[i]=t[e++]},function(t,e){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)n[i]=t[e++];this.targetObject.needsUpdate=!0},function(t,e){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)n[i]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty[this.propertyIndex]=t[e]},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty.fromArray(t,e)},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(t,e){this.bind(),this.getValue(t,e)},setValue:function(t,e){this.bind(),this.setValue(t,e)},bind:function(){var t=this.node,e=this.parsedPath,n=e.objectName,i=e.propertyName,r=e.propertyIndex;if(t||(t=Jr.findNode(this.rootNode,e.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t)return void console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");if(n){var a=e.objectIndex;switch(n){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(var o=0;o<t.length;o++)if(t[o].name===a){a=o;break}break;default:if(void 0===t[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[n]}if(void 0!==a){if(void 0===t[a])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[a]}}var s=t[i];if(void 0===s){var l=e.nodeName;return void console.error("THREE.PropertyBinding: Trying to update property for track: "+l+"."+i+" but it wasn't found.",t)}var c=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?c=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(c=this.Versioning.MatrixWorldNeedsUpdate);var u=this.BindingType.Direct;if(void 0!==r){if("morphTargetInfluences"===i){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(t.geometry.isBufferGeometry){if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);for(var o=0;o<this.node.geometry.morphAttributes.position.length;o++)if(t.geometry.morphAttributes.position[o].name===r){r=o;break}}else{if(!t.geometry.morphTargets)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.",this);for(var o=0;o<this.node.geometry.morphTargets.length;o++)if(t.geometry.morphTargets[o].name===r){r=o;break}}}u=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=r}else void 0!==s.fromArray&&void 0!==s.toArray?(u=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(u=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=i;this.getValue=this.GetterByBindingType[u],this.setValue=this.SetterByBindingTypeAndVersioning[u][c]},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),
//!\ DECLARE ALIAS AFTER assign prototype !
Object.assign(Jr.prototype,{_getValue_unbound:Jr.prototype.getValue,_setValue_unbound:Jr.prototype.setValue}),Object.assign(Kr.prototype,{isAnimationObjectGroup:!0,add:function(){for(var t=this._objects,e=t.length,n=this.nCachedObjects_,i=this._indicesByUUID,r=this._paths,a=this._parsedPaths,o=this._bindings,s=o.length,l=void 0,c=0,u=arguments.length;c!==u;++c){var h=arguments[c],d=h.uuid,p=i[d];if(void 0===p){p=e++,i[d]=p,t.push(h);for(var f=0,g=s;f!==g;++f)o[f].push(new Jr(h,r[f],a[f]))}else if(p<n){l=t[p];var m=--n,v=t[m];i[v.uuid]=p,t[p]=v,i[d]=m,t[m]=h;for(var f=0,g=s;f!==g;++f){var y=o[f],x=y[m],_=y[p];y[p]=x,void 0===_&&(_=new Jr(h,r[f],a[f])),y[m]=_}}else t[p]!==l&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=n},remove:function(){for(var t=this._objects,e=this.nCachedObjects_,n=this._indicesByUUID,i=this._bindings,r=i.length,a=0,o=arguments.length;a!==o;++a){var s=arguments[a],l=s.uuid,c=n[l];if(void 0!==c&&c>=e){var u=e++,h=t[u];n[h.uuid]=c,t[c]=h,n[l]=u,t[u]=s;for(var d=0,p=r;d!==p;++d){var f=i[d],g=f[u],m=f[c];f[c]=g,f[u]=m}}}this.nCachedObjects_=e},uncache:function(){for(var t=this._objects,e=t.length,n=this.nCachedObjects_,i=this._indicesByUUID,r=this._bindings,a=r.length,o=0,s=arguments.length;o!==s;++o){var l=arguments[o],c=l.uuid,u=i[c];if(void 0!==u)if(delete i[c],u<n){var h=--n,d=t[h],p=--e,f=t[p];i[d.uuid]=u,t[u]=d,i[f.uuid]=h,t[h]=f,t.pop();for(var g=0,m=a;g!==m;++g){var v=r[g],y=v[h],x=v[p];v[u]=y,v[h]=x,v.pop()}}else{var p=--e,f=t[p];i[f.uuid]=u,t[u]=f,t.pop();for(var g=0,m=a;g!==m;++g){var v=r[g];v[u]=v[p],v.pop()}}}this.nCachedObjects_=n},subscribe_:function(t,e){var n=this._bindingsIndicesByPath,i=n[t],r=this._bindings;if(void 0!==i)return r[i];var a=this._paths,o=this._parsedPaths,s=this._objects,l=s.length,c=this.nCachedObjects_,u=new Array(l);i=r.length,n[t]=i,a.push(t),o.push(e),r.push(u);for(var h=c,d=s.length;h!==d;++h){var p=s[h];u[h]=new Jr(p,t,e)}return u},unsubscribe_:function(t){var e=this._bindingsIndicesByPath,n=e[t];if(void 0!==n){var i=this._paths,r=this._parsedPaths,a=this._bindings,o=a.length-1,s=a[o];e[t[o]]=n,a[n]=s,a.pop(),r[n]=r[o],r.pop(),i[n]=i[o],i.pop()}}}),Object.assign(Qr.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(t){return this._startTime=t,this},setLoop:function(t,e){return this.loop=t,this.repetitions=e,this},setEffectiveWeight:function(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(t){return this._scheduleFading(t,0,1)},fadeOut:function(t){return this._scheduleFading(t,1,0)},crossFadeFrom:function(t,e,n){if(t.fadeOut(e),this.fadeIn(e),n){var i=this._clip.duration,r=t._clip.duration,a=r/i,o=i/r;t.warp(1,a,e),this.warp(o,1,e)}return this},crossFadeTo:function(t,e,n){return t.crossFadeFrom(this,e,n)},stopFading:function(){var t=this._weightInterpolant;return null!==t&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},setEffectiveTimeScale:function(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(t){return this.timeScale=this._clip.duration/t,this.stopWarping()},syncWith:function(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()},halt:function(t){return this.warp(this._effectiveTimeScale,0,t)},warp:function(t,e,n){var i=this._mixer,r=i.time,a=this._timeScaleInterpolant,o=this.timeScale;null===a&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);var s=a.parameterPositions,l=a.sampleValues;return s[0]=r,s[1]=r+n,l[0]=t/o,l[1]=e/o,this},stopWarping:function(){var t=this._timeScaleInterpolant;return null!==t&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(t,e,n,i){if(!this.enabled)return void this._updateWeight(t);var r=this._startTime;if(null!==r){var a=(t-r)*n;if(a<0||0===n)return;this._startTime=null,e=n*a}e*=this._updateTimeScale(t);var o=this._updateTime(e),s=this._updateWeight(t);if(s>0)for(var l=this._interpolants,c=this._propertyBindings,u=0,h=l.length;u!==h;++u)l[u].evaluate(o),c[u].accumulate(i,s)},_updateWeight:function(t){var e=0;if(this.enabled){e=this.weight;var n=this._weightInterpolant;if(null!==n){var i=n.evaluate(t)[0];e*=i,t>n.parameterPositions[1]&&(this.stopFading(),0===i&&(this.enabled=!1))}}return this._effectiveWeight=e,e},_updateTimeScale:function(t){var e=0;if(!this.paused){e=this.timeScale;var n=this._timeScaleInterpolant;if(null!==n){e*=n.evaluate(t)[0],t>n.parameterPositions[1]&&(this.stopWarping(),0===e?this.paused=!0:this.timeScale=e)}}return this._effectiveTimeScale=e,e},_updateTime:function(t){var e=this.time+t,n=this._clip.duration,i=this.loop,r=this._loopCount,a=i===Ml;if(0===t)return-1===r?e:a&&1==(1&r)?n-e:e;if(i===bl){-1===r&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(e>=n)e=n;else{if(!(e<0))break t;e=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{if(-1===r&&(t>=0?(r=0,this._setEndings(!0,0===this.repetitions,a)):this._setEndings(0===this.repetitions,!0,a)),e>=n||e<0){var o=Math.floor(e/n);e-=n*o,r+=Math.abs(o);var s=this.repetitions-r;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,e=t>0?n:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(1===s){var l=t<0;this._setEndings(l,!l,a)}else this._setEndings(!1,!1,a);this._loopCount=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}if(a&&1==(1&r))return this.time=e,n-e}return this.time=e,e},_setEndings:function(t,e,n){var i=this._interpolantSettings;n?(i.endingStart=Ll,i.endingEnd=Ll):(i.endingStart=t?this.zeroSlopeAtStart?Ll:Cl:El,i.endingEnd=e?this.zeroSlopeAtEnd?Ll:Cl:El)},_scheduleFading:function(t,e,n){var i=this._mixer,r=i.time,a=this._weightInterpolant;null===a&&(a=i._lendControlInterpolant(),this._weightInterpolant=a);var o=a.parameterPositions,s=a.sampleValues;return o[0]=r,s[0]=e,o[1]=r+t,s[1]=n,this}}),ta.prototype=Object.assign(Object.create(i.prototype),{constructor:ta,_bindAction:function(t,e){var n=t._localRoot||this._root,i=t._clip.tracks,r=i.length,a=t._propertyBindings,o=t._interpolants,s=n.uuid,l=this._bindingsByRootAndName,c=l[s];void 0===c&&(c={},l[s]=c);for(var u=0;u!==r;++u){var h=i[u],d=h.name,p=c[d];if(void 0!==p)a[u]=p;else{if(void 0!==(p=a[u])){null===p._cacheIndex&&(++p.referenceCount,this._addInactiveBinding(p,s,d));continue}var f=e&&e._propertyBindings[u].binding.parsedPath;p=new qr(Jr.create(n,d,f),h.ValueTypeName,h.getValueSize()),++p.referenceCount,this._addInactiveBinding(p,s,d),a[u]=p}o[u].resultBuffer=p.buffer}},_activateAction:function(t){if(!this._isActiveAction(t)){if(null===t._cacheIndex){var e=(t._localRoot||this._root).uuid,n=t._clip.uuid,i=this._actionsByClip[n];this._bindAction(t,i&&i.knownActions[0]),this._addInactiveAction(t,n,e)}for(var r=t._propertyBindings,a=0,o=r.length;a!==o;++a){var s=r[a];0==s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(t)}},_deactivateAction:function(t){if(this._isActiveAction(t)){for(var e=t._propertyBindings,n=0,i=e.length;n!==i;++n){var r=e[n];0==--r.useCount&&(r.restoreOriginalState(),this._takeBackBinding(r))}this._takeBackAction(t)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}},_isActiveAction:function(t){var e=t._cacheIndex;return null!==e&&e<this._nActiveActions},_addInactiveAction:function(t,e,n){var i=this._actions,r=this._actionsByClip,a=r[e];if(void 0===a)a={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,r[e]=a;else{var o=a.knownActions;t._byClipCacheIndex=o.length,o.push(t)}t._cacheIndex=i.length,i.push(t),a.actionByRoot[n]=t},_removeInactiveAction:function(t){var e=this._actions,n=e[e.length-1],i=t._cacheIndex;n._cacheIndex=i,e[i]=n,e.pop(),t._cacheIndex=null;var r=t._clip.uuid,a=this._actionsByClip,o=a[r],s=o.knownActions,l=s[s.length-1],c=t._byClipCacheIndex;l._byClipCacheIndex=c,s[c]=l,s.pop(),t._byClipCacheIndex=null,delete o.actionByRoot[(t._localRoot||this._root).uuid],0===s.length&&delete a[r],this._removeInactiveBindingsForAction(t)},_removeInactiveBindingsForAction:function(t){for(var e=t._propertyBindings,n=0,i=e.length;n!==i;++n){var r=e[n];0==--r.referenceCount&&this._removeInactiveBinding(r)}},_lendAction:function(t){var e=this._actions,n=t._cacheIndex,i=this._nActiveActions++,r=e[i];t._cacheIndex=i,e[i]=t,r._cacheIndex=n,e[n]=r},_takeBackAction:function(t){var e=this._actions,n=t._cacheIndex,i=--this._nActiveActions,r=e[i];t._cacheIndex=i,e[i]=t,r._cacheIndex=n,e[n]=r},_addInactiveBinding:function(t,e,n){var i=this._bindingsByRootAndName,r=i[e],a=this._bindings;void 0===r&&(r={},i[e]=r),r[n]=t,t._cacheIndex=a.length,a.push(t)},_removeInactiveBinding:function(t){var e=this._bindings,n=t.binding,i=n.rootNode.uuid,r=n.path,a=this._bindingsByRootAndName,o=a[i],s=e[e.length-1],l=t._cacheIndex;s._cacheIndex=l,e[l]=s,e.pop(),delete o[r];t:{for(var c in o)break t;delete a[i]}},_lendBinding:function(t){var e=this._bindings,n=t._cacheIndex,i=this._nActiveBindings++,r=e[i];t._cacheIndex=i,e[i]=t,r._cacheIndex=n,e[n]=r},_takeBackBinding:function(t){var e=this._bindings,n=t._cacheIndex,i=--this._nActiveBindings,r=e[i];t._cacheIndex=i,e[i]=t,r._cacheIndex=n,e[n]=r},_lendControlInterpolant:function(){var t=this._controlInterpolants,e=this._nActiveControlInterpolants++,n=t[e];return void 0===n&&(n=new Li(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),n.__cacheIndex=e,t[e]=n),n},_takeBackControlInterpolant:function(t){var e=this._controlInterpolants,n=t.__cacheIndex,i=--this._nActiveControlInterpolants,r=e[i];t.__cacheIndex=i,e[i]=t,r.__cacheIndex=n,e[n]=r},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(t,e){var n=e||this._root,i=n.uuid,r="string"==typeof t?Bi.findByName(n,t):t,a=null!==r?r.uuid:t,o=this._actionsByClip[a],s=null;if(void 0!==o){var l=o.actionByRoot[i];if(void 0!==l)return l;s=o.knownActions[0],null===r&&(r=s._clip)}if(null===r)return null;var c=new Qr(this,r,e);return this._bindAction(c,s),this._addInactiveAction(c,a,i),c},existingAction:function(t,e){var n=e||this._root,i=n.uuid,r="string"==typeof t?Bi.findByName(n,t):t,a=r?r.uuid:t,o=this._actionsByClip[a];return void 0!==o?o.actionByRoot[i]||null:null},stopAllAction:function(){var t=this._actions,e=this._nActiveActions,n=this._bindings,i=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var r=0;r!==e;++r)t[r].reset();for(var r=0;r!==i;++r)n[r].useCount=0;return this},update:function(t){t*=this.timeScale;for(var e=this._actions,n=this._nActiveActions,i=this.time+=t,r=Math.sign(t),a=this._accuIndex^=1,o=0;o!==n;++o){e[o]._update(i,t,r,a)}for(var s=this._bindings,l=this._nActiveBindings,o=0;o!==l;++o)s[o].apply(a);return this},getRoot:function(){return this._root},uncacheClip:function(t){var e=this._actions,n=t.uuid,i=this._actionsByClip,r=i[n];if(void 0!==r){for(var a=r.knownActions,o=0,s=a.length;o!==s;++o){var l=a[o];this._deactivateAction(l);var c=l._cacheIndex,u=e[e.length-1];l._cacheIndex=null,l._byClipCacheIndex=null,u._cacheIndex=c,e[c]=u,e.pop(),this._removeInactiveBindingsForAction(l)}delete i[n]}},uncacheRoot:function(t){var e=t.uuid,n=this._actionsByClip;for(var i in n){var r=n[i].actionByRoot,a=r[e];void 0!==a&&(this._deactivateAction(a),this._removeInactiveAction(a))}var o=this._bindingsByRootAndName,s=o[e];if(void 0!==s)for(var l in s){var c=s[l];c.restoreOriginalState(),this._removeInactiveBinding(c)}},uncacheAction:function(t,e){var n=this.existingAction(t,e);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}),ea.prototype.clone=function(){return new ea(void 0===this.value.clone?this.value:this.value.clone())},na.prototype=Object.assign(Object.create(F.prototype),{constructor:na,isInstancedBufferGeometry:!0,copy:function(t){return F.prototype.copy.call(this,t),this.maxInstancedCount=t.maxInstancedCount,this},clone:function(){return(new this.constructor).copy(this)}}),ia.prototype=Object.assign(Object.create(ke.prototype),{constructor:ia,isInstancedInterleavedBuffer:!0,copy:function(t){return ke.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this}}),ra.prototype=Object.assign(Object.create(L.prototype),{constructor:ra,isInstancedBufferAttribute:!0,copy:function(t){return L.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this}}),Object.assign(aa.prototype,{linePrecision:1,set:function(t,e){this.ray.set(t,e)},setFromCamera:function(t,e){e&&e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize()):e&&e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld)):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(t,e,n){var i=n||[];return sa(t,this,i,e),i.sort(oa),i},intersectObjects:function(t,e,n){var i=n||[];if(!1===Array.isArray(t))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),i;for(var r=0,a=t.length;r<a;r++)sa(t[r],this,i,e);return i.sort(oa),i}}),Object.assign(la.prototype,{set:function(t,e,n){return this.radius=t,this.phi=e,this.theta=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this},makeSafe:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this},setFromVector3:function(t){return this.setFromCartesianCoords(t.x,t.y,t.z)},setFromCartesianCoords:function(t,e,n){return this.radius=Math.sqrt(t*t+e*e+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,n),this.phi=Math.acos(Wl.clamp(e/this.radius,-1,1))),this}}),Object.assign(ca.prototype,{set:function(t,e,n){return this.radius=t,this.theta=e,this.y=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.radius=t.radius,this.theta=t.theta,this.y=t.y,this},setFromVector3:function(t){return this.setFromCartesianCoords(t.x,t.y,t.z)},setFromCartesianCoords:function(t,e,n){return this.radius=Math.sqrt(t*t+n*n),this.theta=Math.atan2(t,n),this.y=e,this}}),Object.assign(ua.prototype,{set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new r;return function(e,n){var i=t.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(t){return void 0===t&&(console.warn("THREE.Box2: .getCenter() target is now required"),t=new r),this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){return void 0===t&&(console.warn("THREE.Box2: .getSize() target is now required"),t=new r),this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y},getParameter:function(t,e){return void 0===e&&(console.warn("THREE.Box2: .getParameter() target is now required"),e=new r),e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)},clampPoint:function(t,e){return void 0===e&&(console.warn("THREE.Box2: .clampPoint() target is now required"),e=new r),e.copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new r;return function(e){return t.copy(e).clamp(this.min,this.max).sub(e).length()}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}),Object.assign(ha.prototype,{set:function(t,e){return this.start.copy(t),this.end.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.start.copy(t.start),this.end.copy(t.end),this},getCenter:function(t){return void 0===t&&(console.warn("THREE.Line3: .getCenter() target is now required"),t=new s),t.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(t){return void 0===t&&(console.warn("THREE.Line3: .delta() target is now required"),t=new s),t.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(t,e){return void 0===e&&(console.warn("THREE.Line3: .at() target is now required"),e=new s),this.delta(e).multiplyScalar(t).add(this.start)},closestPointToPointParameter:function(){var t=new s,e=new s;return function(n,i){t.subVectors(n,this.start),e.subVectors(this.end,this.start);var r=e.dot(e),a=e.dot(t),o=a/r;return i&&(o=Wl.clamp(o,0,1)),o}}(),closestPointToPoint:function(t,e,n){var i=this.closestPointToPointParameter(t,e);return void 0===n&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),n=new s),this.delta(n).multiplyScalar(i).add(this.start)},applyMatrix4:function(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this},equals:function(t){return t.start.equals(this.start)&&t.end.equals(this.end)}}),da.prototype=Object.create(A.prototype),da.prototype.constructor=da,da.prototype.isImmediateRenderObject=!0,pa.prototype=Object.create(We.prototype),pa.prototype.constructor=pa,pa.prototype.update=function(){var t=new s,e=new s,n=new l;return function(){var i=["a","b","c"];this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);var r=this.object.matrixWorld,a=this.geometry.attributes.position,o=this.object.geometry;if(o&&o.isGeometry)for(var s=o.vertices,l=o.faces,c=0,u=0,h=l.length;u<h;u++)for(var d=l[u],p=0,f=d.vertexNormals.length;p<f;p++){var g=s[d[i[p]]],m=d.vertexNormals[p];t.copy(g).applyMatrix4(r),e.copy(m).applyMatrix3(n).normalize().multiplyScalar(this.size).add(t),a.setXYZ(c,t.x,t.y,t.z),c+=1,a.setXYZ(c,e.x,e.y,e.z),c+=1}else if(o&&o.isBufferGeometry)for(var v=o.attributes.position,y=o.attributes.normal,c=0,p=0,f=v.count;p<f;p++)t.set(v.getX(p),v.getY(p),v.getZ(p)).applyMatrix4(r),e.set(y.getX(p),y.getY(p),y.getZ(p)),e.applyMatrix3(n).normalize().multiplyScalar(this.size).add(t),a.setXYZ(c,t.x,t.y,t.z),c+=1,a.setXYZ(c,e.x,e.y,e.z),c+=1;a.needsUpdate=!0}}(),fa.prototype=Object.create(A.prototype),fa.prototype.constructor=fa,fa.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},fa.prototype.update=function(){var t=new s;return function(){this.light.updateMatrixWorld();var e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),t.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(t),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}(),ma.prototype=Object.create(We.prototype),ma.prototype.constructor=ma,ma.prototype.updateMatrixWorld=function(){var t=new s,e=new a,n=new a;return function(i){var r=this.bones,a=this.geometry,o=a.getAttribute("position");n.getInverse(this.root.matrixWorld);for(var s=0,l=0;s<r.length;s++){var c=r[s];c.parent&&c.parent.isBone&&(e.multiplyMatrices(n,c.matrixWorld),t.setFromMatrixPosition(e),o.setXYZ(l,t.x,t.y,t.z),e.multiplyMatrices(n,c.parent.matrixWorld),t.setFromMatrixPosition(e),o.setXYZ(l+1,t.x,t.y,t.z),l+=2)}a.getAttribute("position").needsUpdate=!0,A.prototype.updateMatrixWorld.call(this,i)}}(),va.prototype=Object.create(Z.prototype),va.prototype.constructor=va,va.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},va.prototype.update=function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)},ya.prototype=Object.create(A.prototype),ya.prototype.constructor=ya,ya.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},ya.prototype.update=function(){var t=.5*this.light.width,e=.5*this.light.height,n=this.line.geometry.attributes.position,i=n.array;i[0]=t,i[1]=-e,i[2]=0,i[3]=t,i[4]=e,i[5]=0,i[6]=-t,i[7]=e,i[8]=0,i[9]=-t,i[10]=-e,i[11]=0,i[12]=t,i[13]=-e,i[14]=0,n.needsUpdate=!0,void 0!==this.color?this.line.material.color.set(this.color):this.line.material.color.copy(this.light.color)},xa.prototype=Object.create(A.prototype),xa.prototype.constructor=xa,xa.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},xa.prototype.update=function(){var t=new s,e=new _,n=new _;return function(){var i=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var r=i.geometry.getAttribute("color");e.copy(this.light.color),n.copy(this.light.groundColor);for(var a=0,o=r.count;a<o;a++){var s=a<o/2?e:n;r.setXYZ(a,s.r,s.g,s.b)}r.needsUpdate=!0}i.lookAt(t.setFromMatrixPosition(this.light.matrixWorld).negate())}}(),_a.prototype=Object.create(We.prototype),_a.prototype.constructor=_a,ba.prototype=Object.create(We.prototype),ba.prototype.constructor=ba,wa.prototype=Object.create(We.prototype),wa.prototype.constructor=wa,wa.prototype.update=function(){var t=new s,e=new s,n=new l;return function(){this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);for(var i=this.object.matrixWorld,r=this.geometry.attributes.position,a=this.object.geometry,o=a.vertices,s=a.faces,l=0,c=0,u=s.length;c<u;c++){var h=s[c],d=h.normal;t.copy(o[h.a]).add(o[h.b]).add(o[h.c]).divideScalar(3).applyMatrix4(i),e.copy(d).applyMatrix3(n).normalize().multiplyScalar(this.size).add(t),r.setXYZ(l,t.x,t.y,t.z),l+=1,r.setXYZ(l,e.x,e.y,e.z),l+=1}r.needsUpdate=!0}}(),Ma.prototype=Object.create(A.prototype),Ma.prototype.constructor=Ma,Ma.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},Ma.prototype.update=function(){var t=new s,e=new s,n=new s;return function(){t.setFromMatrixPosition(this.light.matrixWorld),e.setFromMatrixPosition(this.light.target.matrixWorld),n.subVectors(e,t),this.lightPlane.lookAt(e),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(e),this.targetLine.scale.z=n.length()}}(),Sa.prototype=Object.create(We.prototype),Sa.prototype.constructor=Sa,Sa.prototype.update=function(){function t(t,a,o,s){i.set(a,o,s).unproject(r);var l=n[t];if(void 0!==l)for(var c=e.getAttribute("position"),u=0,h=l.length;u<h;u++)c.setXYZ(l[u],i.x,i.y,i.z)}var e,n,i=new s,r=new Te;return function(){e=this.geometry,n=this.pointMap;r.projectionMatrix.copy(this.camera.projectionMatrix),t("c",0,0,-1),t("t",0,0,1),t("n1",-1,-1,-1),t("n2",1,-1,-1),t("n3",-1,1,-1),t("n4",1,1,-1),t("f1",-1,-1,1),t("f2",1,-1,1),t("f3",-1,1,1),t("f4",1,1,1),t("u1",.7,1.1,-1),t("u2",-.7,1.1,-1),t("u3",0,2,-1),t("cf1",-1,0,1),t("cf2",1,0,1),t("cf3",0,-1,1),t("cf4",0,1,1),t("cn1",-1,0,-1),t("cn2",1,0,-1),t("cn3",0,-1,-1),t("cn4",0,1,-1),e.getAttribute("position").needsUpdate=!0}}(),Ta.prototype=Object.create(We.prototype),Ta.prototype.constructor=Ta,Ta.prototype.update=function(){var t=new f;return function(e){if(void 0!==e&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&t.setFromObject(this.object),!t.isEmpty()){var n=t.min,i=t.max,r=this.geometry.attributes.position,a=r.array;a[0]=i.x,a[1]=i.y,a[2]=i.z,a[3]=n.x,a[4]=i.y,a[5]=i.z,a[6]=n.x,a[7]=n.y,a[8]=i.z,a[9]=i.x,a[10]=n.y,a[11]=i.z,a[12]=i.x,a[13]=i.y,a[14]=n.z,a[15]=n.x,a[16]=i.y,a[17]=n.z,a[18]=n.x,a[19]=n.y,a[20]=n.z,a[21]=i.x,a[22]=n.y,a[23]=n.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}}}(),Ta.prototype.setFromObject=function(t){return this.object=t,this.update(),this},Ta.prototype.copy=function(t){return We.prototype.copy.call(this,t),this.object=t.object,this},Ta.prototype.clone=function(){return(new this.constructor).copy(this)},Aa.prototype=Object.create(We.prototype),Aa.prototype.constructor=Aa,Aa.prototype.updateMatrixWorld=function(t){var e=this.box;e.isEmpty()||(e.getCenter(this.position),e.getSize(this.scale),this.scale.multiplyScalar(.5),A.prototype.updateMatrixWorld.call(this,t))},Ca.prototype=Object.create(je.prototype),Ca.prototype.constructor=Ca,Ca.prototype.updateMatrixWorld=function(t){var e=-this.plane.constant;Math.abs(e)<1e-8&&(e=1e-8),this.scale.set(.5*this.size,.5*this.size,e),this.children[0].material.side=e<0?wo:bo,this.lookAt(this.plane.normal),A.prototype.updateMatrixWorld.call(this,t)};var Fc,Gc;La.prototype=Object.create(A.prototype),La.prototype.constructor=La,La.prototype.setDirection=function(){var t,e=new s;return function(n){n.y>.99999?this.quaternion.set(0,0,0,1):n.y<-.99999?this.quaternion.set(1,0,0,0):(e.set(n.z,0,-n.x).normalize(),t=Math.acos(n.y),this.quaternion.setFromAxisAngle(e,t))}}(),La.prototype.setLength=function(t,e,n){void 0===e&&(e=.2*t),void 0===n&&(n=.2*e),this.line.scale.set(1,Math.max(0,t-e),1),this.line.updateMatrix(),this.cone.scale.set(n,e,n),this.cone.position.y=t,this.cone.updateMatrix()},La.prototype.setColor=function(t){this.line.material.color.copy(t),this.cone.material.color.copy(t)},La.prototype.copy=function(t){return A.prototype.copy.call(this,t,!1),this.line.copy(t.line),this.cone.copy(t.cone),this},La.prototype.clone=function(){return(new this.constructor).copy(this)},Ea.prototype=Object.create(We.prototype),Ea.prototype.constructor=Ea;var Hc=0,Uc=1;qi.create=function(t,e){return console.log("THREE.Curve.create() has been deprecated"),t.prototype=Object.create(qi.prototype),t.prototype.constructor=t,t.prototype.getPoint=e,t},Object.assign(vr.prototype,{createPointsGeometry:function(t){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var e=this.getPoints(t);return this.createGeometry(e)},createSpacedPointsGeometry:function(t){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var e=this.getSpacedPoints(t);return this.createGeometry(e)},createGeometry:function(t){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");for(var e=new C,n=0,i=t.length;n<i;n++){var r=t[n];e.vertices.push(new s(r.x,r.y,r.z||0))}return e}}),Object.assign(yr.prototype,{fromPoints:function(t){console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(t)}}),Za.prototype=Object.create(Qi.prototype),Ja.prototype=Object.create(Qi.prototype),Ka.prototype=Object.create(Qi.prototype),Object.assign(Ka.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),_a.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},ma.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Object.assign(Fr.prototype,{extractUrlBase:function(t){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),Dc.extractUrlBase(t)}}),Object.assign(Rr.prototype,{setTexturePath:function(t){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(t)}}),Object.assign(ua.prototype,{center:function(t){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},size:function(t){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(t)}}),Object.assign(f.prototype,{center:function(t){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionSphere:function(t){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)},size:function(t){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(t)}}),ha.prototype.center=function(t){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(t)},Object.assign(Wl,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(t){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),Wl.floorPowerOfTwo(t)},nextPowerOfTwo:function(t){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),Wl.ceilPowerOfTwo(t)}}),Object.assign(l.prototype,{flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},multiplyVector3:function(t){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBuffer:function(t){return console.warn("THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(t)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Object.assign(a.prototype,{extractPosition:function(t){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(t)},flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},getPosition:function(){var t;return function(){return void 0===t&&(t=new s),console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),t.setFromMatrixColumn(this,3)}}(),setRotationFromQuaternion:function(t){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(t)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(t){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector4:function(t){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(t){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),t.transformDirection(this)},crossVector:function(t){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBuffer:function(t){return console.warn("THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(t)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(t,e,n,i,r,a){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(t,e,i,n,r,a)}}),m.prototype.isIntersectionLine=function(t){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(t)},o.prototype.multiplyVector3=function(t){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),t.applyQuaternion(this)},Object.assign(Y.prototype,{isIntersectionBox:function(t){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionPlane:function(t){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(t)},isIntersectionSphere:function(t){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)}}),Object.assign(X.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(t,e){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(t,e)},midpoint:function(t){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(t)},normal:function(t){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(t)},plane:function(t){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(t)}}),Object.assign(X,{barycoordFromPoint:function(t,e,n,i,r){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),X.getBarycoord(t,e,n,i,r)},normal:function(t,e,n,i){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),X.getNormal(t,e,n,i)}}),Object.assign(xr.prototype,{extractAllPoints:function(t){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(t)},extrude:function(t){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new qn(this,t)},makeGeometry:function(t){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new oi(this,t)}}),Object.assign(r.prototype,{fromAttribute:function(t,e,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)},distanceToManhattan:function(t){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(s.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(t){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(t)},getScaleFromMatrix:function(t){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(t)},getColumnFromMatrix:function(t,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,t)},applyProjection:function(t){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(t)},fromAttribute:function(t,e,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)},distanceToManhattan:function(t){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(u.prototype,{fromAttribute:function(t,e,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(C.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")}}),Object.assign(A.prototype,{getChildByName:function(t){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(t)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(t,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,t)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")}}),Object.defineProperties(A.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(t){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=t}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.defineProperties(Ve.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(Ge.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),Fe.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},Object.defineProperty(qi.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(t){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=t}}),Ae.prototype.setLens=function(t,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==e&&(this.filmGauge=e),this.setFocalLength(t)},Object.defineProperties(_r.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(t){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=t}},shadowCameraLeft:{set:function(t){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=t}},shadowCameraRight:{set:function(t){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=t}},shadowCameraTop:{set:function(t){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=t}},shadowCameraBottom:{set:function(t){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=t}},shadowCameraNear:{set:function(t){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=t}},shadowCameraFar:{set:function(t){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=t}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(t){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=t}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(t){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=t}},shadowMapHeight:{set:function(t){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=t}}}),Object.defineProperties(L.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")}}),Object.assign(F.prototype,{addIndex:function(t){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(t)},addDrawCall:function(t,e,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(t,e)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}}),Object.defineProperties(F.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.assign(Zn.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}}),Object.defineProperties(ea.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(W.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new _}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(t){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=t===So}}}),Object.defineProperties(_i.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties($.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(t){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=t}}}),Object.assign(Pe.prototype,{clearTarget:function(t,e,n,i){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(t),this.clear(e,n,i)},animate:function(t){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(t)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(t){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(t)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")}}),Object.defineProperties(Pe.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=t}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=t}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(_e.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(h.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=t}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=t}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=t}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=t}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(t){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=t}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(t){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=t}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(t){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=t}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(t){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=t}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(t){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=t}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(t){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=t}}}),Object.defineProperties(Ee.prototype,{standing:{set:function(){console.warn("THREE.WebVRManager: .standing has been removed.")}},userHeight:{set:function(){console.warn("THREE.WebVRManager: .userHeight has been removed.")}}}),$r.prototype.load=function(t){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var e=this;return(new Gr).load(t,function(t){e.setBuffer(t)}),this},Xr.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},Ur.prototype.updateCubeMap=function(t,e){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(t,e)};var jc={merge:function(t,e,n){console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.");var i;e.isMesh&&(e.matrixAutoUpdate&&e.updateMatrix(),i=e.matrix,e=e.geometry),t.merge(e,i,n)},center:function(t){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),t.center()}};Yl.crossOrigin=void 0,Yl.loadTexture=function(t,e,n,i){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var r=new Xi;r.setCrossOrigin(this.crossOrigin);var a=r.load(t,n,void 0,i);return e&&(a.mapping=e),a},Yl.loadTextureCube=function(t,e,n,i){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var r=new Yi;r.setCrossOrigin(this.crossOrigin);var a=r.load(t,n,void 0,i);return e&&(a.mapping=e),a},Yl.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},Yl.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};var Wc={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")}}},function(t,e,n){"use strict";var i=n(72);e.a={data:function(){return{dragging:!1,draggingIndex:-1,draggedLayerPosition:0,draggingClass:"layer-list-component",componentID:"layerList"+Math.random().toString().split(".").join("")+Math.random().toString().split(".").join("")+Math.random().toString().split(".").join(""),verticalPadding:18,selectedLayerHeight:0,sortedLayer:-1,yBuffer:10}},props:["layers","z","draggerclass"],methods:{onDraggerDown:function(t){var e=this;t.currentTarget.getElementsByTagName("div")[0].style.display="block",e.$data.draggingIndex=Number(t.currentTarget.getAttribute("layer-index")),e.$data.draggedLayerPosition=this.filteredEventCoords(t,{x:0,y:document.getElementById(e.$data.componentID).scrollTop-document.getElementsByTagName("html")[0].scrollTop}).y,e.$data.dragging=!0,e.$data.selectedLayerHeight=document.getElementById(e.$data.componentID).children[e.$data.draggingIndex].getBoundingClientRect().height,this.onDraggerMove(t)},onDraggerUp:function(t){var e=this;if(e.$data.dragging){var n=this.getSortingInfo();n.layers.length===this.layers.length&&i.a.$emit("layer-reposition-event",n.layers)}t.currentTarget.getElementsByTagName("div")[0].style.display="none",e.$data.dragging=!1,e.$data.layerPositionAttribute="relative",e.$data.draggingIndex=-1,e.$data.draggingClass="layer-list-component",e.$data.selectedLayerHeight=0},onDraggerMove:function(t){var e=this;if(e.$data.dragging){e.$data.layerPositionAttribute="absolute",e.$data.draggedLayerPosition=this.filteredEventCoords(t,{x:0,y:document.getElementById(e.$data.componentID).scrollTop-document.getElementsByTagName("html")[0].scrollTop-document.getElementById(e.$data.componentID).getBoundingClientRect().top-e.$data.yBuffer}).y,e.$data.draggingClass="layer-list-component is-dragging";var n=this.getSortingInfo();e.$data.sortedLayer=n.end?-2:n.index}},getSortingInfo:function(){for(var t=this,e=-1,n=!1,i=0;i<document.getElementById(t.$data.componentID).children.length;i++)if(i!==t.$data.draggingIndex){var r=i>0?document.getElementById(t.$data.componentID).children[i-1].getBoundingClientRect().top:-9e5,a=document.getElementById(t.$data.componentID).children[i].getBoundingClientRect().top,o=document.getElementById(t.$data.componentID).children[document.getElementById(t.$data.componentID).children.length-1].getBoundingClientRect().top,s=document.getElementById(t.$data.componentID).children[t.$data.draggingIndex].getBoundingClientRect().top;s>r&&s<=a?(e=i,i=document.getElementById(t.$data.componentID).children.length):s>o&&(n=!0,i=document.getElementById(t.$data.componentID).children.length)}for(var l=[],c=0;c<this.layers.length;c++)c===e&&l.push(this.layers[t.$data.draggingIndex]),c!==t.$data.draggingIndex&&l.push(this.layers[c]);return n&&l.push(this.layers[t.$data.draggingIndex]),{layers:l,index:e,end:n}},getLayerStyle:function(t){var e=this,n=t===e.$data.draggingIndex?"position:absolute;z-index:"+(this.z+100).toString()+";top:"+e.$data.draggedLayerPosition.toString()+"px;":"position:relative;",i="";return i=t===e.$data.sortedLayer||t===e.$data.draggingIndex+1&&-1===e.$data.sortedLayer?"margin-top:"+e.$data.selectedLayerHeight+"px;":"","display:block; margin:0; padding:4px 0; clear:both;"+n+i},filteredEventCoords:function(t,e){return{x:t.pageX-e.x,y:t.pageY+e.y}}}}},function(t,e,n){"use strict";var i=n(72);e.a={props:["object","index"],data:function(){return{}},methods:{onInput:function(t){var e="yes"===t.currentTarget.getAttribute("redraw");i.a.$emit("editor-value-change",e)},onPointInput:function(t){var e=t.currentTarget.getAttribute("pointid").split(":"),n={o:Number(e[0]),p:Number(e[1]),prop:e[2],value:t.currentTarget.value};i.a.$emit("editor-point-change",n)},addPoint:function(){i.a.$emit("editor-point-add",this.index)},hasProperty:function(t){return null!==t&&void 0!==t}}}},function(t,e,n){"use strict";var i=n(92),r=n(73),a=n(134),o=n(270),s=n(142),l=n(289);e.a={props:["chartdata","perspective","distfactor","axis","signature","colors","labels","select"],components:{wireframe:a.a,filterbuild:l.a},data:function(){return{containerID:"el_"+Math.random().toString().split(".").join("")+Math.random().toString().split(".").join("")+Math.random().toString().split(".").join(""),THREE:n(137),renderer:{},scene:{},camera:{},ObjectTypes:i.a,axisData:{axis:this.axis,scale:8},sig:this.signature,meshes:[],camTarget:{x:0,y:0,z:0},camPos:{x:-3*this.distfactor,y:2*this.distfactor,z:-5*this.distfactor},metricIndexes:[0,1,2],points:[],crossSectionBox:null,viewMode:3,currentIndex:-1,lineMatrix:{X:{listA:[],listB:[],scale:1},Y:{listA:[],listB:[],scale:1},Z:{listA:[],listB:[],scale:1},XLABEL:null,YLABEL:null,ZLABEL:null,NUMBER_LABELS:[]},didSelect:this.select,offset:{x:0,y:0},maxVal:5,laodedData:null,valKeys:[],allKeys:[],valMatrix:JSON.parse(JSON.stringify(this.chartdata)),cd:this.chartdata,initalized:!1,filterSlots:[{content:"X Axis",style:"color:#00aeef"},{content:"Y Axis",style:"color:#f26d7d"},{content:"Z Axis",style:"color:#7cc576"},{content:"Size",style:""},{content:"Opacity",style:""}],startTeirs:["Fit with Brand Chrysler","Fit with Brand Dodge","Fit with Brand Jeep"],toolTipPosition:{x:0,y:0,shown:!1,content:""}}},watch:{select:function(){var t=this;t.$data.didSelect=t.select,t.positionCrossSectionBox(),t.redraw()}},methods:{filterConfirmed:function(t){var e=this,n=[];for(var i in e.$data.laodedData){for(var r=s.a.objectValues(s.a.slice(t.keys,e.$data.laodedData[i]),[]),a=0,o=0;o<r.length;o++)a+=r[o];n.push(a/r.length)}void 0!==e.$data.valMatrix[t.index]&&e.$data.valMatrix.splice(t.index,1),e.$data.valMatrix.splice(t.index,0,n),e.$data.valMatrix.length>=3&&!e.$data.initalized?setTimeout(e.initualize,100):(e.shiftObjects(),setTimeout(e.updateLabels,200)),e.$emit("data-update",e.$data.valMatrix)},updateLabels:function(){var t=this;t.$data.lineMatrix.XLABEL.material=t.makeTextMaterial(document.querySelector("#display-label-0 > span:last-child").innerHTML,{color:t.colors[0]}),t.$data.lineMatrix.YLABEL.material=t.makeTextMaterial(document.querySelector("#display-label-1 > span:last-child").innerHTML,{color:t.colors[1]}),t.$data.lineMatrix.ZLABEL.material=t.makeTextMaterial(document.querySelector("#display-label-2 > span:last-child").innerHTML,{color:t.colors[2]})},createCrossSectionBox:function(t){var e=this,n=e.$data.THREE,i=new n.BoxBufferGeometry(1,1,1,32,32,32),r=new n.MeshBasicMaterial({color:t}),a=new n.EdgesGeometry(i),o=new n.LineSegments(a,r);return o.material.depthTest=!1,o.material.opacity=1,o.material.transparent=!0,e.$data.scene.add(o),o},getPointColor:function(t){for(var e=this,n=-1e6,i=-1,r=0;r<e.$data.metricIndexes.length;r++)e.$data.valMatrix[e.$data.metricIndexes[r]][t]>n&&(n=e.$data.valMatrix[e.$data.metricIndexes[r]][t],i=r);return e.colors[i]},roundRect:function(t,e,n,i,r,a){t.beginPath(),t.moveTo(e+a,n),t.lineTo(e+i-a,n),t.quadraticCurveTo(e+i,n,e+i,n+a),t.lineTo(e+i,n+r-a),t.quadraticCurveTo(e+i,n+r,e+i-a,n+r),t.lineTo(e+a,n+r),t.quadraticCurveTo(e,n+r,e,n+r-a),t.lineTo(e,n+a),t.quadraticCurveTo(e,n,e+a,n),t.closePath(),t.fill(),t.stroke()},makeTextMaterial:function(t,e){var n=this,i=n.$data.THREE;void 0===e&&(e={});var r=e.hasOwnProperty("fontface")?e.fontface:"Arial",a=e.hasOwnProperty("fontsize")?e.fontsize:25,o=e.hasOwnProperty("borderThickness")?e.borderThickness:4,s=e.hasOwnProperty("borderColor")?e.borderColor:{r:0,g:0,b:0,a:0},l=e.hasOwnProperty("backgroundColor")?e.backgroundColor:{r:255,g:255,b:255,a:0},c=document.createElement("canvas"),u=c.getContext("2d");u.font="Bold "+a+"px "+r,u.fillStyle="rgba("+l.r+","+l.g+","+l.b+","+l.a+")",u.strokeStyle="rgba("+s.r+","+s.g+","+s.b+","+s.a+")",u.lineWidth=o,u.fillStyle=e.hasOwnProperty("color")?e.color:"rgba(0, 0, 0, 1.0)";for(var h=t.split("&gt;"),d=0;d<h.length;d++)u.fillText(h[d],o,(a+o)*(d+1));var p=new i.Texture(c);return p.needsUpdate=!0,new i.SpriteMaterial({map:p})},makeTextSprite:function(t,e){var n=this,i=n.$data.THREE,r=new i.Sprite(n.makeTextMaterial(t,e));return r.scale.set(2,1,1),n.$data.scene.add(r),r},makeGridLine:function(t,e,n,i){var a=this,o=a.$data.THREE,s=new o.MeshBasicMaterial({color:3355443}),l=new o.BoxBufferGeometry(1,1,1,32,32,32),c=new o.Mesh(l,s);a.$data.scene.add(c);var u=n;switch(t){case r.a.X:i?(c.scale.y=u,c.scale.z=.02,c.scale.x=.02,c.position.x=n*e*-1,c.position.y=u/2):(c.scale.y=.02,c.scale.z=.02,c.scale.x=u,c.position.y=n*e,c.position.x=u/-2);break;case r.a.Y:i?(c.scale.x=.02,c.scale.z=u,c.scale.y=.02,c.position.y=n*e,c.position.z=u/-2):(c.scale.x=.02,c.scale.z=.02,c.scale.y=u,c.position.z=n*e*-1,c.position.y=u/2);break;case r.a.Z:i?(c.scale.x=u,c.scale.y=.02,c.scale.z=.02,c.position.z=n*e*-1,c.position.x=u/-2):(c.scale.x=.02,c.scale.y=.02,c.scale.z=u,c.position.x=n*e*-1,c.position.z=u/-2)}return a.$data.scene.add(c),c},createSphere:function(t){var e=this,n=e.$data.THREE,i=new n.MeshLambertMaterial({color:Number("0x"+e.getPointColor(t).split("#")[1]),transparent:!0,opacity:1}),r=new n.SphereBufferGeometry(1),a=new n.Mesh(r,i);return e.$data.scene.add(a),a.addEventListener("click",function(t){}),a},createGrid:function(){for(var t=this,e=0;e<=5;e++)t.$data.lineMatrix.X.listA.push(t.makeGridLine(r.a.X,e/5,t.$data.maxVal)),t.$data.lineMatrix.X.listB.push(t.makeGridLine(r.a.X,e/5,t.$data.maxVal,!0)),t.$data.lineMatrix.Y.listA.push(t.makeGridLine(r.a.Y,e/5,t.$data.maxVal)),t.$data.lineMatrix.Y.listB.push(t.makeGridLine(r.a.Y,e/5,t.$data.maxVal,!0)),t.$data.lineMatrix.Z.listA.push(t.makeGridLine(r.a.Z,e/5,t.$data.maxVal)),t.$data.lineMatrix.Z.listB.push(t.makeGridLine(r.a.Z,e/5,t.$data.maxVal,!0));t.$data.lineMatrix.X.listA[5].scale.y=.06,t.$data.lineMatrix.X.listA[5].scale.z=.06,t.$data.lineMatrix.X.listA[5].material.color.setHex(Number("0x"+t.colors[0].split("#")[1])),t.$data.lineMatrix.X.listA[5].name="axis",t.$data.lineMatrix.Y.listA[5].scale.x=.06,t.$data.lineMatrix.Y.listA[5].scale.z=.06,t.$data.lineMatrix.Y.listA[5].material.color.setHex(Number("0x"+t.colors[1].split("#")[1])),t.$data.lineMatrix.Y.listA[5].name="axis",t.$data.lineMatrix.Z.listA[5].scale.x=.06,t.$data.lineMatrix.Z.listA[5].scale.y=.06,t.$data.lineMatrix.Z.listA[5].material.color.setHex(Number("0x"+t.colors[2].split("#")[1])),t.$data.lineMatrix.Z.listA[5].name="axis"},createBoxFrame:function(){var t=this,e=t.$data.THREE,n=new e.BoxBufferGeometry(1,1,1,32,32,32),i=new e.MeshBasicMaterial({color:13369344}),r=new e.EdgesGeometry(n),a=new e.LineSegments(r,i);return a.material.depthTest=!1,a.material.opacity=1,a.material.transparent=!0,t.$data.scene.add(a),a},renderObjects:function(){var t=this;t.$data.crossSectionBox=t.createCrossSectionBox(0),t.$data.crossSectionBox.scale.x=0,t.$data.crossSectionBox.scale.y=0,t.$data.crossSectionBox.scale.z=0;for(var e=0;e<t.$data.valMatrix[t.$data.metricIndexes[0]].length;e++){var n=t.createSphere(e),i=t.$data.valMatrix.length>3?t.$data.valMatrix[4][e]:1;n.scale.x=.1*i,n.scale.y=.1*i,n.scale.z=.1*i,n.position.x=-1*t.$data.valMatrix[t.$data.metricIndexes[0]][e],n.position.y=1*t.$data.valMatrix[t.$data.metricIndexes[1]][e],n.position.z=-1*t.$data.valMatrix[t.$data.metricIndexes[2]][e],n.name="point-"+e.toString(),t.$data.points.push(n)}var r=t.makeTextSprite(" ",{color:t.colors[1]});r.position.x=1,r.position.y=t.$data.maxVal-.3,r.position.z=-1*t.$data.maxVal-1.2,t.$data.lineMatrix.YLABEL=r;var a=t.makeTextSprite(" ",{color:t.colors[0]});a.position.x=-1*t.$data.maxVal-1.2,a.position.y=t.$data.maxVal-.3,a.position.z=0,t.$data.lineMatrix.XLABEL=a;var o=t.makeTextSprite(" ",{color:t.colors[2]});o.position.x=-1*t.$data.maxVal-1.2,o.position.y=-.7,o.position.z=-1*t.$data.maxVal,t.$data.lineMatrix.ZLABEL=o,t.$data.lineMatrix.NUMBER_LABELS=t.createNumberLabels(["0","1","2","3","4","5"]),t.createGrid(),t.$data.renderer.render(t.$data.scene,t.$data.camera),t.updateLabels()},createNumberLabels:function(t){for(var e=this,n=[],i=0;i<t.length;i++){var r=e.makeTextSprite(t[i],{color:e.colors[1]});r.position.x=-.8,r.position.y=e.$data.maxVal/(t.length-1)*i-.3,r.position.z=-1*e.$data.maxVal,r.name="y";var a=e.makeTextSprite(t[i],{color:e.colors[0]});a.position.x=-1*(e.$data.maxVal/(t.length-1)*i+.9),a.position.y=e.$data.maxVal-.15,a.position.z=.4,a.name="x";var o=e.makeTextSprite(t[i],{color:e.colors[2]});o.position.x=-1*e.$data.maxVal-1.2,o.position.y=-.25,o.position.z=e.$data.maxVal/(t.length-1)*i*-1,o.name="z",n.push(r),n.push(a),n.push(o)}return n},shiftObjects:function(){for(var t=this,e=0;e<t.$data.points.length;e++){if(t.$data.valMatrix.length>4){var n={opacity:1/6+t.$data.valMatrix[4][e]*(1/6)};o.a.to(t.$data.points[e].material,.5,{opacity:n.opacity,onUpdate:function(e,n){e===n&&t.redraw()},onUpdateParams:[e,t.$data.points.length-1]})}if(t.$data.valMatrix.length>3){var i={x:.05+.1*t.$data.valMatrix[3][e],y:.05+.1*t.$data.valMatrix[3][e],z:.05+.1*t.$data.valMatrix[3][e]};t.$data.points[e].material.color.setHex(Number("0x"+t.getPointColor(e).split("#")[1])),o.a.to(t.$data.points[e].scale,.5,{x:i.x,y:i.y,z:i.z,onUpdate:function(e,n){e===n&&t.redraw()},onUpdateParams:[e,t.$data.points.length-1]})}var r={x:-1*t.$data.valMatrix[t.$data.metricIndexes[0]][e],y:1*t.$data.valMatrix[t.$data.metricIndexes[1]][e],z:3===t.$data.viewMode?-1*t.$data.valMatrix[t.$data.metricIndexes[2]][e]:0};t.$data.points[e].material.color.setHex(Number("0x"+t.getPointColor(e).split("#")[1])),o.a.to(t.$data.points[e].position,.5,{x:r.x,y:r.y,z:r.z,onUpdate:function(e,n){e===n&&(t.redraw(),t.positionCrossSectionBox())},onUpdateParams:[e,t.$data.points.length-1]})}t.emitSelectionEvent()},redraw:function(){var t=this;t.$data.camera.position.x=t.$data.camPos.x+.005*t.$data.offset.x*t.$data.lineMatrix.Y.scale,t.$data.camera.position.z=t.$data.camPos.z,t.$data.camera.position.y=t.$data.camPos.y+.005*t.$data.offset.y*t.$data.lineMatrix.Y.scale,t.$data.camera.lookAt(t.$data.camTarget.x,t.$data.camTarget.y,t.$data.camTarget.z),t.$data.renderer.render(t.$data.scene,t.$data.camera)},setup:function(){var t=this;t.redraw(),document.querySelector(".view-container > canvas").addEventListener("click",t.clickDetection),document.querySelector(".view-container > canvas").addEventListener("mousemove",t.hoverDetection)},setViewMode:function(t){var e=this;e.$data.viewMode=t;var n=3===t?{x:0,y:0,z:0}:{x:-2.5,y:2.5,z:0};o.a.to(e.$data.camTarget,.5,{x:n.x,y:n.y,z:n.z});var i=3===t?{x:-3*e.distfactor,y:2*e.distfactor,z:-5*e.distfactor}:{x:-2.5,y:2.5,z:-5*e.distfactor};o.a.to(e.$data.camPos,.5,{x:i.x,y:i.y,z:i.z,onUpdate:e.redraw}),o.a.to(e.$data.lineMatrix.Y,.5,{scale:3===t?1:0,onUpdate:function(t){for(var n=0;n<t.$data.lineMatrix.Y.listA.length;n++)t.$data.lineMatrix.Y.listA[n].scale.x="axis"===t.$data.lineMatrix.Y.listA[n].name?.06:.02*t.$data.lineMatrix.Y.scale,t.$data.lineMatrix.Y.listA[n].scale.z="axis"===t.$data.lineMatrix.Y.listA[n].name?.06:.02*t.$data.lineMatrix.Y.scale,t.$data.lineMatrix.Y.listB[n].scale.x=.02*t.$data.lineMatrix.Y.scale,t.$data.lineMatrix.Y.listB[n].scale.y=.02*t.$data.lineMatrix.Y.scale,t.$data.lineMatrix.Z.listA[n].scale.x="axis"===t.$data.lineMatrix.Z.listA[n].name?.06*t.$data.lineMatrix.Y.scale:.02*t.$data.lineMatrix.Y.scale,t.$data.lineMatrix.Z.listA[n].scale.y="axis"===t.$data.lineMatrix.Z.listA[n].name?.06*t.$data.lineMatrix.Y.scale:.02*t.$data.lineMatrix.Y.scale,t.$data.lineMatrix.Z.listB[n].scale.y=.02*t.$data.lineMatrix.Y.scale,t.$data.lineMatrix.Z.listB[n].scale.z=.02*t.$data.lineMatrix.Y.scale,t.$data.lineMatrix.ZLABEL.scale.set(2*t.$data.lineMatrix.Y.scale,1*t.$data.lineMatrix.Y.scale,1*t.$data.lineMatrix.Y.scale),t.$data.lineMatrix.YLABEL.position.z=-1*e.$data.maxVal*t.$data.lineMatrix.Y.scale-1.2,"axis"===t.$data.lineMatrix.Y.listA[n].name&&(t.$data.lineMatrix.Y.listA[n].position.z=-1*e.$data.maxVal*t.$data.lineMatrix.Y.scale);for(var i=0;i<t.$data.lineMatrix.NUMBER_LABELS.length;i++)"y"===t.$data.lineMatrix.NUMBER_LABELS[i].name?t.$data.lineMatrix.NUMBER_LABELS[i].position.z=-1*t.$data.maxVal*t.$data.lineMatrix.Y.scale:"z"===t.$data.lineMatrix.NUMBER_LABELS[i].name&&t.$data.lineMatrix.NUMBER_LABELS[i].scale.set(2*t.$data.lineMatrix.Y.scale,1*t.$data.lineMatrix.Y.scale,1*t.$data.lineMatrix.Y.scale)},onUpdateParams:[e]}),e.shiftObjects()},processMouseEvent:function(t){return{x:t.clientX,y:t.clientY}},clickDetection:function(t){var e=this,n=e.$data.THREE;t.preventDefault();var i=e.processMouseEvent(t),r=new n.Raycaster,a=new n.Vector2;a.x=i.x/e.$data.renderer.domElement.clientWidth*2-1,a.y=-i.y/e.$data.renderer.domElement.clientHeight*2+1,r.setFromCamera(a,e.$data.camera);var o=r.intersectObjects(e.$data.points);if(o.length>0){e.$data.didSelect=!0;var s=Number(o[0].object.name.split("-")[1]);e.$data.currentIndex=s,e.positionCrossSectionBox(),e.redraw(),e.emitSelectionEvent()}},hoverDetection:function(t){var e=this,n=e.$data.THREE;t.preventDefault();var i=e.processMouseEvent(t),r=new n.Raycaster,a=new n.Vector2;a.x=i.x/e.$data.renderer.domElement.clientWidth*2-1,a.y=-i.y/e.$data.renderer.domElement.clientHeight*2+1,r.setFromCamera(a,e.$data.camera);var o=r.intersectObjects(e.$data.points);if(o.length>0){var s=Number(o[0].object.name.split("-")[1]);e.$data.toolTipPosition.shown=!0,e.$data.toolTipPosition.x=i.x+20,e.$data.toolTipPosition.y=i.y,e.$data.toolTipPosition.content=e.$data.allKeys[s]}else e.$data.toolTipPosition.shown=!1,console.log(-1)},positionCrossSectionBox:function(){var t=this,e=t.$data.didSelect?1:0;t.$data.crossSectionBox.scale.x=t.$data.points[t.$data.currentIndex].position.x*e,t.$data.crossSectionBox.scale.y=t.$data.points[t.$data.currentIndex].position.y*e,t.$data.crossSectionBox.scale.z=t.$data.points[t.$data.currentIndex].position.z*e,t.$data.crossSectionBox.position.x=t.$data.points[t.$data.currentIndex].position.x/2,t.$data.crossSectionBox.position.y=t.$data.points[t.$data.currentIndex].position.y/2,t.$data.crossSectionBox.position.z=t.$data.points[t.$data.currentIndex].position.z/2,t.$data.crossSectionBox.material.color.setHex(t.$data.points[t.$data.currentIndex].material.color.getHex())},emitSelectionEvent:function(){var t=this;t.$data.currentIndex>=0&&t.$emit("point-selection",{index:t.$data.currentIndex,metricIndexes:t.$data.metricIndexes})},initualize:function(){var t=this;t.$data.initalized=!0;var e=t.$data.THREE,n=document.getElementById(t.$data.containerID),i=n.getBoundingClientRect().width,r=n.getBoundingClientRect().height,a=new e.WebGLRenderer({alpha:!0});t.$data.renderer=a,a.setSize(i,r),n.appendChild(a.domElement);var o=new e.Scene,s=!t.isOrthographic>0?new e.PerspectiveCamera(t.perspective,i/r,1,1e3):new e.OrthographicCamera(i/(-2*t.$data.axisData.scale),i/(2*t.$data.axisData.scale),r/(-2*t.$data.axisData.scale),r/(2*t.$data.axisData.scale),1,1e3),l=new e.AmbientLight(2105376);o.add(l);var c=new e.PointLight(16777215,.5);c.position.set(-12,15,10),o.add(c);var u=new e.DirectionalLight(16777215,1);u.position.set(0,100,10),o.add(u);var h=new e.PointLightHelper(c,.2);o.add(h);var d=new e.DirectionalLightHelper(u,1);o.add(d),t.$data.scene=o,t.$data.camera=s,t.renderObjects(),a.render(o,s),setTimeout(t.setup,100),window.addEventListener("mousemove",function(e){var n=t.processMouseEvent(e),i={x:n.x-window.innerWidth/2,y:n.y-window.innerHeight/2};t.$data.offset=i,t.redraw()})}},computed:{isOrthographic:function(){return 0===this.perspective},yFactor:function(){return this.isOrthographic?-1:1}},mounted:function(){var t=this;s.a.loadData(function(e){t.$data.laodedData=e;var n=0;for(var i in e)n<5&&(t.$data.valKeys.push(i),n++),t.$data.allKeys.push(i)})}}},function(t,e,n){"use strict";function i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}n.d(e,"a",function(){return Se}),n.d(e,"b",function(){return Je}),n.d(e,"w",function(){return nn}),n.d(e,"c",function(){return ze}),n.d(e,"v",function(){return Ot}),n.d(e,"i",function(){return tt}),n.d(e,"n",function(){return D}),n.d(e,"k",function(){return w}),n.d(e,"l",function(){return T}),n.d(e,"q",function(){return We}),n.d(e,"p",function(){return k}),n.d(e,"g",function(){return et}),n.d(e,"t",function(){return Ze}),n.d(e,"e",function(){return ue}),n.d(e,"r",function(){return Jt}),n.d(e,"d",function(){return Pe}),n.d(e,"o",function(){return Y}),n.d(e,"u",function(){return he}),n.d(e,"f",function(){return p}),n.d(e,"s",function(){return nt}),n.d(e,"m",function(){return F}),n.d(e,"j",function(){return He}),n.d(e,"h",function(){return Q});/*!
 * GSAP 3.1.1
 * https://greensock.com
 *
 * @license Copyright 2008-2020, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/
var a,o,s,l,c,u,h,d,p={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},f={duration:.5,overwrite:!1,delay:0},g=1e-8,m=2*Math.PI,v=m/4,y=0,x=Math.sqrt,_=Math.cos,b=Math.sin,w=function(t){return"string"==typeof t},M=function(t){return"function"==typeof t},S=function(t){return"number"==typeof t},T=function(t){return void 0===t},A=function(t){return"object"==typeof t},C=function(t){return!1!==t},L=function(){return"undefined"!=typeof window},E=function(t){return M(t)||w(t)},I=Array.isArray,P=/(?:-?\.?\d|\.)+/gi,D=/[-+=\.]*\d+[\.e\-\+]*\d*[e\-\+]*\d*/g,R=/[-+=\.]*\d+(?:\.|e-|e)*\d*/gi,O=/\(([^()]+)\)/i,k=/[\+-]=-?[\.\d]+/,N=/[#\-+\.]*\b[a-z\d-=+%.]+/gi,z={},B={},V=function(t){return(B=ht(t,z))&&nn},F=function(t,e){return console.warn("Invalid property",t,"set to",e,"Missing plugin? gsap.registerPlugin()")},G=function(t,e){return!e&&console.warn(t)},H=function(t,e){return t&&(z[t]=e)&&B&&(B[t]=e)||z},U=function(){return 0},j={},W=[],$={},Y={},X={},q=30,Z=[],J="onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",K=function(t){var e,n,i=t[0];if(A(i)||M(i)||(t=[t]),!(e=(i._gsap||{}).harness)){for(n=Z.length;n--&&!Z[n].targetTest(i););e=Z[n]}for(n=t.length;n--;)t[n]&&(t[n]._gsap||(t[n]._gsap=new Se(t[n],e)))||t.splice(n,1);return t},Q=function(t){return t._gsap||K(Vt(t))[0]._gsap},tt=function(t,e){var n=t[e];return M(n)?t[e]():T(n)&&t.getAttribute(e)||n},et=function(t,e){return(t=t.split(",")).forEach(e)||t},nt=function(t){return Math.round(1e4*t)/1e4},it=function(t,e){for(var n=e.length,i=0;t.indexOf(e[i])<0&&++i<n;);return i<n},rt=function(t,e,n){var i,r=S(t[1]),a=(r?2:1)+(e<2?0:1),o=t[a];if(r&&(o.duration=t[1]),o.parent=n,e){for(i=o;n&&!("immediateRender"in i);)i=n.vars.defaults||{},n=C(n.vars.inherit)&&n.parent;o.immediateRender=C(i.immediateRender),e<2?o.runBackwards=1:o.startAt=t[a-1]}return o},at=function(){var t,e,n=W.length,i=W.slice(0);for($={},W.length=0,t=0;t<n;t++)(e=i[t])&&e._lazy&&(e.render(e._lazy[0],e._lazy[1],!0)._lazy=0)},ot=function(t,e,n,i){W.length&&at(),t.render(e,n,i),W.length&&at()},st=function(t){var e=parseFloat(t);return(e||0===e)&&(t+"").match(N).length<2?e:t},lt=function(t){return t},ct=function(t,e){for(var n in e)n in t||(t[n]=e[n]);return t},ut=function(t,e){for(var n in e)n in t||"duration"===n||"ease"===n||(t[n]=e[n])},ht=function(t,e){for(var n in e)t[n]=e[n];return t},dt=function t(e,n){for(var i in n)e[i]=A(n[i])?t(e[i]||(e[i]={}),n[i]):n[i];return e},pt=function(t,e){var n,i={};for(n in t)n in e||(i[n]=t[n]);return i},ft=function(t){var e=t.parent||a,n=t.keyframes?ut:ct;if(C(t.inherit))for(;e;)n(t,e.vars.defaults),e=e.parent;return t},gt=function(t,e){for(var n=t.length,i=n===e.length;i&&n--&&t[n]===e[n];);return n<0},mt=function(t,e,n,i,r){void 0===n&&(n="_first"),void 0===i&&(i="_last");var a,o=t[i];if(r)for(a=e[r];o&&o[r]>a;)o=o._prev;return o?(e._next=o._next,o._next=e):(e._next=t[n],t[n]=e),e._next?e._next._prev=e:t[i]=e,e._prev=o,e.parent=t,e},vt=function(t,e,n,i){void 0===n&&(n="_first"),void 0===i&&(i="_last");var r=e._prev,a=e._next;r?r._next=a:t[n]===e&&(t[n]=a),a?a._prev=r:t[i]===e&&(t[i]=r),e._dp=t,e._next=e._prev=e.parent=null},yt=function(t,e){!t.parent||e&&!t.parent.autoRemoveChildren||t.parent.remove(t),t._act=0},xt=function(t){for(var e=t;e;)e._dirty=1,e=e.parent;return t},_t=function(t){for(var e=t.parent;e&&e.parent;)e._dirty=1,e.totalDuration(),e=e.parent;return t},bt=function t(e){return!e||e._ts&&t(e.parent)},wt=function(t){return t._repeat?Mt(t._tTime,t=t.duration()+t._rDelay)*t:0},Mt=function(t,e){return(t/=e)&&~~t===t?~~t-1:~~t},St=function(t,e){return(t-e._start)*e._ts+(e._ts>=0?0:e._dirty?e.totalDuration():e._tDur)},Tt=function(t,e,n){if(e.parent&&yt(e),e._start=n+e._delay,e._end=e._start+(e.totalDuration()/Math.abs(e.timeScale())||0),mt(t,e,"_first","_last",t._sort?"_start":0),t._recent=e,e._time||!e._dur&&e._initted){var i=(t.rawTime()-e._start)*e._ts;(!e._dur||Rt(0,e.totalDuration(),i)-e._tTime>g)&&e.render(i,!0)}if(xt(t),t._dp&&t._time>=t._dur&&t._ts&&t._dur<t.duration())for(var r=t;r._dp;)r.totalTime(r._tTime,!0),r=r._dp;return t},At=function(t,e,n,i){return De(t,e),t._initted?!n&&t._pt&&(t._dur&&!1!==t.vars.lazy||!t._dur&&t.vars.lazy)&&u!==he.frame?(W.push(t),t._lazy=[e,i],1):void 0:1},Ct=function(t,e,n,i){var r,a,o,s=t._zTime<0?0:1,l=e<0?0:1,c=t._rDelay,u=0;if(c&&t._repeat&&(u=Rt(0,t._tDur,e),a=Mt(u,c),o=Mt(t._tTime,c),a!==o&&(s=1-l,t.vars.repeatRefresh&&t._initted&&t.invalidate())),(t._initted||!At(t,e,i,n))&&(l!==s||i||t._zTime===g||!e&&t._zTime)){for(t._zTime=e||(n?g:0),t.ratio=l,t._from&&(l=1-l),t._time=0,t._tTime=u,n||ee(t,"onStart"),r=t._pt;r;)r.r(l,r.d),r=r._next;!l&&t._startAt&&!t._onUpdate&&t._start&&t._startAt.render(e,!0,i),t._onUpdate&&!n&&ee(t,"onUpdate"),u&&t._repeat&&!n&&t.parent&&ee(t,"onRepeat"),(e>=t._tDur||e<0)&&t.ratio===l&&(t.ratio&&yt(t,1),n||(ee(t,t.ratio?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}},Lt=function(t,e,n){var i;if(n>e)for(i=t._first;i&&i._start<=n;){if(!i._dur&&"isPause"===i.data&&i._start>e)return i;i=i._next}else for(i=t._last;i&&i._start>=n;){if(!i._dur&&"isPause"===i.data&&i._start<e)return i;i=i._prev}},Et=function(t){if(t instanceof Ae)return xt(t);var e=t._repeat;return t._tDur=e?e<0?1e12:nt(t._dur*(e+1)+t._rDelay*e):t._dur,xt(t.parent),t},It={_start:0,endTime:U},Pt=function t(e,n,i){var r,a,o=e.labels,s=e._recent||It,l=e.duration()>=1e8?s.endTime(!1):e._dur;return w(n)&&(isNaN(n)||n in o)?"<"===(r=n.charAt(0))||">"===r?("<"===r?s._start:s.endTime(s._repeat>=0))+(parseFloat(n.substr(1))||0):(r=n.indexOf("="))<0?(n in o||(o[n]=l),o[n]):(a=+(n.charAt(r-1)+n.substr(r+1)),r>1?t(e,n.substr(0,r-1))+a:l+a):null==n?l:+n},Dt=function(t,e){return t||0===t?e(t):e},Rt=function(t,e,n){return n<t?t:n>e?e:n},Ot=function(t){return(t+"").substr((parseFloat(t)+"").length)},kt=function(t,e,n){return Dt(n,function(n){return Rt(t,e,n)})},Nt=[].slice,zt=function(t,e){return t&&A(t)&&"length"in t&&(!e&&!t.length||t.length-1 in t&&A(t[0]))&&!t.nodeType&&t!==o},Bt=function(t,e,n){return void 0===n&&(n=[]),t.forEach(function(t){var i;return w(t)&&!e||zt(t,1)?(i=n).push.apply(i,Vt(t)):n.push(t)})||n},Vt=function(t,e){return!w(t)||e||!s&&de()?I(t)?Bt(t,e):zt(t)?Nt.call(t,0):t?[t]:[]:Nt.call(l.querySelectorAll(t),0)},Ft=function(t){return t.sort(function(){return.5-Math.random()})},Gt=function(t){if(M(t))return t;var e=A(t)?t:{each:t},n=xe(e.ease),i=e.from||0,r=parseFloat(e.base)||0,a={},o=i>0&&i<1,s=isNaN(i)||o,l=e.axis,c=i,u=i;return w(i)?c=u={center:.5,edges:.5,end:1}[i]||0:!o&&s&&(c=i[0],u=i[1]),function(t,o,h){var d,p,f,g,m,v,y,_,b,w=(h||e).length,M=a[w];if(!M){if(!(b="auto"===e.grid?0:(e.grid||[1,1e8])[1])){for(y=-1e8;y<(y=h[b++].getBoundingClientRect().left)&&b<w;);b--}for(M=a[w]=[],d=s?Math.min(b,w)*c-.5:i%b,p=s?w*u/b-.5:i/b|0,y=0,_=1e8,v=0;v<w;v++)f=v%b-d,g=p-(v/b|0),M[v]=m=l?Math.abs("y"===l?g:f):x(f*f+g*g),m>y&&(y=m),m<_&&(_=m);"random"===i&&Ft(M),M.max=y-_,M.min=_,M.v=w=(parseFloat(e.amount)||parseFloat(e.each)*(b>w?w-1:l?"y"===l?w/b:b:Math.max(b,w/b))||0)*("edges"===i?-1:1),M.b=w<0?r-w:r,M.u=Ot(e.amount||e.each)||0,n=n&&w<0?ye(n):n}return w=(M[t]-M.min)/M.max||0,nt(M.b+(n?n(w):w)*M.v)+M.u}},Ht=function(t){var e=t<1?Math.pow(10,(t+"").length-2):1;return function(n){return~~(Math.round(parseFloat(n)/t)*t*e)/e+(S(n)?0:Ot(n))}},Ut=function(t,e){var n,i,r=I(t);return!r&&A(t)&&(n=r=t.radius||1e8,t.values?(t=Vt(t.values),(i=!S(t[0]))&&(n*=n)):t=Ht(t.increment)),Dt(e,r?M(t)?function(e){return i=t(e),Math.abs(i-e)<=n?i:e}:function(e){for(var r,a,o=parseFloat(i?e.x:e),s=parseFloat(i?e.y:0),l=1e8,c=0,u=t.length;u--;)i?(r=t[u].x-o,a=t[u].y-s,r=r*r+a*a):r=Math.abs(t[u]-o),r<l&&(l=r,c=u);return c=!n||l<=n?t[c]:e,i||c===e||S(e)?c:c+Ot(e)}:Ht(t))},jt=function(t,e,n,i){return Dt(I(t)?!e:!0===n?!!(n=0):!i,function(){return I(t)?t[~~(Math.random()*t.length)]:(n=n||1e-5)&&(i=n<1?Math.pow(10,(n+"").length-2):1)&&~~(Math.round((t+Math.random()*(e-t))/n)*n*i)/i})},Wt=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return e.reduce(function(t,e){return e(t)},t)}},$t=function(t,e){return function(n){return t(parseFloat(n))+(e||Ot(n))}},Yt=function(t,e,n){return Kt(t,e,0,1,n)},Xt=function(t,e,n){return Dt(n,function(n){return t[~~e(n)]})},qt=function t(e,n,i){var r=n-e;return I(e)?Xt(e,t(0,e.length),n):Dt(i,function(t){return(r+(t-e)%r)%r+e})},Zt=function t(e,n,i){var r=n-e,a=2*r;return I(e)?Xt(e,t(0,e.length-1),n):Dt(i,function(t){return t=(a+(t-e)%a)%a,e+(t>r?a-t:t)})},Jt=function(t){for(var e,n,i,r,a=0,o="";~(e=t.indexOf("random(",a));)i=t.indexOf(")",e),r="["===t.charAt(e+7),n=t.substr(e+7,i-e-7).match(r?N:P),o+=t.substr(a,e-a)+jt(r?n:+n[0],+n[1],+n[2]||1e-5),a=i+1;return o+t.substr(a,t.length-a)},Kt=function(t,e,n,i,r){var a=e-t,o=i-n;return Dt(r,function(e){return n+(e-t)/a*o})},Qt=function t(e,n,i,r){var a=isNaN(e+n)?0:function(t){return(1-t)*e+t*n};if(!a){var o,s,l,c,u,h=w(e),d={};if(!0===i&&(r=1)&&(i=null),h)e={p:e},n={p:n};else if(I(e)&&!I(n)){for(l=[],c=e.length,u=c-2,s=1;s<c;s++)l.push(t(e[s-1],e[s]));c--,a=function(t){t*=c;var e=Math.min(u,~~t);return l[e](t-e)},i=n}else r||(e=ht(I(e)?[]:{},e));if(!l){for(o in n)Ee.call(d,e,o,"get",n[o]);a=function(t){return $e(t,d)||(h?e.p:e)}}}return Dt(i,a)},te=function(t,e,n){var i,r,a,o=t.labels,s=1e8;for(i in o)(r=o[i]-e)<0==!!n&&r&&s>(r=Math.abs(r))&&(a=i,s=r);return a},ee=function(t,e,n){var i,r,a=t.vars,o=a[e];if(o)return i=a[e+"Params"],r=a.callbackScope||t,n&&W.length&&at(),i?o.apply(r,i):o.call(r)},ne=function(t){return yt(t),t.progress()<1&&ee(t,"onInterrupt"),t},ie=function(t){t=!t.name&&t.default||t;var e=t.name,n=M(t),i=e&&!n&&t.init?function(){this._props=[]}:t,r={init:U,render:$e,add:Ee,kill:Xe,modifier:Ye,rawVars:0},a={targetTest:0,get:0,getSetter:He,aliases:{},register:0};if(de(),t!==i){if(Y[e])return;ct(i,ct(pt(t,r),a)),ht(i.prototype,ht(r,pt(t,a))),Y[i.prop=e]=i,t.targetTest&&(Z.push(i),j[e]=1),e=("css"===e?"CSS":e.charAt(0).toUpperCase()+e.substr(1))+"Plugin"}H(e,i),t.register&&t.register(nn,i,Je)},re={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},ae=function(t,e,n){return t=t<0?t+1:t>1?t-1:t,255*(6*t<1?e+(n-e)*t*6:t<.5?n:3*t<2?e+(n-e)*(2/3-t)*6:e)+.5|0},oe=function(t,e){var n,i,r,a,o,s,l,c,u,h,d=t?S(t)?[t>>16,t>>8&255,255&t]:0:re.black;if(!d){if(","===t.substr(-1)&&(t=t.substr(0,t.length-1)),re[t])d=re[t];else if("#"===t.charAt(0))4===t.length&&(n=t.charAt(1),i=t.charAt(2),r=t.charAt(3),t="#"+n+n+i+i+r+r),t=parseInt(t.substr(1),16),d=[t>>16,t>>8&255,255&t];else if("hsl"===t.substr(0,3))if(d=h=t.match(P),e){if(~t.indexOf("="))return t.match(D)}else a=+d[0]%360/360,o=+d[1]/100,s=+d[2]/100,i=s<=.5?s*(o+1):s+o-s*o,n=2*s-i,d.length>3&&(d[3]*=1),d[0]=ae(a+1/3,n,i),d[1]=ae(a,n,i),d[2]=ae(a-1/3,n,i);else d=t.match(P)||re.transparent;d=d.map(Number)}return e&&!h&&(n=d[0]/255,i=d[1]/255,r=d[2]/255,l=Math.max(n,i,r),c=Math.min(n,i,r),s=(l+c)/2,l===c?a=o=0:(u=l-c,o=s>.5?u/(2-l-c):u/(l+c),a=l===n?(i-r)/u+(i<r?6:0):l===i?(r-n)/u+2:(n-i)/u+4,a*=60),d[0]=a+.5|0,d[1]=100*o+.5|0,d[2]=100*s+.5|0),d},se=function(t,e){var n,i,r,a=(t+"").match(le),o=0,s="";if(!a)return t;for(n=0;n<a.length;n++)i=a[n],r=t.substr(o,t.indexOf(i,o)-o),o+=r.length+i.length,i=oe(i,e),3===i.length&&i.push(1),s+=r+(e?"hsla("+i[0]+","+i[1]+"%,"+i[2]+"%,"+i[3]:"rgba("+i.join(","))+")";return s+t.substr(o)},le=function(){var t,e="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(t in re)e+="|"+t+"\\b";return new RegExp(e+")","gi")}(),ce=/hsl[a]?\(/,ue=function(t){var e,n=t.join(" ");le.lastIndex=0,le.test(n)&&(e=ce.test(n),t[0]=se(t[0],e),t[1]=se(t[1],e))},he=function(){var t,e,n,i,r=Date.now,a=500,u=33,h=r(),p=h,f=1/60,m=f,v=[],y=function n(o){var s,l,c=r()-p,d=!0===o;c>a&&(h+=c-u),p+=c,i.time=(p-h)/1e3,s=i.time-m,(s>0||d)&&(i.frame++,m+=s+(s>=f?.004:f-s),l=1),d||(t=e(n)),l&&v.forEach(function(t){return t(i.time,c,i.frame,o)})};return i={time:0,frame:0,tick:function(){y(!0)},wake:function(){c&&(!s&&L()&&(o=s=window,l=o.document||{},z.gsap=nn,(o.gsapVersions||(o.gsapVersions=[])).push(nn.version),V(B||o.GreenSockGlobals||!o.gsap&&o||{}),n=o.requestAnimationFrame),t&&i.sleep(),e=n||function(t){return setTimeout(t,1e3*(m-i.time)+1|0)},d=1,y(2))},sleep:function(){(n?o.cancelAnimationFrame:clearTimeout)(t),d=0,e=U},lagSmoothing:function(t,e){a=t||1/g,u=Math.min(e,a,0)},fps:function(t){f=1/(t||60),m=i.time+f},add:function(t){v.indexOf(t)<0&&v.push(t),de()},remove:function(t){var e;~(e=v.indexOf(t))&&v.splice(e,1)},_listeners:v}}(),de=function(){return!d&&he.wake()},pe={},fe=/^[\d.\-M][\d.\-,\s]/,ge=/["']/g,me=function(t){for(var e,n,i,r={},a=t.substr(1,t.length-3).split(":"),o=a[0],s=1,l=a.length;s<l;s++)n=a[s],e=s!==l-1?n.lastIndexOf(","):n.length,i=n.substr(0,e),r[o]=isNaN(i)?i.replace(ge,"").trim():+i,o=n.substr(e+1).trim();return r},ve=function(t){var e=(t+"").split("("),n=pe[e[0]];return n&&e.length>1&&n.config?n.config.apply(null,~t.indexOf("{")?[me(e[1])]:O.exec(t)[1].split(",").map(st)):pe._CE&&fe.test(t)?pe._CE("",t):n},ye=function(t){return function(e){return 1-t(1-e)}},xe=function(t,e){return t?(M(t)?t:pe[t]||ve(t))||e:e},_e=function(t,e,n,i){void 0===n&&(n=function(t){return 1-e(1-t)}),void 0===i&&(i=function(t){return t<.5?e(2*t)/2:1-e(2*(1-t))/2});var r,a={easeIn:e,easeOut:n,easeInOut:i};return et(t,function(t){pe[t]=z[t]=a,pe[r=t.toLowerCase()]=n;for(var e in a)pe[r+("easeIn"===e?".in":"easeOut"===e?".out":".inOut")]=pe[t+"."+e]=a[e]}),a},be=function(t){return function(e){return e<.5?(1-t(1-2*e))/2:.5+t(2*(e-.5))/2}},we=function t(e,n,i){var r=n>=1?n:1,a=(i||(e?.3:.45))/(n<1?n:1),o=a/m*(Math.asin(1/r)||0),s=function(t){return 1===t?1:r*Math.pow(2,-10*t)*b((t-o)*a)+1},l="out"===e?s:"in"===e?function(t){return 1-s(1-t)}:be(s);return a=m/a,l.config=function(n,i){return t(e,n,i)},l},Me=function t(e,n){void 0===n&&(n=1.70158);var i=function(t){return--t*t*((n+1)*t+n)+1},r="out"===e?i:"in"===e?function(t){return 1-i(1-t)}:be(i);return r.config=function(n){return t(e,n)},r};et("Linear,Quad,Cubic,Quart,Quint,Strong",function(t,e){var n=e<5?e+1:e;_e(t+",Power"+(n-1),e?function(t){return Math.pow(t,n)}:function(t){return t},function(t){return 1-Math.pow(1-t,n)},function(t){return t<.5?Math.pow(2*t,n)/2:1-Math.pow(2*(1-t),n)/2})}),pe.Linear.easeNone=pe.none=pe.Linear.easeIn,_e("Elastic",we("in"),we("out"),we()),function(t,e){var n=1/e,i=function(i){return i<n?t*i*i:i<.7272727272727273?t*Math.pow(i-1.5/e,2)+.75:i<.9090909090909092?t*(i-=2.25/e)*i+.9375:t*Math.pow(i-2.625/e,2)+.984375};_e("Bounce",function(t){return 1-i(1-t)},i)}(7.5625,2.75),_e("Expo",function(t){return t?Math.pow(2,10*(t-1)):0}),_e("Circ",function(t){return-(x(1-t*t)-1)}),_e("Sine",function(t){return 1-_(t*v)}),_e("Back",Me("in"),Me("out"),Me()),pe.SteppedEase=pe.steps=z.SteppedEase={config:function(t,e){void 0===t&&(t=1);var n=1/t,i=t+(e?0:1),r=e?1:0,a=1-g;return function(t){return((i*Rt(0,a,t)|0)+r)*n}}},f.ease=pe["quad.out"];var Se=function(t,e){this.id=y++,t._gsap=this,this.target=t,this.harness=e,this.get=e?e.get:tt,this.set=e?e.getSetter:He},Te=function(){function t(t,e){var n=t.parent||a;this.vars=t,this._dur=this._tDur=+t.duration||0,this._delay=+t.delay||0,(this._repeat=t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase,Et(this)),this._ts=1,this.data=t.data,d||he.wake(),n&&Tt(n,this,e||0===e?e:n._time),t.reversed&&this.reversed(!0),t.paused&&this.paused(!0)}var e=t.prototype;return e.delay=function(t){return t||0===t?(this._delay=t,this):this._delay},e.duration=function(t){var e=arguments.length,n=this._repeat,i=n>0?n*((e?t:this._dur)+this._rDelay):0;return e?this.totalDuration(n<0?t:t+i):this.totalDuration()&&this._dur},e.totalDuration=function(t){if(!arguments.length)return this._tDur;var e=this._repeat,n=(t||this._rDelay)&&e<0;return this._tDur=n?1e12:t,this._dur=n?t:(t-e*this._rDelay)/(e+1),this._dirty=0,xt(this.parent),this},e.totalTime=function(t,e){if(de(),!arguments.length)return this._tTime;var n,i=this.parent||this._dp;if(i&&i.smoothChildTiming&&this._ts){for(n=this._start,this._start=i._time-(this._ts>0?t/this._ts:((this._dirty?this.totalDuration():this._tDur)-t)/-this._ts),this._end+=this._start-n,i._dirty||xt(i);i.parent;)i.parent._time!==i._start+(i._ts>0?i._tTime/i._ts:(i.totalDuration()-i._tTime)/-i._ts)&&i.totalTime(i._tTime,!0),i=i.parent;!this.parent&&i.autoRemoveChildren&&Tt(i,this,this._start-this._delay)}return this._tTime===t&&(this._dur||e)||(this._ts||(this._pTime=t),ot(this,t,e)),this},e.time=function(t,e){return arguments.length?this.totalTime(Math.min(this.totalDuration(),t+wt(this))%this._dur||(t?this._dur:0),e):this._time},e.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this._tTime/this.totalDuration()},e.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?t:1-t)+wt(this),e):this.duration()?this._time/this._dur:this.ratio},e.iteration=function(t,e){var n=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(t-1)*n,e):this._repeat?Mt(this._tTime,n)+1:1},e.timeScale=function(t){if(!arguments.length)return this._ts||this._pauseTS||0;if(null!==this._pauseTS)return this._pauseTS=t,this;var e=this.parent&&this._ts?St(this.parent._time,this):this._tTime;return this._ts=t,_t(this.totalTime(e,!0))},e.paused=function(t){var e=!this._ts;return arguments.length?(e!==t&&(t?(this._pauseTS=this._ts,this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(this._ts=this._pauseTS||1,this._pauseTS=null,t=this._tTime||this._pTime,1===this.progress()&&(this._tTime-=g),this.totalTime(t,!0))),this):e},e.startTime=function(t){return arguments.length?(this.parent&&this.parent._sort&&Tt(this.parent,this,t-this._delay),this):this._start},e.endTime=function(t){return this._start+(C(t)?this.totalDuration():this.duration())/Math.abs(this._ts)},e.rawTime=function(t){var e=this.parent||this._dp;return e?t&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?St(e.rawTime(t),this):this._tTime:this._tTime},e.repeat=function(t){return arguments.length?(this._repeat=t,Et(this)):this._repeat},e.repeatDelay=function(t){return arguments.length?(this._rDelay=t,Et(this)):this._rDelay},e.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},e.seek=function(t,e){return this.totalTime(Pt(this,t),C(e))},e.restart=function(t,e){return this.play().totalTime(t?-this._delay:0,C(e))},e.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},e.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},e.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(t){var e=this._ts||this._pauseTS||0;return arguments.length?(t!==this.reversed()&&(this[null===this._pauseTS?"_ts":"_pauseTS"]=Math.abs(e)*(t?-1:1),this.totalTime(this._tTime,!0)),this):e<0},e.invalidate=function(){return this._initted=0,this},e.isActive=function(t){var e,n=this.parent||this._dp,i=this._start;return!(n&&!(this._ts&&(this._initted||!t)&&n.isActive(t)&&(e=n.rawTime(!0))>=i&&e<this.endTime(!0)-g))},e.eventCallback=function(t,e,n){var i=this.vars;return arguments.length>1?(e?(i[t]=e,n&&(i[t+"Params"]=n),"onUpdate"===t&&(this._onUpdate=e)):delete i[t],this):i[t]},e.then=function(t){var e=this;return new Promise(function(n){var i=M(t)?t:lt,r=function(){var t=e.then;e.then=null,i=i(e),i&&(i.then||i===e?e.then=t:M(i)||(i=lt)),n(i),e.then=t};e._initted&&1===e.totalProgress()&&e._ts>=0||!e._tTime&&e._ts<0?r():e._prom=r})},e.kill=function(){ne(this)},t}();ct(Te.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:0,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-g,_prom:0,_pauseTS:null});var Ae=function(t){function e(e,n){var i;return void 0===e&&(e={}),i=t.call(this,e,n)||this,i.labels={},i.smoothChildTiming=C(e.smoothChildTiming),i.autoRemoveChildren=!!e.autoRemoveChildren,i._sort=C(e.sortChildren),i}r(e,t);var n=e.prototype;return n.to=function(t,e,n){return new ze(t,rt(arguments,0,this),Pt(this,S(e)?arguments[3]:n)),this},n.from=function(t,e,n){return new ze(t,rt(arguments,1,this),Pt(this,S(e)?arguments[3]:n)),this},n.fromTo=function(t,e,n,i){return new ze(t,rt(arguments,2,this),Pt(this,S(e)?arguments[4]:i)),this},n.set=function(t,e,n){return e.duration=0,e.parent=this,e.repeatDelay||(e.repeat=0),e.immediateRender=!!e.immediateRender,new ze(t,e,Pt(this,n)),this},n.call=function(t,e,n){return Tt(this,ze.delayedCall(0,t,e),Pt(this,n))},n.staggerTo=function(t,e,n,i,r,a,o){return n.duration=e,n.stagger=n.stagger||i,n.onComplete=a,n.onCompleteParams=o,n.parent=this,new ze(t,n,Pt(this,r)),this},n.staggerFrom=function(t,e,n,i,r,a,o){return n.runBackwards=1,n.immediateRender=C(n.immediateRender),this.staggerTo(t,e,n,i,r,a,o)},n.staggerFromTo=function(t,e,n,i,r,a,o,s){return i.startAt=n,i.immediateRender=C(i.immediateRender),this.staggerTo(t,e,i,r,a,o,s)},n.render=function(t,e,n){var i,r,o,s,l,c,u,h,d,p,f,m,v=this._time,y=this._dirty?this.totalDuration():this._tDur,x=this._dur,_=t>y-g&&t>=0&&this!==a?y:t<g?0:t,b=this._zTime<0!=t<0&&(this._initted||!x);if(_!==this._tTime||n||b){if(b&&(x||(v=this._zTime),!t&&e||(this._zTime=t)),i=_,d=this._start,h=this._ts,c=0===h,v!==this._time&&x&&(i+=this._time-v),this._repeat&&(f=this._yoyo,l=x+this._rDelay,i=nt(_%l),(i>x||y===_)&&(i=x),s=~~(_/l),s&&s===_/l&&(i=x,s--),p=Mt(this._tTime,l),f&&1&s&&(i=x-i,m=1),s!==p&&!this._lock)){var w=f&&1&p,M=w===(f&&1&s);if(s<p&&(w=!w),v=w?0:x,this._lock=1,this.render(v,e,!x)._lock=0,!e&&this.parent&&ee(this,"onRepeat"),this.vars.repeatRefresh&&!m&&this.getChildren().forEach(function(t){return t.invalidate()}),v!==this._time||c!==!this._ts)return this;if(M&&(this._lock=2,v=w?x+1e-4:-1e-4,this.render(v,!0)),this._lock=0,!this._ts&&!c)return this}if(this._hasPause&&!this._forcing&&this._lock<2&&(u=Lt(this,nt(v),nt(i)))&&(_-=i-(i=u._start)),this._tTime=_,this._time=i,this._act=!h,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1),v||!i||e||ee(this,"onStart"),i>=v&&t>=0)for(r=this._first;r;){if(o=r._next,(r._act||i>=r._start)&&r._ts&&u!==r){if(r.parent!==this)return this.render(t,e,n);if(r.render(r._ts>0?(i-r._start)*r._ts:(r._dirty?r.totalDuration():r._tDur)+(i-r._start)*r._ts,e,n),i!==this._time||!this._ts&&!c){u=0;break}}r=o}else{r=this._last;for(var S=t<0?t:i;r;){if(o=r._prev,(r._act||S<=r._end)&&r._ts&&u!==r){if(r.parent!==this)return this.render(t,e,n);if(r.render(r._ts>0?(S-r._start)*r._ts:(r._dirty?r.totalDuration():r._tDur)+(S-r._start)*r._ts,e,n),i!==this._time||!this._ts&&!c){u=0;break}}r=o}}if(u&&!e&&(this.pause(),u.render(i>=v?0:-g)._zTime=i>=v?1:-1,this._ts))return this._start=d,this.render(t,e,n);this._onUpdate&&!e&&ee(this,"onUpdate",!0),(_===y&&y>=this.totalDuration()||!_&&this._ts<0)&&(d!==this._start&&Math.abs(h)===Math.abs(this._ts)||((t||!x)&&(t&&this._ts>0||!_&&this._ts<0)&&yt(this,1),e||t<0&&!v||(ee(this,_===y?"onComplete":"onReverseComplete",!0),this._prom&&this._prom())))}return this},n.add=function(t,e){var n=this;if(S(e)||(e=Pt(this,e)),!(t instanceof Te)){if(I(t))return t.forEach(function(t){return n.add(t,e)}),xt(this);if(w(t))return this.addLabel(t,e);if(!M(t))return this;t=ze.delayedCall(0,t)}return this!==t?Tt(this,t,e):this},n.getChildren=function(t,e,n,i){void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===n&&(n=!0),void 0===i&&(i=-1e8);for(var r=[],a=this._first;a;)a._start>=i&&(a instanceof ze?e&&r.push(a):(n&&r.push(a),t&&r.push.apply(r,a.getChildren(!0,e,n)))),a=a._next;return r},n.getById=function(t){for(var e=this.getChildren(1,1,1),n=e.length;n--;)if(e[n].vars.id===t)return e[n]},n.remove=function(t){return w(t)?this.removeLabel(t):M(t)?this.killTweensOf(t):(vt(this,t),t===this._recent&&(this._recent=this._last),xt(this))},n.totalTime=function(e,n){return arguments.length?(this._forcing=1,this.parent||this._dp||!this._ts||(this._start=he.time-(this._ts>0?e/this._ts:(this.totalDuration()-e)/-this._ts)),t.prototype.totalTime.call(this,e,n),this._forcing=0,this):this._tTime},n.addLabel=function(t,e){return this.labels[t]=Pt(this,e),this},n.removeLabel=function(t){return delete this.labels[t],this},n.addPause=function(t,e,n){var i=ze.delayedCall(0,e||U,n);return i.data="isPause",this._hasPause=1,Tt(this,i,Pt(this,t))},n.removePause=function(t){var e=this._first;for(t=Pt(this,t);e;)e._start===t&&"isPause"===e.data&&yt(e),e=e._next},n.killTweensOf=function(t,e,n){for(var i=this.getTweensOf(t,n),r=i.length;r--;)Ce!==i[r]&&i[r].kill(t,e);return this},n.getTweensOf=function(t,e){for(var n,i=[],r=Vt(t),a=this._first;a;)a instanceof ze?!it(a._targets,r)||e&&!a.isActive("started"===e)||i.push(a):(n=a.getTweensOf(r,e)).length&&i.push.apply(i,n),a=a._next;return i},n.tweenTo=function(t,e){var n=this,i=Pt(n,t),r=e&&e.startAt,a=ze.to(n,ct({ease:"none",lazy:!1,time:i,duration:Math.abs(i-(r&&"time"in r?r.time:n._time))/n.timeScale()||g,onStart:function(){n.pause();var t=Math.abs(i-n._time)/n.timeScale();a._dur!==t&&(a._dur=t,a.render(a._time,!0,!0)),e&&e.onStart&&e.onStart.apply(a,e.onStartParams||[])}},e));return a},n.tweenFromTo=function(t,e,n){return this.tweenTo(e,ct({startAt:{time:Pt(this,t)}},n))},n.recent=function(){return this._recent},n.nextLabel=function(t){return void 0===t&&(t=this._time),te(this,Pt(this,t))},n.previousLabel=function(t){return void 0===t&&(t=this._time),te(this,Pt(this,t),1)},n.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.previousLabel(this._time+g)},n.shiftChildren=function(t,e,n){void 0===n&&(n=0);for(var i,r=this._first,a=this.labels;r;)r._start>=n&&(r._start+=t),r=r._next;if(e)for(i in a)a[i]>=n&&(a[i]+=t);return xt(this)},n.invalidate=function(){var e=this._first;for(this._lock=0;e;)e.invalidate(),e=e._next;return t.prototype.invalidate.call(this)},n.clear=function(t){void 0===t&&(t=!0);for(var e,n=this._first;n;)e=n._next,this.remove(n),n=e;return this._time=this._tTime=0,t&&(this.labels={}),xt(this)},n.totalDuration=function(t){var e,n,i=0,r=this,o=r._last,s=1e8,l=r._repeat,c=l*r._rDelay||0,u=l<0;if(!arguments.length){if(r._dirty){for(;o;)e=o._prev,o._dirty&&o.totalDuration(),o._start>s&&r._sort&&o._ts&&!r._lock?(r._lock=1,Tt(r,o,o._start-o._delay),r._lock=0):s=o._start,o._start<0&&o._ts&&(i-=o._start,(!r.parent&&!r._dp||r.parent&&r.parent.smoothChildTiming)&&(r._start+=o._start/r._ts,r._time-=o._start,r._tTime-=o._start),r.shiftChildren(-o._start,!1,-1e20),s=0),n=o._end=o._start+o._tDur/Math.abs(o._ts||o._pauseTS||g),n>i&&o._ts&&(i=nt(n)),o=e;r._dur=r===a&&r._time>i?r._time:Math.min(1e8,i),r._tDur=u&&(r._dur||c)?1e12:Math.min(1e8,i*(l+1)+c),r._end=r._start+(r._tDur/Math.abs(r._ts||r._pauseTS||g)||0),r._dirty=0}return r._tDur}return u?r:r.timeScale(r.totalDuration()/t)},e.updateRoot=function(t){if(a._ts&&(ot(a,St(t,a)),u=he.frame),he.frame>=q){q+=p.autoSleep||120;var e=a._first;if((!e||!e._ts)&&p.autoSleep&&he._listeners.length<2){for(;e&&!e._ts;)e=e._next;e||he.sleep()}}},e}(Te);ct(Ae.prototype,{_lock:0,_hasPause:0,_forcing:0});var Ce,Le=function(t,e,n,i,r,a,o){var s,l,c,u,h,d,p,f,g=new Je(this._pt,t,e,0,1,We,null,r),m=0,v=0;for(g.b=n,g.e=i,n+="",i+="",(p=~i.indexOf("random("))&&(i=Jt(i)),a&&(f=[n,i],a(f,t,e),n=f[0],i=f[1]),l=n.match(R)||[];s=R.exec(i);)u=s[0],h=i.substring(m,s.index),c?c=(c+1)%5:"rgba("===h.substr(-5)&&(c=1),u!==l[v++]&&(d=parseFloat(l[v-1])||0,g._pt={_next:g._pt,p:h||1===v?h:",",s:d,c:"="===u.charAt(1)?parseFloat(u.substr(2))*("-"===u.charAt(0)?-1:1):parseFloat(u)-d,m:c&&c<4?Math.round:0},m=R.lastIndex);return g.c=m<i.length?i.substring(m,i.length):"",g.fp=o,(k.test(i)||p)&&(g.e=0),this._pt=g,g},Ee=function(t,e,n,i,r,a,o,s,l){M(i)&&(i=i(r||0,t,a));var c,u=t[e],h="get"!==n?n:M(u)?l?t[e.indexOf("set")||!M(t["get"+e.substr(3)])?e:"get"+e.substr(3)](l):t[e]():u,d=M(u)?l?Fe:Ve:Be;if(w(i)&&(~i.indexOf("random(")&&(i=Jt(i)),"="===i.charAt(1)&&(i=parseFloat(h)+parseFloat(i.substr(2))*("-"===i.charAt(0)?-1:1)+(Ot(h)||0))),h!==i)return isNaN(h+i)?(!u&&!(e in t)&&F(e,i),Le.call(this,t,e,h,i,d,s||p.stringFilter,l)):(c=new Je(this._pt,t,e,+h||0,i-(h||0),"boolean"==typeof u?je:Ue,0,d),l&&(c.fp=l),o&&c.modifier(o,this,t),this._pt=c)},Ie=function(t,e,n,i,r){if(M(t)&&(t=Oe(t,r,e,n,i)),!A(t)||t.style&&t.nodeType||I(t))return w(t)?Oe(t,r,e,n,i):t;var a,o={};for(a in t)o[a]=Oe(t[a],r,e,n,i);return o},Pe=function(t,e,n,i,r,a){var o,s,l,c;if(Y[t]&&!1!==(o=new Y[t]).init(r,o.rawVars?e[t]:Ie(e[t],i,r,a,n),n,i,a)&&(n._pt=s=new Je(n._pt,r,t,0,1,o.render,o,0,o.priority),n!==h))for(l=n._ptLookup[n._targets.indexOf(r)],c=o._props.length;c--;)l[o._props[c]]=s;return o},De=function t(e,n){var i,r,o,s,l,c,u,h,d,p,m,v,y=e.vars,x=y.ease,_=y.startAt,b=y.immediateRender,w=y.lazy,M=y.onUpdate,S=y.onUpdateParams,T=y.callbackScope,A=y.runBackwards,L=y.yoyoEase,E=y.keyframes,I=y.autoRevert,P=e._dur,D=e._startAt,R=e._targets,O=e.parent,k=O&&"nested"===O.data?O.parent._targets:R,N="auto"===e._overwrite,z=e.timeline;if(!z||E&&x||(x="none"),e._ease=xe(x,f.ease),e._yEase=L?ye(xe(!0===L?x:L,f.ease)):0,L&&e._yoyo&&!e._repeat&&(L=e._yEase,e._yEase=e._ease,e._ease=L),!z){if(D&&D.render(-1,!0).kill(),_){if(yt(e._startAt=ze.set(R,ct({data:"isStart",overwrite:!1,parent:O,immediateRender:!0,lazy:C(w),startAt:null,delay:0,onUpdate:M,onUpdateParams:S,callbackScope:T,stagger:0},_))),b)if(n>0)!I&&(e._startAt=0);else if(P)return}else if(A&&P)if(D)!I&&(e._startAt=0);else if(n&&(b=!1),yt(e._startAt=ze.set(R,ht(pt(y,j),{overwrite:!1,data:"isFromStart",lazy:b&&C(w),immediateRender:b,stagger:0,parent:O}))),b){if(!n)return}else t(e._startAt,g);for(i=pt(y,j),e._pt=0,h=R[0]?Q(R[0]).harness:0,v=h&&y[h.prop],w=P&&C(w)||w&&!P,r=0;r<R.length;r++){if(l=R[r],u=l._gsap||K(R)[r]._gsap,e._ptLookup[r]=p={},$[u.id]&&at(),m=k===R?r:k.indexOf(l),h&&!1!==(d=new h).init(l,v||i,e,m,k)&&(e._pt=s=new Je(e._pt,l,d.name,0,1,d.render,d,0,d.priority),d._props.forEach(function(t){p[t]=s}),d.priority&&(c=1)),!h||v)for(o in i)Y[o]&&(d=Pe(o,i,e,m,l,k))?d.priority&&(c=1):p[o]=s=Ee.call(e,l,o,"get",i[o],m,k,0,y.stringFilter);e._op&&e._op[r]&&e.kill(l,e._op[r]),N&&e._pt&&(Ce=e,a.killTweensOf(l,p,"started"),Ce=0),e._pt&&w&&($[u.id]=1)}c&&Ze(e),e._onInit&&e._onInit(e)}e._from=!z&&!!y.runBackwards,e._onUpdate=M,e._initted=1},Re=function(t,e){var n,i,r,a,o=t[0]?Q(t[0]).harness:0,s=o&&o.aliases;if(!s)return e;n=ht({},e);for(i in s)if(i in n)for(a=s[i].split(","),r=a.length;r--;)n[a[r]]=n[i];return n},Oe=function(t,e,n,i,r){return M(t)?t.call(e,n,i,r):w(t)&&~t.indexOf("random(")?Jt(t):t},ke=J+",repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase",Ne=(ke+",id,stagger,delay,duration,paused").split(","),ze=function(t){function e(e,n,r){var o;"number"==typeof n&&(r.duration=n,n=r,r=null),o=t.call(this,ft(n),r)||this;var s,l,c,u,h,d,f,m,v=o.vars,y=v.duration,x=v.delay,_=v.immediateRender,b=v.stagger,w=v.overwrite,M=v.keyframes,T=v.defaults,L=I(e)&&S(e[0])?[e]:Vt(e);if(o._targets=L.length?K(L):G("GSAP target "+e+" not found. https://greensock.com",!p.nullTargetWarn)||[],o._ptLookup=[],o._overwrite=w,M||b||E(y)||E(x)){if(n=o.vars,s=o.timeline=new Ae({data:"nested",defaults:T||{}}),s.kill(),s.parent=i(o),M)ct(s.vars.defaults,{ease:"none"}),M.forEach(function(t){return s.to(L,t,">")});else{if(u=L.length,f=b?Gt(b):U,A(b))for(h in b)~ke.indexOf(h)&&(m||(m={}),m[h]=b[h]);for(l=0;l<u;l++){c={};for(h in n)Ne.indexOf(h)<0&&(c[h]=n[h]);c.stagger=0,m&&ht(c,m),n.yoyoEase&&!n.repeat&&(c.yoyoEase=n.yoyoEase),d=L[l],c.duration=+Oe(y,i(o),l,d,L),c.delay=(+Oe(x,i(o),l,d,L)||0)-o._delay,!b&&1===u&&c.delay&&(o._delay=x=c.delay,o._start+=x,c.delay=0),s.to(d,c,f(l,d,L))}y=x=0}y||o.duration(y=s.duration())}else o.timeline=0;return!0===w&&(Ce=i(o),a.killTweensOf(L),Ce=0),(_||!y&&!M&&o._start===o.parent._time&&C(_)&&bt(i(o))&&"nested"!==o.parent.data)&&(o._tTime=-g,o.render(Math.max(0,-x))),o}r(e,t);var n=e.prototype;return n.render=function(t,e,n){var i,r,a,o,s,l,c,u,h,d=this._time,p=this._tDur,f=this._dur,m=t>p-g&&t>=0?p:t<g?0:t;if(f){if(m!==this._tTime||!t||n||this._startAt&&this._zTime<0!=t<0){if(i=m,u=this.timeline,this._repeat){if(o=f+this._rDelay,i=nt(m%o),i>f&&(i=f),a=~~(m/o),a&&a===m/o&&(i=f,a--),l=this._yoyo&&1&a,l&&(h=this._yEase,i=f-i),s=Mt(this._tTime,o),i===d&&!n&&this._initted)return this;a!==s&&(!this.vars.repeatRefresh||l||this._lock||(this._lock=n=1,this.render(o*a,!0).invalidate()._lock=0))}if(!this._initted&&At(this,i,n,e))return this._tTime=0,this;for(this._tTime=m,this._time=i,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=c=(h||this._ease)(i/f),this._from&&(this.ratio=c=1-c),d||!i||e||ee(this,"onStart"),r=this._pt;r;)r.r(c,r.d),r=r._next;u&&u.render(t<0?t:!i&&l?-g:u._dur*c,e,n)||this._startAt&&(this._zTime=t),this._onUpdate&&!e&&(t<0&&this._startAt&&this._startAt.render(t,!0,n),ee(this,"onUpdate")),this._repeat&&a!==s&&this.vars.onRepeat&&!e&&this.parent&&ee(this,"onRepeat"),m!==this._tDur&&m||this._tTime!==m||(t<0&&this._startAt&&!this._onUpdate&&this._startAt.render(t,!0,n),(t||!f)&&(t&&this._ts>0||!m&&this._ts<0)&&yt(this,1),e||t<0&&!d||(ee(this,m===p?"onComplete":"onReverseComplete",!0),this._prom&&this._prom()))}}else Ct(this,t,e,n);return this},n.targets=function(){return this._targets},n.invalidate=function(){return this._pt=this._op=this._startAt=this._onUpdate=this._act=this._lazy=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(),t.prototype.invalidate.call(this)},n.kill=function(t,e){if(void 0===e&&(e="all"),!(t||e&&"all"!==e)&&(this._lazy=0,this.parent))return ne(this);if(this.timeline)return this.timeline.killTweensOf(t,e,Ce&&!0!==Ce.vars.overwrite),this;var n,i,r,a,o,s,l,c=this._targets,u=t?Vt(t):c,h=this._ptLookup,d=this._pt;if((!e||"all"===e)&&gt(c,u))return ne(this);for(n=this._op=this._op||[],"all"!==e&&(w(e)&&(o={},et(e,function(t){return o[t]=1}),e=o),e=Re(c,e)),l=c.length;l--;)if(~u.indexOf(c[l])){i=h[l],"all"===e?(n[l]=e,a=i,r={}):(r=n[l]=n[l]||{},a=e);for(o in a)s=i&&i[o],s&&("kill"in s.d&&!0!==s.d.kill(o)||vt(this,s,"_pt"),delete i[o]),"all"!==r&&(r[o]=1)}return this._initted&&!this._pt&&d&&ne(this),this},e.to=function(t,n){return new e(t,n,arguments[2])},e.from=function(t,n){return new e(t,rt(arguments,1))},e.delayedCall=function(t,n,i,r){return new e(n,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:t,onComplete:n,onReverseComplete:n,onCompleteParams:i,onReverseCompleteParams:i,callbackScope:r})},e.fromTo=function(t,n,i){return new e(t,rt(arguments,2))},e.set=function(t,n){return n.duration=0,n.repeatDelay||(n.repeat=0),new e(t,n)},e.killTweensOf=function(t,e,n){return a.killTweensOf(t,e,n)},e}(Te);ct(ze.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),et("staggerTo,staggerFrom,staggerFromTo",function(t){ze[t]=function(){var e=new Ae,n=Nt.call(arguments,0);return n.splice("staggerFromTo"===t?5:4,0,0),e[t].apply(e,n)}});var Be=function(t,e,n){return t[e]=n},Ve=function(t,e,n){return t[e](n)},Fe=function(t,e,n,i){return t[e](i.fp,n)},Ge=function(t,e,n){return t.setAttribute(e,n)},He=function(t,e){return M(t[e])?Ve:T(t[e])&&t.setAttribute?Ge:Be},Ue=function(t,e){return e.set(e.t,e.p,Math.round(1e4*(e.s+e.c*t))/1e4,e)},je=function(t,e){return e.set(e.t,e.p,!!(e.s+e.c*t),e)},We=function(t,e){var n=e._pt,i="";if(!t&&e.b)i=e.b;else if(1===t&&e.e)i=e.e;else{for(;n;)i=n.p+(n.m?n.m(n.s+n.c*t):Math.round(1e4*(n.s+n.c*t))/1e4)+i,n=n._next;i+=e.c}e.set(e.t,e.p,i,e)},$e=function(t,e){for(var n=e._pt;n;)n.r(t,n.d),n=n._next},Ye=function(t,e,n,i){for(var r,a=this._pt;a;)r=a._next,a.p===i&&a.modifier(t,e,n),a=r},Xe=function(t){for(var e,n,i=this._pt;i;)n=i._next,i.p===t&&!i.op||i.op===t?vt(this,i,"_pt"):i.dep||(e=1),i=n;return!e},qe=function(t,e,n,i){i.mSet(t,e,i.m.call(i.tween,n,i.mt),i)},Ze=function(t){for(var e,n,i,r,a=t._pt;a;){for(e=a._next,n=i;n&&n.pr>a.pr;)n=n._next;(a._prev=n?n._prev:r)?a._prev._next=a:i=a,(a._next=n)?n._prev=a:r=a,a=e}t._pt=i},Je=function(){function t(t,e,n,i,r,a,o,s,l){this.t=e,this.s=i,this.c=r,this.p=n,this.r=a||Ue,this.d=o||this,this.set=s||Be,this.pr=l||0,this._next=t,t&&(t._prev=this)}return t.prototype.modifier=function(t,e,n){this.mSet=this.mSet||this.set,this.set=qe,this.m=t,this.mt=n,this.tween=e},t}();et(J+",parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert",function(t){j[t]=1,"on"===t.substr(0,2)&&(j[t+"Params"]=1)}),z.TweenMax=z.TweenLite=ze,z.TimelineLite=z.TimelineMax=Ae,a=new Ae({sortChildren:!1,defaults:f,autoRemoveChildren:!0,id:"root"}),p.stringFilter=ue;var Ke={registerPlugin:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e.forEach(function(t){return ie(t)})},timeline:function(t){return new Ae(t)},getTweensOf:function(t,e){return a.getTweensOf(t,e)},getProperty:function(t,e,n,i){w(t)&&(t=Vt(t)[0]);var r=Q(t||{}).get,a=n?lt:st;return"native"===n&&(n=""),t?e?a((Y[e]&&Y[e].get||r)(t,e,n,i)):function(e,n,i){return a((Y[e]&&Y[e].get||r)(t,e,n,i))}:t},quickSetter:function(t,e,n){if(t=Vt(t),t.length>1){var i=t.map(function(t){return nn.quickSetter(t,e,n)}),r=i.length;return function(t){for(var e=r;e--;)i[e](t)}}t=t[0]||{};var a=Y[e],o=Q(t),s=a?function(e){var i=new a;h._pt=0,i.init(t,n?e+n:e,h,0,[t]),i.render(1,i),h._pt&&$e(1,h)}:o.set(t,e);return a?s:function(i){return s(t,e,n?i+n:i,o,1)}},isTweening:function(t){return a.getTweensOf(t,!0).length>0},defaults:function(t){return t&&t.ease&&(t.ease=xe(t.ease,f.ease)),dt(f,t||{})},config:function(t){return dt(p,t||{})},registerEffect:function(t){var e=t.name,n=t.effect,i=t.plugins,r=t.defaults,a=t.extendTimeline;(i||"").split(",").forEach(function(t){return t&&!Y[t]&&!z[t]&&G(e+" effect requires "+t+" plugin.")}),X[e]=function(t,e){return n(Vt(t),ct(e||{},r))},a&&(Ae.prototype[e]=function(t,n,i){return this.add(X[e](t,A(n)?n:(i=n)&&{}),i)})},registerEase:function(t,e){pe[t]=xe(e)},parseEase:function(t,e){return arguments.length?xe(t,e):pe},getById:function(t){return a.getById(t)},exportRoot:function(t,e){void 0===t&&(t={});var n,i,r=new Ae(t);for(r.smoothChildTiming=C(t.smoothChildTiming),a.remove(r),r._dp=0,r._time=r._tTime=a._time,n=a._first;n;)i=n._next,!e&&!n._dur&&n instanceof ze&&n.vars.onComplete===n._targets[0]||Tt(r,n,n._start-n._delay),n=i;return Tt(a,r,0),r},utils:{wrap:qt,wrapYoyo:Zt,distribute:Gt,random:jt,snap:Ut,normalize:Yt,getUnit:Ot,clamp:kt,splitColor:oe,toArray:Vt,mapRange:Kt,pipe:Wt,unitize:$t,interpolate:Qt,shuffle:Ft},install:V,effects:X,ticker:he,updateRoot:Ae.updateRoot,plugins:Y,globalTimeline:a,core:{PropTween:Je,globals:H,Tween:ze,Timeline:Ae,Animation:Te,getCache:Q}};et("to,from,fromTo,delayedCall,set,killTweensOf",function(t){return Ke[t]=ze[t]}),he.add(Ae.updateRoot),h=Ke.to({},{duration:0});var Qe=function(t,e){for(var n=t._pt;n&&n.p!==e&&n.op!==e&&n.fp!==e;)n=n._next;return n},tn=function(t,e){var n,i,r,a=t._targets;for(n in e)for(i=a.length;i--;)(r=t._ptLookup[i][n])&&(r=r.d)&&(r._pt&&(r=Qe(r,n)),r&&r.modifier&&r.modifier(e[n],t,a[i],n))},en=function(t,e){return{name:t,rawVars:1,init:function(t,n,i){i._onInit=function(t){var i,r;if(w(n)&&(i={},et(n,function(t){return i[t]=1}),n=i),e){i={};for(r in n)i[r]=e(n[r]);n=i}tn(t,n)}}}},nn=Ke.registerPlugin({name:"attr",init:function(t,e,n,i,r){for(var a in e)this.add(t,"setAttribute",(t.getAttribute(a)||0)+"",e[a],i,r,0,0,a),this._props.push(a)}},{name:"endArray",init:function(t,e){for(var n=e.length;n--;)this.add(t,n,t[n]||0,e[n])}},en("roundProps",Ht),en("modifiers"),en("snap",Ut))||Ke;ze.version=Ae.version=nn.version="3.1.1",c=1,L()&&de();pe.Power0,pe.Power1,pe.Power2,pe.Power3,pe.Power4,pe.Linear,pe.Quad,pe.Cubic,pe.Quart,pe.Quint,pe.Strong,pe.Elastic,pe.Back,pe.SteppedEase,pe.Bounce,pe.Sine,pe.Expo,pe.Circ},function(t,e,n){"use strict";function i(t){l.a.get("src/assets/fcadata.txt").then(function(e){c=e.data,t(c)})}function r(){return c}function a(t,e){for(var n=e?JSON.parse(JSON.stringify(e)):JSON.parse(JSON.stringify(c)),i=0;i<t.length;i++)n=n[t[i]];return n}function o(t,e){isNaN(t)||e.push(t);for(var n in t)isNaN(t[n])?o(t[n],e):e.push(t[n]);return e}var s=n(272),l=n.n(s),c={},u={loadData:i,getData:r,slice:a,objectValues:o};e.a=u},function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];return t.apply(e,n)}}},function(t,e,n){"use strict";function i(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var r=n(16);t.exports=function(t,e,n){if(!e)return t;var a;if(n)a=n(e);else if(r.isURLSearchParams(e))a=e.toString();else{var o=[];r.forEach(e,function(t,e){null!==t&&void 0!==t&&(r.isArray(t)?e+="[]":t=[t],r.forEach(t,function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),o.push(i(e)+"="+i(t))}))}),a=o.join("&")}if(a){var s=t.indexOf("#");-1!==s&&(t=t.slice(0,s)),t+=(-1===t.indexOf("?")?"?":"&")+a}return t}},function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,n){"use strict";(function(e){function i(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var r=n(16),a=n(278),o={"Content-Type":"application/x-www-form-urlencoded"},s={adapter:function(){var t;return"undefined"!=typeof XMLHttpRequest?t=n(147):void 0!==e&&"[object process]"===Object.prototype.toString.call(e)&&(t=n(147)),t}(),transformRequest:[function(t,e){return a(e,"Accept"),a(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(i(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):r.isObject(t)?(i(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}};s.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],function(t){s.headers[t]={}}),r.forEach(["post","put","patch"],function(t){s.headers[t]=r.merge(o)}),t.exports=s}).call(e,n(129))},function(t,e,n){"use strict";var i=n(16),r=n(279),a=n(144),o=n(281),s=n(284),l=n(285),c=n(148);t.exports=function(t){return new Promise(function(e,u){var h=t.data,d=t.headers;i.isFormData(h)&&delete d["Content-Type"];var p=new XMLHttpRequest;if(t.auth){var f=t.auth.username||"",g=t.auth.password||"";d.Authorization="Basic "+btoa(f+":"+g)}var m=o(t.baseURL,t.url);if(p.open(t.method.toUpperCase(),a(m,t.params,t.paramsSerializer),!0),p.timeout=t.timeout,p.onreadystatechange=function(){if(p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in p?s(p.getAllResponseHeaders()):null,i=t.responseType&&"text"!==t.responseType?p.response:p.responseText,a={data:i,status:p.status,statusText:p.statusText,headers:n,config:t,request:p};r(e,u,a),p=null}},p.onabort=function(){p&&(u(c("Request aborted",t,"ECONNABORTED",p)),p=null)},p.onerror=function(){u(c("Network Error",t,null,p)),p=null},p.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),u(c(e,t,"ECONNABORTED",p)),p=null},i.isStandardBrowserEnv()){var v=n(286),y=(t.withCredentials||l(m))&&t.xsrfCookieName?v.read(t.xsrfCookieName):void 0;y&&(d[t.xsrfHeaderName]=y)}if("setRequestHeader"in p&&i.forEach(d,function(t,e){void 0===h&&"content-type"===e.toLowerCase()?delete d[e]:p.setRequestHeader(e,t)}),i.isUndefined(t.withCredentials)||(p.withCredentials=!!t.withCredentials),t.responseType)try{p.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&p.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(t){p&&(p.abort(),u(t),p=null)}),void 0===h&&(h=null),p.send(h)})}},function(t,e,n){"use strict";var i=n(280);t.exports=function(t,e,n,r,a){var o=new Error(t);return i(o,e,n,r,a)}},function(t,e,n){"use strict";var i=n(16);t.exports=function(t,e){e=e||{};var n={},r=["url","method","params","data"],a=["headers","auth","proxy"],o=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];i.forEach(r,function(t){void 0!==e[t]&&(n[t]=e[t])}),i.forEach(a,function(r){i.isObject(e[r])?n[r]=i.deepMerge(t[r],e[r]):void 0!==e[r]?n[r]=e[r]:i.isObject(t[r])?n[r]=i.deepMerge(t[r]):void 0!==t[r]&&(n[r]=t[r])}),i.forEach(o,function(i){void 0!==e[i]?n[i]=e[i]:void 0!==t[i]&&(n[i]=t[i])});var s=r.concat(a).concat(o),l=Object.keys(e).filter(function(t){return-1===s.indexOf(t)});return i.forEach(l,function(i){void 0!==e[i]?n[i]=e[i]:void 0!==t[i]&&(n[i]=t[i])}),n}},function(t,e,n){"use strict";function i(t){this.message=t}i.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},i.prototype.__CANCEL__=!0,t.exports=i},function(t,e,n){"use strict";var i=n(142);e.a={props:["stats","t1","index","startteir","enabled"],data:function(){return{statistics:this.stats,teirs:[],tier1Val:this.t1,tier2Val:this.startteir?this.startteir:"ALL",tier3Val:"ALL",tier4Val:"ALL",teirVals:[],allProxy:"allfiltersselcted"}},methods:{renderFilterLabel:function(){var t=this,e="No Selection";return"ALL"!==t.$data.tier2Val&&(e=t.$data.tier2Val),"ALL"!==t.$data.tier3Val&&(e+=" > "+t.$data.tier3Val),"ALL"!==t.$data.tier4Val?e+=": "+t.$data.tier4Val:"ALL"!==t.$data.tier3Val&&(e+=": *"),e},onRadioChange:function(t){var e=this;switch(t){case 2:e.$data.tier3Val="ALL",e.$data.tier4Val="ALL";break;case 3:e.$data.tier4Val="ALL"}e.onCinfirm()},onCinfirm:function(){var t=this,e=[];"ALL"!==t.$data.tier2Val&&e.push(t.$data.tier2Val),"ALL"!==t.$data.tier3Val&&e.push(t.$data.tier3Val),"ALL"!==t.$data.tier4Val&&e.push(t.$data.tier4Val),t.$emit("confirm",{keys:e,index:t.index})},getTeirData:function(t){for(var e=this,n=JSON.parse(JSON.stringify(e.$data.statistics)),i=n[e.$data.teirs[0]],r=1;r<t+1;r++)i=i[e.$data.teirs[r]];return console.log(i),i},onSelectionChange:function(t){var e=this;Number(t.target.getAttribute("index"))+1<e.$data.teirs.length&&e.regress(Number(t.target.getAttribute("index")));var n=i.a.slice(e.$data.teirs,e.$data.statistics);if(isNaN(n)){var r=[];e.$data.teirVals=[];for(var a=1;a<e.$data.teirs.length;a++)r.push(e.$data.teirs[a]);for(var o=0;o<e.$data.teirs.length;o++)e.$data.teirVals.push(e.getTeirData(o));r.push(t.target.value),e.$data.teirs=r,e.$forceUpdate()}e.processSelection()},processSelection:function(){for(var t=this,e=[],n=1;n<t.$data.teirs.length;n++)e.push(t.$data.teirs[n])},regress:function(t){for(var e=this,n=[e.$data.teirs[0]],i=0;i<t;i++)n.push(e.$data.teirs[i]);e.$data.teirs=n}},mounted:function(){var t=this,e=0;for(var n in t.$data.statistics)0===e&&t.$data.teirs.push(n),e++;for(var i=0;i<t.$data.teirs.length;i++)t.$data.teirVals.push(t.getTeirData(i));t.startteir&&t.onRadioChange(2)}}},function(t,e,n){"use strict";var i=n(153);e.a={extends:i.a,methods:{buildChart:function(t){var e=this;if(void 0!==document.getElementById(e.$data.chartid)){var n=[],i=[],r=[];for(var a in e.chartdata)r.push(a),i.push(e.chartdata[a]),n.push({name:a,value:e.chartdata[a]});var o={title:{text:e.title,textStyle:{color:e.textcolor},x:"left"},color:e.colors,tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},series:[{name:e.hovertitle,type:"pie",radius:["50%","70%"],selectedMode:"single",clockwise:!0,label:{normal:{textStyle:{fontSize:12,color:e.textcolor}}},labelLine:{normal:{lineStyle:{color:e.textcolor}}},data:n}]};t.setOption(o)}}}}},function(t,e,n){"use strict";var i=n(295),r=n.n(i);e.a={data:function(){return{chartid:"CHART_"+Math.random().toString().split(".").join("")+Math.random().toString().split(".").join("")+Math.random().toString().split(".").join(""),chartObject:void 0}},props:["chartdata","colors","textcolor","title","hovertitle"],methods:{buildChart:function(t){}},mounted:function(){var t=this;t.$data.chartObject=r.a.init(document.getElementById(t.$data.chartid)),setTimeout(function(){t.buildChart(t.$data.chartObject)},1e3)}}},function(t,e){function n(){return i++}var i=2311;t.exports=n},function(t,e,n){var i=n(154),r=n(38),a=n(93),o=n(301),s=n(0),l=function(t){a.call(this,t),r.call(this,t),o.call(this,t),this.id=t.id||i()};l.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,isGroup:!1,drift:function(t,e){switch(this.draggable){case"horizontal":e=0;break;case"vertical":t=0}var n=this.transform;n||(n=this.transform=[1,0,0,1,0,0]),n[4]+=t,n[5]+=e,this.decomposeTransform(),this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(t,e){},attrKV:function(t,e){if("position"===t||"scale"===t||"origin"===t){if(e){var n=this[t];n||(n=this[t]=[]),n[0]=e[0],n[1]=e[1]}}else this[t]=e},hide:function(){this.ignore=!0,this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1,this.__zr&&this.__zr.refresh()},attr:function(t,e){if("string"==typeof t)this.attrKV(t,e);else if(s.isObject(t))for(var n in t)t.hasOwnProperty(n)&&this.attrKV(n,t[n]);return this.dirty(!1),this},setClipPath:function(t){var e=this.__zr;e&&t.addSelfToZr(e),this.clipPath&&this.clipPath!==t&&this.removeClipPath(),this.clipPath=t,t.__zr=e,t.__clipTarget=this,this.dirty(!1)},removeClipPath:function(){var t=this.clipPath;t&&(t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__clipTarget=null,this.clipPath=null,this.dirty(!1))},addSelfToZr:function(t){this.__zr=t;var e=this.animators;if(e)for(var n=0;n<e.length;n++)t.animation.addAnimator(e[n]);this.clipPath&&this.clipPath.addSelfToZr(t)},removeSelfFromZr:function(t){this.__zr=null;var e=this.animators;if(e)for(var n=0;n<e.length;n++)t.animation.removeAnimator(e[n]);this.clipPath&&this.clipPath.removeSelfFromZr(t)}},s.mixin(l,o),s.mixin(l,a),s.mixin(l,r);var c=l;t.exports=c},function(t,e,n){function i(t,e){return t[e]}function r(t,e,n){t[e]=n}function a(t,e,n){return(e-t)*n+t}function o(t,e,n){return n>.5?e:t}function s(t,e,n,i,r){var o=t.length;if(1===r)for(var s=0;s<o;s++)i[s]=a(t[s],e[s],n);else for(var l=o&&t[0].length,s=0;s<o;s++)for(var c=0;c<l;c++)i[s][c]=a(t[s][c],e[s][c],n)}function l(t,e,n){var i=t.length,r=e.length;if(i!==r){if(i>r)t.length=r;else for(var a=i;a<r;a++)t.push(1===n?e[a]:_.call(e[a]))}for(var o=t[0]&&t[0].length,a=0;a<t.length;a++)if(1===n)isNaN(t[a])&&(t[a]=e[a]);else for(var s=0;s<o;s++)isNaN(t[a][s])&&(t[a][s]=e[a][s])}function c(t,e,n){if(t===e)return!0;var i=t.length;if(i!==e.length)return!1;if(1===n){for(var r=0;r<i;r++)if(t[r]!==e[r])return!1}else for(var a=t[0].length,r=0;r<i;r++)for(var o=0;o<a;o++)if(t[r][o]!==e[r][o])return!1;return!0}function u(t,e,n,i,r,a,o,s,l){var c=t.length;if(1===l)for(var u=0;u<c;u++)s[u]=h(t[u],e[u],n[u],i[u],r,a,o);else for(var d=t[0].length,u=0;u<c;u++)for(var p=0;p<d;p++)s[u][p]=h(t[u][p],e[u][p],n[u][p],i[u][p],r,a,o)}function h(t,e,n,i,r,a,o){var s=.5*(n-t),l=.5*(i-e);return(2*(e-n)+s+l)*o+(-3*(e-n)-2*s-l)*a+s*r+e}function d(t){if(x(t)){var e=t.length;if(x(t[0])){for(var n=[],i=0;i<e;i++)n.push(_.call(t[i]));return n}return _.call(t)}return t}function p(t){return t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.floor(t[2]),"rgba("+t.join(",")+")"}function f(t){var e=t[t.length-1].value;return x(e&&e[0])?2:1}function g(t,e,n,i,r,d){var g=t._getter,y=t._setter,_="spline"===e,b=i.length;if(b){var w,M=i[0].value,S=x(M),T=!1,A=!1,C=S?f(i):0;i.sort(function(t,e){return t.time-e.time}),w=i[b-1].time;for(var L=[],E=[],I=i[0].value,P=!0,D=0;D<b;D++){L.push(i[D].time/w);var R=i[D].value;if(S&&c(R,I,C)||!S&&R===I||(P=!1),I=R,"string"==typeof R){var O=v.parse(R);O?(R=O,T=!0):A=!0}E.push(R)}if(d||!P){for(var k=E[b-1],D=0;D<b-1;D++)S?l(E[D],k,C):!isNaN(E[D])||isNaN(k)||A||T||(E[D]=k);S&&l(g(t._target,r),k,C);var N,z,B,V,F,G,H=0,U=0;if(T)var j=[0,0,0,0];var W=function(t,e){var n;if(e<0)n=0;else if(e<U){for(N=Math.min(H+1,b-1),n=N;n>=0&&!(L[n]<=e);n--);n=Math.min(n,b-2)}else{for(n=H;n<b&&!(L[n]>e);n++);n=Math.min(n-1,b-2)}H=n,U=e;var i=L[n+1]-L[n];if(0!==i)if(z=(e-L[n])/i,_)if(V=E[n],B=E[0===n?n:n-1],F=E[n>b-2?b-1:n+1],G=E[n>b-3?b-1:n+2],S)u(B,V,F,G,z,z*z,z*z*z,g(t,r),C);else{var l;if(T)l=u(B,V,F,G,z,z*z,z*z*z,j,1),l=p(j);else{if(A)return o(V,F,z);l=h(B,V,F,G,z,z*z,z*z*z)}y(t,r,l)}else if(S)s(E[n],E[n+1],z,g(t,r),C);else{var l;if(T)s(E[n],E[n+1],z,j,1),l=p(j);else{if(A)return o(E[n],E[n+1],z);l=a(E[n],E[n+1],z)}y(t,r,l)}},$=new m({target:t._target,life:w,loop:t._loop,delay:t._delay,onframe:W,ondestroy:n});return e&&"spline"!==e&&($.easing=e),$}}}var m=n(302),v=n(24),y=n(0),x=y.isArrayLike,_=Array.prototype.slice,b=function(t,e,n,a){this._tracks={},this._target=t,this._loop=e||!1,this._getter=n||i,this._setter=a||r,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};b.prototype={when:function(t,e){var n=this._tracks;for(var i in e)if(e.hasOwnProperty(i)){if(!n[i]){n[i]=[];var r=this._getter(this._target,i);if(null==r)continue;0!==t&&n[i].push({time:0,value:d(r)})}n[i].push({time:t,value:e[i]})}return this},during:function(t){return this._onframeList.push(t),this},pause:function(){for(var t=0;t<this._clipList.length;t++)this._clipList[t].pause();this._paused=!0},resume:function(){for(var t=0;t<this._clipList.length;t++)this._clipList[t].resume();this._paused=!1},isPaused:function(){return!!this._paused},_doneCallback:function(){this._tracks={},this._clipList.length=0;for(var t=this._doneList,e=t.length,n=0;n<e;n++)t[n].call(this)},start:function(t,e){var n,i=this,r=0,a=function(){--r||i._doneCallback()};for(var o in this._tracks)if(this._tracks.hasOwnProperty(o)){var s=g(this,t,a,this._tracks[o],o,e);s&&(this._clipList.push(s),r++,this.animation&&this.animation.addClip(s),n=s)}if(n){var l=n.onframe;n.onframe=function(t,e){l(t,e);for(var n=0;n<i._onframeList.length;n++)i._onframeList[n](t,e)}}return r||this._doneCallback(),this},stop:function(t){for(var e=this._clipList,n=this.animation,i=0;i<e.length;i++){var r=e[i];t&&r.onframe(this._target,1),n&&n.removeClip(r)}e.length=0},delay:function(t){return this._delay=t,this},done:function(t){return t&&this._doneList.push(t),this},getClips:function(){return this._clipList}};var w=b;t.exports=w},function(t,e){var n=function(){this.head=null,this.tail=null,this._len=0},i=n.prototype;i.insert=function(t){var e=new r(t);return this.insertEntry(e),e},i.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},i.remove=function(t){var e=t.prev,n=t.next;e?e.next=n:this.head=n,n?n.prev=e:this.tail=e,t.next=t.prev=null,this._len--},i.len=function(){return this._len},i.clear=function(){this.head=this.tail=null,this._len=0};var r=function(t){this.value=t,this.next,this.prev},a=function(t){this._list=new n,this._map={},this._maxSize=t||10,this._lastRemovedEntry=null},o=a.prototype;o.put=function(t,e){var n=this._list,i=this._map,a=null;if(null==i[t]){var o=n.len(),s=this._lastRemovedEntry;if(o>=this._maxSize&&o>0){var l=n.head;n.remove(l),delete i[l.key],a=l.value,this._lastRemovedEntry=l}s?s.value=e:s=new r(e),s.key=t,n.insertEntry(s),i[t]=s}return a},o.get=function(t){var e=this._map[t],n=this._list;if(null!=e)return e!==n.tail&&(n.remove(e),n.insertEntry(e)),e.value},o.clear=function(){this._list.clear(),this._map={}};var s=a;t.exports=s},function(t,e){function n(t,e,n){return i.hasOwnProperty(e)?n*=t.dpr:n}var i={shadowBlur:1,shadowOffsetX:1,shadowOffsetY:1,textShadowBlur:1,textShadowOffsetX:1,textShadowOffsetY:1,textBoxShadowBlur:1,textBoxShadowOffsetX:1,textBoxShadowOffsetY:1};t.exports=n},function(t,e){var n=function(t,e){this.image=t,this.repeat=e,this.type="pattern"};n.prototype.getCanvasPattern=function(t){return t.createPattern(this.image,this.repeat||"repeat")};var i=n;t.exports=i},function(t,e){var n="undefined"!=typeof window&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){setTimeout(t,16)};t.exports=n},function(t,e,n){var i=n(77),r=n(8),a=n(76),o=a.WILL_BE_RESTORED,s=new r,l=function(){};l.prototype={constructor:l,drawRectText:function(t,e){var n=this.style;e=n.textRect||e,this.__dirty&&i.normalizeTextStyle(n,!0);var r=n.text;if(null!=r&&(r+=""),i.needDrawText(r,n)){t.save();var a=this.transform;n.transformText?this.setTransform(t):a&&(s.copy(e),s.applyTransform(a),e=s),i.renderText(this,t,r,n,e,o),t.restore()}}};var c=l;t.exports=c},function(t,e){function n(t,e){var n,i,r,a,o=e.x,s=e.y,l=e.width,c=e.height,u=e.r;l<0&&(o+=l,l=-l),c<0&&(s+=c,c=-c),"number"==typeof u?n=i=r=a=u:u instanceof Array?1===u.length?n=i=r=a=u[0]:2===u.length?(n=r=u[0],i=a=u[1]):3===u.length?(n=u[0],i=a=u[1],r=u[2]):(n=u[0],i=u[1],r=u[2],a=u[3]):n=i=r=a=0;var h;n+i>l&&(h=n+i,n*=l/h,i*=l/h),r+a>l&&(h=r+a,r*=l/h,a*=l/h),i+r>c&&(h=i+r,i*=c/h,r*=c/h),n+a>c&&(h=n+a,n*=c/h,a*=c/h),t.moveTo(o+n,s),t.lineTo(o+l-i,s),0!==i&&t.arc(o+l-i,s+i,i,-Math.PI/2,0),t.lineTo(o+l,s+c-r),0!==r&&t.arc(o+l-r,s+c-r,r,0,Math.PI/2),t.lineTo(o+a,s+c),0!==a&&t.arc(o+a,s+c-a,a,Math.PI/2,Math.PI),t.lineTo(o,s+n),0!==n&&t.arc(o+n,s+n,n,Math.PI,1.5*Math.PI)}e.buildPath=n},function(t,e,n){function i(t,e){if(e){var n=e.seiresIndex,i=e.seriesId,r=e.seriesName;return null!=n&&t.componentIndex!==n||null!=i&&t.id!==i||null!=r&&t.name!==r}}function r(t,e){var n=t.color&&!t.colorLayer;d(e,function(e,i){"colorLayer"===i&&n||C.hasClass(i)||("object"==typeof e?t[i]=t[i]?w(t[i],e,!1):b(e):null==t[i]&&(t[i]=e))})}function a(t){t=t,this.option={},this.option[D]=1,this._componentsMap=x({series:[]}),this._seriesIndices,this._seriesIndicesMap,r(t,this._theme.option),w(t,L,!1),this.mergeOption(t)}function o(t,e){g(e)||(e=e?[e]:[]);var n={};return d(e,function(e){n[e]=(t.get(e)||[]).slice()}),n}function s(t,e,n){return e.type?e.type:n?n.subType:C.determineSubType(t,e)}function l(t,e){t._seriesIndicesMap=x(t._seriesIndices=f(e,function(t){return t.componentIndex})||[])}function c(t,e){return e.hasOwnProperty("subType")?p(t,function(t){return t.subType===e.subType}):t}var u=n(5),h=(u.__DEV__,n(0)),d=h.each,p=h.filter,f=h.map,g=h.isArray,m=h.indexOf,v=h.isObject,y=h.isString,x=h.createHashMap,_=h.assert,b=h.clone,w=h.merge,M=h.extend,S=h.mixin,T=n(4),A=n(12),C=n(13),L=n(325),E=n(175),I=n(30),P=I.resetSourceDefaulter,D="\0_ec_inner",R=A.extend({init:function(t,e,n,i){n=n||{},this.option=null,this._theme=new A(n),this._optionManager=i},setOption:function(t,e){_(!(D in t),"please use chart.getOption()"),this._optionManager.setOption(t,e),this.resetOption(null)},resetOption:function(t){var e=!1,n=this._optionManager;if(!t||"recreate"===t){var i=n.mountOption("recreate"===t);this.option&&"recreate"!==t?(this.restoreData(),this.mergeOption(i)):a.call(this,i),e=!0}if("timeline"!==t&&"media"!==t||this.restoreData(),!t||"recreate"===t||"timeline"===t){var r=n.getTimelineOption(this);r&&(this.mergeOption(r),e=!0)}if(!t||"recreate"===t||"media"===t){var o=n.getMediaOption(this,this._api);o.length&&d(o,function(t){this.mergeOption(t,e=!0)},this)}return e},mergeOption:function(t){function e(e,r){var a=T.normalizeToArray(t[e]),c=T.mappingToExists(i.get(e),a);T.makeIdAndName(c),d(c,function(t,n){var i=t.option;v(i)&&(t.keyInfo.mainType=e,t.keyInfo.subType=s(e,i,t.exist))});var u=o(i,r);n[e]=[],i.set(e,[]),d(c,function(t,r){var a=t.exist,o=t.option;if(_(v(o)||a,"Empty component definition"),o){var s=C.getClass(e,t.keyInfo.subType,!0);if(a&&a.constructor===s)a.name=t.keyInfo.name,a.mergeOption(o,this),a.optionUpdated(o,!1);else{var l=M({dependentModels:u,componentIndex:r},t.keyInfo);a=new s(o,this,this,l),M(a,l),a.init(o,this,this,l),a.optionUpdated(null,!0)}}else a.mergeOption({},this),a.optionUpdated({},!1);i.get(e)[r]=a,n[e][r]=a.option},this),"series"===e&&l(this,i.get("series"))}var n=this.option,i=this._componentsMap,r=[];P(this),d(t,function(t,e){null!=t&&(C.hasClass(e)?e&&r.push(e):n[e]=null==n[e]?b(t):w(n[e],t,!0))}),C.topologicalTravel(r,C.getAllClassMainTypes(),e,this),this._seriesIndicesMap=x(this._seriesIndices=this._seriesIndices||[])},getOption:function(){var t=b(this.option);return d(t,function(e,n){if(C.hasClass(n)){for(var e=T.normalizeToArray(e),i=e.length-1;i>=0;i--)T.isIdInner(e[i])&&e.splice(i,1);t[n]=e}}),delete t[D],t},getTheme:function(){return this._theme},getComponent:function(t,e){var n=this._componentsMap.get(t);if(n)return n[e||0]},queryComponents:function(t){var e=t.mainType;if(!e)return[];var n=t.index,i=t.id,r=t.name,a=this._componentsMap.get(e);if(!a||!a.length)return[];var o;if(null!=n)g(n)||(n=[n]),o=p(f(n,function(t){return a[t]}),function(t){return!!t});else if(null!=i){var s=g(i);o=p(a,function(t){return s&&m(i,t.id)>=0||!s&&t.id===i})}else if(null!=r){var l=g(r);o=p(a,function(t){return l&&m(r,t.name)>=0||!l&&t.name===r})}else o=a.slice();return c(o,t)},findComponents:function(t){var e=t.query,n=t.mainType,i=function(t){var e=n+"Index",i=n+"Id",r=n+"Name";return!t||null==t[e]&&null==t[i]&&null==t[r]?null:{mainType:n,index:t[e],id:t[i],name:t[r]}}(e),r=i?this.queryComponents(i):this._componentsMap.get(n);return function(e){return t.filter?p(e,t.filter):e}(c(r,t))},eachComponent:function(t,e,n){var i=this._componentsMap;if("function"==typeof t)n=e,e=t,i.each(function(t,i){d(t,function(t,r){e.call(n,i,t,r)})});else if(y(t))d(i.get(t),e,n);else if(v(t)){var r=this.findComponents(t);d(r,e,n)}},getSeriesByName:function(t){var e=this._componentsMap.get("series");return p(e,function(e){return e.name===t})},getSeriesByIndex:function(t){return this._componentsMap.get("series")[t]},getSeriesByType:function(t){var e=this._componentsMap.get("series");return p(e,function(e){return e.subType===t})},getSeries:function(){return this._componentsMap.get("series").slice()},getSeriesCount:function(){return this._componentsMap.get("series").length},eachSeries:function(t,e){d(this._seriesIndices,function(n){var i=this._componentsMap.get("series")[n];t.call(e,i,n)},this)},eachRawSeries:function(t,e){d(this._componentsMap.get("series"),t,e)},eachSeriesByType:function(t,e,n){d(this._seriesIndices,function(i){var r=this._componentsMap.get("series")[i];r.subType===t&&e.call(n,r,i)},this)},eachRawSeriesByType:function(t,e,n){return d(this.getSeriesByType(t),e,n)},isSeriesFiltered:function(t){return null==this._seriesIndicesMap.get(t.componentIndex)},getCurrentSeriesIndices:function(){return(this._seriesIndices||[]).slice()},filterSeries:function(t,e){l(this,p(this._componentsMap.get("series"),t,e))},restoreData:function(t){var e=this._componentsMap;l(this,e.get("series"));var n=[];e.each(function(t,e){n.push(e)}),C.topologicalTravel(n,C.getAllClassMainTypes(),function(n,r){d(e.get(n),function(e){("series"!==n||!i(e,t))&&e.restoreData()})})}});S(R,E);var O=R;t.exports=O},function(t,e,n){function i(t,e,n,i,r,a,o,s,l,c,u){var h=l*(g/180),m=f(h)*(t-n)/2+p(h)*(e-i)/2,x=-1*p(h)*(t-n)/2+f(h)*(e-i)/2,_=m*m/(o*o)+x*x/(s*s);_>1&&(o*=d(_),s*=d(_));var b=(r===a?-1:1)*d((o*o*(s*s)-o*o*(x*x)-s*s*(m*m))/(o*o*(x*x)+s*s*(m*m)))||0,w=b*o*x/s,M=b*-s*m/o,S=(t+n)/2+f(h)*w-p(h)*M,T=(e+i)/2+p(h)*w+f(h)*M,A=y([1,0],[(m-w)/o,(x-M)/s]),C=[(m-w)/o,(x-M)/s],L=[(-1*m-w)/o,(-1*x-M)/s],E=y(C,L);v(C,L)<=-1&&(E=g),v(C,L)>=1&&(E=0),0===a&&E>0&&(E-=2*g),1===a&&E<0&&(E+=2*g),u.addData(c,S,T,o,s,A,E,h,a)}function r(t){if(!t)return new u;for(var e,n=0,r=0,a=n,o=r,s=new u,l=u.CMD,c=t.match(x),h=0;h<c.length;h++){for(var d,p=c[h],f=p.charAt(0),g=p.match(_)||[],m=g.length,v=0;v<m;v++)g[v]=parseFloat(g[v]);for(var y=0;y<m;){var b,w,M,S,T,A,C,L=n,E=r;switch(f){case"l":n+=g[y++],r+=g[y++],d=l.L,s.addData(d,n,r);break;case"L":n=g[y++],r=g[y++],d=l.L,s.addData(d,n,r);break;case"m":n+=g[y++],r+=g[y++],d=l.M,s.addData(d,n,r),a=n,o=r,f="l";break;case"M":n=g[y++],r=g[y++],d=l.M,s.addData(d,n,r),a=n,o=r,f="L";break;case"h":n+=g[y++],d=l.L,s.addData(d,n,r);break;case"H":n=g[y++],d=l.L,s.addData(d,n,r);break;case"v":r+=g[y++],d=l.L,s.addData(d,n,r);break;case"V":r=g[y++],d=l.L,s.addData(d,n,r);break;case"C":d=l.C,s.addData(d,g[y++],g[y++],g[y++],g[y++],g[y++],g[y++]),n=g[y-2],r=g[y-1];break;case"c":d=l.C,s.addData(d,g[y++]+n,g[y++]+r,g[y++]+n,g[y++]+r,g[y++]+n,g[y++]+r),n+=g[y-2],r+=g[y-1];break;case"S":b=n,w=r;var I=s.len(),P=s.data;e===l.C&&(b+=n-P[I-4],w+=r-P[I-3]),d=l.C,L=g[y++],E=g[y++],n=g[y++],r=g[y++],s.addData(d,b,w,L,E,n,r);break;case"s":b=n,w=r;var I=s.len(),P=s.data;e===l.C&&(b+=n-P[I-4],w+=r-P[I-3]),d=l.C,L=n+g[y++],E=r+g[y++],n+=g[y++],r+=g[y++],s.addData(d,b,w,L,E,n,r);break;case"Q":L=g[y++],E=g[y++],n=g[y++],r=g[y++],d=l.Q,s.addData(d,L,E,n,r);break;case"q":L=g[y++]+n,E=g[y++]+r,n+=g[y++],r+=g[y++],d=l.Q,s.addData(d,L,E,n,r);break;case"T":b=n,w=r;var I=s.len(),P=s.data;e===l.Q&&(b+=n-P[I-4],w+=r-P[I-3]),n=g[y++],r=g[y++],d=l.Q,s.addData(d,b,w,n,r);break;case"t":b=n,w=r;var I=s.len(),P=s.data;e===l.Q&&(b+=n-P[I-4],w+=r-P[I-3]),n+=g[y++],r+=g[y++],d=l.Q,s.addData(d,b,w,n,r);break;case"A":M=g[y++],S=g[y++],T=g[y++],A=g[y++],C=g[y++],L=n,E=r,n=g[y++],r=g[y++],d=l.A,i(L,E,n,r,A,C,M,S,T,d,s);break;case"a":M=g[y++],S=g[y++],T=g[y++],A=g[y++],C=g[y++],L=n,E=r,n+=g[y++],r+=g[y++],d=l.A,i(L,E,n,r,A,C,M,S,T,d,s)}}"z"!==f&&"Z"!==f||(d=l.Z,s.addData(d),n=a,r=o),e=d}return s.toStatic(),s}function a(t,e){var n=r(t);return e=e||{},e.buildPath=function(t){if(t.setData){t.setData(n.data);var e=t.getContext();e&&t.rebuildPath(e)}else{var e=t;n.rebuildPath(e)}},e.applyTransform=function(t){h(n,t),this.dirty(!0)},e}function o(t,e){return new c(a(t,e))}function s(t,e){return c.extend(a(t,e))}function l(t,e){for(var n=[],i=t.length,r=0;r<i;r++){var a=t[r];a.path||a.createPathProxy(),a.__dirtyPath&&a.buildPath(a.path,a.shape,!0),n.push(a.path)}var o=new c(e);return o.createPathProxy(),o.buildPath=function(t){t.appendPath(n);var e=t.getContext();e&&t.rebuildPath(e)},o}var c=n(10),u=n(49),h=n(314),d=Math.sqrt,p=Math.sin,f=Math.cos,g=Math.PI,m=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},v=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(m(t)*m(e))},y=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(v(t,e))},x=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,_=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;e.createFromString=o,e.extendFromString=s,e.mergePath=l},function(t,e){function n(t,e,n,i,r,a,o){if(0===r)return!1;var s=r,l=0,c=t;if(o>e+s&&o>i+s||o<e-s&&o<i-s||a>t+s&&a>n+s||a<t-s&&a<n-s)return!1;if(t===n)return Math.abs(a-t)<=s/2;l=(e-i)/(t-n),c=(t*i-n*e)/(t-n);var u=l*a-o+c;return u*u/(l*l+1)<=s/2*s/2}e.containStroke=n},function(t,e,n){function i(t,e,n,i,r,o,s,l,c){if(0===s)return!1;var u=s;return!(c>e+u&&c>i+u&&c>o+u||c<e-u&&c<i-u&&c<o-u||l>t+u&&l>n+u&&l>r+u||l<t-u&&l<n-u&&l<r-u)&&a(t,e,n,i,r,o,l,c,null)<=u/2}var r=n(32),a=r.quadraticProjectPoint;e.containStroke=i},function(t,e){function n(t){return t%=i,t<0&&(t+=i),t}var i=2*Math.PI;e.normalizeRadian=n},function(t,e){function n(t,e,n,i,r,a){if(a>e&&a>i||a<e&&a<i)return 0;if(i===e)return 0;var o=i<e?1:-1,s=(a-e)/(i-e);1!==s&&0!==s||(o=i<e?.5:-.5);var l=s*(n-t)+t;return l===r?1/0:l>r?o:0}t.exports=n},function(t,e,n){var i=n(10),r=i.extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(t,e,n){n&&t.moveTo(e.cx+e.r,e.cy),t.arc(e.cx,e.cy,e.r,0,2*Math.PI,!0)}});t.exports=r},function(t,e,n){function i(t){return r.browser.ie&&r.browser.version>=11?function(){var e,n=this.__clipPaths,i=this.style;if(n)for(var r=0;r<n.length;r++){var o=n[r],s=o&&o.shape,l=o&&o.type;if(s&&("sector"===l&&s.startAngle===s.endAngle||"rect"===l&&(!s.width||!s.height))){for(var c=0;c<a.length;c++)a[c][2]=i[a[c][0]],i[a[c][0]]=a[c][1];e=!0;break}}if(t.apply(this,arguments),e)for(var c=0;c<a.length;c++)i[a[c][0]]=a[c][2]}:t}var r=n(11),a=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]];t.exports=i},function(t,e,n){var i=n(10),r=n(172),a=i.extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(t,e){r.buildPath(t,e,!0)}});t.exports=a},function(t,e,n){function i(t,e,n){var i=e.points,o=e.smooth;if(i&&i.length>=2){if(o&&"spline"!==o){var s=a(i,o,n,e.smoothConstraint);t.moveTo(i[0][0],i[0][1]);for(var l=i.length,c=0;c<(n?l:l-1);c++){var u=s[2*c],h=s[2*c+1],d=i[(c+1)%l];t.bezierCurveTo(u[0],u[1],h[0],h[1],d[0],d[1])}}else{"spline"===o&&(i=r(i,n)),t.moveTo(i[0][0],i[0][1]);for(var c=1,p=i.length;c<p;c++)t.lineTo(i[c][0],i[c][1])}n&&t.closePath()}}var r=n(317),a=n(318);e.buildPath=i},function(t,e,n){var i=n(10),r=n(172),a=i.extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(t,e){r.buildPath(t,e,!1)}});t.exports=a},function(t,e,n){var i=n(10),r=n(98),a=r.subPixelOptimizeLine,o={},s=i.extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var n,i,r,s;this.subPixelOptimize?(a(o,e,this.style),n=o.x1,i=o.y1,r=o.x2,s=o.y2):(n=e.x1,i=e.y1,r=e.x2,s=e.y2);var l=e.percent;0!==l&&(t.moveTo(n,i),l<1&&(r=n*(1-l)+r*l,s=i*(1-l)+s*l),t.lineTo(r,s))},pointAt:function(t){var e=this.shape;return[e.x1*(1-t)+e.x2*t,e.y1*(1-t)+e.y2*t]}});t.exports=s},function(t,e,n){function i(t,e){for(var n=t.length,i=0;i<n;i++)if(t[i].length>e)return t[i];return t[n-1]}var r=n(4),a=r.makeInner,o=r.normalizeToArray,s=a(),l={clearColorPalette:function(){s(this).colorIdx=0,s(this).colorNameMap={}},getColorFromPalette:function(t,e,n){e=e||this;var r=s(e),a=r.colorIdx||0,l=r.colorNameMap=r.colorNameMap||{};if(l.hasOwnProperty(t))return l[t];var c=o(this.get("color",!0)),u=this.get("colorLayer",!0),h=null!=n&&u?i(u,n):c;if((h=h||c)&&h.length){var d=h[a];return t&&(l[t]=d),r.colorIdx=(a+1)%h.length,d}}};t.exports=l},function(t,e,n){function i(t){r.each(a,function(e){this[e]=r.bind(t[e],t)},this)}var r=n(0),a=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getModel","getOption","getViewOfComponentModel","getViewOfSeriesModel"],o=i;t.exports=o},function(t,e,n){var i=n(13),r=n(80),a=n(30),o=a.detectSourceFormat,s=n(62),l=s.SERIES_LAYOUT_BY_COLUMN;i.extend({type:"dataset",defaultOption:{seriesLayoutBy:l,sourceHeader:null,dimensions:null,source:null},optionUpdated:function(){o(this)}}),r.extend({type:"dataset"})},function(t,e,n){function i(t){if(I(t)){t=(new DOMParser).parseFromString(t,"text/xml")}for(9===t.nodeType&&(t=t.firstChild);"svg"!==t.nodeName.toLowerCase()||1!==t.nodeType;)t=t.nextSibling;return t}function r(){this._defs={},this._root=null,this._isDefine=!1,this._isText=!1}function a(t,e){for(var n=t.firstChild;n;){if(1===n.nodeType){var i=n.getAttribute("offset");i=i.indexOf("%")>0?parseInt(i,10)/100:i?parseFloat(i):0;var r=n.getAttribute("stop-color")||"#000000";e.addColorStop(i,r)}n=n.nextSibling}}function o(t,e){t&&t.__inheritedStyle&&(e.__inheritedStyle||(e.__inheritedStyle={}),D(e.__inheritedStyle,t.__inheritedStyle))}function s(t){for(var e=R(t).split(k),n=[],i=0;i<e.length;i+=2){var r=parseFloat(e[i]),a=parseFloat(e[i+1]);n.push([r,a])}return n}function l(t,e,n,i){var r=e.__inheritedStyle||{},a="text"===e.type;if(1===t.nodeType&&(u(t,e),P(r,h(t)),!i))for(var o in B)if(B.hasOwnProperty(o)){var s=t.getAttribute(o);null!=s&&(r[B[o]]=s)}var l=a?"textFill":"fill",d=a?"textStroke":"stroke";e.style=e.style||new T;var p=e.style;null!=r.fill&&p.set(l,c(r.fill,n)),null!=r.stroke&&p.set(d,c(r.stroke,n)),O(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(t){var e="lineWidth"===t&&a?"textStrokeWidth":t;null!=r[t]&&p.set(e,parseFloat(r[t]))}),r.textBaseline&&"auto"!==r.textBaseline||(r.textBaseline="alphabetic"),"alphabetic"===r.textBaseline&&(r.textBaseline="bottom"),"start"===r.textAlign&&(r.textAlign="left"),"end"===r.textAlign&&(r.textAlign="right"),O(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign","textBaseline"],function(t){null!=r[t]&&p.set(t,r[t])}),r.lineDash&&(e.style.lineDash=R(r.lineDash).split(k)),p[d]&&"none"!==p[d]&&(e[d]=!0),e.__inheritedStyle=r}function c(t,e){var n=e&&t&&t.match(V);if(n){return e[R(n[1])]}return t}function u(t,e){var n=t.getAttribute("transform");if(n){n=n.replace(/,/g," ");var i=null,r=[];n.replace(F,function(t,e,n){r.push(e,n)});for(var a=r.length-1;a>0;a-=2){var o=r[a],s=r[a-1];switch(i=i||A.create(),s){case"translate":o=R(o).split(k),A.translate(i,i,[parseFloat(o[0]),parseFloat(o[1]||0)]);break;case"scale":o=R(o).split(k),A.scale(i,i,[parseFloat(o[0]),parseFloat(o[1]||o[0])]);break;case"rotate":o=R(o).split(k),A.rotate(i,i,parseFloat(o[0]));break;case"skew":o=R(o).split(k),console.warn("Skew transform is not supported yet");break;case"matrix":var o=R(o).split(k);i[0]=parseFloat(o[0]),i[1]=parseFloat(o[1]),i[2]=parseFloat(o[2]),i[3]=parseFloat(o[3]),i[4]=parseFloat(o[4]),i[5]=parseFloat(o[5])}}e.setLocalTransform(i)}}function h(t){var e=t.getAttribute("style"),n={};if(!e)return n;var i={};G.lastIndex=0;for(var r;null!=(r=G.exec(e));)i[r[1]]=r[2];for(var a in B)B.hasOwnProperty(a)&&null!=i[a]&&(n[B[a]]=i[a]);return n}function d(t,e,n){var i=e/t.width,r=n/t.height,a=Math.min(i,r);return{scale:[a,a],position:[-(t.x+t.width/2)*a+e/2,-(t.y+t.height/2)*a+n/2]}}function p(t,e){return(new r).parse(t,e)}var f=n(46),g=n(47),m=n(39),v=n(169),y=n(97),x=n(336),_=n(174),b=n(10),w=n(171),M=n(173),S=n(99),T=n(95),A=n(15),C=n(164),L=C.createFromString,E=n(0),I=E.isString,P=E.extend,D=E.defaults,R=E.trim,O=E.each,k=/[\s,]+/;r.prototype.parse=function(t,e){e=e||{};var n=i(t);if(!n)throw new Error("Illegal svg");var r=new f;this._root=r;var a=n.getAttribute("viewBox")||"",o=parseFloat(n.getAttribute("width")||e.width),s=parseFloat(n.getAttribute("height")||e.height);isNaN(o)&&(o=null),isNaN(s)&&(s=null),l(n,r,null,!0);for(var c=n.firstChild;c;)this._parseNode(c,r),c=c.nextSibling;var u,h;if(a){var p=R(a).split(k);p.length>=4&&(u={x:parseFloat(p[0]||0),y:parseFloat(p[1]||0),width:parseFloat(p[2]),height:parseFloat(p[3])})}if(u&&null!=o&&null!=s&&(h=d(u,o,s),!e.ignoreViewBox)){var g=r;r=new f,r.add(g),g.scale=h.scale.slice(),g.position=h.position.slice()}return e.ignoreRootClip||null==o||null==s||r.setClipPath(new y({shape:{x:0,y:0,width:o,height:s}})),{root:r,width:o,height:s,viewBoxRect:u,viewBoxTransform:h}},r.prototype._parseNode=function(t,e){var n=t.nodeName.toLowerCase();"defs"===n?this._isDefine=!0:"text"===n&&(this._isText=!0);var i;if(this._isDefine){var r=z[n];if(r){var a=r.call(this,t),o=t.getAttribute("id");o&&(this._defs[o]=a)}}else{var r=N[n];r&&(i=r.call(this,t,e),e.add(i))}for(var s=t.firstChild;s;)1===s.nodeType&&this._parseNode(s,i),3===s.nodeType&&this._isText&&this._parseText(s,i),s=s.nextSibling;"defs"===n?this._isDefine=!1:"text"===n&&(this._isText=!1)},r.prototype._parseText=function(t,e){if(1===t.nodeType){var n=t.getAttribute("dx")||0,i=t.getAttribute("dy")||0;this._textX+=parseFloat(n),this._textY+=parseFloat(i)}var r=new m({style:{text:t.textContent,transformText:!0},position:[this._textX||0,this._textY||0]});o(e,r),l(t,r,this._defs);var a=r.style.fontSize;a&&a<9&&(r.style.fontSize=9,r.scale=r.scale||[1,1],r.scale[0]*=a/9,r.scale[1]*=a/9);var s=r.getBoundingRect();return this._textX+=s.width,e.add(r),r};var N={g:function(t,e){var n=new f;return o(e,n),l(t,n,this._defs),n},rect:function(t,e){var n=new y;return o(e,n),l(t,n,this._defs),n.setShape({x:parseFloat(t.getAttribute("x")||0),y:parseFloat(t.getAttribute("y")||0),width:parseFloat(t.getAttribute("width")||0),height:parseFloat(t.getAttribute("height")||0)}),n},circle:function(t,e){var n=new v;return o(e,n),l(t,n,this._defs),n.setShape({cx:parseFloat(t.getAttribute("cx")||0),cy:parseFloat(t.getAttribute("cy")||0),r:parseFloat(t.getAttribute("r")||0)}),n},line:function(t,e){var n=new _;return o(e,n),l(t,n,this._defs),n.setShape({x1:parseFloat(t.getAttribute("x1")||0),y1:parseFloat(t.getAttribute("y1")||0),x2:parseFloat(t.getAttribute("x2")||0),y2:parseFloat(t.getAttribute("y2")||0)}),n},ellipse:function(t,e){var n=new x;return o(e,n),l(t,n,this._defs),n.setShape({cx:parseFloat(t.getAttribute("cx")||0),cy:parseFloat(t.getAttribute("cy")||0),rx:parseFloat(t.getAttribute("rx")||0),ry:parseFloat(t.getAttribute("ry")||0)}),n},polygon:function(t,e){var n=t.getAttribute("points");n&&(n=s(n));var i=new w({shape:{points:n||[]}});return o(e,i),l(t,i,this._defs),i},polyline:function(t,e){var n=new b;o(e,n),l(t,n,this._defs);var i=t.getAttribute("points");return i&&(i=s(i)),new M({shape:{points:i||[]}})},image:function(t,e){var n=new g;return o(e,n),l(t,n,this._defs),n.setStyle({image:t.getAttribute("xlink:href"),x:t.getAttribute("x"),y:t.getAttribute("y"),width:t.getAttribute("width"),height:t.getAttribute("height")}),n},text:function(t,e){var n=t.getAttribute("x")||0,i=t.getAttribute("y")||0,r=t.getAttribute("dx")||0,a=t.getAttribute("dy")||0;this._textX=parseFloat(n)+parseFloat(r),this._textY=parseFloat(i)+parseFloat(a);var s=new f;return o(e,s),l(t,s,this._defs),s},tspan:function(t,e){var n=t.getAttribute("x"),i=t.getAttribute("y");null!=n&&(this._textX=parseFloat(n)),null!=i&&(this._textY=parseFloat(i));var r=t.getAttribute("dx")||0,a=t.getAttribute("dy")||0,s=new f;return o(e,s),l(t,s,this._defs),this._textX+=r,this._textY+=a,s},path:function(t,e){var n=t.getAttribute("d")||"",i=L(n);return o(e,i),l(t,i,this._defs),i}},z={lineargradient:function(t){var e=parseInt(t.getAttribute("x1")||0,10),n=parseInt(t.getAttribute("y1")||0,10),i=parseInt(t.getAttribute("x2")||10,10),r=parseInt(t.getAttribute("y2")||0,10),o=new S(e,n,i,r);return a(t,o),o},radialgradient:function(t){}},B={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-align":"textAlign","alignment-baseline":"textBaseline"},V=/url\(\s*#(.*?)\)/,F=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.e,]*)\)/g,G=/([^\s:;]+)\s*:\s*([^:;]+)/g;e.parseXML=i,e.makeViewBoxTransform=d,e.parseSVG=p},function(t,e,n){var i=n(74);e.zrender=i;var r=n(15);e.matrix=r;var a=n(7);e.vector=a;var o=n(0),s=n(24);e.color=s;var l=n(2),c=n(3);e.number=c;var u=n(9);e.format=u;var h=n(33);h.throttle;e.throttle=h.throttle;var d=n(337);e.helper=d;var p=n(185);e.parseGeoJSON=p;var f=n(18);e.List=f;var g=n(12);e.Model=g;var m=n(35);e.Axis=m;var v=n(11);e.env=v;var y=p,x={};o.each(["map","each","filter","indexOf","inherits","reduce","filter","bind","curry","isArray","isString","isObject","isFunction","extend","defaults","clone","merge"],function(t){x[t]=o[t]});var _={};o.each(["extendShape","extendPath","makePath","makeImage","mergePath","resizePath","createIcon","setHoverStyle","setLabelStyle","setTextStyle","setText","getFont","updateProps","initProps","getTransform","clipPointsByRect","clipRectByRect","registerShape","getShapeClass","Group","Image","Text","Circle","Sector","Ring","Polygon","Polyline","Rect","Line","BezierCurve","Arc","IncrementalDisplayable","CompoundPath","LinearGradient","RadialGradient","BoundingRect"],function(t){_[t]=l[t]}),e.parseGeoJson=y,e.util=x,e.graphic=_},function(t,e,n){function i(t){null!=t&&r.extend(this,t),this.otherDims={}}var r=n(0),a=i;t.exports=a},function(t,e,n){function i(t,e,n){function i(t,e,n){null!=b.get(e)?t.otherDims[e]=n:(t.coordDim=e,t.coordDimIndex=n,m.set(e,!0))}x.isInstance(e)||(e=x.seriesDataToSource(e)),n=n||{},t=(t||[]).slice();for(var o=(n.dimsDef||[]).slice(),f=s(),m=s(),_=[],M=r(e,t,o,n.dimCount),S=0;S<M;S++){var T=o[S]=h({},d(o[S])?o[S]:{name:o[S]}),A=T.name,C=_[S]=new w;null!=A&&null==f.get(A)&&(C.name=C.displayName=A,f.set(A,S)),null!=T.type&&(C.type=T.type),null!=T.displayName&&(C.displayName=T.displayName)}var L=n.encodeDef;!L&&n.encodeDefaulter&&(L=n.encodeDefaulter(e,M)),L=s(L),L.each(function(t,e){if(t=g(t).slice(),1===t.length&&!c(t[0])&&t[0]<0)return void L.set(e,!1);var n=L.set(e,[]);l(t,function(t,r){c(t)&&(t=f.get(t)),null!=t&&t<M&&(n[r]=t,i(_[t],e,r))})});var E=0;l(t,function(t,e){var n,t,r,a;if(c(t))n=t,t={};else{n=t.name;var o=t.ordinalMeta;t.ordinalMeta=null,t=p(t),t.ordinalMeta=o,r=t.dimsDef,a=t.otherDims,t.name=t.coordDim=t.coordDimIndex=t.dimsDef=t.otherDims=null}var s=L.get(n);if(!1!==s){var s=g(s);if(!s.length)for(var h=0;h<(r&&r.length||1);h++){for(;E<_.length&&null!=_[E].coordDim;)E++;E<_.length&&s.push(E++)}l(s,function(e,o){var s=_[e];if(i(u(s,t),n,o),null==s.name&&r){var l=r[o];!d(l)&&(l={name:l}),s.name=s.displayName=l.name,s.defaultTooltip=l.defaultTooltip}a&&u(s.otherDims,a)})}});var I=n.generateCoord,P=n.generateCoordCount,D=null!=P;P=I?P||1:0;for(var R=I||"value",O=0;O<M;O++){var C=_[O]=_[O]||new w;null==C.coordDim&&(C.coordDim=a(R,m,D),C.coordDimIndex=0,(!I||P<=0)&&(C.isExtraCoord=!0),P--),null==C.name&&(C.name=a(C.coordDim,f)),null!=C.type||v(e,O,C.name)!==y.Must&&(!C.isExtraCoord||null==C.otherDims.itemName&&null==C.otherDims.seriesName)||(C.type="ordinal")}return _}function r(t,e,n,i){var r=Math.max(t.dimensionsDetectCount||1,e.length,n.length,i||0);return l(e,function(t){var e=t.dimsDef;e&&(r=Math.max(r,e.length))}),r}function a(t,e,n){if(n||null!=e.get(t)){for(var i=0;null!=e.get(t+i);)i++;t+=i}return e.set(t,!0),t}var o=n(0),s=o.createHashMap,l=o.each,c=o.isString,u=o.defaults,h=o.extend,d=o.isObject,p=o.clone,f=n(4),g=f.normalizeToArray,m=n(30),v=m.guessOrdinal,y=m.BE_ORDINAL,x=n(61),_=n(63),b=_.OTHER_DIMENSIONS,w=n(180),M=i;t.exports=M},function(t,e,n){function i(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication,this._map}function r(t){return t._map||(t._map=s(t.categories))}function a(t){return l(t)&&null!=t.value?t.value:t+""}var o=n(0),s=o.createHashMap,l=o.isObject,c=o.map;i.createByAxisModel=function(t){var e=t.option,n=e.data,r=n&&c(n,a);return new i({categories:r,needCollect:!r,deduplication:!1!==e.dedplication})};var u=i.prototype;u.getOrdinal=function(t){return r(this).get(t)},u.parseAndCollect=function(t){var e,n=this._needCollect;if("string"!=typeof t&&!n)return t;if(n&&!this._deduplication)return e=this.categories.length,this.categories[e]=t,e;var i=r(this);return e=i.get(t),null==e&&(n?(e=this.categories.length,this.categories[e]=t,i.set(t,e)):e=NaN),e};var h=i;t.exports=h},function(t,e,n){function i(t,e,n,i){var a={},c=t[1]-t[0],u=a.interval=s.nice(c/e,!0);null!=n&&u<n&&(u=a.interval=n),null!=i&&u>i&&(u=a.interval=i);var h=a.intervalPrecision=r(u);return o(a.niceTickExtent=[l(Math.ceil(t[0]/u)*u,h),l(Math.floor(t[1]/u)*u,h)],t),a}function r(t){return s.getPrecisionSafe(t)+2}function a(t,e,n){t[e]=Math.max(Math.min(t[e],n[1]),n[0])}function o(t,e){!isFinite(t[0])&&(t[0]=e[0]),!isFinite(t[1])&&(t[1]=e[1]),a(t,0,e),a(t,1,e),t[0]>t[1]&&(t[0]=t[1])}var s=n(3),l=s.round;e.intervalScaleNiceTicks=i,e.getIntervalPrecision=r,e.fixExtent=o},function(t,e,n){function i(t,e){return h(t,u(e))}var r=n(0),a=n(81),o=n(3),s=n(82),l=a.prototype,c=s.prototype,u=o.getPrecisionSafe,h=o.round,d=Math.floor,p=Math.ceil,f=Math.pow,g=Math.log,m=a.extend({type:"log",base:10,$constructor:function(){a.apply(this,arguments),this._originalScale=new s},getTicks:function(t){var e=this._originalScale,n=this._extent,a=e.getExtent();return r.map(c.getTicks.call(this,t),function(t){var r=o.round(f(this.base,t));return r=t===n[0]&&e.__fixMin?i(r,a[0]):r,r=t===n[1]&&e.__fixMax?i(r,a[1]):r},this)},getMinorTicks:c.getMinorTicks,getLabel:c.getLabel,scale:function(t){return t=l.scale.call(this,t),f(this.base,t)},setExtent:function(t,e){var n=this.base;t=g(t)/g(n),e=g(e)/g(n),c.setExtent.call(this,t,e)},getExtent:function(){var t=this.base,e=l.getExtent.call(this);e[0]=f(t,e[0]),e[1]=f(t,e[1]);var n=this._originalScale,r=n.getExtent();return n.__fixMin&&(e[0]=i(e[0],r[0])),n.__fixMax&&(e[1]=i(e[1],r[1])),e},unionExtent:function(t){this._originalScale.unionExtent(t);var e=this.base;t[0]=g(t[0])/g(e),t[1]=g(t[1])/g(e),l.unionExtent.call(this,t)},unionExtentFromData:function(t,e){this.unionExtent(t.getApproximateExtent(e))},niceTicks:function(t){t=t||10;var e=this._extent,n=e[1]-e[0];if(!(n===1/0||n<=0)){var i=o.quantity(n),r=t/n*i;for(r<=.5&&(i*=10);!isNaN(i)&&Math.abs(i)<1&&Math.abs(i)>0;)i*=10;var a=[o.round(p(e[0]/i)*i),o.round(d(e[1]/i)*i)];this._interval=i,this._niceExtent=a}},niceExtent:function(t){c.niceExtent.call(this,t);var e=this._originalScale;e.__fixMin=t.fixMin,e.__fixMax=t.fixMax}});r.each(["contain","normalize"],function(t){m.prototype[t]=function(e){return e=g(e)/g(this.base),l[t].call(this,e)}}),m.create=function(){return new m};var v=m;t.exports=v},function(t,e,n){function i(t){if(!t.UTF8Encoding)return t;var e=t.UTF8Scale;null==e&&(e=1024);for(var n=t.features,i=0;i<n.length;i++)for(var a=n[i],o=a.geometry,s=o.coordinates,l=o.encodeOffsets,c=0;c<s.length;c++){var u=s[c];if("Polygon"===o.type)s[c]=r(u,l[c],e);else if("MultiPolygon"===o.type)for(var h=0;h<u.length;h++){var d=u[h];u[h]=r(d,l[c][h],e)}}return t.UTF8Encoding=!1,t}function r(t,e,n){for(var i=[],r=e[0],a=e[1],o=0;o<t.length;o+=2){var s=t.charCodeAt(o)-64,l=t.charCodeAt(o+1)-64;s=s>>1^-(1&s),l=l>>1^-(1&l),s+=r,l+=a,r=s,a=l,i.push([s/n,l/n])}return i}function a(t){return i(t),o.map(o.filter(t.features,function(t){return t.geometry&&t.properties&&t.geometry.coordinates.length>0}),function(t){var e=t.properties,n=t.geometry,i=n.coordinates,r=[];"Polygon"===n.type&&r.push({type:"polygon",exterior:i[0],interiors:i.slice(1)}),"MultiPolygon"===n.type&&o.each(i,function(t){t[0]&&r.push({type:"polygon",exterior:t[0],interiors:t.slice(1)})});var a=new s(e.name,r,e.cp);return a.properties=e,a})}var o=n(0),s=n(186);t.exports=a},function(t,e,n){function i(t,e,n){if(this.name=t,this.geometries=e,n)n=[n[0],n[1]];else{var i=this.getBoundingRect();n=[i.x+i.width/2,i.y+i.height/2]}this.center=n}var r=n(8),a=n(78),o=n(7),s=n(187);i.prototype={constructor:i,properties:null,getBoundingRect:function(){var t=this._rect;if(t)return t;for(var e=Number.MAX_VALUE,n=[e,e],i=[-e,-e],s=[],l=[],c=this.geometries,u=0;u<c.length;u++)if("polygon"===c[u].type){var h=c[u].exterior;a.fromPoints(h,s,l),o.min(n,n,s),o.max(i,i,l)}return 0===u&&(n[0]=n[1]=i[0]=i[1]=0),this._rect=new r(n[0],n[1],i[0]-n[0],i[1]-n[1])},contain:function(t){var e=this.getBoundingRect(),n=this.geometries;if(!e.contain(t[0],t[1]))return!1;t:for(var i=0,r=n.length;i<r;i++)if("polygon"===n[i].type){var a=n[i].exterior,o=n[i].interiors;if(s.contain(a,t[0],t[1])){for(var l=0;l<(o?o.length:0);l++)if(s.contain(o[l]))continue t;return!0}}return!1},transformTo:function(t,e,n,i){var a=this.getBoundingRect(),s=a.width/a.height;n?i||(i=n/s):n=s*i;for(var l=new r(t,e,n,i),c=a.calculateTransform(l),u=this.geometries,h=0;h<u.length;h++)if("polygon"===u[h].type){for(var d=u[h].exterior,p=u[h].interiors,f=0;f<d.length;f++)o.applyTransform(d[f],d[f],c);for(var g=0;g<(p?p.length:0);g++)for(var f=0;f<p[g].length;f++)o.applyTransform(p[g][f],p[g][f],c)}a=this._rect,a.copy(l),this.center=[a.x+a.width/2,a.y+a.height/2]},cloneShallow:function(t){null==t&&(t=this.name);var e=new i(t,this.geometries,this.center);return e._rect=this._rect,e.transformTo=null,e}};var l=i;t.exports=l},function(t,e,n){function i(t,e){return Math.abs(t-e)<o}function r(t,e,n){var r=0,o=t[0];if(!o)return!1;for(var s=1;s<t.length;s++){var l=t[s];r+=a(o[0],o[1],l[0],l[1],e,n),o=l}var c=t[0];return i(o[0],c[0])&&i(o[1],c[1])||(r+=a(o[0],o[1],c[0],c[1],e,n)),0!==r}var a=n(168),o=1e-8;e.contain=r},function(t,e,n){function i(t,e,n){var i,a=t.getBaseAxis(),o=t.getOtherAxis(a),l=r(o,n),u=a.dim,h=o.dim,d=e.mapDimension(h),p=e.mapDimension(u),f="x"===h||"radius"===h?1:0,g=c(t.dimensions,function(t){return e.mapDimension(t)}),m=e.getCalculationInfo("stackResultDimension");return(i|=s(e,g[0]))&&(g[0]=m),(i|=s(e,g[1]))&&(g[1]=m),{dataDimsForPoint:g,valueStart:l,valueAxisDim:h,baseAxisDim:u,stacked:!!i,valueDim:d,baseDim:p,baseDataOffset:f,stackedOverDimension:e.getCalculationInfo("stackedOverDimension")}}function r(t,e){var n=0,i=t.scale.getExtent();return"start"===e?n=i[0]:"end"===e?n=i[1]:i[0]>0?n=i[0]:i[1]<0&&(n=i[1]),n}function a(t,e,n,i){var r=NaN;t.stacked&&(r=n.get(n.getCalculationInfo("stackedOverDimension"),i)),isNaN(r)&&(r=t.valueStart);var a=t.baseDataOffset,o=[];return o[a]=n.get(t.baseDim,i),o[1-a]=r,e.dataToPoint(o)}var o=n(26),s=o.isDimensionStacked,l=n(0),c=l.map;e.prepareDataCoordInfo=i,e.getStackedOnPoint=a},function(t,e,n){function i(t){return isNaN(t[0])||isNaN(t[1])}function r(t,e,n,i,r,s,l,c,u,h,d){return"none"!==h&&h?a.apply(this,arguments):o.apply(this,arguments)}function a(t,e,n,r,a,o,s,l,c,u,h){for(var d=0,p=n,g=0;g<r;g++){var y=e[p];if(p>=a||p<0)break;if(i(y)){if(h){p+=o;continue}break}if(p===n)t[o>0?"moveTo":"lineTo"](y[0],y[1]);else if(c>0){var x=e[d],_="y"===u?1:0,b=(y[_]-x[_])*c;f(m,x),m[_]=x[_]+b,f(v,y),v[_]=y[_]-b,t.bezierCurveTo(m[0],m[1],v[0],v[1],y[0],y[1])}else t.lineTo(y[0],y[1]);d=p,p+=o}return g}function o(t,e,n,r,a,o,s,l,u,y,x){for(var _=0,b=n,w=0;w<r;w++){var M=e[b];if(b>=a||b<0)break;if(i(M)){if(x){b+=o;continue}break}if(b===n)t[o>0?"moveTo":"lineTo"](M[0],M[1]),f(m,M);else if(u>0){var S=b+o,T=e[S];if(x)for(;T&&i(e[S]);)S+=o,T=e[S];var A=.5,C=e[_],T=e[S];if(!T||i(T))f(v,M);else{i(T)&&!x&&(T=M),c.sub(g,T,C);var L,E;if("x"===y||"y"===y){var I="x"===y?0:1;L=Math.abs(M[I]-C[I]),E=Math.abs(M[I]-T[I])}else L=c.dist(M,C),E=c.dist(M,T);A=E/(E+L),p(v,M,g,-u*(1-A))}h(m,m,l),d(m,m,s),h(v,v,l),d(v,v,s),t.bezierCurveTo(m[0],m[1],v[0],v[1],M[0],M[1]),p(m,M,g,u*A)}else t.lineTo(M[0],M[1]);_=b,b+=o}return w}function s(t,e){var n=[1/0,1/0],i=[-1/0,-1/0];if(e)for(var r=0;r<t.length;r++){var a=t[r];a[0]<n[0]&&(n[0]=a[0]),a[1]<n[1]&&(n[1]=a[1]),a[0]>i[0]&&(i[0]=a[0]),a[1]>i[1]&&(i[1]=a[1])}return{min:e?n:i,max:e?i:n}}var l=n(10),c=n(7),u=n(170),h=c.min,d=c.max,p=c.scaleAndAdd,f=c.copy,g=[],m=[],v=[],y=l.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},style:{fill:null,stroke:"#000"},brush:u(l.prototype.brush),buildPath:function(t,e){var n=e.points,a=0,o=n.length,l=s(n,e.smoothConstraint);if(e.connectNulls){for(;o>0&&i(n[o-1]);o--);for(;a<o&&i(n[a]);a++);}for(;a<o;)a+=r(t,n,a,o,o,1,l.min,l.max,e.smooth,e.smoothMonotone,e.connectNulls)+1}}),x=l.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},brush:u(l.prototype.brush),buildPath:function(t,e){var n=e.points,a=e.stackedOnPoints,o=0,l=n.length,c=e.smoothMonotone,u=s(n,e.smoothConstraint),h=s(a,e.smoothConstraint);if(e.connectNulls){for(;l>0&&i(n[l-1]);l--);for(;o<l&&i(n[o]);o++);}for(;o<l;){var d=r(t,n,o,l,l,1,u.min,u.max,e.smooth,c,e.connectNulls);r(t,a,o+d-1,d,l,-1,h.min,h.max,e.stackedOnSmooth,c,e.connectNulls),o+=d+1,t.closePath()}}});e.Polyline=y,e.Polygon=x},function(t,e,n){function i(t,e){return e.type||(e.data?"category":"value")}var r=n(0),a=n(13),o=n(85),s=n(52),l=a.extend({type:"cartesian2dAxis",axis:null,init:function(){l.superApply(this,"init",arguments),this.resetRange()},mergeOption:function(){l.superApply(this,"mergeOption",arguments),this.resetRange()},restoreData:function(){l.superApply(this,"restoreData",arguments),this.resetRange()},getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid",index:this.option.gridIndex,id:this.option.gridId})[0]}});r.merge(l.prototype,s);var c={offset:0};o("x",l,i,c),o("y",l,i,c);var u=l;t.exports=u},function(t,e,n){var i=n(0),r={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#333",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},a={};a.categoryAxis=i.merge({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},r),a.valueAxis=i.merge({boundaryGap:[0,0],splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#eee",width:1}}},r),a.timeAxis=i.defaults({scale:!0,min:"dataMin",max:"dataMax"},a.valueAxis),a.logAxis=i.defaults({scale:!0,logBase:10},a.valueAxis);var o=a;t.exports=o},function(t,e,n){function i(t,e,n){n=n||{};var i=t.coordinateSystem,a=e.axis,o={},s=a.getAxesOnZeroOf()[0],l=a.position,c=s?"onZero":l,u=a.dim,h=i.getRect(),d=[h.x,h.x+h.width,h.y,h.y+h.height],p={left:0,right:1,top:0,bottom:1,onZero:2},f=e.get("offset")||0,g="x"===u?[d[2]-f,d[3]+f]:[d[0]-f,d[1]+f];if(s){var m=s.toGlobalCoord(s.dataToCoord(0));g[p.onZero]=Math.max(Math.min(m,g[1]),g[0])}o.position=["y"===u?g[p[c]]:d[0],"x"===u?g[p[c]]:d[3]],o.rotation=Math.PI/2*("x"===u?0:1);var v={top:-1,bottom:1,left:-1,right:1};o.labelDirection=o.tickDirection=o.nameDirection=v[l],o.labelOffset=s?g[p[l]]-g[p.onZero]:0,e.get("axisTick.inside")&&(o.tickDirection=-o.tickDirection),r.retrieve(n.labelInside,e.get("axisLabel.inside"))&&(o.labelDirection=-o.labelDirection);var y=e.get("axisLabel.rotate");return o.labelRotate="top"===c?-y:y,o.z2=1,o}var r=n(0);e.layout=i},function(t,e,n){var i=n(14),r=n(31),a=i.extend({type:"series.__base_bar__",getInitialData:function(t,e){return r(this.getSource(),this,{useEncodeDefaulter:!0})},getMarkerPosition:function(t){var e=this.coordinateSystem;if(e){var n=e.dataToPoint(e.clampData(t)),i=this.getData(),r=i.getLayout("offset"),a=i.getLayout("size");return n[e.getBaseAxis().isHorizontal()?0:1]+=r+a/2,n}return[NaN,NaN]},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod",itemStyle:{},emphasis:{}}});t.exports=a},function(t,e,n){function i(t,e,n,i,o,l,c){var u=n.getModel("label"),h=n.getModel("emphasis.label");a.setLabelStyle(t,e,u,h,{labelFetcher:o,labelDataIndex:l,defaultText:s(o.getData(),l),isRectText:!0,autoColor:i}),r(t),r(e)}function r(t,e){"outside"===t.textPosition&&(t.textPosition=e)}var a=n(2),o=n(104),s=o.getDefaultLabel;e.setLabel=i},function(t,e,n){function i(t,e){a.each(e,function(e){e.update="updateView",r.registerAction(e,function(n,i){var r={};return i.eachComponent({mainType:"series",subType:t,query:n},function(t){t[e.method]&&t[e.method](n.name,n.dataIndex);var i=t.getData();i.each(function(e){var n=i.getName(e);r[n]=t.isSelected(n)||!1})}),{name:n.name,selected:r,seriesId:n.seriesId}})})}var r=n(1),a=n(0);t.exports=i},function(t,e,n){function i(t){var e=t.getItemStyle(),n=t.get("areaColor");return null!=n&&(e.fill=n),e}function r(t,e,n,i,r){n.off("click"),n.off("mousedown"),e.get("selectedMode")&&(n.on("mousedown",function(){t._mouseDownFlag=!0}),n.on("click",function(o){if(t._mouseDownFlag){t._mouseDownFlag=!1;for(var l=o.target;!l.__regions;)l=l.parent;if(l){var c={type:("geo"===e.mainType?"geo":"map")+"ToggleSelect",batch:s.map(l.__regions,function(t){return{name:t.name,from:r.uid}})};c[e.mainType+"Id"]=e.id,i.dispatchAction(c),a(e,n)}}}))}function a(t,e){e.eachChild(function(e){s.each(e.__regions,function(n){e.trigger(t.isSelected(n.name)?"emphasis":"normal")})})}function o(t,e){var n=new d.Group;this.uid=g("ec_map_draw"),this._controller=new l(t.getZr()),this._controllerHost={target:e?n:null},this.group=n,this._updateGroup=e,this._mouseDownFlag,this._mapName,this._initialized,n.add(this._regionsGroup=new d.Group),n.add(this._backgroundGroup=new d.Group)}var s=n(0),l=n(70),c=n(107),u=n(89),h=u.onIrrelevantElement,d=n(2),p=n(88),f=n(60),g=f.getUID;o.prototype={constructor:o,draw:function(t,e,n,o,l){var c="geo"===t.mainType,u=t.getData&&t.getData();c&&e.eachComponent({mainType:"series",subType:"map"},function(e){u||e.getHostGeoModel()!==t||(u=e.getData())});var h=t.coordinateSystem;this._updateBackground(h);var p=this._regionsGroup,f=this.group;h._roamTransformable.transform&&(f.transform=h._roamTransformable.transform.slice(),f.decomposeTransform());var g=h._rawTransformable.scale,m=h._rawTransformable.position;p.removeAll();var v=["itemStyle"],y=["emphasis","itemStyle"],x=["label"],_=["emphasis","label"],b=s.createHashMap();s.each(h.regions,function(e){var n=b.get(e.name)||b.set(e.name,new d.Group),r=new d.CompoundPath({segmentIgnoreThreshold:1,shape:{paths:[]}});n.add(r);var a,o=t.getRegionModel(e.name)||t,l=o.getModel(v),h=o.getModel(y),w=i(l),M=i(h),S=o.getModel(x),T=o.getModel(_);if(u){a=u.indexOfName(e.name);var A=u.getItemVisual(a,"color",!0);A&&(w.fill=A)}var C=function(t){return[t[0]*g[0]+m[0],t[1]*g[1]+m[1]]};s.each(e.geometries,function(t){if("polygon"===t.type){for(var e=[],n=0;n<t.exterior.length;++n)e.push(C(t.exterior[n]));r.shape.paths.push(new d.Polygon({segmentIgnoreThreshold:1,shape:{points:e}}));for(var n=0;n<(t.interiors?t.interiors.length:0);++n){for(var i=t.interiors[n],e=[],a=0;a<i.length;++a)e.push(C(i[a]));r.shape.paths.push(new d.Polygon({segmentIgnoreThreshold:1,shape:{points:e}}))}}}),r.setStyle(w),r.style.strokeNoScale=!0,r.culling=!0;var L=S.get("show"),E=T.get("show"),I=u&&isNaN(u.get(u.mapDimension("value"),a)),P=u&&u.getItemLayout(a);if(c||I&&(L||E)||P&&P.showLabel){var D,R=c?e.name:a;(!u||a>=0)&&(D=t);var O=new d.Text({position:C(e.center.slice()),scale:[1/f.scale[0],1/f.scale[1]],z2:10,silent:!0});d.setLabelStyle(O.style,O.hoverStyle={},S,T,{labelFetcher:D,labelDataIndex:R,defaultText:e.name,useInsideStyle:!1},{textAlign:"center",textVerticalAlign:"middle"}),n.add(O)}if(u)u.setItemGraphicEl(a,n);else{var o=t.getRegionModel(e.name);r.eventData={componentType:"geo",componentIndex:t.componentIndex,geoIndex:t.componentIndex,name:e.name,region:o&&o.option||{}}}(n.__regions||(n.__regions=[])).push(e),n.highDownSilentOnTouch=!!t.get("selectedMode"),d.setHoverStyle(n,M),p.add(n)}),this._updateController(t,e,n),r(this,t,p,n,o),a(t,p)},remove:function(){this._regionsGroup.removeAll(),this._backgroundGroup.removeAll(),this._controller.dispose(),this._mapName&&p.removeGraphic(this._mapName,this.uid),this._mapName=null,this._controllerHost={}},_updateBackground:function(t){var e=t.map;this._mapName!==e&&s.each(p.makeGraphic(e,this.uid),function(t){this._backgroundGroup.add(t)},this),this._mapName=e},_updateController:function(t,e,n){function i(){var e={type:"geoRoam",componentType:l};return e[l+"Id"]=t.id,e}var r=t.coordinateSystem,a=this._controller,o=this._controllerHost;o.zoomLimit=t.get("scaleLimit"),o.zoom=r.getZoom(),a.enable(t.get("roam")||!1);var l=t.mainType;a.off("pan").on("pan",function(t){this._mouseDownFlag=!1,c.updateViewOnPan(o,t.dx,t.dy),n.dispatchAction(s.extend(i(),{dx:t.dx,dy:t.dy}))},this),a.off("zoom").on("zoom",function(t){if(this._mouseDownFlag=!1,c.updateViewOnZoom(o,t.scale,t.originX,t.originY),n.dispatchAction(s.extend(i(),{zoom:t.scale,originX:t.originX,originY:t.originY})),this._updateGroup){var e=this.group.scale;this._regionsGroup.traverse(function(t){"text"===t.type&&t.attr("scale",[1/e[0],1/e[1]])})}},this),a.setPointerChecker(function(e,i,a){return r.getViewRectAfterRoam().contain(i,a)&&!h(e,n,t)})}};var m=o;t.exports=m},function(t,e,n){function i(t,e,n){o(t)[e]=n}function r(t,e,n){var i=o(t);i[e]===n&&(i[e]=null)}function a(t,e){return!!o(t)[e]}function o(t){return t[l]||(t[l]={})}var s=n(1),l="\0_ec_interaction_mutex";s.registerAction({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},function(){}),e.take=i,e.release=r,e.isTaken=a},function(t,e,n){var i=n(1),r=n(0),a=n(108),o=a.updateCenterAndZoom;i.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(t,e){var n=t.componentType||"series";e.eachComponent({mainType:n,query:t},function(e){var i=e.coordinateSystem;if("geo"===i.type){var a=o(i,t,e.get("scaleLimit"));e.setCenter&&e.setCenter(a.center),e.setZoom&&e.setZoom(a.zoom),"series"===n&&r.each(e.seriesGroup,function(t){t.setCenter(a.center),t.setZoom(a.zoom)})}})})},function(t,e,n){function i(t){var e=t.mainData,n=t.datas;n||(n={main:e},t.datasAttr={main:"data"}),t.datas=t.mainData=null,c(e,n,t),d(n,function(n){d(e.TRANSFERABLE_METHODS,function(e){n.wrapMethod(e,h.curry(r,t))})}),e.wrapMethod("cloneShallow",h.curry(o,t)),d(e.CHANGABLE_METHODS,function(n){e.wrapMethod(n,h.curry(a,t))}),h.assert(n[e.dataType]===e)}function r(t,e){if(l(this)){var n=h.extend({},this[p]);n[this.dataType]=e,c(e,n,t)}else u(e,this.dataType,this[f],t);return e}function a(t,e){return t.struct&&t.struct.update(this),e}function o(t,e){return d(e[p],function(n,i){n!==e&&u(n.cloneShallow(),i,e,t)}),e}function s(t){var e=this[f];return null==t||null==e?e:e[p][t]}function l(t){return t[f]===t}function c(t,e,n){t[p]={},d(e,function(e,i){u(e,i,t,n)})}function u(t,e,n,i){n[p][e]=t,t[f]=n,t.dataType=e,i.struct&&(t[i.structAttr]=i.struct,i.struct[i.datasAttr[e]]=t),t.getLinkedData=s}var h=n(0),d=h.each,p="\0__link_datas",f="\0__link_mainData",g=i;t.exports=g},function(t,e,n){function i(t){t.hierNode={defaultAncestor:null,ancestor:t,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var e,n,i=[t];e=i.pop();)if(n=e.children,e.isExpand&&n.length)for(var r=n.length,a=r-1;a>=0;a--){var o=n[a];o.hierNode={defaultAncestor:null,ancestor:o,prelim:0,modifier:0,change:0,shift:0,i:a,thread:null},i.push(o)}}function r(t,e){var n=t.isExpand?t.children:[],i=t.parentNode.children,r=t.hierNode.i?i[t.hierNode.i-1]:null;if(n.length){c(t);var a=(n[0].hierNode.prelim+n[n.length-1].hierNode.prelim)/2;r?(t.hierNode.prelim=r.hierNode.prelim+e(t,r),t.hierNode.modifier=t.hierNode.prelim-a):t.hierNode.prelim=a}else r&&(t.hierNode.prelim=r.hierNode.prelim+e(t,r));t.parentNode.hierNode.defaultAncestor=u(t,r,t.parentNode.hierNode.defaultAncestor||i[0],e)}function a(t){var e=t.hierNode.prelim+t.parentNode.hierNode.modifier;t.setLayout({x:e},!0),t.hierNode.modifier+=t.parentNode.hierNode.modifier}function o(t){return arguments.length?t:g}function s(t,e){var n={};return t-=Math.PI/2,n.x=e*Math.cos(t),n.y=e*Math.sin(t),n}function l(t,e){return m.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function c(t){for(var e=t.children,n=e.length,i=0,r=0;--n>=0;){var a=e[n];a.hierNode.prelim+=i,a.hierNode.modifier+=i,r+=a.hierNode.change,i+=a.hierNode.shift+r}}function u(t,e,n,i){if(e){for(var r=t,a=t,o=a.parentNode.children[0],s=e,l=r.hierNode.modifier,c=a.hierNode.modifier,u=o.hierNode.modifier,g=s.hierNode.modifier;s=h(s),a=d(a),s&&a;){r=h(r),o=d(o),r.hierNode.ancestor=t;var m=s.hierNode.prelim+g-a.hierNode.prelim-c+i(s,a);m>0&&(f(p(s,t,n),t,m),c+=m,l+=m),g+=s.hierNode.modifier,c+=a.hierNode.modifier,l+=r.hierNode.modifier,u+=o.hierNode.modifier}s&&!h(r)&&(r.hierNode.thread=s,r.hierNode.modifier+=g-l),a&&!d(o)&&(o.hierNode.thread=a,o.hierNode.modifier+=c-u,n=t)}return n}function h(t){var e=t.children;return e.length&&t.isExpand?e[e.length-1]:t.hierNode.thread}function d(t){var e=t.children;return e.length&&t.isExpand?e[0]:t.hierNode.thread}function p(t,e,n){return t.hierNode.ancestor.parentNode===e.parentNode?t.hierNode.ancestor:n}function f(t,e,n){var i=n/(e.hierNode.i-t.hierNode.i);e.hierNode.change-=i,e.hierNode.shift+=n,e.hierNode.modifier+=n,e.hierNode.prelim+=n,t.hierNode.change+=i}function g(t,e){return t.parentNode===e.parentNode?1:2}var m=n(6);e.init=i,e.firstWalk=r,e.secondWalk=a,e.separation=o,e.radialCoordinate=s,e.getViewRect=l},function(t,e,n){function i(t,e,n,i,h){for(var d=new o(i),p=0;p<t.length;p++)d.addNode(r.retrieve(t[p].id,t[p].name,p),p);for(var f=[],g=[],m=0,p=0;p<e.length;p++){var v=e[p],y=v.source,x=v.target;d.addEdge(y,x,m)&&(g.push(v),f.push(r.retrieve(v.id,y+" > "+x)),m++)}var _,b=n.get("coordinateSystem");if("cartesian2d"===b||"polar"===b)_=u(t,n);else{var w=c.get(b),M=w&&"view"!==w.type?w.dimensions||[]:[];r.indexOf(M,"value")<0&&M.concat(["value"]);var S=l(t,{coordDimensions:M});_=new a(S,n),_.initData(t)}var T=new a(["value"],n);return T.initData(g,f),h&&h(_,T),s({mainData:_,struct:d,structAttr:"graph",datas:{node:_,edge:T},datasAttr:{node:"data",edge:"edgeData"}}),d.update(),d}var r=n(0),a=n(18),o=n(407),s=n(199),l=n(51),c=n(21),u=n(31);t.exports=i},function(t,e,n){var i=n(1);i.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},function(){}),i.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},function(){})},function(t,e,n){function i(t){var e=t.coordinateSystem;if(!e||"view"===e.type){var n=t.getGraph();n.eachNode(function(t){var e=t.getModel();t.setLayout([+e.get("x"),+e.get("y")])}),r(n)}}function r(t){t.eachEdge(function(t){var e=t.getModel().get("lineStyle.curveness")||0,n=a.clone(t.node1.getLayout()),i=a.clone(t.node2.getLayout()),r=[n,i];+e&&r.push([(n[0]+i[0])/2-(n[1]-i[1])*e,(n[1]+i[1])/2-(i[0]-n[0])*e]),t.setLayout(r)})}var a=n(7);e.simpleLayout=i,e.simpleLayoutEdge=r},function(t,e,n){function i(t,e){var n=t.coordinateSystem;if(!n||"view"===n.type){var i=n.getBoundingRect(),a=t.getData(),o=a.graph,s=i.width/2+i.x,l=i.height/2+i.y,c=Math.min(i.width,i.height)/2,h=a.count();a.setLayout({cx:s,cy:l}),h&&(u[e](t,n,o,a,c,s,l,h),o.eachEdge(function(t){var e,n=t.getModel().get("lineStyle.curveness")||0,i=r.clone(t.node1.getLayout()),a=r.clone(t.node2.getLayout()),o=(i[0]+a[0])/2,c=(i[1]+a[1])/2;+n&&(n*=3,e=[s*n+o*(1-n),l*n+c*(1-n)]),t.setLayout([i,a,e])}))}}var r=n(7),a=n(114),o=a.getSymbolSize,s=a.getNodeGlobalScale,l=Math.PI,c=[],u={value:function(t,e,n,i,r,a,o,s){var l=0,c=i.getSum("value"),u=2*Math.PI/(c||s);n.eachNode(function(t){var e=t.getValue("value"),n=u*(c?e:1)/2;l+=n,t.setLayout([r*Math.cos(l)+a,r*Math.sin(l)+o]),l+=n})},symbolSize:function(t,e,n,i,r,a,u,h){var d=0;c.length=h;var p=s(t);n.eachNode(function(t){var e=o(t);isNaN(e)&&(e=2),e<0&&(e=0),e*=p;var n=Math.asin(e/2/r);isNaN(n)&&(n=l/2),c[t.dataIndex]=n,d+=2*n});var f=(2*l-d)/h/2,g=0;n.eachNode(function(t){var e=f+c[t.dataIndex];g+=e,t.setLayout([r*Math.cos(g)+a,r*Math.sin(g)+u]),g+=e})}};e.circularLayout=i},function(t,e,n){function i(t,e){var n=t._model;return n.get("axisExpandable")&&n.get("axisExpandTriggerOn")===e}var r=n(1),a=n(0),o=n(33),s=n(429);n(206),n(432),n(434);r.extendComponentView({type:"parallel",render:function(t,e,n){this._model=t,this._api=n,this._handlers||(this._handlers={},a.each(l,function(t,e){n.getZr().on(e,this._handlers[e]=a.bind(t,this))},this)),o.createOrUpdate(this,"_throttledDispatchExpand",t.get("axisExpandRate"),"fixRate")},dispose:function(t,e){a.each(this._handlers,function(t,n){e.getZr().off(n,t)}),this._handlers=null},_throttledDispatchExpand:function(t){this._dispatchExpand(t)},_dispatchExpand:function(t){t&&this._api.dispatchAction(a.extend({type:"parallelAxisExpand"},t))}});var l={mousedown:function(t){i(this,"click")&&(this._mouseDownPoint=[t.offsetX,t.offsetY])},mouseup:function(t){var e=this._mouseDownPoint;if(i(this,"click")&&e){var n=[t.offsetX,t.offsetY];if(Math.pow(e[0]-n[0],2)+Math.pow(e[1]-n[1],2)>5)return;var r=this._model.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY]);"none"!==r.behavior&&this._dispatchExpand({axisExpandWindow:r.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(t){if(!this._mouseDownPoint&&i(this,"mousemove")){var e=this._model,n=e.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY]),r=n.behavior;"jump"===r&&this._throttledDispatchExpand.debounceNextCall(e.get("axisExpandDebounce")),this._throttledDispatchExpand("none"===r?null:{axisExpandWindow:n.axisExpandWindow,animation:"jump"===r&&null})}}};r.registerPreprocessor(s)},function(t,e,n){function i(t,e){var n=[];return t.eachComponent("parallel",function(i,a){var o=new r(i,t,e);o.name="parallel_"+a,o.resize(i,e),i.coordinateSystem=o,o.model=i,n.push(o)}),t.eachSeries(function(e){if("parallel"===e.get("coordinateSystem")){var n=t.queryComponents({mainType:"parallel",index:e.get("parallelIndex"),id:e.get("parallelId")})[0];e.coordinateSystem=n.coordinateSystem}}),n}var r=n(430);n(21).register("parallel",{create:i})},function(t,e,n){function i(t){return t=o(t),function(e,n){return u.clipPointsByRect(e,t)}}function r(t,e){return t=o(t),function(n){var i=null!=e?e:n,r=i?t.width:t.height,a=i?t.x:t.y;return[a,a+(r||0)]}}function a(t,e,n){return t=o(t),function(i,r,a){return t.contain(r[0],r[1])&&!c(i,e,n)}}function o(t){return s.create(t)}var s=n(8),l=n(89),c=l.onIrrelevantElement,u=n(2);e.makeRectPanelClipPath=i,e.makeLinearBrushOtherExtent=r,e.makeRectIsTargetByCursor=a},function(t,e,n){var i=n(53),r=n(0),a=n(63),o=a.getDimensionTypeByAxis,s=n(30),l=s.makeSeriesEncodeForAxisCoordSys,c={_baseAxisDim:null,getInitialData:function(t,e){var n,a,s=e.getComponent("xAxis",this.get("xAxisIndex")),c=e.getComponent("yAxis",this.get("yAxisIndex")),u=s.get("type"),h=c.get("type");"category"===u?(t.layout="horizontal",n=s.getOrdinalMeta(),a=!0):"category"===h?(t.layout="vertical",n=c.getOrdinalMeta(),a=!0):t.layout=t.layout||"horizontal";var d=["x","y"],p="horizontal"===t.layout?0:1,f=this._baseAxisDim=d[p],g=d[1-p],m=[s,c],v=m[p].get("type"),y=m[1-p].get("type"),x=t.data;if(x&&a){var _=[];r.each(x,function(t,e){var n;t.value&&r.isArray(t.value)?(n=t.value.slice(),t.value.unshift(e)):r.isArray(t)?(n=t.slice(),t.unshift(e)):n=t,_.push(n)}),t.data=_}var b=this.defaultValueDimensions,w=[{name:f,type:o(v),ordinalMeta:n,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:g,type:o(y),dimsDef:b.slice()}];return i(this,{coordDimensions:w,dimensionsCount:b.length+1,encodeDefaulter:r.curry(l,w,this)})},getBaseAxis:function(){var t=this._baseAxisDim;return this.ecModel.getComponent(t+"Axis",this.get(t+"AxisIndex")).axis}};e.seriesModelMixin=c},function(t,e,n){function i(t,e,n){r.Group.call(this),this.add(this.createLine(t,e,n)),this._updateEffectSymbol(t,e)}var r=n(2),a=n(113),o=n(0),s=n(19),l=s.createSymbol,c=n(7),u=n(32),h=i.prototype;h.createLine=function(t,e,n){return new a(t,e,n)},h._updateEffectSymbol=function(t,e){var n=t.getItemModel(e),i=n.getModel("effect"),r=i.get("symbolSize"),a=i.get("symbol");o.isArray(r)||(r=[r,r]);var s=i.get("color")||t.getItemVisual(e,"color"),c=this.childAt(1);this._symbolType!==a&&(this.remove(c),c=l(a,-.5,-.5,1,1,s),c.z2=100,c.culling=!0,this.add(c)),c&&(c.setStyle("shadowColor",s),c.setStyle(i.getItemStyle(["color"])),c.attr("scale",r),c.setColor(s),c.attr("scale",r),this._symbolType=a,this._updateEffectAnimation(t,i,e))},h._updateEffectAnimation=function(t,e,n){var i=this.childAt(1);if(i){var r=this,a=t.getItemLayout(n),s=1e3*e.get("period"),l=e.get("loop"),c=e.get("constantSpeed"),u=o.retrieve(e.get("delay"),function(e){return e/t.count()*s/3}),h="function"==typeof u;if(i.ignore=!0,this.updateAnimationPoints(i,a),c>0&&(s=this.getLineLength(i)/c*1e3),s!==this._period||l!==this._loop){i.stopAnimation();var d=u;h&&(d=u(n)),i.__t>0&&(d=-s*i.__t),i.__t=0;var p=i.animate("",l).when(s,{__t:1}).delay(d).during(function(){r.updateSymbolPosition(i)});l||p.done(function(){r.remove(i)}),p.start()}this._period=s,this._loop=l}},h.getLineLength=function(t){return c.dist(t.__p1,t.__cp1)+c.dist(t.__cp1,t.__p2)},h.updateAnimationPoints=function(t,e){t.__p1=e[0],t.__p2=e[1],t.__cp1=e[2]||[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]},h.updateData=function(t,e,n){this.childAt(0).updateData(t,e,n),this._updateEffectSymbol(t,e)},h.updateSymbolPosition=function(t){var e=t.__p1,n=t.__p2,i=t.__cp1,r=t.__t,a=t.position,o=u.quadraticAt,s=u.quadraticDerivativeAt;a[0]=o(e[0],i[0],n[0],r),a[1]=o(e[1],i[1],n[1],r);var l=s(e[0],i[0],n[0],r),c=s(e[1],i[1],n[1],r);t.rotation=-Math.atan2(c,l)-Math.PI/2,t.ignore=!1},h.updateLayout=function(t,e){this.childAt(0).updateLayout(t,e);var n=t.getItemModel(e).getModel("effect");this._updateEffectAnimation(t,n,e)},o.inherits(i,r.Group);var d=i;t.exports=d},function(t,e,n){function i(t,e,n){r.Group.call(this),this._createPolyline(t,e,n)}var r=n(2),a=n(0),o=i.prototype;o._createPolyline=function(t,e,n){var i=t.getItemLayout(e),a=new r.Polyline({shape:{points:i}});this.add(a),this._updateCommonStl(t,e,n)},o.updateData=function(t,e,n){var i=t.hostModel,a=this.childAt(0),o={shape:{points:t.getItemLayout(e)}};r.updateProps(a,o,i,e),this._updateCommonStl(t,e,n)},o._updateCommonStl=function(t,e,n){var i=this.childAt(0),o=t.getItemModel(e),s=t.getItemVisual(e,"color"),l=n&&n.lineStyle,c=n&&n.hoverLineStyle;n&&!t.hasItemOption||(l=o.getModel("lineStyle").getLineStyle(),c=o.getModel("emphasis.lineStyle").getLineStyle()),i.useStyle(a.defaults({strokeNoScale:!0,fill:"none",stroke:s},l)),i.hoverStyle=c,r.setHoverStyle(this)},o.updateLayout=function(t,e){this.childAt(0).setShape("points",t.getItemLayout(e))},a.inherits(i,r.Group);var s=i;t.exports=s},function(t,e,n){var i=n(50),r={seriesType:"lines",plan:i(),reset:function(t){function e(e,a){var o=[];if(r){var s,l=e.end-e.start;if(i){for(var c=0,u=e.start;u<e.end;u++)c+=t.getLineCoordsCount(u);s=new Float32Array(l+2*c)}else s=new Float32Array(4*l);for(var h=0,d=[],u=e.start;u<e.end;u++){var p=t.getLineCoords(u,o);i&&(s[h++]=p);for(var f=0;f<p;f++)d=n.dataToPoint(o[f],!1,d),s[h++]=d[0],s[h++]=d[1]}a.setLayout("linesPoints",s)}else for(var u=e.start;u<e.end;u++){var g=a.getItemModel(u),p=t.getLineCoords(u,o),m=[];if(i)for(var v=0;v<p;v++)m.push(n.dataToPoint(o[v]));else{m[0]=n.dataToPoint(o[0]),m[1]=n.dataToPoint(o[1]);var y=g.get("lineStyle.curveness");+y&&(m[2]=[(m[0][0]+m[1][0])/2-(m[0][1]-m[1][1])*y,(m[0][1]+m[1][1])/2-(m[1][0]-m[0][0])*y])}a.setItemLayout(u,m)}}var n=t.coordinateSystem,i=t.get("polyline"),r=t.pipelineContext.large;return{progress:e}}};t.exports=r},function(t,e,n){var i=n(1);n(475),n(478),n(479),n(71),n(483),i.extendComponentView({type:"single"})},function(t,e,n){function i(t,e){e=e||{};var n=t.coordinateSystem,i=t.axis,a={},o=i.position,s=i.orient,l=n.getRect(),c=[l.x,l.x+l.width,l.y,l.y+l.height],u={horizontal:{top:c[2],bottom:c[3]},vertical:{left:c[0],right:c[1]}};a.position=["vertical"===s?u.vertical[o]:c[0],"horizontal"===s?u.horizontal[o]:c[3]];var h={horizontal:0,vertical:1};a.rotation=Math.PI/2*h[s];var d={top:-1,bottom:1,right:1,left:-1};a.labelDirection=a.tickDirection=a.nameDirection=d[o],t.get("axisTick.inside")&&(a.tickDirection=-a.tickDirection),r.retrieve(e.labelInside,t.get("axisLabel.inside"))&&(a.labelDirection=-a.labelDirection);var p=e.rotate;return null==p&&(p=t.get("axisLabel.rotate")),a.labelRotation="top"===o?-p:p,a.z2=1,a}var r=n(0);e.layout=i},function(t,e,n){function i(t,e){var n,i=[],o=t.seriesIndex;if(null==o||!(n=e.getSeriesByIndex(o)))return{point:[]};var s=n.getData(),l=a.queryDataIndex(s,t);if(null==l||l<0||r.isArray(l))return{point:[]};var c=s.getItemGraphicEl(l),u=n.coordinateSystem;if(n.getTooltipPosition)i=n.getTooltipPosition(l)||[];else if(u&&u.dataToPoint)i=u.dataToPoint(s.getValues(r.map(u.dimensions,function(t){return s.mapDimension(t)}),l,!0))||[];else if(c){var h=c.getBoundingRect().clone();h.applyTransform(c.transform),i=[h.x+h.width/2,h.y+h.height/2]}return{point:i,el:c}}var r=n(0),a=n(4);t.exports=i},function(t,e,n){function i(t,e,n){if(!h.node){var i=e.getZr();f(i).records||(f(i).records={}),r(i,e);(f(i).records[t]||(f(i).records[t]={})).handler=n}}function r(t,e){function n(n,i){t.on(n,function(n){var r=l(e);g(f(t).records,function(t){t&&i(t,n,r.dispatchAction)}),a(r.pendings,e)})}f(t).initialized||(f(t).initialized=!0,n("click",u.curry(s,"click")),n("mousemove",u.curry(s,"mousemove")),n("globalout",o))}function a(t,e){var n,i=t.showTip.length,r=t.hideTip.length;i?n=t.showTip[i-1]:r&&(n=t.hideTip[r-1]),n&&(n.dispatchAction=null,e.dispatchAction(n))}function o(t,e,n){t.handler("leave",null,n)}function s(t,e,n,i){e.handler(t,n,i)}function l(t){var e={showTip:[],hideTip:[]},n=function(i){var r=e[i.type];r?r.push(i):(i.dispatchAction=n,t.dispatchAction(i))};return{dispatchAction:n,pendings:e}}function c(t,e){if(!h.node){var n=e.getZr();(f(n).records||{})[t]&&(f(n).records[t]=null)}}var u=n(0),h=n(11),d=n(4),p=d.makeInner,f=p(),g=u.each;e.register=i,e.unregister=c},function(t,e,n){function i(t,e){var n={};return n[e.dim+"AxisIndex"]=e.index,t.getCartesian(n)}function r(t){return"x"===t.dim?0:1}var a=n(116),o=n(90),s=n(192),l=n(43),c=a.extend({makeElOption:function(t,e,n,r,a){var l=n.axis,c=l.grid,h=r.get("type"),d=i(c,l).getOtherAxis(l).getGlobalExtent(),p=l.toGlobalCoord(l.dataToCoord(e,!0));if(h&&"none"!==h){var f=o.buildElStyle(r),g=u[h](l,p,d);g.style=f,t.graphicKey=g.type,t.pointer=g}var m=s.layout(c.model,n);o.buildCartesianSingleLabelElOption(e,t,m,n,r,a)},getHandleTransform:function(t,e,n){var i=s.layout(e.axis.grid.model,e,{labelInside:!1});return i.labelMargin=n.get("handle.margin"),{position:o.getTransformedPosition(e.axis,t,i),rotation:i.rotation+(i.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(t,e,n,r){var a=n.axis,o=a.grid,s=a.getGlobalExtent(!0),l=i(o,a).getOtherAxis(a).getGlobalExtent(),c="x"===a.dim?0:1,u=t.position;u[c]+=e[c],u[c]=Math.min(s[1],u[c]),u[c]=Math.max(s[0],u[c]);var h=(l[1]+l[0])/2,d=[h,h];d[c]=u[c];var p=[{verticalAlign:"middle"},{align:"center"}];return{position:u,rotation:t.rotation,cursorPoint:d,tooltipOption:p[c]}}}),u={line:function(t,e,n){return{type:"Line",subPixelOptimize:!0,shape:o.makeLineShape([e,n[0]],[e,n[1]],r(t))}},shadow:function(t,e,n){var i=Math.max(1,t.getBandWidth()),a=n[1]-n[0];return{type:"Rect",shape:o.makeRectShape([e-i/2,n[0]],[i,a],r(t))}}};l.registerAxisPointerClass("CartesianAxisPointer",c);var h=c;t.exports=h},function(t,e,n){function i(t,e,n){var i=e.getBoxLayoutParams(),r=e.get("padding"),a={width:n.getWidth(),height:n.getHeight()},c=o(i,a,r);s(e.get("orient"),t,e.get("itemGap"),c.width,c.height),l(t,i,a,r)}function r(t,e){var n=c.normalizeCssArray(e.get("padding")),i=e.getItemStyle(["color","opacity"]);i.fill=e.get("backgroundColor");var t=new u.Rect({shape:{x:t.x-n[3],y:t.y-n[0],width:t.width+n[1]+n[3],height:t.height+n[0]+n[2],r:e.get("borderRadius")},style:i,silent:!0,z2:-1});return t}var a=n(6),o=a.getLayoutRect,s=a.box,l=a.positionElement,c=n(9),u=n(2);e.layout=i,e.makeBackground=r},function(t,e,n){function i(t,e,n){var i=this._targetInfoList=[],r={},o=a(e,t);g(b,function(t,e){(!n||!n.include||m(n.include,e)>=0)&&t(o,i,r)})}function r(t){return t[0]>t[1]&&t.reverse(),t}function a(t,e){return p.parseFinder(t,e,{includeMainTypes:x})}function o(t,e,n,i){var a=n.getAxis(["x","y"][t]),o=r(h.map([0,1],function(t){return e?a.coordToData(a.toLocalCoord(i[t])):a.toGlobalCoord(a.dataToCoord(i[t]))})),s=[];return s[t]=o,s[1-t]=[NaN,NaN],{values:o,xyMinMax:s}}function s(t,e,n,i){return[e[0]-i[t]*n[0],e[1]-i[t]*n[1]]}function l(t,e){var n=c(t),i=c(e),r=[n[0]/i[0],n[1]/i[1]];return isNaN(r[0])&&(r[0]=1),isNaN(r[1])&&(r[1]=1),r}function c(t){return t?[t[0][1]-t[0][0],t[1][1]-t[1][0]]:[NaN,NaN]}var u=n(5),h=(u.__DEV__,n(0)),d=n(2),p=n(4),f=n(207),g=h.each,m=h.indexOf,v=h.curry,y=["dataToPoint","pointToData"],x=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],_=i.prototype;_.setOutputRanges=function(t,e){this.matchOutputRanges(t,e,function(t,e,n){if((t.coordRanges||(t.coordRanges=[])).push(e),!t.coordRange){t.coordRange=e;var i=S[t.brushType](0,n,e);t.__rangeOffset={offset:T[t.brushType](i.values,t.range,[1,1]),xyMinMax:i.xyMinMax}}})},_.matchOutputRanges=function(t,e,n){g(t,function(t){var i=this.findTargetInfo(t,e);i&&!0!==i&&h.each(i.coordSyses,function(i){var r=S[t.brushType](1,i,t.range);n(t,r.values,i,e)})},this)},_.setInputRanges=function(t,e){g(t,function(t){var n=this.findTargetInfo(t,e);if(t.range=t.range||[],n&&!0!==n){t.panelId=n.panelId;var i=S[t.brushType](0,n.coordSys,t.coordRange),r=t.__rangeOffset;t.range=r?T[t.brushType](i.values,r.offset,l(i.xyMinMax,r.xyMinMax)):i.values}},this)},_.makePanelOpts=function(t,e){return h.map(this._targetInfoList,function(n){var i=n.getPanelRect();return{panelId:n.panelId,defaultBrushType:e&&e(n),clipPath:f.makeRectPanelClipPath(i),isTargetByCursor:f.makeRectIsTargetByCursor(i,t,n.coordSysModel),getLinearBrushOtherExtent:f.makeLinearBrushOtherExtent(i)}})},_.controlSeries=function(t,e,n){var i=this.findTargetInfo(t,n);return!0===i||i&&m(i.coordSyses,e.coordinateSystem)>=0},_.findTargetInfo=function(t,e){for(var n=this._targetInfoList,i=a(e,t),r=0;r<n.length;r++){var o=n[r],s=t.panelId;if(s){if(o.panelId===s)return o}else for(var r=0;r<w.length;r++)if(w[r](i,o))return o}return!0};var b={grid:function(t,e){var n=t.xAxisModels,i=t.yAxisModels,r=t.gridModels,a=h.createHashMap(),o={},s={};(n||i||r)&&(g(n,function(t){var e=t.axis.grid.model;a.set(e.id,e),o[e.id]=!0}),g(i,function(t){var e=t.axis.grid.model;a.set(e.id,e),s[e.id]=!0}),g(r,function(t){a.set(t.id,t),o[t.id]=!0,s[t.id]=!0}),a.each(function(t){var r=t.coordinateSystem,a=[];g(r.getCartesians(),function(t,e){(m(n,t.getAxis("x").model)>=0||m(i,t.getAxis("y").model)>=0)&&a.push(t)}),e.push({panelId:"grid--"+t.id,gridModel:t,coordSysModel:t,coordSys:a[0],coordSyses:a,getPanelRect:M.grid,xAxisDeclared:o[t.id],yAxisDeclared:s[t.id]})}))},geo:function(t,e){g(t.geoModels,function(t){var n=t.coordinateSystem;e.push({panelId:"geo--"+t.id,geoModel:t,coordSysModel:t,coordSys:n,coordSyses:[n],getPanelRect:M.geo})})}},w=[function(t,e){var n=t.xAxisModel,i=t.yAxisModel,r=t.gridModel;return!r&&n&&(r=n.axis.grid.model),!r&&i&&(r=i.axis.grid.model),r&&r===e.gridModel},function(t,e){var n=t.geoModel;return n&&n===e.geoModel}],M={grid:function(){return this.coordSys.grid.getRect().clone()},geo:function(){var t=this.coordSys,e=t.getBoundingRect().clone();return e.applyTransform(d.getTransform(t)),e}},S={lineX:v(o,0),lineY:v(o,1),rect:function(t,e,n){var i=e[y[t]]([n[0][0],n[1][0]]),a=e[y[t]]([n[0][1],n[1][1]]),o=[r([i[0],a[0]]),r([i[1],a[1]])];return{values:o,xyMinMax:o}},polygon:function(t,e,n){var i=[[1/0,-1/0],[1/0,-1/0]];return{values:h.map(n,function(n){var r=e[y[t]](n);return i[0][0]=Math.min(i[0][0],r[0]),i[1][0]=Math.min(i[1][0],r[1]),i[0][1]=Math.max(i[0][1],r[0]),i[1][1]=Math.max(i[1][1],r[1]),r}),xyMinMax:i}}},T={lineX:v(s,0),lineY:v(s,1),rect:function(t,e,n){return[[t[0][0]-n[0]*e[0][0],t[0][1]-n[0]*e[0][1]],[t[1][0]-n[1]*e[1][0],t[1][1]-n[1]*e[1][1]]]},polygon:function(t,e,n){return h.map(t,function(t,i){return[t[0]-n[0]*e[i][0],t[1]-n[1]*e[i][1]]})}},A=i;t.exports=A},function(t,e,n){function i(t,e){var n=s(t);c(e,function(e,i){for(var r=n.length-1;r>=0;r--){if(n[r][i])break}if(r<0){var a=t.queryComponents({mainType:"dataZoom",subType:"select",id:i})[0];if(a){var o=a.getPercentRange();n[0][i]={dataZoomId:i,start:o[0],end:o[1]}}}}),n.push(e)}function r(t){var e=s(t),n=e[e.length-1];e.length>1&&e.pop();var i={};return c(n,function(t,n){for(var r=e.length-1;r>=0;r--){var t=e[r][n];if(t){i[n]=t;break}}}),i}function a(t){t[u]=null}function o(t){return s(t).length}function s(t){var e=t[u];return e||(e=t[u]=[{}]),e}var l=n(0),c=l.each,u="\0_ec_hist_store";e.push=i,e.pop=r,e.clear=a,e.count=o},function(t,e,n){var i=n(1);n(221),n(566),n(222);var r=n(567),a=n(13);i.registerProcessor(i.PRIORITY.PROCESSOR.SERIES_FILTER,r),a.registerSubTypeDefaulter("legend",function(){return"plain"})},function(t,e,n){var i=n(1),r=n(0),a=n(12),o=n(4),s=o.isNameSpecified,l=n(34),c=l.legend.selector,u={all:{type:"all",title:r.clone(c.all)},inverse:{type:"inverse",title:r.clone(c.inverse)}},h=i.extendComponentModel({type:"legend.plain",dependencies:["series"],layoutMode:{type:"box",ignoreSize:!0},init:function(t,e,n){this.mergeDefaultAndTheme(t,n),t.selected=t.selected||{},this._updateSelector(t)},mergeOption:function(t){h.superCall(this,"mergeOption",t),this._updateSelector(t)},_updateSelector:function(t){var e=t.selector;!0===e&&(e=t.selector=["all","inverse"]),r.isArray(e)&&r.each(e,function(t,n){r.isString(t)&&(t={type:t}),e[n]=r.merge(t,u[t.type])})},optionUpdated:function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&"single"===this.get("selectedMode")){for(var e=!1,n=0;n<t.length;n++){var i=t[n].get("name");if(this.isSelected(i)){this.select(i),e=!0;break}}!e&&this.select(t[0].get("name"))}},_updateData:function(t){var e=[],n=[];t.eachRawSeries(function(i){var r=i.name;n.push(r);var a;if(i.legendVisualProvider){var o=i.legendVisualProvider,l=o.getAllNames();t.isSeriesFiltered(i)||(n=n.concat(l)),l.length?e=e.concat(l):a=!0}else a=!0;a&&s(i)&&e.push(i.name)}),this._availableNames=n;var i=this.get("data")||e,o=r.map(i,function(t){return"string"!=typeof t&&"number"!=typeof t||(t={name:t}),new a(t,this,this.ecModel)},this);this._data=o},getData:function(){return this._data},select:function(t){var e=this.option.selected;if("single"===this.get("selectedMode")){var n=this._data;r.each(n,function(t){e[t.get("name")]=!1})}e[t]=!0},unSelect:function(t){"single"!==this.get("selectedMode")&&(this.option.selected[t]=!1)},toggleSelected:function(t){var e=this.option.selected;e.hasOwnProperty(t)||(e[t]=!0),this[e[t]?"unSelect":"select"](t)},allSelect:function(){var t=this._data,e=this.option.selected;r.each(t,function(t){e[t.get("name",!0)]=!0})},inverseSelect:function(){var t=this._data,e=this.option.selected;r.each(t,function(t){var n=t.get("name",!0);e.hasOwnProperty(n)||(e[n]=!0),e[n]=!e[n]})},isSelected:function(t){var e=this.option.selected;return!(e.hasOwnProperty(t)&&!e[t])&&r.indexOf(this._availableNames,t)>=0},getOrient:function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},defaultOption:{zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",itemStyle:{borderWidth:0},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:" sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}}}),d=h;t.exports=d},function(t,e,n){function i(t,e,n,i,r,a){var o;return"line"!==e&&e.indexOf("empty")<0?(o=n.getItemStyle(),t.style.stroke=i,a||(o.stroke=r)):o=n.getItemStyle(["borderWidth","borderColor"]),t.setStyle(o)}function r(t,e,n,i){o(t,e,n,i),n.dispatchAction({type:"legendToggleSelect",name:null!=t?t:e}),a(t,e,n,i)}function a(t,e,n,i){var r=n.getZr().storage.getDisplayList()[0];r&&r.useHoverLayer||n.dispatchAction({type:"highlight",seriesName:t,name:e,excludeSeriesId:i})}function o(t,e,n,i){var r=n.getZr().storage.getDisplayList()[0];r&&r.useHoverLayer||n.dispatchAction({type:"downplay",seriesName:t,name:e,excludeSeriesId:i})}var s=n(5),l=(s.__DEV__,n(1)),c=n(0),u=n(19),h=u.createSymbol,d=n(2),p=n(217),f=p.makeBackground,g=n(6),m=c.curry,v=c.each,y=d.Group,x=l.extendComponentView({type:"legend.plain",newlineDisabled:!1,init:function(){this.group.add(this._contentGroup=new y),this._backgroundEl,this.group.add(this._selectorGroup=new y),this._isFirstRender=!0},getContentGroup:function(){return this._contentGroup},getSelectorGroup:function(){return this._selectorGroup},render:function(t,e,n){var i=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),t.get("show",!0)){var r=t.get("align"),a=t.get("orient");r&&"auto"!==r||(r="right"===t.get("left")&&"vertical"===a?"right":"left");var o=t.get("selector",!0),s=t.get("selectorPosition",!0);!o||s&&"auto"!==s||(s="horizontal"===a?"end":"start"),this.renderInner(r,t,e,n,o,a,s);var l=t.getBoxLayoutParams(),u={width:n.getWidth(),height:n.getHeight()},h=t.get("padding"),d=g.getLayoutRect(l,u,h),p=this.layoutInner(t,r,d,i,o,s),m=g.getLayoutRect(c.defaults({width:p.width,height:p.height},l),u,h);this.group.attr("position",[m.x-p.x,m.y-p.y]),this.group.add(this._backgroundEl=f(p,t))}},resetInner:function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},renderInner:function(t,e,n,i,s,l,u){var h=this.getContentGroup(),d=c.createHashMap(),p=e.get("selectedMode"),f=[];n.eachRawSeries(function(t){!t.get("legendHoverLink")&&f.push(t.id)}),v(e.getData(),function(s,l){var c=s.get("name");if(!this.newlineDisabled&&(""===c||"\n"===c))return void h.add(new y({newline:!0}));var u=n.getSeriesByName(c)[0];if(!d.get(c))if(u){var g=u.getData(),v=g.getVisual("color"),x=g.getVisual("borderColor");"function"==typeof v&&(v=v(u.getDataParams(0))),"function"==typeof x&&(x=x(u.getDataParams(0)));var _=g.getVisual("legendSymbol")||"roundRect",b=g.getVisual("symbol"),w=this._createItem(c,l,s,e,_,b,t,v,x,p);w.on("click",m(r,c,null,i,f)).on("mouseover",m(a,u.name,null,i,f)).on("mouseout",m(o,u.name,null,i,f)),d.set(c,!0)}else n.eachRawSeries(function(n){if(!d.get(c)&&n.legendVisualProvider){var u=n.legendVisualProvider;if(!u.containName(c))return;var h=u.indexOfName(c),g=u.getItemVisual(h,"color"),v=u.getItemVisual(h,"borderColor");this._createItem(c,l,s,e,"roundRect",null,t,g,v,p).on("click",m(r,null,c,i,f)).on("mouseover",m(a,null,c,i,f)).on("mouseout",m(o,null,c,i,f)),d.set(c,!0)}},this)},this),s&&this._createSelector(s,e,i,l,u)},_createSelector:function(t,e,n,i,r){function a(t){var i=t.type,r=new d.Text({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){n.dispatchAction({type:"all"===i?"legendAllSelect":"legendInverseSelect"})}});o.add(r);var a=e.getModel("selectorLabel"),s=e.getModel("emphasis.selectorLabel");d.setLabelStyle(r.style,r.hoverStyle={},a,s,{defaultText:t.title,isRectText:!1}),d.setHoverStyle(r)}var o=this.getSelectorGroup();v(t,function(t){a(t)})},_createItem:function(t,e,n,r,a,o,s,l,u,p){var f=r.get("itemWidth"),g=r.get("itemHeight"),m=r.get("inactiveColor"),v=r.get("inactiveBorderColor"),x=r.get("symbolKeepAspect"),_=r.getModel("itemStyle"),b=r.isSelected(t),w=new y,M=n.getModel("textStyle"),S=n.get("icon"),T=n.getModel("tooltip"),A=T.parentModel;a=S||a;var C=h(a,0,0,f,g,b?l:m,null==x||x);if(w.add(i(C,a,_,u,v,b)),!S&&o&&(o!==a||"none"===o)){var L=.8*g;"none"===o&&(o="circle");var E=h(o,(f-L)/2,(g-L)/2,L,L,b?l:m,null==x||x);w.add(i(E,o,_,u,v,b))}var I="left"===s?f+5:-5,P=s,D=r.get("formatter"),R=t;"string"==typeof D&&D?R=D.replace("{name}",null!=t?t:""):"function"==typeof D&&(R=D(t)),w.add(new d.Text({style:d.setTextStyle({},M,{text:R,x:I,y:g/2,textFill:b?M.getTextColor():m,textAlign:P,textVerticalAlign:"middle"})}));var O=new d.Rect({shape:w.getBoundingRect(),invisible:!0,tooltip:T.get("show")?c.extend({content:t,formatter:A.get("formatter",!0)||function(){return t},formatterParams:{componentType:"legend",legendIndex:r.componentIndex,name:t,$vars:["name"]}},T.option):null});return w.add(O),w.eachChild(function(t){t.silent=!0}),O.silent=!p,this.getContentGroup().add(w),d.setHoverStyle(w),w.__legendDataIndex=e,w},layoutInner:function(t,e,n,i,r,a){var o=this.getContentGroup(),s=this.getSelectorGroup();g.box(t.get("orient"),o,t.get("itemGap"),n.width,n.height);var l=o.getBoundingRect(),c=[-l.x,-l.y];if(r){g.box("horizontal",s,t.get("selectorItemGap",!0));var u=s.getBoundingRect(),h=[-u.x,-u.y],d=t.get("selectorButtonGap",!0),p=t.getOrient().index,f=0===p?"width":"height",m=0===p?"height":"width",v=0===p?"y":"x";"end"===a?h[p]+=l[f]+d:c[p]+=u[f]+d,h[1-p]+=l[m]/2-u[m]/2,s.attr("position",h),o.attr("position",c);var y={x:0,y:0};return y[f]=l[f]+d+u[f],y[m]=Math.max(l[m],u[m]),y[v]=Math.min(0,u[v]+h[1-p]),y}return o.attr("position",c),this.group.getBoundingRect()},remove:function(){this.getContentGroup().removeAll(),this._isFirstRender=!0}});t.exports=x},function(t,e,n){n(118),n(55),n(56),n(572),n(573),n(120),n(121)},function(t,e,n){n(118),n(55),n(56),n(574),n(575),n(120),n(121)},function(t,e,n){var i=n(1),r=n(226);n(227),n(228),n(578),n(579),n(233),i.registerPreprocessor(r)},function(t,e,n){function i(t){var e=t&&t.visualMap;a.isArray(e)||(e=e?[e]:[]),o(e,function(t){if(t){r(t,"splitList")&&!r(t,"pieces")&&(t.pieces=t.splitList,delete t.splitList);var e=t.pieces;e&&a.isArray(e)&&o(e,function(t){a.isObject(t)&&(r(t,"start")&&!r(t,"min")&&(t.min=t.start),r(t,"end")&&!r(t,"max")&&(t.max=t.end))})}})}function r(t,e){return t&&t.hasOwnProperty&&t.hasOwnProperty(e)}var a=n(0),o=a.each;t.exports=i},function(t,e,n){n(13).registerSubTypeDefaulter("visualMap",function(t){return t.categories||(t.pieces?t.pieces.length>0:t.splitNumber>0)&&!t.calculable?"piecewise":"continuous"})},function(t,e,n){function i(t,e,n,i){function r(t){return c[t]}function a(t,e){c[t]=e}for(var o=e.targetVisuals[i],l=s.prepareVisualTypes(o),c={color:t.getData().getVisual("color")},u=0,h=l.length;u<h;u++){var d=l[u],p=o["opacity"===d?"__alphaForOpacity":d];p&&p.applyVisual(n,r,a)}return c.color}var r=n(1),a=n(0),o=n(91),s=n(45),l=r.PRIORITY.VISUAL.COMPONENT;r.registerVisual(l,{createOnAllSeries:!0,reset:function(t,e){var n=[];return e.eachComponent("visualMap",function(e){var i=t.pipelineContext;!e.isTargetSeries(t)||i&&i.large||n.push(o.incrementalApplyVisual(e.stateList,e.targetVisuals,a.bind(e.getValueState,e),e.getDataDimension(t.getData())))}),n}}),r.registerVisual(l,{createOnAllSeries:!0,reset:function(t,e){var n=t.getData(),r=[];e.eachComponent("visualMap",function(e){if(e.isTargetSeries(t)){var o=e.getVisualMeta(a.bind(i,null,t,e))||{stops:[],outerColors:[]},s=e.getDataDimension(n),l=n.getDimensionInfo(s);null!=l&&(o.dimension=l.index,r.push(o))}}),t.getData().setVisual("visualMeta",r)}})},function(t,e,n){var i=n(1),r=n(0),a=n(11),o=n(230),s=n(45),l=n(91),c=n(4),u=n(3),h=s.mapVisual,d=s.eachVisual,p=r.isArray,f=r.each,g=u.asc,m=u.linearMap,v=r.noop,y=i.extendComponentModel({type:"visualMap",dependencies:["series"],stateList:["inRange","outOfRange"],replacableOptionKeys:["inRange","outOfRange","target","controller","color"],dataBound:[-1/0,1/0],layoutMode:{type:"box",ignoreSize:!0},defaultOption:{show:!0,zlevel:0,z:4,seriesIndex:"all",min:0,max:200,dimension:null,inRange:null,outOfRange:null,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,color:null,formatter:null,text:null,textStyle:{color:"#333"}},init:function(t,e,n){this._dataExtent,this.targetVisuals={},this.controllerVisuals={},this.textStyleModel,this.itemSize,this.mergeDefaultAndTheme(t,n)},optionUpdated:function(t,e){var n=this.option;a.canvasSupported||(n.realtime=!1),!e&&l.replaceVisualOption(n,t,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},resetVisual:function(t){var e=this.stateList;t=r.bind(t,this),this.controllerVisuals=l.createVisualMappings(this.option.controller,e,t),this.targetVisuals=l.createVisualMappings(this.option.target,e,t)},getTargetSeriesIndices:function(){var t=this.option.seriesIndex,e=[];return null==t||"all"===t?this.ecModel.eachSeries(function(t,n){e.push(n)}):e=c.normalizeToArray(t),e},eachTargetSeries:function(t,e){r.each(this.getTargetSeriesIndices(),function(n){t.call(e,this.ecModel.getSeriesByIndex(n))},this)},isTargetSeries:function(t){var e=!1;return this.eachTargetSeries(function(n){n===t&&(e=!0)}),e},formatValueText:function(t,e,n){function i(t){return t===c[0]?"min":t===c[1]?"max":(+t).toFixed(Math.min(l,20))}var a,o,s=this.option,l=s.precision,c=this.dataBound,u=s.formatter;return n=n||["<",">"],r.isArray(t)&&(t=t.slice(),a=!0),o=e?t:a?[i(t[0]),i(t[1])]:i(t),r.isString(u)?u.replace("{value}",a?o[0]:o).replace("{value2}",a?o[1]:o):r.isFunction(u)?a?u(t[0],t[1]):u(t):a?t[0]===c[0]?n[0]+" "+o[1]:t[1]===c[1]?n[1]+" "+o[0]:o[0]+" - "+o[1]:o},resetExtent:function(){var t=this.option,e=g([t.min,t.max]);this._dataExtent=e},getDataDimension:function(t){var e=this.option.dimension,n=t.dimensions;if(null!=e||n.length){if(null!=e)return t.getDimension(e);for(var i=t.dimensions,r=i.length-1;r>=0;r--){var a=i[r];if(!t.getDimensionInfo(a).isCalculationCoord)return a}}},getExtent:function(){return this._dataExtent.slice()},completeVisualOption:function(){function t(t){p(a.color)&&!t.inRange&&(t.inRange={color:a.color.slice().reverse()}),t.inRange=t.inRange||{color:i.get("gradientColor")},f(this.stateList,function(e){var n=t[e];if(r.isString(n)){var i=o.get(n,"active",g);i?(t[e]={},t[e][n]=i):delete t[e]}},this)}function e(t,e,n){var i=t[e],r=t[n];i&&!r&&(r=t[n]={},f(i,function(t,e){if(s.isValidType(e)){var n=o.get(e,"inactive",g);null!=n&&(r[e]=n,"color"!==e||r.hasOwnProperty("opacity")||r.hasOwnProperty("colorAlpha")||(r.opacity=[0,0]))}}))}function n(t){var e=(t.inRange||{}).symbol||(t.outOfRange||{}).symbol,n=(t.inRange||{}).symbolSize||(t.outOfRange||{}).symbolSize,i=this.get("inactiveColor");f(this.stateList,function(a){var o=this.itemSize,s=t[a];s||(s=t[a]={color:g?i:[i]}),null==s.symbol&&(s.symbol=e&&r.clone(e)||(g?"roundRect":["roundRect"])),null==s.symbolSize&&(s.symbolSize=n&&r.clone(n)||(g?o[0]:[o[0],o[0]])),s.symbol=h(s.symbol,function(t){return"none"===t||"square"===t?"roundRect":t});var l=s.symbolSize;if(null!=l){var c=-1/0;d(l,function(t){t>c&&(c=t)}),s.symbolSize=h(l,function(t){return m(t,[0,c],[0,o[0]],!0)})}},this)}var i=this.ecModel,a=this.option,l={inRange:a.inRange,outOfRange:a.outOfRange},c=a.target||(a.target={}),u=a.controller||(a.controller={});r.merge(c,l),r.merge(u,l);var g=this.isCategory();t.call(this,c),t.call(this,u),e.call(this,c,"inRange","outOfRange"),n.call(this,u)},resetItemSize:function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},isCategory:function(){return!!this.option.categories},setSelected:v,getValueState:v,getVisualMeta:v}),x=y;t.exports=x},function(t,e,n){var i=n(0),r={get:function(t,e,n){var r=i.clone((a[t]||{})[e]);return n&&i.isArray(r)?r[r.length-1]:r}},a={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},o=r;t.exports=o},function(t,e,n){var i=n(1),r=n(0),a=n(2),o=n(9),s=n(6),l=n(45),c=i.extendComponentView({type:"visualMap",autoPositionValues:{left:1,right:1,top:1,bottom:1},init:function(t,e){this.ecModel=t,this.api=e,this.visualMapModel},render:function(t,e,n,i){if(this.visualMapModel=t,!1===t.get("show"))return void this.group.removeAll();this.doRender.apply(this,arguments)},renderBackground:function(t){var e=this.visualMapModel,n=o.normalizeCssArray(e.get("padding")||0),i=t.getBoundingRect();t.add(new a.Rect({z2:-1,silent:!0,shape:{x:i.x-n[3],y:i.y-n[0],width:i.width+n[3]+n[1],height:i.height+n[0]+n[2]},style:{fill:e.get("backgroundColor"),stroke:e.get("borderColor"),lineWidth:e.get("borderWidth")}}))},getControllerVisual:function(t,e,n){function i(t){return c[t]}function a(t,e){c[t]=e}n=n||{};var o=n.forceState,s=this.visualMapModel,c={};if("symbol"===e&&(c.symbol=s.get("itemSymbol")),"color"===e){var u=s.get("contentColor");c.color=u}var h=s.controllerVisuals[o||s.getValueState(t)],d=l.prepareVisualTypes(h);return r.each(d,function(r){var o=h[r];n.convertOpacityToAlpha&&"opacity"===r&&(r="colorAlpha",o=h.__alphaForOpacity),l.dependsOn(r,e)&&o&&o.applyVisual(t,i,a)}),c[e]},positionGroup:function(t){var e=this.visualMapModel,n=this.api;s.positionElement(t,e.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})},doRender:r.noop});t.exports=c},function(t,e,n){function i(t,e,n){var i=t.option,r=i.align;if(null!=r&&"auto"!==r)return r;for(var a={width:e.getWidth(),height:e.getHeight()},o="horizontal"===i.orient?1:0,l=[["left","right","width"],["top","bottom","height"]],c=l[o],u=[0,null,10],h={},d=0;d<3;d++)h[l[1-o][d]]=u[d],h[c[d]]=2===d?n[0]:i[c[d]];var p=[["x","width",3],["y","height",0]][o],f=s(h,a,i.padding);return c[(f.margin[p[2]]||0)+f[p[0]]+.5*f[p[1]]<.5*a[p[1]]?0:1]}function r(t,e){return a.each(t||[],function(t){null!=t.dataIndex&&(t.dataIndexInside=t.dataIndex,t.dataIndex=null),t.highlightKey="visualMap"+(e?e.componentIndex:"")}),t}var a=n(0),o=n(6),s=o.getLayoutRect;e.getItemAlign=i,e.makeHighDownBatch=r},function(t,e,n){var i=n(1),r={type:"selectDataRange",event:"dataRangeSelected",update:"update"};i.registerAction(r,function(t,e){e.eachComponent({mainType:"visualMap",query:t},function(e){e.setSelected(t.selected)})})},function(t,e,n){var i=n(1),r=n(226);n(227),n(228),n(580),n(581),n(233),i.registerPreprocessor(r)},function(t,e,n){function i(t){return a(t)}function r(){if(!c&&u){c=!0;var t=u.styleSheets;t.length<31?u.createStyleSheet().addRule(".zrvml","behavior:url(#default#VML)"):t[0].addRule(".zrvml","behavior:url(#default#VML)")}}var a,o=n(11),s="urn:schemas-microsoft-com:vml",l="undefined"==typeof window?null:window,c=!1,u=l&&l.document;if(u&&!o.canvasSupported)try{!u.namespaces.zrvml&&u.namespaces.add("zrvml",s),a=function(t){return u.createElement("<zrvml:"+t+' class="zrvml">')}}catch(t){a=function(t){return u.createElement("<"+t+' xmlns="'+s+'" class="zrvml">')}}e.doc=u,e.createNode=i,e.initVML=r},function(t,e,n){"use strict";var i=n(153);e.a={extends:i.a,methods:{buildChart:function(t){var e=this;if(void 0!==document.getElementById(e.$data.chartid)){var n=[],i=[],r=[];for(var a in e.chartdata)r.push(a),i.push(e.chartdata[a]),n.push({name:a,value:e.chartdata[a]});var o={title:{text:e.title,textStyle:{color:e.textcolor},x:"left"},color:e.colors,tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:r,axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value"}],series:[{barWidth:"60%",name:e.hovertitle,type:"bar",data:i}]};t.setOption(o)}}}}},function(t,e,n){"use strict";var i=n(597);e.a={extends:i.a,methods:{renderPath:function(t,e){var n=this,i=n.$data.wide/n.values.length*.6,r=n.$data.wide/n.values.length*(e+.5),a=[],o=n.getLiveHeight();a.push({x:r-i/2,y:o}),a.push({x:r+i/2,y:o}),a.push({x:r+i/2,y:o-o*t}),a.push({x:r-i/2,y:o-o*t});for(var s="",l=0;l<a.length;l++)s+=0===l?"M ":" L ",s+=a[l].x.toString()+" "+a[l].y.toString();return s+=" Z"}}}},function(t,e,n){"use strict";function i(t){return{x:t.pageX,y:t.pageY}}function r(t,e){for(var n=-99999999999,i=0;i<t.length;i++)t[i]>n&&(n=t[i]);if(e)for(var r=0;r<c.length;r++)n<c[r]&&(n=c[r],r=c.length+1);return n}function a(t){for(var e=99999999999,n=0;n<t.length;n++)t[n]<e&&(e=t[n]);return e}function o(t,e){for(var n=void 0!==e?e:r(t,!0),i=[],a=0;a<t.length;a++)i.push(t[a]/n);return i}function s(t){for(var e=!1,n=11;!e;)n--,e=t/n===Math.round(t/n);return n}var l={calandar:"M26.8,81.9l3.3-3.3l-3.3-3.3l3.4-3.4l3.3,3.3l3.3-3.3l3.4,3.4l-3.3,3.3l3.3,3.3l-3.4,3.4L33.5,82l-3.3,3.3L26.8,81.9zM53.9,85.3l3.3-3.3l3.3,3.3l3.4-3.4l-3.3-3.3l3.3-3.3l-3.4-3.4l-3.3,3.3l-3.3-3.3l-3.4,3.4l3.3,3.3l-3.3,3.3L53.9,85.3z M77.7,85.3L81,82l3.3,3.3l3.4-3.4l-3.3-3.3l3.3-3.3l-3.4-3.4L81,75.2l-3.3-3.3l-3.4,3.4l3.3,3.3l-3.3,3.3L77.7,85.3z M130,23.7v103.2H9.4V51.9v-4.8V23.7h18.6V13.3h19.7v25.4H27.9V28.5H14.2v18.6h104.5v4.8H14.2V122h111V28.5h-8.7v-4.8H130z M32.7,33.9h10.1V18.1H32.7V33.9zM91.8,28.5h-39v-4.8h39V13.3h19.7v25.4H91.8V28.5z M96.6,23.7v4.8v5.4h10.1V18.1H96.6V23.7z M40.2,61.2H26.8V66h13.5V61.2zM64,61.2H50.5V66H64V61.2z M87.7,61.2H74.2V66h13.5V61.2z M111.4,61.2H98V66h13.5V61.2z M111.4,76.9H98v4.8h13.5V76.9z M40.2,92.5H26.8v4.8h13.5V92.5z M64,92.5H50.5v4.8H64V92.5z M87.7,92.5H74.2v4.8h13.5V92.5z M111.4,92.5H98v4.8h13.5V92.5z M26.8,112.9h13.5v-4.8H26.8V112.9z M50.5,112.9H64v-4.8H50.5V112.9z M74.2,112.9h13.5v-4.8H74.2V112.9z M98,112.9h13.5v-4.8H98V112.9z",search:"M119.1,22.9C101.7,4.8,72.8,4.2,54.6,21.6C38.4,37.2,36.2,62,48.4,80.1L38.1,90l-1.3-1.4c-0.6-0.6-1.8-0.7-2.4-0.1L11,111c-2.2,2.1-3.4,4.9-3.5,7.9c-0.1,3,1.1,5.9,3.1,8c2.2,2.2,5,3.4,7.9,3.5c2.9,0.1,5.8-1,8-3.1L50,104.8c0.7-0.7,0.7-1.7,0.1-2.4l-1.3-1.4l10.3-9.9c7.5,5.6,16.6,8.7,26.2,8.9c12.2,0.3,23.7-4.3,32.5-12.7C135.9,70,136.5,41.1,119.1,22.9z M24.3,124.8c-3.1,3-8.1,2.9-11.1-0.2c-1.5-1.5-2.2-3.5-2.2-5.6c0-2.1,0.9-4.1,2.4-5.5l22.2-21.3l1.3,1.4c0,0,0,0,0,0l8.3,8.6c0,0,0,0,0,0l1.3,1.4L24.3,124.8z M46.4,98.6L41.1,93l-0.6-0.6l9.8-9.4l5.9,6.2L46.4,98.6z M115.4,85c-8.1,7.8-18.8,12-30.1,11.7c-11.3-0.2-21.8-4.9-29.6-13C39.6,66.9,40.2,40.2,57,24.1c8.4-8.1,19.3-11.9,30.1-11.7c10.8,0.2,21.5,4.6,29.6,13C132.8,42.1,132.2,68.9,115.4,85z M111.2,30.5c-6.4-6.7-15-10.5-24.3-10.7c-9.3-0.2-18,3.2-24.7,9.6c-13.8,13.2-14.2,35.2-1,49c6.6,6.9,15.4,10.5,24.3,10.6c8.9,0.2,17.8-3,24.7-9.6c6.7-6.4,10.5-15,10.7-24.3C121,46,117.6,37.2,111.2,30.5z M107.8,77.1C95.4,89,75.6,88.6,63.6,76.1C51.7,63.7,52.1,43.9,64.6,32c6-5.8,13.9-8.9,22.3-8.7c8.3,0.2,16.1,3.6,21.9,9.6c5.8,6,8.9,13.9,8.7,22.3C117.2,63.5,113.8,71.3,107.8,77.1z",chevron:"M69.7,126.4c-2.6,0-5-1.4-6.3-3.7L8.4,24.9c-2-3.5-0.7-7.9,2.7-9.8c3.4-2,7.9-0.8,9.8,2.8l48.8,86.6l48.8-86.6c1.9-3.5,6.4-4.7,9.8-2.8c3.5,1.9,4.7,6.4,2.8,9.8L76,122.7C74.7,125,72.3,126.4,69.7,126.4z",searchDetail:"",profileWithArrow:""},c=[0,5,10,15,20,25,50,100,500,1e3,5e3,1e4],u=["#00aeef","#f26d7d","#7cc576","#fdc689","#a186be","#ec008c","#c69c6d","#ed145b","#f26522","#acd373","#aba000","#f5989d"],h={Bar:"bar",Line:"line",OverUnder:"overunder"},d={Shapes:l,ChartColors:u,ChartTypes:h,processedMouseEvent:i,getHighest:r,getLowest:a,getRatios:o,getDenomenator:s};e.a=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=(n(240),n(131)),r=n(243);new i.a({el:"#app",render:function(t){return t(r.a)}})},function(t,e,n){"use strict";(function(t){var e=n(241),i=n(130),r=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==t)return t;throw new Error("unable to locate global object")}();"Promise"in r?r.Promise.prototype.finally||(r.Promise.prototype.finally=i.a):r.Promise=e.a}).call(e,n(57))},function(t,e,n){"use strict";(function(t){function i(t){return Boolean(t&&void 0!==t.length)}function r(){}function a(t,e){return function(){t.apply(e,arguments)}}function o(t){if(!(this instanceof o))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],d(t,this)}function s(t,e){for(;3===t._state;)t=t._value;if(0===t._state)return void t._deferreds.push(e);t._handled=!0,o._immediateFn(function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null===n)return void(1===t._state?l:c)(e.promise,t._value);var i;try{i=n(t._value)}catch(t){return void c(e.promise,t)}l(e.promise,i)})}function l(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof o)return t._state=3,t._value=e,void u(t);if("function"==typeof n)return void d(a(n,e),t)}t._state=1,t._value=e,u(t)}catch(e){c(t,e)}}function c(t,e){t._state=2,t._value=e,u(t)}function u(t){2===t._state&&0===t._deferreds.length&&o._immediateFn(function(){t._handled||o._unhandledRejectionFn(t._value)});for(var e=0,n=t._deferreds.length;e<n;e++)s(t,t._deferreds[e]);t._deferreds=null}function h(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function d(t,e){var n=!1;try{t(function(t){n||(n=!0,l(e,t))},function(t){n||(n=!0,c(e,t))})}catch(t){if(n)return;n=!0,c(e,t)}}var p=n(130),f=setTimeout;o.prototype.catch=function(t){return this.then(null,t)},o.prototype.then=function(t,e){var n=new this.constructor(r);return s(this,new h(t,e,n)),n},o.prototype.finally=p.a,o.all=function(t){return new o(function(e,n){function r(t,i){try{if(i&&("object"==typeof i||"function"==typeof i)){var s=i.then;if("function"==typeof s)return void s.call(i,function(e){r(t,e)},n)}a[t]=i,0==--o&&e(a)}catch(t){n(t)}}if(!i(t))return n(new TypeError("Promise.all accepts an array"));var a=Array.prototype.slice.call(t);if(0===a.length)return e([]);for(var o=a.length,s=0;s<a.length;s++)r(s,a[s])})},o.resolve=function(t){return t&&"object"==typeof t&&t.constructor===o?t:new o(function(e){e(t)})},o.reject=function(t){return new o(function(e,n){n(t)})},o.race=function(t){return new o(function(e,n){if(!i(t))return n(new TypeError("Promise.race accepts an array"));for(var r=0,a=t.length;r<a;r++)o.resolve(t[r]).then(e,n)})},o._immediateFn="function"==typeof t&&function(e){t(e)}||function(t){f(t,0)},o._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},e.a=o}).call(e,n(128).setImmediate)},function(t,e,n){(function(t,e){!function(t,n){"use strict";function i(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var i={callback:t,args:e};return c[l]=i,s(l),l++}function r(t){delete c[t]}function a(t){var e=t.callback,i=t.args;switch(i.length){case 0:e();break;case 1:e(i[0]);break;case 2:e(i[0],i[1]);break;case 3:e(i[0],i[1],i[2]);break;default:e.apply(n,i)}}function o(t){if(u)setTimeout(o,0,t);else{var e=c[t];if(e){u=!0;try{a(e)}finally{r(t),u=!1}}}}if(!t.setImmediate){var s,l=1,c={},u=!1,h=t.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(t);d=d&&d.setTimeout?d:t,"[object process]"==={}.toString.call(t.process)?function(){s=function(t){e.nextTick(function(){o(t)})}}():function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?function(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"==typeof n.data&&0===n.data.indexOf(e)&&o(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),s=function(n){t.postMessage(e+n,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){o(t.data)},s=function(e){t.port2.postMessage(e)}}():h&&"onreadystatechange"in h.createElement("script")?function(){var t=h.documentElement;s=function(e){var n=h.createElement("script");n.onreadystatechange=function(){o(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}():function(){s=function(t){setTimeout(o,0,t)}}(),d.setImmediate=i,d.clearImmediate=r}}("undefined"==typeof self?void 0===t?this:t:self)}).call(e,n(57),n(129))},function(t,e,n){"use strict";function i(t){n(244)}var r=n(132),a=n(599),o=n(20),s=i,l=o(r.a,a.a,!1,s,null,null);e.a=l.exports},function(t,e,n){var i=n(245);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n(28)("1f604bb5",i,!0,{})},function(t,e,n){e=t.exports=n(27)(!1),e.push([t.i,"div.viewports{position:fixed;top:0;left:0;right:250px;bottom:0}div.viewports>div{position:absolute;box-shadow:inset 0 0 0 1px #000}.object-listing{width:250px!important;position:fixed;top:0;right:0;bottom:0;overflow-x:hidden;overflow-y:auto;padding:0!important;margin-top:40px!important}div.editor-top-nav{height:40px;width:250px;position:fixed;top:0;right:0}div.editor-top-nav>button{width:50%}div.add-object-window{position:fixed;left:0;top:0;bottom:0;right:0;background-color:rgba(0,0,0,.85)}div.add-object-window>div{background-color:hsla(0,0%,100%,.9);width:300px;padding:6px;margin:50px auto}div.add-object-window>div>select{width:100%}label.object-row-label>button{float:right}div.subcharts-container{position:fixed;left:0;height:250px;right:0;bottom:0;background-color:hsla(0,0%,90%,.8)}div.subcharts-container>div{height:180px;width:1010px;margin:5px auto;position:relative}div.subcharts-container>div>h3{display:inline-block;padding:6px;margin:0}div.subcharts-container>div>ul{display:inline-block;position:absolute;top:0;right:5px}div.subcharts-container>div>div{height:180px}div.subcharts-container>div>div>div.echarts-chart{display:inline-block;height:200px}div.subcharts-container>div>div>div.echarts-chart>div,div.subcharts-container>div>div>div.echarts-chart>div>div,div.subcharts-container>div>div>div.echarts-chart>div>div canvas{height:100%}div.subcharts-container>div>div>div.echarts-chart:first-child{width:400px}div.subcharts-container>div>div>div.echarts-chart:last-child{width:600px}body{font-family:Arial,Helvetica,sans-serif}#app{font-family:Avenir,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-align:center;color:#2c3e50;margin-top:60px;font-size:11px}h1,h2{font-weight:400}a{color:#42b983}.dpk-bar-chart,.dpk-line-chart,.dpk-over-under-chart{position:relative}.dpk-bar-chart>svg,.dpk-line-chart>svg,.dpk-over-under-chart>svg{width:100%;height:100%}",""])},function(t,e){t.exports=function(t,e){for(var n=[],i={},r=0;r<e.length;r++){var a=e[r],o=a[0],s=a[1],l=a[2],c=a[3],u={id:t+":"+r,css:s,media:l,sourceMap:c};i[o]?i[o].parts.push(u):n.push(i[o]={id:o,parts:[u]})}return n}},function(t,e,n){"use strict";function i(t){n(248)}var r=n(133),a=n(258),o=n(20),s=i,l=o(r.a,a.a,!1,s,"data-v-0b196ec9",null);e.a=l.exports},function(t,e,n){var i=n(249);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n(28)("d02c54dc",i,!0,{})},function(t,e,n){e=t.exports=n(27)(!1),e.push([t.i,"div.view-shell[data-v-0b196ec9],div.view-shell div.view-container[data-v-0b196ec9]{width:100%;height:100%;position:absolute;top:0;left:0}",""])},function(t,e,n){var i=n(251);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n(28)("4c074f06",i,!0,{})},function(t,e,n){e=t.exports=n(27)(!1),e.push([t.i,"svg.single-axis[data-v-5b5e122d]{width:100%;height:100%;position:absolute}",""])},function(t,e,n){"use strict";function i(t){n(253)}var r=n(136),a=n(256),o=n(20),s=i,l=o(r.a,a.a,!1,s,"data-v-6b2481f0",null);e.a=l.exports},function(t,e,n){var i=n(254);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n(28)("45a8733e",i,!0,{})},function(t,e,n){e=t.exports=n(27)(!1),e.push([t.i,"div.centered-element[data-v-6b2481f0]{left:50%;top:50%;position:absolute;width:0;height:0}div.centered-element>a[data-v-6b2481f0]{position:absolute;background-color:#000;border-radius:200px}div.centered-element>div.element-edit-layer[data-v-6b2481f0]{position:fixed;top:0;left:0;right:0;bottom:0;z-index:400}",""])},function(t,e,n){"use strict";function i(t,e,n,i){var r=n-t,a=i-e;return Math.sqrt(Math.pow(r,2)+Math.pow(a,2))}function r(t,e,n,r){var a,o=n-t,s=r-e,l=i(t,e,n,r),c=o/l,u=180*Math.asin(c)/Math.PI,h=s/l,d=180*Math.asin(h)/Math.PI;return s<0?a=u:s>=0&&o>=0?a=d+90:s>=0&&o<0&&(a=-1*d-90),a}function a(t,e,n,i){var r,a=t,o=e,s=n,l=a,c=o,u=s-90,h=i;return"cos"===h&&(r=l+Math.cos(u*(Math.PI/180))*c),"sin"===h&&(r=l+Math.sin(u*(Math.PI/180))*c),r}n.d(e,"a",function(){return r}),n.d(e,"b",function(){return a})},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return null!=t.proxies.x&&void 0!=t.proxies.x?n("div",{staticClass:"centered-element",attrs:{id:t.containerID}},[n("a",{style:"left:"+(t.object.position[t.proxies.x]*t.scale).toString()+"px;top:"+(t.object.position[t.proxies.y]*t.scale*t.yFactor).toString()+"px;width:"+t.moverSize.width.toString()+"px;height:"+t.moverSize.height.toString()+"px;margin-left:"+(t.moverSize.width/-2).toString()+"px;margin-top:"+(t.moverSize.height/-2).toString()+"px;",on:{mousedown:t.onDragDown}}),t._v(" "),t.dragging?n("div",{staticClass:"element-edit-layer",on:{mousemove:t.onDragMove,mouseup:t.onDragUp}}):t._e(),t._v(" "),n("a",{style:"left:"+t.orbit(!0).toString()+"px;top:"+t.orbit().toString()+"px;width:"+t.moverSize.width.toString()+"px;height:"+t.moverSize.height.toString()+"px;margin-left:"+(t.moverSize.width/-2).toString()+"px;margin-top:"+(t.moverSize.height/-2).toString()+"px;",on:{mousedown:t.onRotateDown}}),t._v(" "),t.rotating?n("div",{staticClass:"element-edit-layer",on:{mousemove:t.onRotateMove,mouseup:t.onRotateUp}}):t._e(),t._v(" "),n("a",{style:"left:"+(t.object.position[t.proxies.x]*t.scale+t.scaleBase*t.object.scale[t.proxies.x]).toString()+"px;top:"+(t.object.position[t.proxies.y]*t.scale*t.yFactor).toString()+"px;width:"+t.moverSize.width.toString()+"px;height:"+t.moverSize.height.toString()+"px;margin-left:"+(t.moverSize.width/-2).toString()+"px;margin-top:"+(t.moverSize.height/-2).toString()+"px;",on:{mousedown:t.onScaleADown}}),t._v(" "),t.scalingA?n("div",{staticClass:"element-edit-layer",on:{mousemove:t.onScaleAMove,mouseup:t.onScaleAUp}}):t._e(),t._v(" "),n("a",{style:"left:"+(t.object.position[t.proxies.x]*t.scale).toString()+"px;top:"+(t.object.position[t.proxies.y]*t.scale*t.yFactor+t.scaleBase*t.object.scale[t.proxies.y]).toString()+"px;width:"+t.moverSize.width.toString()+"px;height:"+t.moverSize.height.toString()+"px;margin-left:"+(t.moverSize.width/-2).toString()+"px;margin-top:"+(t.moverSize.height/-2).toString()+"px;",on:{mousedown:t.onScaleBDown}}),t._v(" "),t.scalingB?n("div",{staticClass:"element-edit-layer",on:{mousemove:t.onScaleBMove,mouseup:t.onScaleBUp}}):t._e()]):t._e()},r=[],a={render:i,staticRenderFns:r};e.a=a},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"single-axis"},t._l(t.objects,function(e,i){return n("axiselement",{key:"group"+i.toString(),attrs:{axis:t.axis,object:e,offset:t.offset,scale:t.scale,index:i}})}))},r=[],a={render:i,staticRenderFns:r};e.a=a},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"view-shell"},[n("div",{staticClass:"view-container",attrs:{id:t.containerID}}),t._v(" "),n("wireframe",{attrs:{objects:t.objects,axis:t.axis,scale:t.axisData.scale}})],1)},r=[],a={render:i,staticRenderFns:r};e.a=a},function(t,e,n){"use strict";function i(t){n(260)}var r=n(138),a=n(262),o=n(20),s=i,l=o(r.a,a.a,!1,s,null,null);e.a=l.exports},function(t,e,n){var i=n(261);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n(28)("7d22f8da",i,!0,{})},function(t,e,n){e=t.exports=n(27)(!1),e.push([t.i,"div.layer-list-release-listener{position:fixed;left:0;top:0;bottom:0;right:0;background-color:rgba(0,0,0,.1);display:none}ul.layer-list-component{width:200px;display:block;height:100%;margin:0}ul.layer-list-component.is-dragging{user-select:none;-moz-user-select:none;-khtml-user-select:none;-webkit-user-select:none;-o-user-select:none}",""])},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{class:t.draggingClass,style:"padding:"+t.verticalPadding.toString()+"px 0;z-index:"+t.z.toString(),attrs:{id:t.componentID}},t._l(t.layers,function(e,i){return n("li",{key:i,style:t.getLayerStyle(i),attrs:{"layer-index":i}},[n("div",{class:"layer-list-dragger "+t.draggerclass,staticStyle:{float:"left"},attrs:{"layer-index":i},on:{mousedown:t.onDraggerDown,mouseup:t.onDraggerUp,mousemove:t.onDraggerMove}},[n("div",{staticClass:"layer-list-release-listener",staticStyle:{position:"fixed"}})]),t._v(" "),n("div",[t._t("slot"+i.toString())],2)])}))},r=[],a={render:i,staticRenderFns:r};e.a=a},function(t,e,n){"use strict";function i(t){n(264)}var r=n(139),a=n(266),o=n(20),s=i,l=o(r.a,a.a,!1,s,"data-v-78f3f56c",null);e.a=l.exports},function(t,e,n){var i=n(265);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n(28)("365ba863",i,!0,{})},function(t,e,n){e=t.exports=n(27)(!1),e.push([t.i,"table[data-v-78f3f56c]{width:100%}table tr.property-header[data-v-78f3f56c]{font-weight:700}table tr:not(.property-header)>td[data-v-78f3f56c]{width:50%}table tr:not(.property-header)>td>input[type=number][data-v-78f3f56c]{width:100%}table tr.util-ui-row td>button.delete[data-v-78f3f56c]{float:right}",""])},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("table",[t._m(0),t._v(" "),n("tr",[n("td",[t._v("X")]),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.object.position.x,expression:"object.position.x"}],attrs:{type:"number"},domProps:{value:t.object.position.x},on:{change:t.onInput,input:function(e){e.target.composing||t.$set(t.object.position,"x",e.target.value)}}})])]),t._v(" "),n("tr",[n("td",[t._v("Y")]),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.object.position.y,expression:"object.position.y"}],attrs:{type:"number"},domProps:{value:t.object.position.y},on:{change:t.onInput,input:function(e){e.target.composing||t.$set(t.object.position,"y",e.target.value)}}})])]),t._v(" "),n("tr",[n("td",[t._v("Z")]),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.object.position.z,expression:"object.position.z"}],attrs:{type:"number"},domProps:{value:t.object.position.z},on:{change:t.onInput,input:function(e){e.target.composing||t.$set(t.object.position,"z",e.target.value)}}})])]),t._v(" "),t._m(1),t._v(" "),n("tr",[n("td",[t._v("X")]),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.object.rotation.x,expression:"object.rotation.x"}],attrs:{type:"number"},domProps:{value:t.object.rotation.x},on:{change:t.onInput,input:function(e){e.target.composing||t.$set(t.object.rotation,"x",e.target.value)}}})])]),t._v(" "),n("tr",[n("td",[t._v("Y")]),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.object.rotation.y,expression:"object.rotation.y"}],attrs:{type:"number"},domProps:{value:t.object.rotation.y},on:{change:t.onInput,input:function(e){e.target.composing||t.$set(t.object.rotation,"y",e.target.value)}}})])]),t._v(" "),n("tr",[n("td",[t._v("Z")]),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.object.rotation.z,expression:"object.rotation.z"}],attrs:{type:"number"},domProps:{value:t.object.rotation.z},on:{change:t.onInput,input:function(e){e.target.composing||t.$set(t.object.rotation,"z",e.target.value)}}})])]),t._v(" "),t._m(2),t._v(" "),n("tr",[n("td",[t._v("X")]),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.object.scale.x,expression:"object.scale.x"}],attrs:{type:"number"},domProps:{value:t.object.scale.x},on:{change:t.onInput,input:function(e){e.target.composing||t.$set(t.object.scale,"x",e.target.value)}}})])]),t._v(" "),n("tr",[n("td",[t._v("Y")]),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.object.scale.y,expression:"object.scale.y"}],attrs:{type:"number"},domProps:{value:t.object.scale.y},on:{change:t.onInput,input:function(e){e.target.composing||t.$set(t.object.scale,"y",e.target.value)}}})])]),t._v(" "),n("tr",[n("td",[t._v("Z")]),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.object.scale.z,expression:"object.scale.z"}],attrs:{type:"number"},domProps:{value:t.object.scale.z},on:{change:t.onInput,input:function(e){e.target.composing||t.$set(t.object.scale,"z",e.target.value)}}})])]),t._v(" "),void 0!=t.object.ratio&&null!=t.object.ratio?n("tr",{staticClass:"property-header"},[n("td",[t._v("Ratio")]),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.object.ratio,expression:"object.ratio"}],attrs:{type:"number",redraw:"yes"},domProps:{value:t.object.ratio},on:{change:t.onInput,input:function(e){e.target.composing||t.$set(t.object,"ratio",e.target.value)}}})])]):t._e(),t._v(" "),void 0!=t.object.points&&null!=t.object.points&&t.index>=0?n("tr",{staticClass:"property-header"},[n("td",{attrs:{colspan:"2"}},[t._v("Points")])]):t._e(),t._v(" "),t._l(t.object.points,function(e,i){return void 0!=t.object.points&&null!=t.object.points&&t.index>=0?n("tr",{key:"point_"+i.toString()},[n("td",[t._v("Point "+t._s(i+1))]),t._v(" "),n("td",[n("table",[n("tr",[n("td",[n("input",{attrs:{pointid:t.index.toString()+":"+i.toString()+":x",type:"number",redraw:"yes"},domProps:{value:t.object.points[i].x},on:{change:t.onPointInput}})]),t._v(" "),n("td",[n("input",{attrs:{pointid:t.index.toString()+":"+i.toString()+":y",type:"number",redraw:"yes"},domProps:{value:t.object.points[i].y},on:{change:t.onPointInput}})]),t._v(" "),void 0!=t.object.points[i].z&&null!=t.object.points[i].z?n("td",[n("input",{attrs:{pointid:t.index.toString()+":"+i.toString()+":z",type:"number",redraw:"yes"},domProps:{value:t.object.points[i].z},on:{change:t.onPointInput}})]):t._e()])])])]):t._e()}),t._v(" "),void 0!=t.object.points&&null!=t.object.points&&t.index>=0?n("tr",[n("td",{attrs:{colspan:"2"}},[n("button",{on:{click:t.addPoint}},[t._v("Add Point")])])]):t._e()],2)},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",{staticClass:"property-header"},[n("td",{attrs:{colspan:"2"}},[t._v("\n      Position\n    ")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",{staticClass:"property-header"},[n("td",{attrs:{colspan:"2"}},[t._v("\n      Rotation\n    ")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",{staticClass:"property-header"},[n("td",{attrs:{colspan:"2"}},[t._v("\n      Scale\n    ")])])}],a={render:i,staticRenderFns:r};e.a=a},function(t,e,n){"use strict";function i(t){n(268)}var r=n(140),a=n(293),o=n(20),s=i,l=o(r.a,a.a,!1,s,"data-v-4b86f6fc",null);e.a=l.exports},function(t,e,n){var i=n(269);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n(28)("25882334",i,!0,{})},function(t,e,n){e=t.exports=n(27)(!1),e.push([t.i,"div.view-shell[data-v-4b86f6fc]{position:fixed;top:0;left:0;bottom:250px;right:0}div.view-shell div.view-container[data-v-4b86f6fc]{width:100%;height:100%;position:absolute;top:0;left:0}button[data-v-4b86f6fc],select[data-v-4b86f6fc]{position:relative;z-index:2000}ul.filter-menu[data-v-4b86f6fc]{position:fixed;top:0;left:0;bottom:250px;overflow-y:auto;display:block;width:300px}ul.filter-menu>li[data-v-4b86f6fc]{display:block}ul.view-menu[data-v-4b86f6fc]{position:fixed;right:5px;top:0;display:inline-block}ul.view-menu>li[data-v-4b86f6fc]{display:block}.scp3-tool-tip[data-v-4b86f6fc]{position:absolute;z-index:201;padding:4px;background-color:#fff;box-shadow:0 0 0 1px #333}",""])},function(t,e,n){"use strict";var i=n(141),r=n(271);n.d(e,"a",function(){return i.c});var a=i.w.registerPlugin(r.a)||i.w;a.core.Tween},function(t,e,n){"use strict";n.d(e,"a",function(){return gt});var i,r,a,o,s,l,c,u,h=n(141),d=function(){return"undefined"!=typeof window},p={},f=180/Math.PI,g=Math.PI/180,m=Math.atan2,v=/([A-Z])/g,y=/[-+=\.]*\d+[\.e-]*\d*[a-z%]*/g,x=/(?:left|right|width|margin|padding|x)/i,_=/[\s,\(]\S/,b={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},w=function(t,e){return e.set(e.t,e.p,~~(1e3*(e.s+e.c*t))/1e3+e.u,e)},M=function(t,e){return e.set(e.t,e.p,1===t?e.e:~~(1e3*(e.s+e.c*t))/1e3+e.u,e)},S=function(t,e){return e.set(e.t,e.p,t?~~(1e3*(e.s+e.c*t))/1e3+e.u:e.b,e)},T=function(t,e){var n=e.s+e.c*t;e.set(e.t,e.p,~~(n+(n<0?-.5:.5))+e.u,e)},A=function(t,e){return e.set(e.t,e.p,t?e.e:e.b,e)},C=function(t,e){return e.set(e.t,e.p,1!==t?e.b:e.e,e)},L=function(t,e,n){return t.style[e]=n},E=function(t,e,n){return t.style.setProperty(e,n)},I=function(t,e,n){return t._gsap[e]=n},P=function(t,e,n){return t._gsap.scaleX=t._gsap.scaleY=n},D=function(t,e,n,i,r){var a=t._gsap;a.scaleX=a.scaleY=n,a.renderTransform(r,a)},R=function(t,e,n,i,r){var a=t._gsap;a[e]=n,a.renderTransform(r,a)},O="transform",k=O+"Origin",N=function(t,e){var n=r.createElementNS?r.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):r.createElement(t);return n.style?n:r.createElement(t)},z=function t(e,n,i){var r=getComputedStyle(e);return r[n]||r.getPropertyValue(n.replace(v,"-$1").toLowerCase())||r.getPropertyValue(n)||!i&&t(e,V(n)||n,1)||""},B="O,Moz,ms,Ms,Webkit".split(","),V=function(t,e){var n=e||s,i=n.style,r=5;if(t in i)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);r--&&!(B[r]+t in i););return r<0?null:(3===r?"ms":r>=0?B[r]:"")+t},F=function(){d()&&(i=window,r=i.document,a=r.documentElement,s=N("div")||{style:{}},l=N("div"),O=V(O),k=V(k),s.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",u=!!V("perspective"),o=1)},G=function t(e){var n,i=N("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=this.parentNode,o=this.nextSibling,s=this.style.cssText;if(a.appendChild(i),i.appendChild(this),this.style.display="block",e)try{n=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=t}catch(t){}else this._gsapBBox&&(n=this._gsapBBox());return o?r.insertBefore(this,o):r.appendChild(this),a.removeChild(i),this.style.cssText=s,n},H=function(t,e){for(var n=e.length;n--;)if(t.hasAttribute(e[n]))return t.getAttribute(e[n])},U=function(t){var e;try{e=t.getBBox()}catch(n){e=G.call(t,!0)}return!e||e.width||e.x||e.y?e:{x:+H(t,["x","cx","x1"])||0,y:+H(t,["y","cy","y1"])||0,width:0,height:0}},j=function(t){return!(!t.getCTM||t.parentNode&&!t.ownerSVGElement||!U(t))},W=function(t,e){if(e){var n=t.style;e in p&&(e=O),n.removeProperty?("ms"!==e.substr(0,2)&&"webkit"!==e.substr(0,6)||(e="-"+e),n.removeProperty(e.replace(v,"-$1").toLowerCase())):n.removeAttribute(e)}},$=function(t,e,n,i,r,a){var o=new h.b(t._pt,e,n,0,1,a?C:A);return t._pt=o,o.b=i,o.e=r,t._props.push(n),o},Y={deg:1,rad:1,turn:1},X=function(t,e,n,i){var a,o,l,c,u=parseFloat(n)||0,d=(n+"").trim().substr((u+"").length)||"px",f=s.style,g=x.test(e),m="svg"===t.tagName.toLowerCase(),v=(m?"client":"offset")+(g?"Width":"Height"),y="px"===i;return i===d||!u||Y[i]||Y[d]?u:(c=t.getCTM&&j(t),"%"===i&&(p[e]||~e.indexOf("adius"))?Object(h.s)(u/(c?t.getBBox()[g?"width":"height"]:t[v])*100):(f[g?"width":"height"]=100+(y?d:i),o=~e.indexOf("adius")||"em"===i&&t.appendChild&&!m?t:t.parentNode,c&&(o=(t.ownerSVGElement||{}).parentNode),o&&o!==r&&o.appendChild||(o=r.body),(l=o._gsap)&&"%"===i&&l.width&&g&&l.time===h.u.time?Object(h.s)(u/l.width*100):(o===t&&(f.position="static"),o.appendChild(s),a=s[v],o.removeChild(s),f.position="absolute",g&&"%"===i&&(l=Object(h.h)(o),l.time=h.u.time,l.width=o[v]),Object(h.s)(y?a*u/100:100/a*u))))},q=function(t,e,n,i){var r;return o||F(),e in b&&"transform"!==e&&(e=b[e],~e.indexOf(",")&&(e=e.split(",")[0])),p[e]&&"transform"!==e?(r=st(t,i),r="transformOrigin"!==e?r[e]:lt(z(t,k))+r.zOrigin+"px"):(!(r=t.style[e])||"auto"===r||i||~(r+"").indexOf("calc("))&&(r=tt[e]&&tt[e](t,e,n)||z(t,e)||Object(h.i)(t,e)||("opacity"===e?1:0)),n&&!~(r+"").indexOf(" ")?X(t,e,r,n)+n:r},Z=function(t,e,n,i){var r,a,o,s,l,c,u,d,p,f,g,m,v,x=new h.b(this._pt,t.style,e,0,1,h.q),_=0,b=0;if(x.b=n,x.e=i,n+="",i+="","auto"===i&&(t.style[e]=i,i=z(t,e)||i,t.style[e]=n),r=[n,i],Object(h.e)(r),n=r[0],i=r[1],c=n.indexOf("rgba("),u=i.indexOf("rgba("),!!c!=!!u&&(c?n=n.substr(c)+" "+n.substr(0,c-1):i=i.substr(u)+" "+i.substr(0,u-1)),o=n.match(y)||[],v=i.match(y)||[],v.length){for(;a=y.exec(i);)u=a[0],p=i.substring(_,a.index),l?l=(l+1)%5:"rgba("!==p.substr(-5)&&"hsla("!==p.substr(-5)||(l=1),u!==(c=o[b++]||"")&&(s=parseFloat(c)||0,g=c.substr((s+"").length),m="="===u.charAt(1)?+(u.charAt(0)+"1"):0,m&&(u=u.substr(2)),d=parseFloat(u),f=u.substr((d+"").length),_=y.lastIndex-f.length,f||(f=f||h.f.units[e]||g,_===i.length&&(i+=f,x.e+=f)),g!==f&&(s=X(t,e,c,f)||0),x._pt={_next:x._pt,p:p||1===b?p:",",s:s,c:m?m*d:d-s,m:l&&l<4?Math.round:0});x.c=_<i.length?i.substring(_,i.length):""}else x.r="display"===e&&"none"===i?C:A;return h.p.test(i)&&(x.e=0),this._pt=x,x},J={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},K=function(t){var e=t.split(" "),n=e[0],i=e[1]||"50%";return"top"!==n&&"bottom"!==n&&"left"!==i&&"right"!==i||(t=n,n=i,i=t),e[0]=J[n]||n,e[1]=J[i]||i,e.join(" ")},Q=function(t,e){if(e.tween&&e.tween._time===e.tween._dur){var n,i,r,a=e.t,o=a.style,s=e.u;if("all"===s||!0===s)o.cssText="",i=1;else for(s=s.split(","),r=s.length;--r>-1;)n=s[r],p[n]&&(i=1,n="transformOrigin"===n?k:O),W(a,n);i&&(W(a,O),(i=a._gsap)&&(i.svg&&a.removeAttribute("transform"),st(a,1)))}},tt={clearProps:function(t,e,n,i,r){if("isFromStart"!==r.data){var a=t._pt=new h.b(t._pt,e,n,0,0,Q);return a.u=i,a.pr=-10,a.tween=r,t._props.push(n),1}}},et=[1,0,0,1,0,0],nt={},it=function(t){return"matrix(1, 0, 0, 1, 0, 0)"===t||"none"===t||!t},rt=function(t){var e=z(t,O);return it(e)?et:e.substr(7).match(h.n).map(h.s)},at=function(t,e){var n,i,r,o,s=t._gsap,l=t.style,c=rt(t);return s.svg&&t.getAttribute("transform")?(r=t.transform.baseVal.consolidate().matrix,c=[r.a,r.b,r.c,r.d,r.e,r.f],"1,0,0,1,0,0"===c.join(",")?et:c):(c!==et||t.offsetParent||t===a||s.svg||(r=l.display,l.display="block",n=t.parentNode,n&&t.offsetParent||(o=1,i=t.nextSibling,a.appendChild(t)),c=rt(t),r?l.display=r:W(t,"display"),o&&(i?n.insertBefore(t,i):n?n.appendChild(t):a.removeChild(t))),e&&c.length>6?[c[0],c[1],c[4],c[5],c[12],c[13]]:c)},ot=function(t,e,n,i,r,a){var o,s,l,c,u=t._gsap,h=r||at(t,!0),d=u.xOrigin||0,p=u.yOrigin||0,f=u.xOffset||0,g=u.yOffset||0,m=h[0],v=h[1],y=h[2],x=h[3],_=h[4],b=h[5],w=e.split(" "),M=parseFloat(w[0])||0,S=parseFloat(w[1])||0;n?h!==et&&(s=m*x-v*y)&&(l=M*(x/s)+S*(-y/s)+(y*b-x*_)/s,c=M*(-v/s)+S*(m/s)-(m*b-v*_)/s,M=l,S=c):(o=U(t),M=o.x+(~w[0].indexOf("%")?M/100*o.width:M),S=o.y+(~(w[1]||w[0]).indexOf("%")?S/100*o.height:S)),i||!1!==i&&u.smooth?(_=M-d,b=S-p,u.xOffset=f+(_*m+b*y)-_,u.yOffset=g+(_*v+b*x)-b):u.xOffset=u.yOffset=0,u.xOrigin=M,u.yOrigin=S,u.smooth=!!i,u.origin=e,u.originIsAbsolute=!!n,t.style[k]="0px 0px",a&&($(a,u,"xOrigin",d,M),$(a,u,"yOrigin",p,S),$(a,u,"xOffset",f,u.xOffset),$(a,u,"yOffset",g,u.yOffset))},st=function(t,e){var n=t._gsap||new h.a(t);if("x"in n&&!e&&!n.uncache)return n;var i,r,a,o,s,l,c,d,p,g,v,y,x,_,b,w,M,S,T,A,C,L,E,I,P,D,R,N,B,V,F=t.style,G=n.scaleX<0,H=n.xOrigin||0,U=n.yOrigin||0,W=z(t,k)||"0";return i=r=a=l=c=d=p=g=v=0,o=s=1,n.svg=!(!t.getCTM||!j(t)),y=at(t,n.svg),n.svg&&ot(t,W,n.originIsAbsolute,!1!==n.smooth,y),y!==et&&(w=y[0],M=y[1],S=y[2],T=y[3],i=A=y[4],r=C=y[5],6===y.length?(o=Math.sqrt(w*w+M*M),s=Math.sqrt(T*T+S*S),l=w||M?m(M,w)*f:0,p=S||T?m(S,T)*f+l:0,n.svg&&(i-=H-(H*w+U*S),r-=U-(H*M+U*T))):(V=y[6],N=y[7],P=y[8],D=y[9],R=y[10],B=y[11],i=y[12],r=y[13],a=y[14],x=m(V,R),c=x*f,x&&(_=Math.cos(-x),b=Math.sin(-x),L=A*_+P*b,E=C*_+D*b,I=V*_+R*b,P=A*-b+P*_,D=C*-b+D*_,R=V*-b+R*_,B=N*-b+B*_,A=L,C=E,V=I),x=m(-S,R),d=x*f,x&&(_=Math.cos(-x),b=Math.sin(-x),L=w*_-P*b,E=M*_-D*b,I=S*_-R*b,B=T*b+B*_,w=L,M=E,S=I),x=m(M,w),l=x*f,x&&(_=Math.cos(x),b=Math.sin(x),L=w*_+M*b,E=A*_+C*b,M=M*_-w*b,C=C*_-A*b,w=L,A=E),c&&Math.abs(c)+Math.abs(l)>359.9&&(c=l=0,d=180-d),o=Object(h.s)(Math.sqrt(w*w+M*M+S*S)),s=Object(h.s)(Math.sqrt(C*C+V*V)),x=m(A,C),p=Math.abs(x)>2e-4?x*f:0,v=B?1/(B<0?-B:B):0),n.svg&&(y=t.getAttribute("transform"),n.forceCSS=t.setAttribute("transform","")||!it(z(t,O)),y&&t.setAttribute("transform",y))),Math.abs(p)>90&&Math.abs(p)<270&&(G?(o*=-1,p+=l<=0?180:-180,l+=l<=0?180:-180):(s*=-1,p+=p<=0?180:-180)),n.x=((n.xPercent=i&&Math.round(t.offsetWidth/2)===Math.round(-i)?-50:0)?0:i)+"px",n.y=((n.yPercent=r&&Math.round(t.offsetHeight/2)===Math.round(-r)?-50:0)?0:r)+"px",n.z=a+"px",n.scaleX=Object(h.s)(o),n.scaleY=Object(h.s)(s),n.rotation=Object(h.s)(l)+"deg",n.rotationX=Object(h.s)(c)+"deg",n.rotationY=Object(h.s)(d)+"deg",n.skewX=p+"deg",n.skewY=g+"deg",n.transformPerspective=v+"px",(n.zOrigin=parseFloat(W.split(" ")[2])||0)&&(F[k]=lt(W)),n.xOffset=n.yOffset=0,n.force3D=h.f.force3D,n.renderTransform=n.svg?dt:u?ht:ut,n.uncache=0,n},lt=function(t){return(t=t.split(" "))[0]+" "+t[1]},ct=function(t,e,n){var i=Object(h.v)(e);return Object(h.s)(parseFloat(e)+parseFloat(X(t,"x",n+"px",i)))+i},ut=function(t,e){e.z="0px",e.rotationY=e.rotationX="0deg",e.force3D=0,ht(t,e)},ht=function(t,e){var n=e||this,i=n.xPercent,r=n.yPercent,a=n.x,o=n.y,s=n.z,l=n.rotation,c=n.rotationY,u=n.rotationX,h=n.skewX,d=n.skewY,p=n.scaleX,f=n.scaleY,m=n.transformPerspective,v=n.force3D,y=n.target,x=n.zOrigin,_="",b="auto"===v&&t&&1!==t||!0===v;if(x&&("0deg"!==u||"0deg"!==c)){var w,M=parseFloat(c)*g,S=Math.sin(M),T=Math.cos(M);M=parseFloat(u)*g,w=Math.cos(M),a=ct(y,a,S*w*-x),o=ct(y,o,-Math.sin(M)*-x),s=ct(y,s,T*w*-x+x)}"0px"!==m&&(_+="perspective("+m+") "),(i||r)&&(_+="translate("+i+"%, "+r+"%) "),(b||"0px"!==a||"0px"!==o||"0px"!==s)&&(_+="0px"!==s||b?"translate3d("+a+", "+o+", "+s+") ":"translate("+a+", "+o+") "),"0deg"!==l&&(_+="rotate("+l+") "),"0deg"!==c&&(_+="rotateY("+c+") "),"0deg"!==u&&(_+="rotateX("+u+") "),"0deg"===h&&"0deg"===d||(_+="skew("+h+", "+d+") "),1===p&&1===f||(_+="scale("+p+", "+f+") "),y.style[O]=_||"translate(0, 0)"},dt=function(t,e){var n,i,r,a,o,s=e||this,l=s.xPercent,c=s.yPercent,u=s.x,d=s.y,p=s.rotation,f=s.skewX,m=s.skewY,v=s.scaleX,y=s.scaleY,x=s.target,_=s.xOrigin,b=s.yOrigin,w=s.xOffset,M=s.yOffset,S=s.forceCSS,T=parseFloat(u),A=parseFloat(d);p=parseFloat(p),f=parseFloat(f),m=parseFloat(m),m&&(m=parseFloat(m),f+=m,p+=m),p||f?(p*=g,f*=g,n=Math.cos(p)*v,i=Math.sin(p)*v,r=Math.sin(p-f)*-y,a=Math.cos(p-f)*y,f&&(m*=g,o=Math.tan(f-m),o=Math.sqrt(1+o*o),r*=o,a*=o,m&&(o=Math.tan(m),o=Math.sqrt(1+o*o),n*=o,i*=o)),n=Object(h.s)(n),i=Object(h.s)(i),r=Object(h.s)(r),a=Object(h.s)(a)):(n=v,a=y,i=r=0),(T&&!~(u+"").indexOf("px")||A&&!~(d+"").indexOf("px"))&&(T=X(x,"x",u,"px"),A=X(x,"y",d,"px")),(_||b||w||M)&&(T=Object(h.s)(T+_-(_*n+b*r)+w),A=Object(h.s)(A+b-(_*i+b*a)+M)),(l||c)&&(o=x.getBBox(),T=Object(h.s)(T+l/100*o.width),A=Object(h.s)(A+c/100*o.height)),o="matrix("+n+","+i+","+r+","+a+","+T+","+A+")",x.setAttribute("transform",o),S&&(x.style[O]=o)},pt=function(t,e,n,i,r,a){var o,s,l=Object(h.k)(r),c=parseFloat(r)*(l&&~r.indexOf("rad")?f:1),u=a?c*a:c-i,d=i+u+"deg";return l&&(o=r.split("_")[1],"short"===o&&(u%=360)!==u%180&&(u+=u<0?360:-360),"cw"===o&&u<0?u=(u+36e9)%360-360*~~(u/360):"ccw"===o&&u>0&&(u=(u-36e9)%360-360*~~(u/360))),t._pt=s=new h.b(t._pt,e,n,i,u,M),s.e=d,s.u="deg",t._props.push(n),s},ft=function(t,e,n){var i,a,o,s,c,u,d,f,g=l.style,m=n._gsap,v="perspective,force3D,transformOrigin,svgOrigin";g.cssText=getComputedStyle(n).cssText+";position:absolute;display:block;",g[O]=e,r.body.appendChild(l),i=st(l,1);for(a in p)o=m[a],s=i[a],o!==s&&v.indexOf(a)<0&&(d=Object(h.v)(o),f=Object(h.v)(s),c=d!==f?X(n,a,o,f):parseFloat(o),u=parseFloat(s),t._pt=new h.b(t._pt,m,a,c,u-c,w),t._pt.u=f||0,t._props.push(a));r.body.removeChild(l)};Object(h.g)("padding,margin,Width,Radius",function(t,e){var n="Top",i="Right",r="Bottom",a="Left",o=(e<3?[n,i,r,a]:[n+a,n+i,r+i,r+a]).map(function(n){return e<2?t+n:"border"+n+t});tt[e>1?"border"+t:t]=function(t,e,n,i,r){var a,s;if(arguments.length<4)return a=o.map(function(e){return q(t,e,n)}),s=a.join(" "),5===s.split(a[0]).length?a[0]:s;a=(i+"").split(" "),s={},o.forEach(function(t,e){return s[t]=a[e]=a[e]||a[(e-1)/2|0]}),t.init(e,s,r)}});var gt={name:"css",register:F,targetTest:function(t){return t.style&&t.nodeType},init:function(t,e,n,i,r){var a,s,l,c,u,d,f,g,m,v,y,x,M,A,C,L=this._props,E=t.style;o||F();for(f in e)if("autoRound"!==f&&(s=e[f],!h.o[f]||!Object(h.d)(f,e,n,i,t,r)))if(u=typeof s,d=tt[f],"function"===u&&(s=s.call(n,i,t,r),u=typeof s),"string"===u&&~s.indexOf("random(")&&(s=Object(h.r)(s)),d)d(this,t,f,s,n)&&(C=1);else if("--"===f.substr(0,2))this.add(E,"setProperty",getComputedStyle(t).getPropertyValue(f)+"",s+"",i,r,0,0,f);else{if(a=q(t,f),c=parseFloat(a),v="string"===u&&"="===s.charAt(1)?+(s.charAt(0)+"1"):0,v&&(s=s.substr(2)),l=parseFloat(s),f in b&&("autoAlpha"===f&&(1===c&&"hidden"===q(t,"visibility")&&l&&(c=0),$(this,E,"visibility",c?"inherit":"hidden",l?"inherit":"hidden",!l)),"scale"!==f&&"transform"!==f&&(f=b[f],~f.indexOf(",")&&(f=f.split(",")[0]))),y=f in p)if(x||(M=t._gsap,M.renderTransform||st(t),A=!1!==e.smoothOrigin&&M.smooth,x=this._pt=new h.b(this._pt,E,O,0,1,M.renderTransform,M,0,-1),x.dep=1),"scale"===f)this._pt=new h.b(this._pt,M,"scaleY",M.scaleY,v?v*l:l-M.scaleY),L.push("scaleY",f),f+="X";else{if("transformOrigin"===f){s=K(s),M.svg?ot(t,s,0,A,0,this):(m=parseFloat(s.split(" ")[2]),m!==M.zOrigin&&$(this,M,"zOrigin",M.zOrigin,m),$(this,E,f,lt(a),lt(s)));continue}if("svgOrigin"===f){ot(t,s,1,A,0,this);continue}if(f in nt){pt(this,M,f,c,s,v);continue}if("smoothOrigin"===f){$(this,M,"smooth",M.smooth,s);continue}if("force3D"===f){M[f]=s;continue}if("transform"===f){ft(this,s,t);continue}}else f in E||(f=V(f)||f);if(y||(l||0===l)&&(c||0===c)&&!_.test(s)&&f in E)g=(a+"").substr((c+"").length),m=(s+"").substr((l+"").length)||(f in h.f.units?h.f.units[f]:g),g!==m&&(c=X(t,f,a,m)),this._pt=new h.b(this._pt,y?M:E,f,c,v?v*l:l-c,"px"!==m||!1===e.autoRound||y?w:T),this._pt.u=m||0,g!==m&&(this._pt.b=a,this._pt.r=S);else if(f in E)Z.call(this,t,f,a,s);else{if(!(f in t)){Object(h.m)(f,s);continue}this.add(t,f,t[f],s,i,r)}L.push(f)}C&&Object(h.t)(this)},get:q,aliases:b,getSetter:function(t,e,n){return e=b[e]||e,e in p&&e!==k&&(t._gsap.x||q(t,"x"))?n&&c===n?"scale"===e?P:I:(c=n||{})&&("scale"===e?D:R):t.style&&!Object(h.l)(t.style[e])?L:~e.indexOf("-")?E:Object(h.j)(t,e)}};h.w.utils.checkPrefix=V,function(t,e,n,i){var r=Object(h.g)("x,y,z,scale,scaleX,scaleY,xPercent,yPercent,"+e+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",function(t){p[t]=1});Object(h.g)(e,function(t){h.f.units[t]="deg",nt[t]=1}),b[r[13]]="x,y,z,scale,scaleX,scaleY,xPercent,yPercent,"+e,Object(h.g)("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",function(t){var e=t.split(":");b[e[1]]=r[e[0]]})}(0,"rotation,rotationX,rotationY,skewX,skewY"),Object(h.g)("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(t){h.f.units[t]="px"}),h.w.registerPlugin(gt)},function(t,e,n){t.exports=n(273)},function(t,e,n){"use strict";function i(t){var e=new o(t),n=a(o.prototype.request,e);return r.extend(n,o.prototype,e),r.extend(n,e),n}var r=n(16),a=n(143),o=n(274),s=n(149),l=n(146),c=i(l);c.Axios=o,c.create=function(t){return i(s(c.defaults,t))},c.Cancel=n(150),c.CancelToken=n(287),c.isCancel=n(145),c.all=function(t){return Promise.all(t)},c.spread=n(288),t.exports=c,t.exports.default=c},function(t,e,n){"use strict";function i(t){this.defaults=t,this.interceptors={request:new o,response:new o}}var r=n(16),a=n(144),o=n(275),s=n(276),l=n(149);i.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{},t.url=arguments[0]):t=t||{},t=l(this.defaults,t),t.method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=[s,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)n=n.then(e.shift(),e.shift());return n},i.prototype.getUri=function(t){return t=l(this.defaults,t),a(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],function(t){i.prototype[t]=function(e,n){return this.request(r.merge(n||{},{method:t,url:e}))}}),r.forEach(["post","put","patch"],function(t){i.prototype[t]=function(e,n,i){return this.request(r.merge(i||{},{method:t,url:e,data:n}))}}),t.exports=i},function(t,e,n){"use strict";function i(){this.handlers=[]}var r=n(16);i.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},i.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},i.prototype.forEach=function(t){r.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=i},function(t,e,n){"use strict";function i(t){t.cancelToken&&t.cancelToken.throwIfRequested()}var r=n(16),a=n(277),o=n(145),s=n(146);t.exports=function(t){return i(t),t.headers=t.headers||{},t.data=a(t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),r.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||s.adapter)(t).then(function(e){return i(t),e.data=a(e.data,e.headers,t.transformResponse),e},function(e){return o(e)||(i(t),e&&e.response&&(e.response.data=a(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},function(t,e,n){"use strict";var i=n(16);t.exports=function(t,e,n){return i.forEach(n,function(n){t=n(t,e)}),t}},function(t,e,n){"use strict";var i=n(16);t.exports=function(t,e){i.forEach(t,function(n,i){i!==e&&i.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[i])})}},function(t,e,n){"use strict";var i=n(148);t.exports=function(t,e,n){var r=n.config.validateStatus;!r||r(n.status)?t(n):e(i("Request failed with status code "+n.status,n.config,null,n.request,n))}},function(t,e,n){"use strict";t.exports=function(t,e,n,i,r){return t.config=e,n&&(t.code=n),t.request=i,t.response=r,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},function(t,e,n){"use strict";var i=n(282),r=n(283);t.exports=function(t,e){return t&&!i(e)?r(t,e):e}},function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,n){"use strict";var i=n(16),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,a,o={};return t?(i.forEach(t.split("\n"),function(t){if(a=t.indexOf(":"),e=i.trim(t.substr(0,a)).toLowerCase(),n=i.trim(t.substr(a+1)),e){if(o[e]&&r.indexOf(e)>=0)return;o[e]="set-cookie"===e?(o[e]?o[e]:[]).concat([n]):o[e]?o[e]+", "+n:n}}),o):o}},function(t,e,n){"use strict";var i=n(16);t.exports=i.isStandardBrowserEnv()?function(){function t(t){var e=t;return n&&(r.setAttribute("href",e),e=r.href),r.setAttribute("href",e),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}var e,n=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");return e=t(window.location.href),function(n){var r=i.isString(n)?t(n):n;return r.protocol===e.protocol&&r.host===e.host}}():function(){return function(){return!0}}()},function(t,e,n){"use strict";var i=n(16);t.exports=i.isStandardBrowserEnv()?function(){return{write:function(t,e,n,r,a,o){var s=[];s.push(t+"="+encodeURIComponent(e)),i.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),i.isString(r)&&s.push("path="+r),i.isString(a)&&s.push("domain="+a),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},function(t,e,n){"use strict";function i(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var n=this;t(function(t){n.reason||(n.reason=new r(t),e(n.reason))})}var r=n(150);i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var t;return{token:new i(function(e){t=e}),cancel:t}},t.exports=i},function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e,n){"use strict";function i(t){n(290)}var r=n(151),a=n(292),o=n(20),s=i,l=o(r.a,a.a,!1,s,"data-v-cbf1690c",null);e.a=l.exports},function(t,e,n){var i=n(291);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n(28)("3e26710d",i,!0,{})},function(t,e,n){e=t.exports=n(27)(!1),e.push([t.i,"div.filter-builder[data-v-cbf1690c]{position:relative;z-index:200}div.filter-builder>input[data-v-cbf1690c]{position:absolute;left:0;top:0}div.filter-builder>label[data-v-cbf1690c]{padding-left:20px;display:inline-block}div.filter-builder>label>span[data-v-cbf1690c]{display:inline-block}div.filter-builder>input:checked+ul+button[data-v-cbf1690c],div.filter-builder>input:checked+ul[data-v-cbf1690c]{display:block}div.filter-builder>ul[data-v-cbf1690c]{display:none}div.filter-builder>ul>li[data-v-cbf1690c]{display:block}div.filter-builder>button[data-v-cbf1690c]{display:none}ul[data-v-cbf1690c]{margin-left:9px;padding:0}ul>li[data-v-cbf1690c]{display:block;box-shadow:inset 0 1px 0 #999}",""])},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"filter-builder",style:t.enabled?"opacity:1;":"opacity:.5;"},[n("label",{attrs:{id:"display-label-"+t.index,for:"display-"+t.index}},[t._t("default"),n("br"),n("span",[t._v(t._s(t.renderFilterLabel()))])],2),t.enabled?n("input",{attrs:{id:"display-"+t.index,type:"checkbox"}}):t._e(),t._v(" "),t.statistics?n("ul",t._l(t.stats,function(e,i,r){return i==t.tier1Val?n("li",{key:"teir1-"+r.toString()},[n("ul",[n("li",[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.tier2Val,expression:"tier2Val"}],attrs:{type:"radio",value:"ALL",name:t.index+"teir2"},domProps:{checked:t._q(t.tier2Val,"ALL")},on:{change:[function(e){t.tier2Val="ALL"},function(e){t.onRadioChange(2)}]}}),t._v("all")])]),t._v(" "),t._l(t.stats[i],function(e,a,o){return n("li",{key:"teir2-"+o.toString()+"-"+r.toString()},[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.tier2Val,expression:"tier2Val"}],attrs:{type:"radio",name:t.index+"teir2"},domProps:{value:a,checked:t._q(t.tier2Val,a)},on:{change:[function(e){t.tier2Val=a},function(e){t.onRadioChange(2)}]}}),t._v(t._s(a))]),t._v(" "),t.tier2Val===a?n("ul",[n("li",[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.tier3Val,expression:"tier3Val"}],attrs:{type:"radio",value:"ALL",name:t.index+"teir3"},domProps:{checked:t._q(t.tier3Val,"ALL")},on:{change:[function(e){t.tier3Val="ALL"},function(e){t.onRadioChange(3)}]}}),t._v("all")])]),t._v(" "),t._l(t.stats[i][a],function(e,s,l){return n("li",{key:"teir3-"+l.toString()+"-"+o.toString()+"-"+r.toString()},[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.tier3Val,expression:"tier3Val"}],attrs:{type:"radio",name:t.index+"teir3"},domProps:{value:s,checked:t._q(t.tier3Val,s)},on:{change:[function(e){t.tier3Val=s},function(e){t.onRadioChange(3)}]}}),t._v(t._s(s))]),t._v(" "),t.tier3Val===s?n("ul",[n("li",[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.tier4Val,expression:"tier4Val"}],attrs:{type:"radio",value:"ALL",name:t.index+"teir4"},domProps:{checked:t._q(t.tier4Val,"ALL")},on:{change:[function(e){t.tier4Val="ALL"},function(e){t.onRadioChange(4)}]}}),t._v("all")])]),t._v(" "),t._l(t.stats[i][a][s],function(e,i,a){return n("li",{key:"teir3-"+a.toString()+"-"+l.toString()+"-"+o.toString()+"-"+r.toString()},[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.tier4Val,expression:"tier4Val"}],attrs:{type:"radio",name:t.index+"teir4"},domProps:{value:i,checked:t._q(t.tier4Val,i)},on:{change:[function(e){t.tier4Val=i},function(e){t.onRadioChange(4)}]}}),t._v(t._s(i))])])})],2):t._e()])})],2):t._e()])})],2)]):t._e()})):t._e()])},r=[],a={render:i,staticRenderFns:r};e.a=a},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"view-shell"},[t.valMatrix.length>=3?n("div",{staticClass:"view-container",attrs:{id:t.containerID}}):t._e(),t._v(" "),n("wireframe",{attrs:{objects:t.objects,axis:t.axis,scale:t.axisData.scale}}),t._v(" "),n("ul",{staticClass:"view-menu"},[n("li",[n("button",{on:{click:function(e){t.setViewMode(2)}}},[t._v("2D")]),t._v(" "),n("button",{on:{click:function(e){t.setViewMode(3)}}},[t._v("3D")])])]),t._v(" "),n("ul",{staticClass:"filter-menu"},t._l(t.valKeys,function(e,i){return n("li",{key:e+"-"+i.toString()},[n("filterbuild",{attrs:{enabled:null!=t.laodedData&&t.valMatrix.length>=i,stats:t.laodedData,t1:e,index:i,startteir:t.startTeirs[i]?t.startTeirs[i]:null},on:{confirm:t.filterConfirmed}},[n("span",{style:"font-weight: bold;"+t.filterSlots[i].style},[t._v(t._s(t.filterSlots[i].content))])])],1)})),t._v(" "),t.toolTipPosition.shown?n("div",{staticClass:"scp3-tool-tip",style:"top:"+t.toolTipPosition.y+"px;left:"+t.toolTipPosition.x+"px;"},[t._v("\n    "+t._s(t.toolTipPosition.content)+"\n  ")]):t._e()],1)},r=[],a={render:i,staticRenderFns:r};e.a=a},function(t,e,n){"use strict";var i=n(152),r=n(591),a=n(20),o=a(i.a,r.a,!1,null,null,null);e.a=o.exports},function(t,e,n){var i=n(1);!function(){for(var t in i){if(null==i||!i.hasOwnProperty(t)||"default"===t||"__esModule"===t)return;e[t]=i[t]}}();var r=n(179);!function(){for(var t in r){if(null==r||!r.hasOwnProperty(t)||"default"===t||"__esModule"===t)return;e[t]=r[t]}}(),n(177),n(342),n(353),n(358),n(363),n(367),n(377),n(391),n(397),n(405),n(420),n(424),n(428),n(440),n(446),n(451),n(457),n(461),n(467),n(471),n(474),n(488),n(494),n(500),n(501),n(513),n(212),n(205),n(516),n(520),n(521),n(533),n(71),n(538),n(546),n(547),n(556),n(559),n(562),n(565),n(220),n(571),n(224),n(223),n(577),n(225),n(234),n(582),n(585)},function(t,e,n){function i(t,e,n){return{type:t,event:n,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:n.zrX,offsetY:n.zrY,gestureEvent:n.gestureEvent,pinchX:n.pinchX,pinchY:n.pinchY,pinchScale:n.pinchScale,wheelDelta:n.zrDelta,zrByTouch:n.zrByTouch,which:n.which,stop:r}}function r(){d.stop(this.event)}function a(){}function o(t,e,n){if(t[t.rectHover?"rectContain":"contain"](e,n)){for(var i,r=t;r;){if(r.clipPath&&!r.clipPath.contain(e,n))return!1;r.silent&&(i=!0),r=r.parent}return!i||f}return!1}function s(t,e,n){var i=t.painter;return e<0||e>i.getWidth()||n<0||n>i.getHeight()}var l=n(0),c=n(7),u=n(297),h=n(38),d=n(23),p=n(299),f="silent";a.prototype.dispose=function(){};var g=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],m=function(t,e,n,i){h.call(this),this.storage=t,this.painter=e,this.painterRoot=i,n=n||new a,this.proxy=null,this._hovered={},this._lastTouchMoment,this._lastX,this._lastY,this._gestureMgr,u.call(this),this.setHandlerProxy(n)};m.prototype={constructor:m,setHandlerProxy:function(t){this.proxy&&this.proxy.dispose(),t&&(l.each(g,function(e){t.on&&t.on(e,this[e],this)},this),t.handler=this),this.proxy=t},mousemove:function(t){var e=t.zrX,n=t.zrY,i=s(this,e,n),r=this._hovered,a=r.target;a&&!a.__zr&&(r=this.findHover(r.x,r.y),a=r.target);var o=this._hovered=i?{x:e,y:n}:this.findHover(e,n),l=o.target,c=this.proxy;c.setCursor&&c.setCursor(l?l.cursor:"default"),a&&l!==a&&this.dispatchToElement(r,"mouseout",t),this.dispatchToElement(o,"mousemove",t),l&&l!==a&&this.dispatchToElement(o,"mouseover",t)},mouseout:function(t){var e=t.zrEventControl,n=t.zrIsToLocalDOM;"only_globalout"!==e&&this.dispatchToElement(this._hovered,"mouseout",t),"no_globalout"!==e&&!n&&this.trigger("globalout",{type:"globalout",event:t})},resize:function(t){this._hovered={}},dispatch:function(t,e){var n=this[t];n&&n.call(this,e)},dispose:function(){this.proxy.dispose(),this.storage=this.proxy=this.painter=null},setCursorStyle:function(t){var e=this.proxy;e.setCursor&&e.setCursor(t)},dispatchToElement:function(t,e,n){t=t||{};var r=t.target;if(!r||!r.silent){for(var a="on"+e,o=i(e,t,n);r&&(r[a]&&(o.cancelBubble=r[a].call(r,o)),r.trigger(e,o),r=r.parent,!o.cancelBubble););o.cancelBubble||(this.trigger(e,o),this.painter&&this.painter.eachOtherLayer(function(t){"function"==typeof t[a]&&t[a].call(t,o),t.trigger&&t.trigger(e,o)}))}},findHover:function(t,e,n){for(var i=this.storage.getDisplayList(),r={x:t,y:e},a=i.length-1;a>=0;a--){var s;if(i[a]!==n&&!i[a].ignore&&(s=o(i[a],t,e))&&(!r.topTarget&&(r.topTarget=i[a]),s!==f)){r.target=i[a];break}}return r},processGesture:function(t,e){this._gestureMgr||(this._gestureMgr=new p);var n=this._gestureMgr;"start"===e&&n.clear();var i=n.recognize(t,this.findHover(t.zrX,t.zrY,null).target,this.proxy.dom);if("end"===e&&n.clear(),i){var r=i.type;t.gestureEvent=r,this.dispatchToElement({target:i.target},r,i.event)}}},l.each(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(t){m.prototype[t]=function(e){var n,i,r=e.zrX,a=e.zrY,o=s(this,r,a);if("mouseup"===t&&o||(n=this.findHover(r,a),i=n.target),"mousedown"===t)this._downEl=i,this._downPoint=[e.zrX,e.zrY],this._upEl=i;else if("mouseup"===t)this._upEl=i;else if("click"===t){if(this._downEl!==this._upEl||!this._downPoint||c.dist(this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(n,t,e)}}),l.mixin(m,h),l.mixin(m,u);var v=m;t.exports=v},function(t,e){function n(){this.on("mousedown",this._dragStart,this),this.on("mousemove",this._drag,this),this.on("mouseup",this._dragEnd,this)}function i(t,e){return{target:t,topTarget:e&&e.topTarget}}n.prototype={constructor:n,_dragStart:function(t){var e=t.target;e&&e.draggable&&(this._draggingTarget=e,e.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.dispatchToElement(i(e,t),"dragstart",t.event))},_drag:function(t){var e=this._draggingTarget;if(e){var n=t.offsetX,r=t.offsetY,a=n-this._x,o=r-this._y;this._x=n,this._y=r,e.drift(a,o,t),this.dispatchToElement(i(e,t),"drag",t.event);var s=this.findHover(n,r,e).target,l=this._dropTarget;this._dropTarget=s,e!==s&&(l&&s!==l&&this.dispatchToElement(i(l,t),"dragleave",t.event),s&&s!==l&&this.dispatchToElement(i(s,t),"dragenter",t.event))}},_dragEnd:function(t){var e=this._draggingTarget;e&&(e.dragging=!1),this.dispatchToElement(i(e,t),"dragend",t.event),this._dropTarget&&this.dispatchToElement(i(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null}};var r=n;t.exports=r},function(t,e){function n(t,e,i,a,o,s){var l=a+"-"+o,c=t.length;if(s.hasOwnProperty(l))return s[l];if(1===e){var u=Math.round(Math.log((1<<c)-1&~o)/r);return t[i][u]}for(var h=a|1<<i,d=i+1;a&1<<d;)d++;for(var p=0,f=0,g=0;f<c;f++){var m=1<<f;m&o||(p+=(g%2?-1:1)*t[i][f]*n(t,e-1,d,h,o|m,s),g++)}return s[l]=p,p}function i(t,e){var i=[[t[0],t[1],1,0,0,0,-e[0]*t[0],-e[0]*t[1]],[0,0,0,t[0],t[1],1,-e[1]*t[0],-e[1]*t[1]],[t[2],t[3],1,0,0,0,-e[2]*t[2],-e[2]*t[3]],[0,0,0,t[2],t[3],1,-e[3]*t[2],-e[3]*t[3]],[t[4],t[5],1,0,0,0,-e[4]*t[4],-e[4]*t[5]],[0,0,0,t[4],t[5],1,-e[5]*t[4],-e[5]*t[5]],[t[6],t[7],1,0,0,0,-e[6]*t[6],-e[6]*t[7]],[0,0,0,t[6],t[7],1,-e[7]*t[6],-e[7]*t[7]]],r={},a=n(i,8,0,0,0,r);if(0!==a){for(var o=[],s=0;s<8;s++)for(var l=0;l<8;l++)null==o[l]&&(o[l]=0),o[l]+=((s+l)%2?-1:1)*n(i,7,0===s?1:0,1<<s,1<<l,r)/a*e[s];return function(t,e,n){var i=e*o[6]+n*o[7]+1;t[0]=(e*o[0]+n*o[1]+o[2])/i,t[1]=(e*o[3]+n*o[4]+o[5])/i}}}var r=Math.log(2);e.buildTransformer=i},function(t,e,n){function i(t){var e=t[1][0]-t[0][0],n=t[1][1]-t[0][1];return Math.sqrt(e*e+n*n)}function r(t){return[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]}var a=n(23),o=function(){this._track=[]};o.prototype={constructor:o,recognize:function(t,e,n){return this._doTrack(t,e,n),this._recognize(t)},clear:function(){return this._track.length=0,this},_doTrack:function(t,e,n){var i=t.touches;if(i){for(var r={points:[],touches:[],target:e,event:t},o=0,s=i.length;o<s;o++){var l=i[o],c=a.clientToLocal(n,l,{});r.points.push([c.zrX,c.zrY]),r.touches.push(l)}this._track.push(r)}},_recognize:function(t){for(var e in s)if(s.hasOwnProperty(e)){var n=s[e](this._track,t);if(n)return n}}};var s={pinch:function(t,e){var n=t.length;if(n){var a=(t[n-1]||{}).points,o=(t[n-2]||{}).points||a;if(o&&o.length>1&&a&&a.length>1){var s=i(a)/i(o);!isFinite(s)&&(s=1),e.pinchScale=s;var l=r(a);return e.pinchX=l[0],e.pinchY=l[1],{type:"pinch",target:t[0].target,event:e}}}}},l=o;t.exports=l},function(t,e,n){function i(t,e){return t.zlevel===e.zlevel?t.z===e.z?t.z2-e.z2:t.z-e.z:t.zlevel-e.zlevel}var r=n(0),a=n(11),o=n(46),s=n(94),l=function(){this._roots=[],this._displayList=[],this._displayListLen=0};l.prototype={constructor:l,traverse:function(t,e){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(t,e)},getDisplayList:function(t,e){return e=e||!1,t&&this.updateDisplayList(e),this._displayList},updateDisplayList:function(t){this._displayListLen=0;for(var e=this._roots,n=this._displayList,r=0,o=e.length;r<o;r++)this._updateAndAddDisplayable(e[r],null,t);n.length=this._displayListLen,a.canvasSupported&&s(n,i)},_updateAndAddDisplayable:function(t,e,n){if(!t.ignore||n){t.beforeUpdate(),t.__dirty&&t.update(),t.afterUpdate();var i=t.clipPath;if(i){e=e?e.slice():[];for(var r=i,a=t;r;)r.parent=a,r.updateTransform(),e.push(r),a=r,r=r.clipPath}if(t.isGroup){for(var o=t._children,s=0;s<o.length;s++){var l=o[s];t.__dirty&&(l.__dirty=!0),this._updateAndAddDisplayable(l,e,n)}t.__dirty=!1}else t.__clipPaths=e,this._displayList[this._displayListLen++]=t}},addRoot:function(t){t.__storage!==this&&(t instanceof o&&t.addChildrenToStorage(this),this.addToStorage(t),this._roots.push(t))},delRoot:function(t){if(null==t){for(var e=0;e<this._roots.length;e++){var n=this._roots[e];n instanceof o&&n.delChildrenFromStorage(this)}return this._roots=[],this._displayList=[],void(this._displayListLen=0)}if(t instanceof Array)for(var e=0,i=t.length;e<i;e++)this.delRoot(t[e]);else{var a=r.indexOf(this._roots,t);a>=0&&(this.delFromStorage(t),this._roots.splice(a,1),t instanceof o&&t.delChildrenFromStorage(this))}},addToStorage:function(t){return t&&(t.__storage=this,t.dirty(!1)),this},delFromStorage:function(t){return t&&(t.__storage=null),this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:i};var c=l;t.exports=c},function(t,e,n){function i(t,e,n,i,a,o,s,l){function h(){--p||o&&o()}c(i)?(o=a,a=i,i=0):u(a)?(o=a,a="linear",i=0):u(i)?(o=i,i=0):u(n)?(o=n,n=500):n||(n=500),t.stopAnimation(),r(t,"",t,e,n,i,l);var d=t.animators.slice(),p=d.length;p||o&&o();for(var f=0;f<d.length;f++)d[f].done(h).start(a,s)}function r(t,e,n,i,o,s,l){var c={},u=0;for(var p in i)i.hasOwnProperty(p)&&(null!=n[p]?h(i[p])&&!d(i[p])?r(t,e?e+"."+p:p,n[p],i[p],o,s,l):(l?(c[p]=n[p],a(t,e,p,i[p])):c[p]=i[p],u++):null==i[p]||l||a(t,e,p,i[p]));u>0&&t.animate(e,!1).when(null==o?500:o,c).delay(s||0)}function a(t,e,n,i){if(e){var r={};r[e]={},r[e][n]=i,t.attr(r)}else t.attr(n,i)}var o=n(156),s=n(58),l=n(0),c=l.isString,u=l.isFunction,h=l.isObject,d=l.isArrayLike,p=l.indexOf,f=function(){this.animators=[]};f.prototype={constructor:f,animate:function(t,e){var n,i=!1,r=this,a=this.__zr;if(t){var l=t.split("."),c=r;i="shape"===l[0];for(var u=0,h=l.length;u<h;u++)c&&(c=c[l[u]]);c&&(n=c)}else n=r;if(!n)return void s('Property "'+t+'" is not existed in element '+r.id);var d=r.animators,f=new o(n,e);return f.during(function(t){r.dirty(i)}).done(function(){d.splice(p(d,f),1)}),d.push(f),a&&a.animation.addAnimator(f),f},stopAnimation:function(t){for(var e=this.animators,n=e.length,i=0;i<n;i++)e[i].stop(t);return e.length=0,this},animateTo:function(t,e,n,r,a,o){i(this,t,e,n,r,a,o)},animateFrom:function(t,e,n,r,a,o){i(this,t,e,n,r,a,o,!0)}};var g=f;t.exports=g},function(t,e,n){function i(t){this._target=t.target,this._life=t.life||1e3,this._delay=t.delay||0,this._initialized=!1,this.loop=null!=t.loop&&t.loop,this.gap=t.gap||0,this.easing=t.easing||"Linear",this.onframe=t.onframe,this.ondestroy=t.ondestroy,this.onrestart=t.onrestart,this._pausedTime=0,this._paused=!1}var r=n(303);i.prototype={constructor:i,step:function(t,e){if(this._initialized||(this._startTime=t+this._delay,this._initialized=!0),this._paused)return void(this._pausedTime+=e);var n=(t-this._startTime-this._pausedTime)/this._life;if(!(n<0)){n=Math.min(n,1);var i=this.easing,a="string"==typeof i?r[i]:i,o="function"==typeof a?a(n):n;return this.fire("frame",o),1===n?this.loop?(this.restart(t),"restart"):(this._needsRemove=!0,"destroy"):null}},restart:function(t){var e=(t-this._startTime-this._pausedTime)%this._life;this._startTime=t-e+this.gap,this._pausedTime=0,this._needsRemove=!1},fire:function(t,e){t="on"+t,this[t]&&this[t](this._target,e)},pause:function(){this._paused=!0},resume:function(){this._paused=!1}};var a=i;t.exports=a},function(t,e){var n={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return.5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return 0===t?0:Math.pow(1024,t-1)},exponentialOut:function(t){return 1===t?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e,n=.1;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=.1):e=.4*Math.asin(1/n)/(2*Math.PI),-n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4))},elasticOut:function(t){var e,n=.1;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=.1):e=.4*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/.4)+1)},elasticInOut:function(t){var e,n=.1;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=.1):e=.4*Math.asin(1/n)/(2*Math.PI),(t*=2)<1?n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4)*-.5:n*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4)*.5+1)},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},backInOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)},bounceIn:function(t){return 1-n.bounceOut(1-t)},bounceOut:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return t<.5?.5*n.bounceIn(2*t):.5*n.bounceOut(2*t-1)+.5}},i=n;t.exports=i},function(t,e,n){function i(t){return parseInt(t,10)}function r(t){return!!t&&(!!t.__builtin__||"function"==typeof t.resize&&"function"==typeof t.refresh)}function a(t,e,n){return x.copy(t.getBoundingRect()),t.transform&&x.applyTransform(t.transform),_.width=e,_.height=n,!x.intersect(_)}function o(t,e){if(t===e)return!1;if(!t||!e||t.length!==e.length)return!0;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!0;return!1}function s(t,e){for(var n=0;n<t.length;n++){var i=t[n];i.setTransform(e),e.beginPath(),i.buildPath(e,i.shape),e.clip(),i.restoreTransform(e)}}function l(t,e){var n=document.createElement("div");return n.style.cssText=["position:relative","width:"+t+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",n}var c=n(75),u=c.devicePixelRatio,h=n(0),d=n(58),p=n(8),f=n(94),g=n(305),m=n(160),v=n(47),y=n(11),x=new p(0,0,0,0),_=new p(0,0,0,0),b=function(t,e,n){this.type="canvas";var i=!t.nodeName||"CANVAS"===t.nodeName.toUpperCase();this._opts=n=h.extend({},n||{}),this.dpr=n.devicePixelRatio||u,this._singleCanvas=i,this.root=t;var r=t.style;r&&(r["-webkit-tap-highlight-color"]="transparent",r["-webkit-user-select"]=r["user-select"]=r["-webkit-touch-callout"]="none",t.innerHTML=""),this.storage=e;var a=this._zlevelList=[],o=this._layers={};if(this._layerConfig={},this._needsManuallyCompositing=!1,i){var s=t.width,c=t.height;null!=n.width&&(s=n.width),null!=n.height&&(c=n.height),this.dpr=n.devicePixelRatio||1,t.width=s*this.dpr,t.height=c*this.dpr,this._width=s,this._height=c;var d=new g(t,this,this.dpr);d.__builtin__=!0,d.initContext(),o[314159]=d,d.zlevel=314159,a.push(314159),this._domRoot=t}else{this._width=this._getSize(0),this._height=this._getSize(1);var p=this._domRoot=l(this._width,this._height);t.appendChild(p)}this._hoverlayer=null,this._hoverElements=[]};b.prototype={constructor:b,getType:function(){return"canvas"},isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},getViewportRootOffset:function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},refresh:function(t){var e=this.storage.getDisplayList(!0),n=this._zlevelList;this._redrawId=Math.random(),this._paintList(e,t,this._redrawId);for(var i=0;i<n.length;i++){var r=n[i],a=this._layers[r];if(!a.__builtin__&&a.refresh){var o=0===i?this._backgroundColor:null;a.refresh(o)}}return this.refreshHover(),this},addHover:function(t,e){if(!t.__hoverMir){var n=new t.constructor({style:t.style,shape:t.shape,z:t.z,z2:t.z2,silent:t.silent});return n.__from=t,t.__hoverMir=n,e&&n.setStyle(e),this._hoverElements.push(n),n}},removeHover:function(t){var e=t.__hoverMir,n=this._hoverElements,i=h.indexOf(n,e);i>=0&&n.splice(i,1),t.__hoverMir=null},clearHover:function(t){for(var e=this._hoverElements,n=0;n<e.length;n++){var i=e[n].__from;i&&(i.__hoverMir=null)}e.length=0},refreshHover:function(){var t=this._hoverElements,e=t.length,n=this._hoverlayer;if(n&&n.clear(),e){f(t,this.storage.displayableSortFunc),n||(n=this._hoverlayer=this.getLayer(1e5));var i={};n.ctx.save();for(var r=0;r<e;){var a=t[r],o=a.__from;o&&o.__zr?(r++,o.invisible||(a.transform=o.transform,a.invTransform=o.invTransform,a.__clipPaths=o.__clipPaths,this._doPaintEl(a,n,!0,i))):(t.splice(r,1),o.__hoverMir=null,e--)}n.ctx.restore()}},getHoverLayer:function(){return this.getLayer(1e5)},_paintList:function(t,e,n){if(this._redrawId===n){e=e||!1,this._updateLayerStatus(t);var i=this._doPaintList(t,e);if(this._needsManuallyCompositing&&this._compositeManually(),!i){var r=this;m(function(){r._paintList(t,e,n)})}}},_compositeManually:function(){var t=this.getLayer(314159).ctx,e=this._domRoot.width,n=this._domRoot.height;t.clearRect(0,0,e,n),this.eachBuiltinLayer(function(i){i.virtual&&t.drawImage(i.dom,0,0,e,n)})},_doPaintList:function(t,e){for(var n=[],i=0;i<this._zlevelList.length;i++){var r=this._zlevelList[i],a=this._layers[r];a.__builtin__&&a!==this._hoverlayer&&(a.__dirty||e)&&n.push(a)}for(var o=!0,s=0;s<n.length;s++){var a=n[s],l=a.ctx,c={};l.save();var u=e?a.__startIndex:a.__drawIndex,d=!e&&a.incremental&&Date.now,p=d&&Date.now(),f=a.zlevel===this._zlevelList[0]?this._backgroundColor:null;if(a.__startIndex===a.__endIndex)a.clear(!1,f);else if(u===a.__startIndex){var g=t[u];g.incremental&&g.notClear&&!e||a.clear(!1,f)}-1===u&&(console.error("For some unknown reason. drawIndex is -1"),u=a.__startIndex);for(var m=u;m<a.__endIndex;m++){var v=t[m];if(this._doPaintEl(v,a,e,c),v.__dirty=v.__dirtyText=!1,d){if(Date.now()-p>15)break}}a.__drawIndex=m,a.__drawIndex<a.__endIndex&&(o=!1),c.prevElClipPaths&&l.restore(),l.restore()}return y.wxa&&h.each(this._layers,function(t){t&&t.ctx&&t.ctx.draw&&t.ctx.draw()}),o},_doPaintEl:function(t,e,n,i){var r=e.ctx,l=t.transform;if((e.__dirty||n)&&!t.invisible&&0!==t.style.opacity&&(!l||l[0]||l[3])&&(!t.culling||!a(t,this._width,this._height))){var c=t.__clipPaths,u=i.prevElClipPaths;u&&!o(c,u)||(u&&(r.restore(),i.prevElClipPaths=null,i.prevEl=null),c&&(r.save(),s(c,r),i.prevElClipPaths=c)),t.beforeBrush&&t.beforeBrush(r),t.brush(r,i.prevEl||null),i.prevEl=t,t.afterBrush&&t.afterBrush(r)}},getLayer:function(t,e){this._singleCanvas&&!this._needsManuallyCompositing&&(t=314159);var n=this._layers[t];return n||(n=new g("zr_"+t,this,this.dpr),n.zlevel=t,n.__builtin__=!0,this._layerConfig[t]&&h.merge(n,this._layerConfig[t],!0),e&&(n.virtual=e),this.insertLayer(t,n),n.initContext()),n},insertLayer:function(t,e){var n=this._layers,i=this._zlevelList,a=i.length,o=null,s=-1,l=this._domRoot;if(n[t])return void d("ZLevel "+t+" has been used already");if(!r(e))return void d("Layer of zlevel "+t+" is not valid");if(a>0&&t>i[0]){for(s=0;s<a-1&&!(i[s]<t&&i[s+1]>t);s++);o=n[i[s]]}if(i.splice(s+1,0,t),n[t]=e,!e.virtual)if(o){var c=o.dom;c.nextSibling?l.insertBefore(e.dom,c.nextSibling):l.appendChild(e.dom)}else l.firstChild?l.insertBefore(e.dom,l.firstChild):l.appendChild(e.dom)},eachLayer:function(t,e){var n,i,r=this._zlevelList;for(i=0;i<r.length;i++)n=r[i],t.call(e,this._layers[n],n)},eachBuiltinLayer:function(t,e){var n,i,r,a=this._zlevelList;for(r=0;r<a.length;r++)i=a[r],n=this._layers[i],n.__builtin__&&t.call(e,n,i)},eachOtherLayer:function(t,e){var n,i,r,a=this._zlevelList;for(r=0;r<a.length;r++)i=a[r],n=this._layers[i],n.__builtin__||t.call(e,n,i)},getLayers:function(){return this._layers},_updateLayerStatus:function(t){function e(t){r&&(r.__endIndex!==t&&(r.__dirty=!0),r.__endIndex=t)}if(this.eachBuiltinLayer(function(t,e){t.__dirty=t.__used=!1}),this._singleCanvas)for(var n=1;n<t.length;n++){var i=t[n];if(i.zlevel!==t[n-1].zlevel||i.incremental){this._needsManuallyCompositing=!0;break}}for(var r=null,a=0,n=0;n<t.length;n++){var o,i=t[n],s=i.zlevel;i.incremental?(o=this.getLayer(s+.001,this._needsManuallyCompositing),o.incremental=!0,a=1):o=this.getLayer(s+(a>0?.01:0),this._needsManuallyCompositing),o.__builtin__||d("ZLevel "+s+" has been used by unkown layer "+o.id),o!==r&&(o.__used=!0,o.__startIndex!==n&&(o.__dirty=!0),o.__startIndex=n,o.incremental?o.__drawIndex=-1:o.__drawIndex=n,e(n),r=o),i.__dirty&&(o.__dirty=!0,o.incremental&&o.__drawIndex<0&&(o.__drawIndex=n))}e(n),this.eachBuiltinLayer(function(t,e){!t.__used&&t.getElementCount()>0&&(t.__dirty=!0,t.__startIndex=t.__endIndex=t.__drawIndex=0),t.__dirty&&t.__drawIndex<0&&(t.__drawIndex=t.__startIndex)})},clear:function(){return this.eachBuiltinLayer(this._clearLayer),this},_clearLayer:function(t){t.clear()},setBackgroundColor:function(t){this._backgroundColor=t},configLayer:function(t,e){if(e){var n=this._layerConfig;n[t]?h.merge(n[t],e,!0):n[t]=e;for(var i=0;i<this._zlevelList.length;i++){var r=this._zlevelList[i];if(r===t||r===t+.01){var a=this._layers[r];h.merge(a,n[t],!0)}}}},delLayer:function(t){var e=this._layers,n=this._zlevelList,i=e[t];i&&(i.dom.parentNode.removeChild(i.dom),delete e[t],n.splice(h.indexOf(n,t),1))},resize:function(t,e){if(this._domRoot.style){var n=this._domRoot;n.style.display="none";var i=this._opts;if(null!=t&&(i.width=t),null!=e&&(i.height=e),t=this._getSize(0),e=this._getSize(1),n.style.display="",this._width!==t||e!==this._height){n.style.width=t+"px",n.style.height=e+"px";for(var r in this._layers)this._layers.hasOwnProperty(r)&&this._layers[r].resize(t,e);h.each(this._progressiveLayers,function(n){n.resize(t,e)}),this.refresh(!0)}this._width=t,this._height=e}else{if(null==t||null==e)return;this._width=t,this._height=e,this.getLayer(314159).resize(t,e)}return this},clearLayer:function(t){var e=this._layers[t];e&&e.clear()},dispose:function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(t){if(t=t||{},this._singleCanvas&&!this._compositeManually)return this._layers[314159].dom;var e=new g("image",this,t.pixelRatio||this.dpr);if(e.initContext(),e.clear(!1,t.backgroundColor||this._backgroundColor),t.pixelRatio<=this.dpr){this.refresh();var n=e.dom.width,i=e.dom.height,r=e.ctx;this.eachLayer(function(t){t.__builtin__?r.drawImage(t.dom,0,0,n,i):t.renderToCanvas&&(e.ctx.save(),t.renderToCanvas(e.ctx),e.ctx.restore())})}else for(var a={},o=this.storage.getDisplayList(!0),s=0;s<o.length;s++){var l=o[s];this._doPaintEl(l,e,!0,a)}return e.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(t){var e=this._opts,n=["width","height"][t],r=["clientWidth","clientHeight"][t],a=["paddingLeft","paddingTop"][t],o=["paddingRight","paddingBottom"][t];if(null!=e[n]&&"auto"!==e[n])return parseFloat(e[n]);var s=this.root,l=document.defaultView.getComputedStyle(s);return(s[r]||i(l[n])||i(s.style[n]))-(i(l[a])||0)-(i(l[o])||0)|0},pathToImage:function(t,e){e=e||this.dpr;var n=document.createElement("canvas"),i=n.getContext("2d"),r=t.getBoundingRect(),a=t.style,o=a.shadowBlur*e,s=a.shadowOffsetX*e,l=a.shadowOffsetY*e,c=a.hasStroke()?a.lineWidth:0,u=Math.max(c/2,-s+o),h=Math.max(c/2,s+o),d=Math.max(c/2,-l+o),p=Math.max(c/2,l+o),f=r.width+u+h,g=r.height+d+p;n.width=f*e,n.height=g*e,i.scale(e,e),i.clearRect(0,0,f,g),i.dpr=e;var m={position:t.position,rotation:t.rotation,scale:t.scale};t.position=[u-r.x,d-r.y],t.rotation=0,t.scale=[1,1],t.updateTransform(),t&&t.brush(i);var y=v,x=new y({style:{x:0,y:0,image:n}});return null!=m.position&&(x.position=t.position=m.position),null!=m.rotation&&(x.rotation=t.rotation=m.rotation),null!=m.scale&&(x.scale=t.scale=m.scale),x}};var w=b;t.exports=w},function(t,e,n){function i(){return!1}function r(t,e,n){var i=a.createCanvas(),r=e.getWidth(),o=e.getHeight(),s=i.style;return s&&(s.position="absolute",s.left=0,s.top=0,s.width=r+"px",s.height=o+"px",i.setAttribute("data-zr-dom-id",t)),i.width=r*n,i.height=o*n,i}var a=n(0),o=n(75),s=o.devicePixelRatio,l=n(95),c=n(159),u=function(t,e,n){var o;n=n||s,"string"==typeof t?o=r(t,e,n):a.isObject(t)&&(o=t,t=o.id),this.id=t,this.dom=o;var l=o.style;l&&(o.onselectstart=i,l["-webkit-user-select"]="none",l["user-select"]="none",l["-webkit-touch-callout"]="none",l["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",l.padding=0,l.margin=0,l["border-width"]=0),this.domBack=null,this.ctxBack=null,this.painter=e,this.config=null,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.dpr=n};u.prototype={constructor:u,__dirty:!0,__used:!1,__drawIndex:0,__startIndex:0,__endIndex:0,incremental:!1,getElementCount:function(){return this.__endIndex-this.__startIndex},initContext:function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},createBackBuffer:function(){var t=this.dpr;this.domBack=r("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),1!==t&&this.ctxBack.scale(t,t)},resize:function(t,e){var n=this.dpr,i=this.dom,r=i.style,a=this.domBack;r&&(r.width=t+"px",r.height=e+"px"),i.width=t*n,i.height=e*n,a&&(a.width=t*n,a.height=e*n,1!==n&&this.ctxBack.scale(n,n))},clear:function(t,e){var n=this.dom,i=this.ctx,r=n.width,a=n.height,e=e||this.clearColor,o=this.motionBlur&&!t,s=this.lastFrameAlpha,u=this.dpr;if(o&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(n,0,0,r/u,a/u)),i.clearRect(0,0,r,a),e&&"transparent"!==e){var h;e.colorStops?(h=e.__canvasGradient||l.getGradient(i,e,{x:0,y:0,width:r,height:a}),e.__canvasGradient=h):e.image&&(h=c.prototype.getCanvasPattern.call(e,i)),i.save(),i.fillStyle=h||e,i.fillRect(0,0,r,a),i.restore()}if(o){var d=this.domBack;i.save(),i.globalAlpha=s,i.drawImage(d,0,0,r,a),i.restore()}}};var h=u;t.exports=h},function(t,e,n){var i=n(0),r=n(23),a=r.Dispatcher,o=n(160),s=n(156),l=function(t){t=t||{},this.stage=t.stage||{},this.onframe=t.onframe||function(){},this._clips=[],this._running=!1,this._time,this._pausedTime,this._pauseStart,this._paused=!1,a.call(this)};l.prototype={constructor:l,addClip:function(t){this._clips.push(t)},addAnimator:function(t){t.animation=this;for(var e=t.getClips(),n=0;n<e.length;n++)this.addClip(e[n])},removeClip:function(t){var e=i.indexOf(this._clips,t);e>=0&&this._clips.splice(e,1)},removeAnimator:function(t){for(var e=t.getClips(),n=0;n<e.length;n++)this.removeClip(e[n]);t.animation=null},_update:function(){for(var t=(new Date).getTime()-this._pausedTime,e=t-this._time,n=this._clips,i=n.length,r=[],a=[],o=0;o<i;o++){var s=n[o],l=s.step(t,e);l&&(r.push(l),a.push(s))}for(var o=0;o<i;)n[o]._needsRemove?(n[o]=n[i-1],n.pop(),i--):o++;i=r.length;for(var o=0;o<i;o++)a[o].fire(r[o]);this._time=t,this.onframe(e),this.trigger("frame",e),this.stage.update&&this.stage.update()},_startLoop:function(){function t(){e._running&&(o(t),!e._paused&&e._update())}var e=this;this._running=!0,o(t)},start:function(){this._time=(new Date).getTime(),this._pausedTime=0,this._startLoop()},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},resume:function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},clear:function(){this._clips=[]},isFinished:function(){return!this._clips.length},animate:function(t,e){e=e||{};var n=new s(t,e.loop,e.getter,e.setter);return this.addAnimator(n),n}},i.mixin(l,a);var c=l;t.exports=c},function(t,e,n){function i(t){return"mousewheel"===t&&S.browser.firefox?"DOMMouseScroll":t}function r(t){var e=t.pointerType;return"pen"===e||"touch"===e}function a(t){t.touching=!0,null!=t.touchTimer&&(clearTimeout(t.touchTimer),t.touchTimer=null),t.touchTimer=setTimeout(function(){t.touching=!1,t.touchTimer=null},700)}function o(t){t&&(t.zrByTouch=!0)}function s(t,e){return _(t.dom,new c(t,e),!0)}function l(t,e){var n=!1;do{e=e&&e.parentNode}while(e&&9!==e.nodeType&&!(n=e===t.painterRoot));return n}function c(t,e){this.type=e.type,this.target=this.currentTarget=t.dom,this.pointerType=e.pointerType,this.clientX=e.clientX,this.clientY=e.clientY}function u(t,e){var n=e.domHandlers;S.pointerEventsSupported?w.each(A.pointer,function(i){d(e,i,function(e){n[i].call(t,e)})}):(S.touchEventsSupported&&w.each(A.touch,function(i){d(e,i,function(r){n[i].call(t,r),a(e)})}),w.each(A.mouse,function(i){d(e,i,function(r){r=b(r),e.touching||n[i].call(t,r)})}))}function h(t,e){function n(n){function i(i){i=b(i),l(t,i.target)||(i=s(t,i),e.domHandlers[n].call(t,i))}d(e,n,i,{capture:!0})}S.pointerEventsSupported?w.each(C.pointer,n):S.touchEventsSupported||w.each(C.mouse,n)}function d(t,e,n,r){t.mounted[e]=n,t.listenerOpts[e]=r,y(t.domTarget,i(e),n,r)}function p(t){var e=t.mounted;for(var n in e)e.hasOwnProperty(n)&&x(t.domTarget,i(n),e[n],t.listenerOpts[n]);t.mounted={}}function f(t,e){if(t._mayPointerCapture=null,T&&t._pointerCapturing^e){t._pointerCapturing=e;var n=t._globalHandlerScope;e?h(t,n):p(n)}}function g(t,e){this.domTarget=t,this.domHandlers=e,this.mounted={},this.listenerOpts={},this.touchTimer=null,this.touching=!1}function m(t,e){M.call(this),this.dom=t,this.painterRoot=e,this._localHandlerScope=new g(t,E),T&&(this._globalHandlerScope=new g(document,I)),this._pointerCapturing=!1,this._mayPointerCapture=null,u(this,this._localHandlerScope)}var v=n(23),y=v.addEventListener,x=v.removeEventListener,_=v.normalizeEvent,b=v.getNativeEvent,w=n(0),M=n(38),S=n(11),T=S.domSupported,A=function(){var t=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],e={pointerdown:1,pointerup:1,pointermove:1,pointerout:1};return{mouse:t,touch:["touchstart","touchend","touchmove"],pointer:w.map(t,function(t){var n=t.replace("mouse","pointer");return e.hasOwnProperty(n)?n:t})}}(),C={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},L=c.prototype;L.stopPropagation=L.stopImmediatePropagation=L.preventDefault=w.noop;var E={mousedown:function(t){t=_(this.dom,t),this._mayPointerCapture=[t.zrX,t.zrY],this.trigger("mousedown",t)},mousemove:function(t){t=_(this.dom,t);var e=this._mayPointerCapture;!e||t.zrX===e[0]&&t.zrY===e[1]||f(this,!0),this.trigger("mousemove",t)},mouseup:function(t){t=_(this.dom,t),f(this,!1),this.trigger("mouseup",t)},mouseout:function(t){t=_(this.dom,t),this._pointerCapturing&&(t.zrEventControl="no_globalout");var e=t.toElement||t.relatedTarget;t.zrIsToLocalDOM=l(this,e),this.trigger("mouseout",t)},touchstart:function(t){t=_(this.dom,t),o(t),this._lastTouchMoment=new Date,this.handler.processGesture(t,"start"),E.mousemove.call(this,t),E.mousedown.call(this,t)},touchmove:function(t){t=_(this.dom,t),o(t),this.handler.processGesture(t,"change"),E.mousemove.call(this,t)},touchend:function(t){t=_(this.dom,t),o(t),this.handler.processGesture(t,"end"),E.mouseup.call(this,t),+new Date-this._lastTouchMoment<300&&E.click.call(this,t)},pointerdown:function(t){E.mousedown.call(this,t)},pointermove:function(t){r(t)||E.mousemove.call(this,t)},pointerup:function(t){E.mouseup.call(this,t)},pointerout:function(t){r(t)||E.mouseout.call(this,t)}};w.each(["click","mousewheel","dblclick","contextmenu"],function(t){E[t]=function(e){e=_(this.dom,e),this.trigger(t,e)}});var I={pointermove:function(t){r(t)||I.mousemove.call(this,t)},pointerup:function(t){I.mouseup.call(this,t)},mousemove:function(t){this.trigger("mousemove",t)},mouseup:function(t){var e=this._pointerCapturing;f(this,!1),this.trigger("mouseup",t),e&&(t.zrEventControl="only_globalout",this.trigger("mouseout",t))}},P=m.prototype;P.dispose=function(){p(this._localHandlerScope),T&&p(this._globalHandlerScope)},P.setCursor=function(t){this.dom.style&&(this.dom.style.cursor=t||"default")},w.mixin(m,M);var D=m;t.exports=D},function(t,e,n){var i=n(48),r=i([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),a={getLineStyle:function(t){var e=r(this,t);return e.lineDash=this.getLineDash(e.lineWidth),e},getLineDash:function(t){null==t&&(t=1);var e=this.get("type"),n=Math.max(t,2),i=4*t;return"solid"!==e&&null!=e&&("dashed"===e?[i,i]:[n,n])}};t.exports=a},function(t,e,n){var i=n(48),r=i([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),a={getAreaStyle:function(t,e){return r(this,t,e)}};t.exports=a},function(t,e,n){var i=n(17),r=n(2),a=["textStyle","color"],o={getTextColor:function(t){var e=this.ecModel;return this.getShallow("color")||(!t&&e?e.get(a):null)},getFont:function(){return r.getFont({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},getTextRect:function(t){return i.getBoundingRect(t,this.getFont(),this.getShallow("align"),this.getShallow("verticalAlign")||this.getShallow("baseline"),this.getShallow("padding"),this.getShallow("lineHeight"),this.getShallow("rich"),this.getShallow("truncateText"))}};t.exports=o},function(t,e,n){function i(t,e){return Math.abs(t-e)<w}function r(){var t=S[0];S[0]=S[1],S[1]=t}function a(t,e,n,i,a,o,s,l,c,u){if(u>e&&u>i&&u>o&&u>l||u<e&&u<i&&u<o&&u<l)return 0;var h=y.cubicRootAt(e,i,o,l,u,M);if(0===h)return 0;for(var d,p,f=0,g=-1,m=0;m<h;m++){var v=M[m],x=0===v||1===v?.5:1;y.cubicAt(t,n,a,s,v)<c||(g<0&&(g=y.cubicExtrema(e,i,o,l,S),S[1]<S[0]&&g>1&&r(),d=y.cubicAt(e,i,o,l,S[0]),g>1&&(p=y.cubicAt(e,i,o,l,S[1]))),2===g?v<S[0]?f+=d<e?x:-x:v<S[1]?f+=p<d?x:-x:f+=l<p?x:-x:v<S[0]?f+=d<e?x:-x:f+=l<d?x:-x)}return f}function o(t,e,n,i,r,a,o,s){if(s>e&&s>i&&s>a||s<e&&s<i&&s<a)return 0;var l=y.quadraticRootAt(e,i,a,s,M);if(0===l)return 0;var c=y.quadraticExtremum(e,i,a);if(c>=0&&c<=1){for(var u=0,h=y.quadraticAt(e,i,a,c),d=0;d<l;d++){var p=0===M[d]||1===M[d]?.5:1,f=y.quadraticAt(t,n,r,M[d]);f<o||(M[d]<c?u+=h<e?p:-p:u+=a<h?p:-p)}return u}var p=0===M[0]||1===M[0]?.5:1,f=y.quadraticAt(t,n,r,M[0]);return f<o?0:a<e?p:-p}function s(t,e,n,i,r,a,o,s){if((s-=e)>n||s<-n)return 0;var l=Math.sqrt(n*n-s*s);M[0]=-l,M[1]=l;var c=Math.abs(i-r);if(c<1e-4)return 0;if(c%b<1e-4){i=0,r=b;var u=a?1:-1;return o>=M[0]+t&&o<=M[1]+t?u:0}if(a){var l=i;i=v(r),r=v(l)}else i=v(i),r=v(r);i>r&&(r+=b);for(var h=0,d=0;d<2;d++){var p=M[d];if(p+t>o){var f=Math.atan2(s,p),u=a?1:-1;f<0&&(f=b+f),(f>=i&&f<=r||f+b>=i&&f+b<=r)&&(f>Math.PI/2&&f<1.5*Math.PI&&(u=-u),h+=u)}}return h}function l(t,e,n,r,l){for(var c=0,u=0,h=0,m=0,v=0,y=0;y<t.length;){var b=t[y++];switch(b===_.M&&y>1&&(n||(c+=x(u,h,m,v,r,l))),1===y&&(u=t[y],h=t[y+1],m=u,v=h),b){case _.M:m=t[y++],v=t[y++],u=m,h=v;break;case _.L:if(n){if(d.containStroke(u,h,t[y],t[y+1],e,r,l))return!0}else c+=x(u,h,t[y],t[y+1],r,l)||0;u=t[y++],h=t[y++];break;case _.C:if(n){if(p.containStroke(u,h,t[y++],t[y++],t[y++],t[y++],t[y],t[y+1],e,r,l))return!0}else c+=a(u,h,t[y++],t[y++],t[y++],t[y++],t[y],t[y+1],r,l)||0;u=t[y++],h=t[y++];break;case _.Q:if(n){if(f.containStroke(u,h,t[y++],t[y++],t[y],t[y+1],e,r,l))return!0}else c+=o(u,h,t[y++],t[y++],t[y],t[y+1],r,l)||0;u=t[y++],h=t[y++];break;case _.A:var w=t[y++],M=t[y++],S=t[y++],T=t[y++],A=t[y++],C=t[y++];y+=1;var L=1-t[y++],E=Math.cos(A)*S+w,I=Math.sin(A)*T+M;y>1?c+=x(u,h,E,I,r,l):(m=E,v=I);var P=(r-w)*T/S+w;if(n){if(g.containStroke(w,M,T,A,A+C,L,e,P,l))return!0}else c+=s(w,M,T,A,A+C,L,P,l);u=Math.cos(A+C)*S+w,h=Math.sin(A+C)*T+M;break;case _.R:m=u=t[y++],v=h=t[y++];var D=t[y++],R=t[y++],E=m+D,I=v+R;if(n){if(d.containStroke(m,v,E,v,e,r,l)||d.containStroke(E,v,E,I,e,r,l)||d.containStroke(E,I,m,I,e,r,l)||d.containStroke(m,I,m,v,e,r,l))return!0}else c+=x(E,v,E,I,r,l),c+=x(m,I,m,v,r,l);break;case _.Z:if(n){if(d.containStroke(u,h,m,v,e,r,l))return!0}else c+=x(u,h,m,v,r,l);u=m,h=v}}return n||i(h,v)||(c+=x(u,h,m,v,r,l)||0),0!==c}function c(t,e,n){return l(t,0,!1,e,n)}function u(t,e,n,i){return l(t,e,!0,n,i)}var h=n(49),d=n(165),p=n(312),f=n(166),g=n(313),m=n(167),v=m.normalizeRadian,y=n(32),x=n(168),_=h.CMD,b=2*Math.PI,w=1e-4,M=[-1,-1,-1],S=[-1,-1];e.contain=c,e.containStroke=u},function(t,e,n){function i(t,e,n,i,a,o,s,l,c,u,h){if(0===c)return!1;var d=c;return!(h>e+d&&h>i+d&&h>o+d&&h>l+d||h<e-d&&h<i-d&&h<o-d&&h<l-d||u>t+d&&u>n+d&&u>a+d&&u>s+d||u<t-d&&u<n-d&&u<a-d&&u<s-d)&&r.cubicProjectPoint(t,e,n,i,a,o,s,l,u,h,null)<=d/2}var r=n(32);e.containStroke=i},function(t,e,n){function i(t,e,n,i,r,s,l,c,u){if(0===l)return!1;var h=l;c-=t,u-=e;var d=Math.sqrt(c*c+u*u);if(d-h>n||d+h<n)return!1;if(Math.abs(i-r)%o<1e-4)return!0;if(s){var p=i;i=a(r),r=a(p)}else i=a(i),r=a(r);i>r&&(r+=o);var f=Math.atan2(u,c);return f<0&&(f+=o),f>=i&&f<=r||f+o>=i&&f+o<=r}var r=n(167),a=r.normalizeRadian,o=2*Math.PI;e.containStroke=i},function(t,e,n){function i(t,e){var n,i,r,a,h,d,p=t.data,f=s.M,g=s.C,m=s.L,v=s.R,y=s.A,x=s.Q;for(r=0,a=0;r<p.length;){switch(n=p[r++],a=r,i=0,n){case f:case m:i=1;break;case g:i=3;break;case x:i=2;break;case y:var _=e[4],b=e[5],w=c(e[0]*e[0]+e[1]*e[1]),M=c(e[2]*e[2]+e[3]*e[3]),S=u(-e[1]/M,e[0]/w);p[r]*=w,p[r++]+=_,p[r]*=M,p[r++]+=b,p[r++]*=w,p[r++]*=M,p[r++]+=S,p[r++]+=S,r+=2,a=r;break;case v:d[0]=p[r++],d[1]=p[r++],o(d,d,e),p[a++]=d[0],p[a++]=d[1],d[0]+=p[r++],d[1]+=p[r++],o(d,d,e),p[a++]=d[0],p[a++]=d[1]}for(h=0;h<i;h++){var d=l[h];d[0]=p[r++],d[1]=p[r++],o(d,d,e),p[a++]=d[0],p[a++]=d[1]}}}var r=n(49),a=n(7),o=a.applyTransform,s=r.CMD,l=[[],[],[]],c=Math.sqrt,u=Math.atan2;t.exports=i},function(t,e,n){var i=n(10),r=n(170),a=i.extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},brush:r(i.prototype.brush),buildPath:function(t,e){var n=e.cx,i=e.cy,r=Math.max(e.r0||0,0),a=Math.max(e.r,0),o=e.startAngle,s=e.endAngle,l=e.clockwise,c=Math.cos(o),u=Math.sin(o);t.moveTo(c*r+n,u*r+i),t.lineTo(c*a+n,u*a+i),t.arc(n,i,a,o,s,!l),t.lineTo(Math.cos(s)*r+n,Math.sin(s)*r+i),0!==r&&t.arc(n,i,r,s,o,l),t.closePath()}});t.exports=a},function(t,e,n){var i=n(10),r=i.extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(t,e){var n=e.cx,i=e.cy,r=2*Math.PI;t.moveTo(n+e.r,i),t.arc(n,i,e.r,0,r,!1),t.moveTo(n+e.r0,i),t.arc(n,i,e.r0,0,r,!0)}});t.exports=r},function(t,e,n){function i(t,e,n,i,r,a,o){var s=.5*(n-t),l=.5*(i-e);return(2*(e-n)+s+l)*o+(-3*(e-n)-2*s-l)*a+s*r+e}function r(t,e){for(var n=t.length,r=[],a=0,s=1;s<n;s++)a+=o(t[s-1],t[s]);var l=a/2;l=l<n?n:l;for(var s=0;s<l;s++){var c,u,h,d=s/(l-1)*(e?n:n-1),p=Math.floor(d),f=d-p,g=t[p%n];e?(c=t[(p-1+n)%n],u=t[(p+1)%n],h=t[(p+2)%n]):(c=t[0===p?p:p-1],u=t[p>n-2?n-1:p+1],h=t[p>n-3?n-1:p+2]);var m=f*f,v=f*m;r.push([i(c[0],g[0],u[0],h[0],f,m,v),i(c[1],g[1],u[1],h[1],f,m,v)])}return r}var a=n(7),o=a.distance;t.exports=r},function(t,e,n){function i(t,e,n,i){var r,d,p,f,g=[],m=[],v=[],y=[];if(i){p=[1/0,1/0],f=[-1/0,-1/0];for(var x=0,_=t.length;x<_;x++)a(p,p,t[x]),o(f,f,t[x]);a(p,p,i[0]),o(f,f,i[1])}for(var x=0,_=t.length;x<_;x++){var b=t[x];if(n)r=t[x?x-1:_-1],d=t[(x+1)%_];else{if(0===x||x===_-1){g.push(u(t[x]));continue}r=t[x-1],d=t[x+1]}h(m,d,r),s(m,m,e);var w=l(b,r),M=l(b,d),S=w+M;0!==S&&(w/=S,M/=S),s(v,m,-w),s(y,m,M);var T=c([],b,v),A=c([],b,y);i&&(o(T,T,p),a(T,T,f),o(A,A,p),a(A,A,f)),g.push(T),g.push(A)}return n&&g.push(g.shift()),g}var r=n(7),a=r.min,o=r.max,s=r.scale,l=r.distance,c=r.add,u=r.clone,h=r.sub;t.exports=i},function(t,e,n){function i(t,e,n){var i=t.cpx2,r=t.cpy2;return null===i||null===r?[(n?d:u)(t.x1,t.cpx1,t.cpx2,t.x2,e),(n?d:u)(t.y1,t.cpy1,t.cpy2,t.y2,e)]:[(n?h:c)(t.x1,t.cpx1,t.x2,e),(n?h:c)(t.y1,t.cpy1,t.y2,e)]}var r=n(10),a=n(7),o=n(32),s=o.quadraticSubdivide,l=o.cubicSubdivide,c=o.quadraticAt,u=o.cubicAt,h=o.quadraticDerivativeAt,d=o.cubicDerivativeAt,p=[],f=r.extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var n=e.x1,i=e.y1,r=e.x2,a=e.y2,o=e.cpx1,c=e.cpy1,u=e.cpx2,h=e.cpy2,d=e.percent;0!==d&&(t.moveTo(n,i),null==u||null==h?(d<1&&(s(n,o,r,d,p),o=p[1],r=p[2],s(i,c,a,d,p),c=p[1],a=p[2]),t.quadraticCurveTo(o,c,r,a)):(d<1&&(l(n,o,u,r,d,p),o=p[1],u=p[2],r=p[3],l(i,c,h,a,d,p),c=p[1],h=p[2],a=p[3]),t.bezierCurveTo(o,c,u,h,r,a)))},pointAt:function(t){return i(this.shape,t,!1)},tangentAt:function(t){var e=i(this.shape,t,!0);return a.normalize(e,e)}});t.exports=f},function(t,e,n){var i=n(10),r=i.extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(t,e){var n=e.cx,i=e.cy,r=Math.max(e.r,0),a=e.startAngle,o=e.endAngle,s=e.clockwise,l=Math.cos(a),c=Math.sin(a);t.moveTo(l*r+n,c*r+i),t.arc(n,i,r,a,o,!s)}});t.exports=r},function(t,e,n){var i=n(10),r=i.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){for(var t=this.__dirtyPath,e=this.shape.paths,n=0;n<e.length;n++)t=t||e[n].__dirtyPath;this.__dirtyPath=t,this.__dirty=this.__dirty||t},beforeBrush:function(){this._updatePathDirty();for(var t=this.shape.paths||[],e=this.getGlobalScale(),n=0;n<t.length;n++)t[n].path||t[n].createPathProxy(),t[n].path.setScale(e[0],e[1],t[n].segmentIgnoreThreshold)},buildPath:function(t,e){for(var n=e.paths||[],i=0;i<n.length;i++)n[i].buildPath(t,n[i].shape,!0)},afterBrush:function(){for(var t=this.shape.paths||[],e=0;e<t.length;e++)t[e].__dirtyPath=!1},getBoundingRect:function(){return this._updatePathDirty(),i.prototype.getBoundingRect.call(this)}});t.exports=r},function(t,e,n){var i=n(0),r=n(79),a=function(t,e,n,i,a){this.x=null==t?.5:t,this.y=null==e?.5:e,this.r=null==n?.5:n,this.type="radial",this.global=a||!1,r.call(this,i)};a.prototype={constructor:a},i.inherits(a,r);var o=a;t.exports=o},function(t,e,n){var i=n(48),r=i([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["textPosition"],["textAlign"]]),a={getItemStyle:function(t,e){var n=r(this,t,e),i=this.getBorderLineDash();return i&&(n.lineDash=i),n},getBorderLineDash:function(){var t=this.get("borderType");return"solid"===t||null==t?null:"dashed"===t?[5,5]:[1,1]}};t.exports=a},function(t,e){var n={getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}};t.exports=n},function(t,e){var n="";"undefined"!=typeof navigator&&(n=navigator.platform||"");var i={color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],gradientColor:["#f6efa6","#d88273","#bf444c"],textStyle:{fontFamily:n.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,animation:"auto",animationDuration:1e3,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};t.exports=i},function(t,e,n){function i(t){this._api=t,this._timelineOptions=[],this._mediaList=[],this._mediaDefault,this._currentMediaIndices=[],this._optionBackup,this._newBaseOption}function r(t,e,n){var i,r,a=[],o=[],s=t.timeline;if(t.baseOption&&(r=t.baseOption),(s||t.options)&&(r=r||{},a=(t.options||[]).slice()),t.media){r=r||{};var l=t.media;d(l,function(t){t&&t.option&&(t.query?o.push(t):i||(i=t))})}return r||(r=t),r.timeline||(r.timeline=s),d([r].concat(a).concat(c.map(o,function(t){return t.option})),function(t){d(e,function(e){e(t,n)})}),{baseOption:r,timelineOptions:a,mediaDefault:i,mediaList:o}}function a(t,e,n){var i={width:e,height:n,aspectratio:e/n},r=!0;return c.each(t,function(t,e){var n=e.match(m);if(n&&n[1]&&n[2]){var a=n[1],s=n[2].toLowerCase();o(i[s],t,a)||(r=!1)}}),r}function o(t,e,n){return"min"===n?t>=e:"max"===n?t<=e:t===e}function s(t,e){return t.join(",")===e.join(",")}function l(t,e){e=e||{},d(e,function(e,n){if(null!=e){var i=t[n];if(h.hasClass(n)){e=u.normalizeToArray(e),i=u.normalizeToArray(i);var r=u.mappingToExists(i,e);t[n]=f(r,function(t){return t.option&&t.exist?g(t.exist,t.option,!0):t.exist||t.option})}else t[n]=g(i,e,!0)}})}var c=n(0),u=n(4),h=n(13),d=c.each,p=c.clone,f=c.map,g=c.merge,m=/^(min|max)?(.+)$/;i.prototype={constructor:i,setOption:function(t,e){t&&c.each(u.normalizeToArray(t.series),function(t){t&&t.data&&c.isTypedArray(t.data)&&c.setAsPrimitive(t.data)}),t=p(t);var n=this._optionBackup,i=r.call(this,t,e,!n);this._newBaseOption=i.baseOption,n?(l(n.baseOption,i.baseOption),i.timelineOptions.length&&(n.timelineOptions=i.timelineOptions),i.mediaList.length&&(n.mediaList=i.mediaList),i.mediaDefault&&(n.mediaDefault=i.mediaDefault)):this._optionBackup=i},mountOption:function(t){var e=this._optionBackup;return this._timelineOptions=f(e.timelineOptions,p),this._mediaList=f(e.mediaList,p),this._mediaDefault=p(e.mediaDefault),this._currentMediaIndices=[],p(t?e.baseOption:this._newBaseOption)},getTimelineOption:function(t){var e,n=this._timelineOptions;if(n.length){var i=t.getComponent("timeline");i&&(e=p(n[i.getCurrentIndex()],!0))}return e},getMediaOption:function(t){var e=this._api.getWidth(),n=this._api.getHeight(),i=this._mediaList,r=this._mediaDefault,o=[],l=[];if(!i.length&&!r)return l;for(var c=0,u=i.length;c<u;c++)a(i[c].query,e,n)&&o.push(c);return!o.length&&r&&(o=[-1]),o.length&&!s(o,this._currentMediaIndices)&&(l=f(o,function(t){return p(-1===t?r.option:i[t].option)})),this._currentMediaIndices=o,l}};var v=i;t.exports=v},function(t,e,n){function i(t,e){e=e.split(",");for(var n=t,i=0;i<e.length&&null!=(n=n&&n[e[i]]);i++);return n}function r(t,e,n,i){e=e.split(",");for(var r,a=t,o=0;o<e.length-1;o++)r=e[o],null==a[r]&&(a[r]={}),a=a[r];(i||null==a[e[o]])&&(a[e[o]]=n)}function a(t){l(f,function(e){e[0]in t&&!(e[1]in t)&&(t[e[1]]=t[e[0]])})}function o(t,e){h(t,e),t.series=p(t.series),l(t.series,function(t){if(u(t)){var e=t.type;if("line"===e)null!=t.clipOverflow&&(t.clip=t.clipOverflow);else if("pie"===e||"gauge"===e)null!=t.clockWise&&(t.clockwise=t.clockWise);else if("gauge"===e){var n=i(t,"pointer.color");null!=n&&r(t,"itemStyle.color",n)}a(t)}}),t.dataRange&&(t.visualMap=t.dataRange),l(g,function(e){var n=t[e];n&&(c(n)||(n=[n]),l(n,function(t){a(t)}))})}var s=n(0),l=s.each,c=s.isArray,u=s.isObject,h=n(328),d=n(4),p=d.normalizeToArray,f=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],g=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"];t.exports=o},function(t,e,n){function i(t){var e=t&&t.itemStyle;if(e)for(var n=0,i=m.length;n<i;n++){var r=m[n],a=e.normal,o=e.emphasis;a&&a[r]&&(t[r]=t[r]||{},t[r].normal?d.merge(t[r].normal,a[r]):t[r].normal=a[r],a[r]=null),o&&o[r]&&(t[r]=t[r]||{},t[r].emphasis?d.merge(t[r].emphasis,o[r]):t[r].emphasis=o[r],o[r]=null)}}function r(t,e,n){if(t&&t[e]&&(t[e].normal||t[e].emphasis)){var i=t[e].normal,r=t[e].emphasis;i&&(n?(t[e].normal=t[e].emphasis=null,d.defaults(t[e],i)):t[e]=i),r&&(t.emphasis=t.emphasis||{},t.emphasis[e]=r)}}function a(t){r(t,"itemStyle"),r(t,"lineStyle"),r(t,"areaStyle"),r(t,"label"),r(t,"labelLine"),r(t,"upperLabel"),r(t,"edgeLabel")}function o(t,e){var n=g(t)&&t[e],i=g(n)&&n.textStyle;if(i)for(var r=0,a=p.TEXT_STYLE_OPTIONS.length;r<a;r++){var e=p.TEXT_STYLE_OPTIONS[r];i.hasOwnProperty(e)&&(n[e]=i[e])}}function s(t){t&&(a(t),o(t,"label"),t.emphasis&&o(t.emphasis,"label"))}function l(t){if(g(t)){i(t),a(t),o(t,"label"),o(t,"upperLabel"),o(t,"edgeLabel"),t.emphasis&&(o(t.emphasis,"label"),o(t.emphasis,"upperLabel"),o(t.emphasis,"edgeLabel"));var e=t.markPoint;e&&(i(e),s(e));var n=t.markLine;n&&(i(n),s(n));var l=t.markArea;l&&s(l);var c=t.data;if("graph"===t.type){c=c||t.nodes;var u=t.links||t.edges;if(u&&!d.isTypedArray(u))for(var h=0;h<u.length;h++)s(u[h]);d.each(t.categories,function(t){a(t)})}if(c&&!d.isTypedArray(c))for(var h=0;h<c.length;h++)s(c[h]);var e=t.markPoint;if(e&&e.data)for(var p=e.data,h=0;h<p.length;h++)s(p[h]);var n=t.markLine;if(n&&n.data)for(var f=n.data,h=0;h<f.length;h++)d.isArray(f[h])?(s(f[h][0]),s(f[h][1])):s(f[h]);"gauge"===t.type?(o(t,"axisLabel"),o(t,"title"),o(t,"detail")):"treemap"===t.type?(r(t.breadcrumb,"itemStyle"),d.each(t.levels,function(t){a(t)})):"tree"===t.type&&a(t.leaves)}}function c(t){return d.isArray(t)?t:t?[t]:[]}function u(t){return(d.isArray(t)?t[0]:t)||{}}function h(t,e){f(c(t.series),function(t){g(t)&&l(t)});var n=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];e&&n.push("valueAxis","categoryAxis","logAxis","timeAxis"),f(n,function(e){f(c(t[e]),function(t){t&&(o(t,"axisLabel"),o(t.axisPointer,"label"))})}),f(c(t.parallel),function(t){var e=t&&t.parallelAxisDefault;o(e,"axisLabel"),o(e&&e.axisPointer,"label")}),f(c(t.calendar),function(t){r(t,"itemStyle"),o(t,"dayLabel"),o(t,"monthLabel"),o(t,"yearLabel")}),f(c(t.radar),function(t){o(t,"name")}),f(c(t.geo),function(t){g(t)&&(s(t),f(c(t.regions),function(t){s(t)}))}),f(c(t.timeline),function(t){s(t),r(t,"label"),r(t,"itemStyle"),r(t,"controlStyle",!0);var e=t.data;d.isArray(e)&&d.each(e,function(t){d.isObject(t)&&(r(t,"label"),r(t,"itemStyle"))})}),f(c(t.toolbox),function(t){r(t,"iconStyle"),f(t.feature,function(t){r(t,"iconStyle")})}),o(u(t.axisPointer),"label"),o(u(t.tooltip).axisPointer,"label")}var d=n(0),p=n(4),f=d.each,g=d.isObject,m=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];t.exports=h},function(t,e,n){function i(t){var e=o();t.eachSeries(function(t){var n=t.get("stack");if(n){var i=e.get(n)||e.set(n,[]),r=t.getData(),a={stackResultDimension:r.getCalculationInfo("stackResultDimension"),stackedOverDimension:r.getCalculationInfo("stackedOverDimension"),stackedDimension:r.getCalculationInfo("stackedDimension"),stackedByDimension:r.getCalculationInfo("stackedByDimension"),isStackedByIndex:r.getCalculationInfo("isStackedByIndex"),data:r,seriesModel:t};if(!a.stackedDimension||!a.isStackedByIndex&&!a.stackedByDimension)return;i.length&&r.setCalculationInfo("stackedOnSeries",i[i.length-1].seriesModel),i.push(a)}}),e.each(r)}function r(t){s(t,function(e,n){var i=[],r=[NaN,NaN],a=[e.stackResultDimension,e.stackedOverDimension],o=e.data,s=e.isStackedByIndex,l=o.map(a,function(a,l,c){var u=o.get(e.stackedDimension,c);if(isNaN(u))return r;var h,d;s?d=o.getRawIndex(c):h=o.get(e.stackedByDimension,c);for(var p=NaN,f=n-1;f>=0;f--){var g=t[f];if(s||(d=g.data.rawIndexOf(g.stackedByDimension,h)),d>=0){var m=g.data.getByRawIndex(g.stackResultDimension,d);if(u>=0&&m>0||u<=0&&m<0){u+=m,p=m;break}}}return i[0]=u,i[1]=p,i});o.hostModel.setData(l),e.data=l})}var a=n(0),o=a.createHashMap,s=a.each;t.exports=i},function(t,e,n){var i=n(79),r=n(0),a=r.isFunction,o={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){var n=t.getData(),r=(t.visualColorAccessPath||"itemStyle.color").split("."),o=t.get(r),s=!a(o)||o instanceof i?null:o;o&&!s||(o=t.getColorFromPalette(t.name,null,e.getSeriesCount())),n.setVisual("color",o);var l=(t.visualBorderColorAccessPath||"itemStyle.borderColor").split("."),c=t.get(l);if(n.setVisual("borderColor",c),!e.isSeriesFiltered(t)){s&&n.each(function(e){n.setItemVisual(e,"color",s(t.getDataParams(e)))});var u=function(t,e){var n=t.getItemModel(e),i=n.get(r,!0),a=n.get(l,!0);null!=i&&t.setItemVisual(e,"color",i),null!=a&&t.setItemVisual(e,"borderColor",a)};return{dataEach:n.hasItemOption?u:null}}}};t.exports=o},function(t,e,n){function i(t,e){function n(t,e){if("string"!=typeof t)return t;var n=t;return r.each(e,function(t,e){n=n.replace(new RegExp("\\{\\s*"+e+"\\s*\\}","g"),t)}),n}function i(t){var e=l.get(t);if(null==e){for(var n=t.split("."),i=a.aria,r=0;r<n.length;++r)i=i[n[r]];return i}return e}function o(t){return a.series.typeNames[t]||""}var l=e.getModel("aria");if(l.get("show")){if(l.get("description"))return void t.setAttribute("aria-label",l.get("description"));var c=0;e.eachSeries(function(t,e){++c},this);var u,h=l.get("data.maxCount")||10,d=l.get("series.maxCount")||10,p=Math.min(c,d);if(!(c<1)){var f=function(){var t=e.getModel("title").option;return t&&t.length&&(t=t[0]),t&&t.text}();u=f?n(i("general.withTitle"),{title:f}):i("general.withoutTitle");var g=[];u+=n(i(c>1?"series.multiple.prefix":"series.single.prefix"),{seriesCount:c}),e.eachSeries(function(t,e){if(e<p){var r,a=t.get("name"),l="series."+(c>1?"multiple":"single")+".";r=i(a?l+"withName":l+"withoutName"),r=n(r,{seriesId:t.seriesIndex,seriesName:t.get("name"),seriesType:o(t.subType)});var u=t.getData();window.data=u,u.count()>h?r+=n(i("data.partialData"),{displayCnt:h}):r+=i("data.allData");for(var d=[],f=0;f<u.count();f++)if(f<h){var m=u.getName(f),v=s(u,f);d.push(n(i(m?"data.withName":"data.withoutName"),{name:m,value:v}))}r+=d.join(i("data.separator.middle"))+i("data.separator.end"),g.push(r)}}),u+=g.join(i("series.multiple.separator.middle"))+i("series.multiple.separator.end"),t.setAttribute("aria-label",u)}}}var r=n(0),a=n(34),o=n(40),s=o.retrieveRawValue;t.exports=i},function(t,e,n){function i(t,e){e=e||{},r.defaults(e,{text:"loading",color:"#c23531",textColor:"#000",maskColor:"rgba(255, 255, 255, 0.8)",zlevel:0});var n=new a.Rect({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4}),i=new a.Arc({shape:{startAngle:-o/2,endAngle:-o/2+.1,r:10},style:{stroke:e.color,lineCap:"round",lineWidth:5},zlevel:e.zlevel,z:10001}),s=new a.Rect({style:{fill:"none",text:e.text,textPosition:"right",textDistance:10,textFill:e.textColor},zlevel:e.zlevel,z:10001});i.animateShape(!0).when(1e3,{endAngle:3*o/2}).start("circularInOut"),i.animateShape(!0).when(1e3,{startAngle:3*o/2}).delay(300).start("circularInOut");var l=new a.Group;return l.add(i),l.add(s),l.add(n),l.resize=function(){var e=t.getWidth()/2,r=t.getHeight()/2;i.setShape({cx:e,cy:r});var a=i.shape.r;s.setShape({x:e-a,y:r-a,width:2*a,height:2*a}),n.setShape({x:0,y:0,width:t.getWidth(),height:t.getHeight()})},l.resize(),l}var r=n(0),a=n(2),o=Math.PI;t.exports=i},function(t,e,n){function i(t,e,n,i){this.ecInstance=t,this.api=e,this.unfinished;var n=this._dataProcessorHandlers=n.slice(),i=this._visualHandlers=i.slice();this._allHandlers=n.concat(i),this._stageTaskMap=w()}function r(t,e,n,i,r){function a(t,e){return t.setDirty&&(!t.dirtyMap||t.dirtyMap.get(e.__pipeline.id))}r=r||{};var o;x(e,function(e,s){if(!r.visualType||r.visualType===e.visualType){var l=t._stageTaskMap.get(e.uid),c=l.seriesTaskMap,u=l.overallTask;if(u){var h,d=u.agentStubMap;d.each(function(t){a(r,t)&&(t.dirty(),h=!0)}),h&&u.dirty(),R(u,i);var p=t.getPerformArgs(u,r.block);d.each(function(t){t.perform(p)}),o|=u.perform(p)}else c&&c.each(function(s,l){a(r,s)&&s.dirty();var c=t.getPerformArgs(s,r.block);c.skip=!e.performRawSeries&&n.isSeriesFiltered(s.context.model),R(s,i),o|=s.perform(c)})}}),t.unfinished|=o}function a(t,e,n,i,r){function a(n){var a=n.uid,s=o.get(a)||o.set(a,T({plan:h,reset:d,count:f}));s.context={model:n,ecModel:i,api:r,useClearVisual:e.isVisual&&!e.isLayout,plan:e.plan,reset:e.reset,scheduler:t},g(t,n,s)}var o=n.seriesTaskMap||(n.seriesTaskMap=w()),s=e.seriesType,l=e.getTargetSeries;e.createOnAllSeries?i.eachRawSeries(a):s?i.eachRawSeriesByType(s,a):l&&l(i,r).each(a);var c=t._pipelineMap;o.each(function(t,e){c.get(e)||(t.dispose(),o.removeKey(e))})}function o(t,e,n,i,r){function a(e){var n=e.uid,i=c.get(n);i||(i=c.set(n,T({reset:l,onDirty:u})),o.dirty()),i.context={model:e,overallProgress:p,modifyOutputEnd:f},i.agent=o,i.__block=p,g(t,e,i)}var o=n.overallTask=n.overallTask||T({reset:s});o.context={ecModel:i,api:r,overallReset:e.overallReset,scheduler:t};var c=o.agentStubMap=o.agentStubMap||w(),h=e.seriesType,d=e.getTargetSeries,p=!0,f=e.modifyOutputEnd;h?i.eachRawSeriesByType(h,a):d?d(i,r).each(a):(p=!1,x(i.getSeries(),a));var m=t._pipelineMap;c.each(function(t,e){m.get(e)||(t.dispose(),o.dirty(),c.removeKey(e))})}function s(t){t.overallReset(t.ecModel,t.api,t.payload)}function l(t,e){return t.overallProgress&&c}function c(){this.agent.dirty(),this.getDownstream().dirty()}function u(){this.agent&&this.agent.dirty()}function h(t){return t.plan&&t.plan(t.model,t.ecModel,t.api,t.payload)}function d(t){t.useClearVisual&&t.data.clearAllVisual();var e=t.resetDefines=P(t.reset(t.model,t.ecModel,t.api,t.payload));return e.length>1?_(e,function(t,e){return p(e)}):O}function p(t){return function(e,n){var i=n.data,r=n.resetDefines[t];if(r&&r.dataEach)for(var a=e.start;a<e.end;a++)r.dataEach(i,a);else r&&r.progress&&r.progress(e,i)}}function f(t){return t.data.count()}function g(t,e,n){var i=e.uid,r=t._pipelineMap.get(i);!r.head&&(r.head=n),r.tail&&r.tail.pipe(n),r.tail=n,n.__idxInPipeline=r.count++,n.__pipeline=r}function m(t){k=null;try{t(N,z)}catch(t){}return k}function v(t,e){for(var n in e.prototype)t[n]=M}var y=n(0),x=y.each,_=y.map,b=y.isFunction,w=y.createHashMap,M=y.noop,S=n(102),T=S.createTask,A=n(60),C=A.getUID,L=n(163),E=n(176),I=n(4),P=I.normalizeToArray,D=i.prototype;D.restoreData=function(t,e){t.restoreData(e),this._stageTaskMap.each(function(t){var e=t.overallTask;e&&e.dirty()})},D.getPerformArgs=function(t,e){if(t.__pipeline){var n=this._pipelineMap.get(t.__pipeline.id),i=n.context,r=!e&&n.progressiveEnabled&&(!i||i.progressiveRender)&&t.__idxInPipeline>n.blockIndex,a=r?n.step:null,o=i&&i.modDataCount;return{step:a,modBy:null!=o?Math.ceil(o/a):null,modDataCount:o}}},D.getPipeline=function(t){return this._pipelineMap.get(t)},D.updateStreamModes=function(t,e){var n=this._pipelineMap.get(t.uid),i=t.getData(),r=i.count(),a=n.progressiveEnabled&&e.incrementalPrepareRender&&r>=n.threshold,o=t.get("large")&&r>=t.get("largeThreshold"),s="mod"===t.get("progressiveChunkMode")?r:null;t.pipelineContext=n.context={progressiveRender:a,modDataCount:s,large:o}},D.restorePipelines=function(t){var e=this,n=e._pipelineMap=w();t.eachSeries(function(t){var i=t.getProgressive(),r=t.uid;n.set(r,{id:r,head:null,tail:null,threshold:t.getProgressiveThreshold(),progressiveEnabled:i&&!(t.preventIncremental&&t.preventIncremental()),blockIndex:-1,step:Math.round(i||700),count:0}),g(e,t,t.dataTask)})},D.prepareStageTasks=function(){var t=this._stageTaskMap,e=this.ecInstance.getModel(),n=this.api;x(this._allHandlers,function(i){var r=t.get(i.uid)||t.set(i.uid,[]);i.reset&&a(this,i,r,e,n),i.overallReset&&o(this,i,r,e,n)},this)},D.prepareView=function(t,e,n,i){var r=t.renderTask,a=r.context;a.model=e,a.ecModel=n,a.api=i,r.__block=!t.incrementalPrepareRender,g(this,e,r)},D.performDataProcessorTasks=function(t,e){r(this,this._dataProcessorHandlers,t,e,{block:!0})},D.performVisualTasks=function(t,e,n){r(this,this._visualHandlers,t,e,n)},D.performSeriesTasks=function(t){var e;t.eachSeries(function(t){e|=t.dataTask.perform()}),this.unfinished|=e},D.plan=function(){this._pipelineMap.each(function(t){var e=t.tail;do{if(e.__block){t.blockIndex=e.__idxInPipeline;break}e=e.getUpstream()}while(e)})};var R=D.updatePayload=function(t,e){"remain"!==e&&(t.context.payload=e)},O=p(0);i.wrapStageHandler=function(t,e){return b(t)&&(t={overallReset:t,seriesType:m(t)}),t.uid=C("stageHandler"),e&&(t.visualType=e),t};var k,N={},z={};v(N,L),v(z,E),N.eachSeriesByType=N.eachRawSeriesByType=function(t){k=t},N.eachComponent=function(t){"series"===t.mainType&&t.subType&&(k=t.subType)};var B=i;t.exports=B},function(t,e){var n=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],i={color:n,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],n]};t.exports=i},function(t,e){var n=function(){return{axisLine:{lineStyle:{color:"#eee"}},axisTick:{lineStyle:{color:"#eee"}},axisLabel:{textStyle:{color:"#eee"}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:"#eee"}}}},i=["#dd6b66","#759aa0","#e69d87","#8dc1a9","#ea7e53","#eedd78","#73a373","#73b9bc","#7289ab","#91ca8c","#f49f42"],r={color:i,backgroundColor:"#333",tooltip:{axisPointer:{lineStyle:{color:"#eee"},crossStyle:{color:"#eee"},label:{color:"#000"}}},legend:{textStyle:{color:"#eee"}},textStyle:{color:"#eee"},title:{textStyle:{color:"#eee"}},toolbox:{iconStyle:{normal:{borderColor:"#eee"}}},dataZoom:{textStyle:{color:"#eee"}},visualMap:{textStyle:{color:"#eee"}},timeline:{lineStyle:{color:"#eee"},itemStyle:{normal:{color:i[1]}},label:{normal:{textStyle:{color:"#eee"}}},controlStyle:{normal:{color:"#eee",borderColor:"#eee"}}},timeAxis:n(),logAxis:n(),valueAxis:n(),categoryAxis:n(),line:{symbol:"circle"},graph:{color:i},gauge:{title:{textStyle:{color:"#eee"}}},candlestick:{itemStyle:{normal:{color:"#FD1050",color0:"#0CF49B",borderColor:"#FD1050",borderColor0:"#0CF49B"}}}};r.categoryAxis.splitLine.show=!1;var a=r;t.exports=a},function(t,e,n){var i=n(10),r=i.extend({type:"ellipse",shape:{cx:0,cy:0,rx:0,ry:0},buildPath:function(t,e){var n=.5522848,i=e.cx,r=e.cy,a=e.rx,o=e.ry,s=a*n,l=o*n;t.moveTo(i-a,r),t.bezierCurveTo(i-a,r-l,i-s,r-o,i,r-o),t.bezierCurveTo(i+s,r-o,i+a,r-l,i+a,r),t.bezierCurveTo(i+a,r+l,i+s,r+o,i,r+o),t.bezierCurveTo(i-s,r+o,i-a,r+l,i-a,r),t.closePath()}});t.exports=r},function(t,e,n){function i(t){return s(t.getSource(),t)}function r(t,e){var n=e;u.isInstance(e)||(n=new u(e),o.mixin(n,c));var i=l.createScaleByModel(n);return i.setExtent(t[0],t[1]),l.niceScaleExtent(i,n),i}function a(t){o.mixin(t,c)}var o=n(0),s=n(31),l=n(22),c=n(52),u=n(12),h=n(6);h.getLayoutRect;e.getLayoutRect=h.getLayoutRect;var d=n(26),p=d.enableDataStack,f=d.isDimensionStacked,g=d.getStackedDimension,m=n(181);e.completeDimensions=m;var v=n(51);e.createDimensions=v;var y=n(19);e.createSymbol=y.createSymbol;var x={isDimensionStacked:f,enableDataStack:p,getStackedDimension:g};e.createList=i,e.dataStack=x,e.createScale=r,e.mixinAxisModelCommonMethods=a},function(t,e,n){function i(t){this.coordSysName=t,this.coordSysDims=[],this.axisMap=l(),this.categoryAxisMap=l(),this.firstCategoryDimIndex=null}function r(t){var e=t.get("coordinateSystem"),n=new i(e),r=u[e];if(r)return r(t,n,n.axisMap,n.categoryAxisMap),n}function a(t){return"category"===t.get("type")}var o=n(5),s=(o.__DEV__,n(0)),l=s.createHashMap,c=(s.retrieve,s.each),u={cartesian2d:function(t,e,n,i){var r=t.getReferringComponents("xAxis")[0],o=t.getReferringComponents("yAxis")[0];e.coordSysDims=["x","y"],n.set("x",r),n.set("y",o),a(r)&&(i.set("x",r),e.firstCategoryDimIndex=0),a(o)&&(i.set("y",o),e.firstCategoryDimIndex,e.firstCategoryDimIndex=1)},singleAxis:function(t,e,n,i){var r=t.getReferringComponents("singleAxis")[0];e.coordSysDims=["single"],n.set("single",r),a(r)&&(i.set("single",r),e.firstCategoryDimIndex=0)},polar:function(t,e,n,i){var r=t.getReferringComponents("polar")[0],o=r.findAxisModel("radiusAxis"),s=r.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],n.set("radius",o),n.set("angle",s),a(o)&&(i.set("radius",o),e.firstCategoryDimIndex=0),a(s)&&(i.set("angle",s),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=1))},geo:function(t,e,n,i){e.coordSysDims=["lng","lat"]},parallel:function(t,e,n,i){var r=t.ecModel,o=r.getComponent("parallel",t.get("parallelIndex")),s=e.coordSysDims=o.dimensions.slice();c(o.parallelAxisIndex,function(t,o){var l=r.getComponent("parallelAxis",t),c=s[o];n.set(c,l),a(l)&&null==e.firstCategoryDimIndex&&(i.set(c,l),e.firstCategoryDimIndex=o)})}};e.getCoordSysInfoBySeries=r},function(t,e,n){var i=n(0),r=n(81),a=n(182),o=r.prototype,s=r.extend({type:"ordinal",init:function(t,e){t&&!i.isArray(t)||(t=new a({categories:t})),this._ordinalMeta=t,this._extent=e||[0,t.categories.length-1]},parse:function(t){return"string"==typeof t?this._ordinalMeta.getOrdinal(t):Math.round(t)},contain:function(t){return t=this.parse(t),o.contain.call(this,t)&&null!=this._ordinalMeta.categories[t]},normalize:function(t){return o.normalize.call(this,this.parse(t))},scale:function(t){return Math.round(o.scale.call(this,t))},getTicks:function(){for(var t=[],e=this._extent,n=e[0];n<=e[1];)t.push(n),n++;return t},getLabel:function(t){if(!this.isBlank())return this._ordinalMeta.categories[t]},count:function(){return this._extent[1]-this._extent[0]+1},unionExtentFromData:function(t,e){this.unionExtent(t.getApproximateExtent(e))},getOrdinalMeta:function(){return this._ordinalMeta},niceTicks:i.noop,niceExtent:i.noop});s.create=function(){return new s};var l=s;t.exports=l},function(t,e,n){var i=n(0),r=n(3),a=n(9),o=n(183),s=n(82),l=s.prototype,c=Math.ceil,u=Math.floor,h=function(t,e,n,i){for(;n<i;){var r=n+i>>>1;t[r][1]<e?n=r+1:i=r}return n},d=s.extend({type:"time",getLabel:function(t){var e=this._stepLvl,n=new Date(t);return a.formatTime(e[0],n,this.getSetting("useUTC"))},niceExtent:function(t){var e=this._extent;if(e[0]===e[1]&&(e[0]-=864e5,e[1]+=864e5),e[1]===-1/0&&e[0]===1/0){var n=new Date;e[1]=+new Date(n.getFullYear(),n.getMonth(),n.getDate()),e[0]=e[1]-864e5}this.niceTicks(t.splitNumber,t.minInterval,t.maxInterval);var i=this._interval;t.fixMin||(e[0]=r.round(u(e[0]/i)*i)),t.fixMax||(e[1]=r.round(c(e[1]/i)*i))},niceTicks:function(t,e,n){t=t||10;var i=this._extent,a=i[1]-i[0],s=a/t;null!=e&&s<e&&(s=e),null!=n&&s>n&&(s=n);var l=p.length,d=h(p,s,0,l),f=p[Math.min(d,l-1)],g=f[1];if("year"===f[0]){var m=a/g;g*=r.nice(m/t,!0)}var v=this.getSetting("useUTC")?0:60*new Date(+i[0]||+i[1]).getTimezoneOffset()*1e3,y=[Math.round(c((i[0]-v)/g)*g+v),Math.round(u((i[1]-v)/g)*g+v)];o.fixExtent(y,i),this._stepLvl=f,this._interval=g,this._niceExtent=y},parse:function(t){return+r.parseDate(t)}});i.each(["contain","normalize"],function(t){d.prototype[t]=function(e){return l[t].call(this,this.parse(e))}});var p=[["hh:mm:ss",1e3],["hh:mm:ss",5e3],["hh:mm:ss",1e4],["hh:mm:ss",15e3],["hh:mm:ss",3e4],["hh:mm\nMM-dd",6e4],["hh:mm\nMM-dd",3e5],["hh:mm\nMM-dd",6e5],["hh:mm\nMM-dd",9e5],["hh:mm\nMM-dd",18e5],["hh:mm\nMM-dd",36e5],["hh:mm\nMM-dd",72e5],["hh:mm\nMM-dd",216e5],["hh:mm\nMM-dd",432e5],["MM-dd\nyyyy",864e5],["MM-dd\nyyyy",1728e5],["MM-dd\nyyyy",2592e5],["MM-dd\nyyyy",3456e5],["MM-dd\nyyyy",432e6],["MM-dd\nyyyy",5184e5],["week",6048e5],["MM-dd\nyyyy",864e6],["week",12096e5],["week",18144e5],["month",26784e5],["week",36288e5],["month",53568e5],["week",6048e6],["quarter",8208e6],["month",107136e5],["month",13392e6],["half-year",16416e6],["month",214272e5],["month",26784e6],["year",32832e6]];d.create=function(t){return new d({useUTC:t.ecModel.get("useUTC")})};var f=d;t.exports=f},function(t,e,n){function i(t){return"category"===t.type?a(t):l(t)}function r(t,e){return"category"===t.type?s(t,e):{ticks:t.scale.getTicks()}}function a(t){var e=t.getLabelModel(),n=o(t,e);return!e.get("show")||t.scale.isBlank()?{labels:[],labelCategoryInterval:n.labelCategoryInterval}:n}function o(t,e){var n=c(t,"labels"),i=M(e),r=u(n,i);if(r)return r;var a,o;return v.isFunction(i)?a=m(t,i):(o="auto"===i?d(t):i,a=g(t,o)),h(n,i,{labels:a,labelCategoryInterval:o})}function s(t,e){var n=c(t,"ticks"),i=M(e),r=u(n,i);if(r)return r;var a,s;if(e.get("show")&&!t.scale.isBlank()||(a=[]),v.isFunction(i))a=m(t,i,!0);else if("auto"===i){var l=o(t,t.getLabelModel());s=l.labelCategoryInterval,a=v.map(l.labels,function(t){return t.tickValue})}else s=i,a=g(t,s,!0);return h(n,i,{ticks:a,tickCategoryInterval:s})}function l(t){var e=t.scale.getTicks(),n=w(t);return{labels:v.map(e,function(e,i){return{formattedLabel:n(e,i),rawLabel:t.scale.getLabel(e),tickValue:e}})}}function c(t,e){return T(t)[e]||(T(t)[e]=[])}function u(t,e){for(var n=0;n<t.length;n++)if(t[n].key===e)return t[n].value}function h(t,e,n){return t.push({key:e,value:n}),n}function d(t){var e=T(t).autoInterval;return null!=e?e:T(t).autoInterval=t.calculateCategoryInterval()}function p(t){var e=f(t),n=w(t),i=(e.axisRotate-e.labelRotate)/180*Math.PI,r=t.scale,a=r.getExtent(),o=r.count();if(a[1]-a[0]<1)return 0;var s=1;o>40&&(s=Math.max(1,Math.floor(o/40)));for(var l=a[0],c=t.dataToCoord(l+1)-t.dataToCoord(l),u=Math.abs(c*Math.cos(i)),h=Math.abs(c*Math.sin(i)),d=0,p=0;l<=a[1];l+=s){var g=0,m=0,v=y.getBoundingRect(n(l),e.font,"center","top");g=1.3*v.width,m=1.3*v.height,d=Math.max(d,g,7),p=Math.max(p,m,7)}var x=d/u,_=p/h;isNaN(x)&&(x=1/0),isNaN(_)&&(_=1/0);var b=Math.max(0,Math.floor(Math.min(x,_))),M=T(t.model),S=t.getExtent(),A=M.lastAutoInterval,C=M.lastTickCount;return null!=A&&null!=C&&Math.abs(A-b)<=1&&Math.abs(C-o)<=1&&A>b&&M.axisExtend0===S[0]&&M.axisExtend1===S[1]?b=A:(M.lastTickCount=o,M.lastAutoInterval=b,M.axisExtend0=S[0],M.axisExtend1=S[1]),b}function f(t){var e=t.getLabelModel();return{axisRotate:t.getRotate?t.getRotate():t.isHorizontal&&!t.isHorizontal()?90:0,labelRotate:e.get("rotate")||0,font:e.getFont()}}function g(t,e,n){function i(t){l.push(n?t:{formattedLabel:r(t),rawLabel:a.getLabel(t),tickValue:t})}var r=w(t),a=t.scale,o=a.getExtent(),s=t.getLabelModel(),l=[],c=Math.max((e||0)+1,1),u=o[0],h=a.count();0!==u&&c>1&&h/c>2&&(u=Math.round(Math.ceil(u/c)*c));var d=S(t),p=s.get("showMinLabel")||d,f=s.get("showMaxLabel")||d;p&&u!==o[0]&&i(o[0]);for(var g=u;g<=o[1];g+=c)i(g);return f&&g-c!==o[1]&&i(o[1]),l}function m(t,e,n){var i=t.scale,r=w(t),a=[];return v.each(i.getTicks(),function(t){var o=i.getLabel(t);e(t,o)&&a.push(n?t:{formattedLabel:r(t),rawLabel:o,tickValue:t})}),a}var v=n(0),y=n(17),x=n(4),_=x.makeInner,b=n(22),w=b.makeLabelFormatter,M=b.getOptionCategoryInterval,S=b.shouldShowAllLabels,T=_();e.createAxisLabels=i,e.createAxisTicks=r,e.calculateCategoryInterval=p},function(t,e,n){var i=n(1);n(343),n(344);var r=n(42),a=n(66),o=n(346);n(67),i.registerVisual(r("line","circle","line")),i.registerLayout(a("line")),i.registerProcessor(i.PRIORITY.PROCESSOR.STATISTIC,o("line"))},function(t,e,n){var i=n(5),r=(i.__DEV__,n(31)),a=n(14),o=a.extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(t,e){return r(this.getSource(),this,{useEncodeDefaulter:!0})},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,clip:!0,label:{position:"top"},lineStyle:{width:2,type:"solid"},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0}});t.exports=o},function(t,e,n){function i(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++){var i=t[n],r=e[n];if(i[0]!==r[0]||i[1]!==r[1])return}return!0}}function r(t){return"number"==typeof t?t:t?.5:0}function a(t,e,n){if(!n.valueDim)return[];for(var i=[],r=0,a=e.count();r<a;r++)i.push(S(n,t,e,r));return i}function o(t,e,n){for(var i=e.getBaseAxis(),r="x"===i.dim||"radius"===i.dim?0:1,a=[],o=0;o<t.length-1;o++){var s=t[o+1],l=t[o];a.push(l);var c=[];switch(n){case"end":c[r]=s[r],c[1-r]=l[1-r],a.push(c);break;case"middle":var u=(l[r]+s[r])/2,h=[];c[r]=h[r]=u,c[1-r]=l[1-r],h[1-r]=s[1-r],a.push(c),a.push(h);break;default:c[r]=l[r],c[1-r]=s[1-r],a.push(c)}}return t[o]&&a.push(t[o]),a}function s(t,e){var n=t.getVisual("visualMeta");if(n&&n.length&&t.count()&&"cartesian2d"===e.type){for(var i,r,a=n.length-1;a>=0;a--){var o=n[a].dimension,s=t.dimensions[o],l=t.getDimensionInfo(s);if("x"===(i=l&&l.coordDim)||"y"===i){r=n[a];break}}if(r){var c=e.getAxis(i),u=d.map(r.stops,function(t){return{coord:c.toGlobalCoord(c.dataToCoord(t.value)),color:t.color}}),h=u.length,p=r.outerColors.slice();h&&u[0].coord>u[h-1].coord&&(u.reverse(),p.reverse());var f=u[0].coord-10,g=u[h-1].coord+10,v=g-f;if(v<.001)return"transparent";d.each(u,function(t){t.offset=(t.coord-f)/v}),u.push({offset:h?u[h-1].offset:.5,color:p[1]||"transparent"}),u.unshift({offset:h?u[0].offset:.5,color:p[0]||"transparent"});var y=new m.LinearGradient(0,0,0,0,u,!0);return y[i]=f,y[i+"2"]=g,y}}}function l(t,e,n){var i=t.get("showAllSymbol"),r="auto"===i;if(!i||r){var a=n.getAxesByScale("ordinal")[0];if(a&&(!r||!c(a,e))){var o=e.mapDimension(a.dim),s={};return d.each(a.getViewLabels(),function(t){s[t.tickValue]=1}),function(t){return!s.hasOwnProperty(e.get(o,t))}}}}function c(t,e){var n=t.getExtent(),i=Math.abs(n[1]-n[0])/t.scale.count();isNaN(i)&&(i=0);for(var r=e.count(),a=Math.max(1,Math.round(r/5)),o=0;o<r;o+=a)if(1.5*f.getSymbolSize(e,o)[t.isHorizontal()?1:0]>i)return!1;return!0}function u(t,e,n){if("cartesian2d"===t.type){var i=t.getBaseAxis().isHorizontal(),r=A(t,e,n);if(!n.get("clip",!0)){var a=r.shape,o=Math.max(a.width,a.height);i?(a.y-=o,a.height+=2*o):(a.x-=o,a.width+=2*o)}return r}return C(t,e,n)}var h=n(5),d=(h.__DEV__,n(0)),p=n(64),f=n(84),g=n(345),m=n(2),v=n(4),y=n(189),x=y.Polyline,_=y.Polygon,b=n(25),w=n(188),M=w.prepareDataCoordInfo,S=w.getStackedOnPoint,T=n(65),A=T.createGridClipPath,C=T.createPolarClipPath,L=b.extend({type:"line",init:function(){var t=new m.Group,e=new p;this.group.add(e.group),this._symbolDraw=e,this._lineGroup=t},render:function(t,e,n){var c=t.coordinateSystem,h=this.group,p=t.getData(),f=t.getModel("lineStyle"),g=t.getModel("areaStyle"),m=p.mapArray(p.getItemLayout),v="polar"===c.type,y=this._coordSys,x=this._symbolDraw,_=this._polyline,b=this._polygon,w=this._lineGroup,S=t.get("animation"),T=!g.isEmpty(),A=g.get("origin"),C=M(c,p,A),L=a(c,p,C),E=t.get("showSymbol"),I=E&&!v&&l(t,p,c),P=this._data;P&&P.eachItemGraphicEl(function(t,e){t.__temp&&(h.remove(t),P.setItemGraphicEl(e,null))}),E||x.remove(),h.add(w);var D,R=!v&&t.get("step");c&&c.getArea&&t.get("clip",!0)&&(D=c.getArea(),null!=D.width?(D.x-=.1,D.y-=.1,D.width+=.2,D.height+=.2):D.r0&&(D.r0-=.5,D.r1+=.5)),this._clipShapeForSymbol=D,_&&y.type===c.type&&R===this._step?(T&&!b?b=this._newPolygon(m,L,c,S):b&&!T&&(w.remove(b),b=this._polygon=null),w.setClipPath(u(c,!1,t)),E&&x.updateData(p,{isIgnore:I,clipShape:D}),p.eachItemGraphicEl(function(t){t.stopAnimation(!0)}),i(this._stackedOnPoints,L)&&i(this._points,m)||(S?this._updateAnimation(p,L,c,n,R,A):(R&&(m=o(m,c,R),L=o(L,c,R)),_.setShape({points:m}),b&&b.setShape({points:m,stackedOnPoints:L})))):(E&&x.updateData(p,{isIgnore:I,clipShape:D}),R&&(m=o(m,c,R),L=o(L,c,R)),_=this._newPolyline(m,c,S),T&&(b=this._newPolygon(m,L,c,S)),w.setClipPath(u(c,!0,t)));var O=s(p,c)||p.getVisual("color");_.useStyle(d.defaults(f.getLineStyle(),{fill:"none",stroke:O,lineJoin:"bevel"}));var k=t.get("smooth");if(k=r(t.get("smooth")),_.setShape({smooth:k,smoothMonotone:t.get("smoothMonotone"),connectNulls:t.get("connectNulls")}),b){var N=p.getCalculationInfo("stackedOnSeries"),z=0;b.useStyle(d.defaults(g.getAreaStyle(),{fill:O,opacity:.7,lineJoin:"bevel"})),N&&(z=r(N.get("smooth"))),b.setShape({smooth:k,stackedOnSmooth:z,smoothMonotone:t.get("smoothMonotone"),connectNulls:t.get("connectNulls")})}this._data=p,this._coordSys=c,this._stackedOnPoints=L,this._points=m,this._step=R,this._valueOrigin=A},dispose:function(){},highlight:function(t,e,n,i){var r=t.getData(),a=v.queryDataIndex(r,i);if(!(a instanceof Array)&&null!=a&&a>=0){var o=r.getItemGraphicEl(a);if(!o){var s=r.getItemLayout(a);if(!s)return;if(this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(s[0],s[1]))return;o=new f(r,a),o.position=s,o.setZ(t.get("zlevel"),t.get("z")),o.ignore=isNaN(s[0])||isNaN(s[1]),o.__temp=!0,r.setItemGraphicEl(a,o),o.stopSymbolAnimation(!0),this.group.add(o)}o.highlight()}else b.prototype.highlight.call(this,t,e,n,i)},downplay:function(t,e,n,i){var r=t.getData(),a=v.queryDataIndex(r,i);if(null!=a&&a>=0){var o=r.getItemGraphicEl(a);o&&(o.__temp?(r.setItemGraphicEl(a,null),this.group.remove(o)):o.downplay())}else b.prototype.downplay.call(this,t,e,n,i)},_newPolyline:function(t){var e=this._polyline;return e&&this._lineGroup.remove(e),e=new x({shape:{points:t},silent:!0,z2:10}),this._lineGroup.add(e),this._polyline=e,e},_newPolygon:function(t,e){var n=this._polygon;return n&&this._lineGroup.remove(n),n=new _({shape:{points:t,stackedOnPoints:e},silent:!0}),this._lineGroup.add(n),this._polygon=n,n},_updateAnimation:function(t,e,n,i,r,a){var s=this._polyline,l=this._polygon,c=t.hostModel,u=g(this._data,t,this._stackedOnPoints,e,this._coordSys,n,this._valueOrigin,a),h=u.current,d=u.stackedOnCurrent,p=u.next,f=u.stackedOnNext;r&&(h=o(u.current,n,r),d=o(u.stackedOnCurrent,n,r),p=o(u.next,n,r),f=o(u.stackedOnNext,n,r)),s.shape.__points=u.current,s.shape.points=h,m.updateProps(s,{shape:{points:p}},c),l&&(l.setShape({points:h,stackedOnPoints:d}),m.updateProps(l,{shape:{points:p,stackedOnPoints:f}},c));for(var v=[],y=u.status,x=0;x<y.length;x++){if("="===y[x].cmd){var _=t.getItemGraphicEl(y[x].idx1);_&&v.push({el:_,ptIdx:x})}}s.animators&&s.animators.length&&s.animators[0].during(function(){for(var t=0;t<v.length;t++){v[t].el.attr("position",s.shape.__points[v[t].ptIdx])}})},remove:function(t){var e=this.group,n=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),n&&n.eachItemGraphicEl(function(t,i){t.__temp&&(e.remove(t),n.setItemGraphicEl(i,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}});t.exports=L},function(t,e,n){function i(t,e){var n=[];return e.diff(t).add(function(t){n.push({cmd:"+",idx:t})}).update(function(t,e){n.push({cmd:"=",idx:e,idx1:t})}).remove(function(t){n.push({cmd:"-",idx:t})}).execute(),n}function r(t,e,n,r,a,l,c,u){for(var h=i(t,e),d=[],p=[],f=[],g=[],m=[],v=[],y=[],x=o(a,e,c),_=o(l,t,u),b=0;b<h.length;b++){var w=h[b],M=!0;switch(w.cmd){case"=":var S=t.getItemLayout(w.idx),T=e.getItemLayout(w.idx1);(isNaN(S[0])||isNaN(S[1]))&&(S=T.slice()),d.push(S),p.push(T),f.push(n[w.idx]),g.push(r[w.idx1]),y.push(e.getRawIndex(w.idx1));break;case"+":var A=w.idx;d.push(a.dataToPoint([e.get(x.dataDimsForPoint[0],A),e.get(x.dataDimsForPoint[1],A)])),p.push(e.getItemLayout(A).slice()),f.push(s(x,a,e,A)),g.push(r[A]),y.push(e.getRawIndex(A));break;case"-":var A=w.idx,C=t.getRawIndex(A);C!==A?(d.push(t.getItemLayout(A)),p.push(l.dataToPoint([t.get(_.dataDimsForPoint[0],A),t.get(_.dataDimsForPoint[1],A)])),f.push(n[A]),g.push(s(_,l,t,A)),y.push(C)):M=!1}M&&(m.push(w),v.push(v.length))}v.sort(function(t,e){return y[t]-y[e]});for(var L=[],E=[],I=[],P=[],D=[],b=0;b<v.length;b++){var A=v[b];L[b]=d[A],E[b]=p[A],I[b]=f[A],P[b]=g[A],D[b]=m[A]}return{current:L,next:E,stackedOnCurrent:I,stackedOnNext:P,status:D}}var a=n(188),o=a.prepareDataCoordInfo,s=a.getStackedOnPoint;t.exports=r},function(t,e){function n(t){return{seriesType:t,modifyOutputEnd:!0,reset:function(t,e,n){var a=t.getData(),o=t.get("sampling"),s=t.coordinateSystem;if("cartesian2d"===s.type&&o){var l=s.getBaseAxis(),c=s.getOtherAxis(l),u=l.getExtent(),h=u[1]-u[0],d=Math.round(a.count()/h);if(d>1){var p;"string"==typeof o?p=i[o]:"function"==typeof o&&(p=o),p&&t.setData(a.downSample(a.mapDimension(c.dim),1/d,p,r))}}}}}var i={average:function(t){for(var e=0,n=0,i=0;i<t.length;i++)isNaN(t[i])||(e+=t[i],n++);return 0===n?NaN:e/n},sum:function(t){for(var e=0,n=0;n<t.length;n++)e+=t[n]||0;return e},max:function(t){for(var e=-1/0,n=0;n<t.length;n++)t[n]>e&&(e=t[n]);return isFinite(e)?e:NaN},min:function(t){for(var e=1/0,n=0;n<t.length;n++)t[n]<e&&(e=t[n]);return isFinite(e)?e:NaN},nearest:function(t){return t[0]}},r=function(t,e){return Math.round(t.length/2)};t.exports=n},function(t,e,n){function i(t){o.call(this,t)}var r=n(0),a=n(8),o=n(348);i.prototype={constructor:i,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(t){var e=this.getAxis("x"),n=this.getAxis("y");return e.contain(e.toLocalCoord(t[0]))&&n.contain(n.toLocalCoord(t[1]))},containData:function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},dataToPoint:function(t,e,n){var i=this.getAxis("x"),r=this.getAxis("y");return n=n||[],n[0]=i.toGlobalCoord(i.dataToCoord(t[0])),n[1]=r.toGlobalCoord(r.dataToCoord(t[1])),n},clampData:function(t,e){var n=this.getAxis("x").scale,i=this.getAxis("y").scale,r=n.getExtent(),a=i.getExtent(),o=n.parse(t[0]),s=i.parse(t[1]);return e=e||[],e[0]=Math.min(Math.max(Math.min(r[0],r[1]),o),Math.max(r[0],r[1])),e[1]=Math.min(Math.max(Math.min(a[0],a[1]),s),Math.max(a[0],a[1])),e},pointToData:function(t,e){var n=this.getAxis("x"),i=this.getAxis("y");return e=e||[],e[0]=n.coordToData(n.toLocalCoord(t[0])),e[1]=i.coordToData(i.toLocalCoord(t[1])),e},getOtherAxis:function(t){return this.getAxis("x"===t.dim?"y":"x")},getArea:function(){var t=this.getAxis("x").getGlobalExtent(),e=this.getAxis("y").getGlobalExtent(),n=Math.min(t[0],t[1]),i=Math.min(e[0],e[1]),r=Math.max(t[0],t[1])-n,o=Math.max(e[0],e[1])-i;return new a(n,i,r,o)}},r.inherits(i,o);var s=i;t.exports=s},function(t,e,n){function i(t){return this._axes[t]}var r=n(0),a=function(t){this._axes={},this._dimList=[],this.name=t||""};a.prototype={constructor:a,type:"cartesian",getAxis:function(t){return this._axes[t]},getAxes:function(){return r.map(this._dimList,i,this)},getAxesByScale:function(t){return t=t.toLowerCase(),r.filter(this.getAxes(),function(e){return e.scale.type===t})},addAxis:function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},dataToCoord:function(t){return this._dataCoordConvert(t,"dataToCoord")},coordToData:function(t){return this._dataCoordConvert(t,"coordToData")},_dataCoordConvert:function(t,e){for(var n=this._dimList,i=t instanceof Array?[]:{},r=0;r<n.length;r++){var a=n[r],o=this._axes[a];i[a]=o[e](t[a])}return i}};var o=a;t.exports=o},function(t,e,n){var i=n(0),r=n(35),a=function(t,e,n,i,a){r.call(this,t,e,n),this.type=i||"value",this.position=a||"bottom"};a.prototype={constructor:a,index:0,getAxesOnZeroOf:null,model:null,isHorizontal:function(){var t=this.position;return"top"===t||"bottom"===t},getGlobalExtent:function(t){var e=this.getExtent();return e[0]=this.toGlobalCoord(e[0]),e[1]=this.toGlobalCoord(e[1]),t&&e[0]>e[1]&&e.reverse(),e},getOtherAxis:function(){this.grid.getOtherAxis()},pointToData:function(t,e){return this.coordToData(this.toLocalCoord(t["x"===this.dim?0:1]),e)},toLocalCoord:null,toGlobalCoord:null},i.inherits(a,r);var o=a;t.exports=o},function(t,e,n){n(190);var i=n(13),r=i.extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}});t.exports=r},function(t,e,n){n(190),n(352)},function(t,e,n){var i=n(0),r=n(2),a=n(36),o=n(43),s=n(192),l=["axisLine","axisTickLabel","axisName"],c=["splitArea","splitLine","minorSplitLine"],u=o.extend({type:"cartesianAxis",axisPointerClass:"CartesianAxisPointer",render:function(t,e,n,o){this.group.removeAll();var h=this._axisGroup;if(this._axisGroup=new r.Group,this.group.add(this._axisGroup),t.get("show")){var d=t.getCoordSysModel(),p=s.layout(d,t),f=new a(t,p);i.each(l,f.add,f),this._axisGroup.add(f.getGroup()),i.each(c,function(e){t.get(e+".show")&&this["_"+e](t,d)},this),r.groupTransition(h,this._axisGroup,t),u.superCall(this,"render",t,e,n,o)}},remove:function(){this._splitAreaColors=null},_splitLine:function(t,e){var n=t.axis;if(!n.scale.isBlank()){var a=t.getModel("splitLine"),o=a.getModel("lineStyle"),s=o.get("color");s=i.isArray(s)?s:[s];for(var l=e.coordinateSystem.getRect(),c=n.isHorizontal(),u=0,h=n.getTicksCoords({tickModel:a}),d=[],p=[],f=o.getLineStyle(),g=0;g<h.length;g++){var m=n.toGlobalCoord(h[g].coord);c?(d[0]=m,d[1]=l.y,p[0]=m,p[1]=l.y+l.height):(d[0]=l.x,d[1]=m,p[0]=l.x+l.width,p[1]=m);var v=u++%s.length,y=h[g].tickValue;this._axisGroup.add(new r.Line({anid:null!=y?"line_"+h[g].tickValue:null,subPixelOptimize:!0,shape:{x1:d[0],y1:d[1],x2:p[0],y2:p[1]},style:i.defaults({stroke:s[v]},f),silent:!0}))}}},_minorSplitLine:function(t,e){var n=t.axis,i=t.getModel("minorSplitLine"),a=i.getModel("lineStyle"),o=e.coordinateSystem.getRect(),s=n.isHorizontal(),l=n.getMinorTicksCoords();if(l.length)for(var c=[],u=[],h=a.getLineStyle(),d=0;d<l.length;d++)for(var p=0;p<l[d].length;p++){var f=n.toGlobalCoord(l[d][p].coord);s?(c[0]=f,c[1]=o.y,u[0]=f,u[1]=o.y+o.height):(c[0]=o.x,c[1]=f,u[0]=o.x+o.width,u[1]=f),this._axisGroup.add(new r.Line({anid:"minor_line_"+l[d][p].tickValue,subPixelOptimize:!0,shape:{x1:c[0],y1:c[1],x2:u[0],y2:u[1]},style:h,silent:!0}))}},_splitArea:function(t,e){var n=t.axis;if(!n.scale.isBlank()){var a=t.getModel("splitArea"),o=a.getModel("areaStyle"),s=o.get("color"),l=e.coordinateSystem.getRect(),c=n.getTicksCoords({tickModel:a,clamp:!0});if(c.length){var u=s.length,h=this._splitAreaColors,d=i.createHashMap(),p=0;if(h)for(var f=0;f<c.length;f++){var g=h.get(c[f].tickValue);if(null!=g){p=(g+(u-1)*f)%u;break}}var m=n.toGlobalCoord(c[0].coord),v=o.getAreaStyle();s=i.isArray(s)?s:[s];for(var f=1;f<c.length;f++){var y,x,_,b,w=n.toGlobalCoord(c[f].coord);n.isHorizontal()?(y=m,x=l.y,_=w-y,b=l.height,m=y+_):(y=l.x,x=m,_=l.width,b=w-x,m=x+b);var M=c[f-1].tickValue;null!=M&&d.set(M,p),this._axisGroup.add(new r.Rect({anid:null!=M?"area_"+M:null,shape:{x:y,y:x,width:_,height:b},style:i.defaults({fill:s[p]},v),silent:!0})),p=(p+1)%u}this._splitAreaColors=d}}}});u.extend({type:"xAxis"}),u.extend({type:"yAxis"})},function(t,e,n){var i=n(1),r=n(0),a=n(83),o=a.layout,s=a.largeLayout;n(105),n(354),n(355),n(67),i.registerLayout(i.PRIORITY.VISUAL.LAYOUT,r.curry(o,"bar")),i.registerLayout(i.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,s),i.registerVisual({seriesType:"bar",reset:function(t){t.getData().setVisual("legendSymbol","roundRect")}})},function(t,e,n){var i=n(193),r=i.extend({type:"series.bar",dependencies:["grid","polar"],brushSelector:"rect",getProgressive:function(){return!!this.get("large")&&this.get("progressive")},getProgressiveThreshold:function(){var t=this.get("progressiveThreshold"),e=this.get("largeThreshold");return e>t&&(t=e),t},defaultOption:{clip:!0,roundCap:!1}});t.exports=r},function(t,e,n){function i(t,e){var n=t.getArea&&t.getArea();if("cartesian2d"===t.type){var i=t.getBaseAxis();if("category"!==i.type||!i.onBand){var r=e.getLayout("bandWidth");i.isHorizontal()?(n.x-=r,n.width+=2*r):(n.y-=r,n.height+=2*r)}}return n}function r(t,e,n){n.style.text=null,g.updateProps(n,{shape:{width:0}},e,t,function(){n.parent&&n.parent.remove(n)})}function a(t,e,n){n.style.text=null,g.updateProps(n,{shape:{r:n.shape.r0}},e,t,function(){n.parent&&n.parent.remove(n)})}function o(t){return null!=t.startAngle&&null!=t.endAngle&&t.startAngle===t.endAngle}function s(t,e,n,i,r,a,s,l){var c=e.getItemVisual(n,"color"),u=e.getItemVisual(n,"opacity"),h=e.getVisual("borderColor"),d=i.getModel("itemStyle"),p=i.getModel("emphasis.itemStyle").getBarItemStyle();l||t.setShape("r",d.get("barBorderRadius")||0),t.useStyle(f.defaults({stroke:o(r)?"none":h,fill:o(r)?"none":c,opacity:u},d.getBarItemStyle()));var m=i.getShallow("cursor");m&&t.attr("cursor",m);var y=s?r.height>0?"bottom":"top":r.width>0?"left":"right";l||v(t.style,p,i,c,a,n,y),o(r)&&(p.fill=p.stroke="none"),g.setHoverStyle(t,p)}function l(t,e){var n=t.get(A)||0;return Math.min(n,Math.abs(e.width),Math.abs(e.height))}function c(t,e,n){var i=t.getData(),r=[],a=i.getLayout("valueAxisHorizontal")?1:0;r[1-a]=i.getLayout("valueAxisStart");var o=new O({shape:{points:i.getLayout("largePoints")},incremental:!!n,__startPoint:r,__baseDimIdx:a,__largeDataIndices:i.getLayout("largeDataIndices"),__barWidth:i.getLayout("barWidth")});e.add(o),h(o,t,i),o.seriesIndex=t.seriesIndex,t.get("silent")||(o.on("mousedown",k),o.on("mousemove",k))}function u(t,e,n){var i=t.__baseDimIdx,r=1-i,a=t.shape.points,o=t.__largeDataIndices,s=Math.abs(t.__barWidth/2),l=t.__startPoint[r];C[0]=e,C[1]=n;for(var c=C[i],u=C[1-i],h=c-s,d=c+s,p=0,f=a.length/2;p<f;p++){var g=2*p,m=a[g+i],v=a[g+r];if(m>=h&&m<=d&&(l<=v?u>=l&&u<=v:u>=v&&u<=l))return o[p]}return-1}function h(t,e,n){var i=n.getVisual("borderColor")||n.getVisual("color"),r=e.getModel("itemStyle").getItemStyle(["color","borderColor"]);t.useStyle(r),t.style.fill=null,t.style.stroke=i,t.style.lineWidth=n.getLayout("barWidth")}var d=n(5),p=(d.__DEV__,n(1)),f=n(0),g=n(2),m=n(194),v=m.setLabel,y=n(12),x=n(356),_=n(10),b=n(33),w=b.throttle,M=n(65),S=M.createClipPath,T=n(357),A=["itemStyle","barBorderWidth"],C=[0,0];f.extend(y.prototype,x);var L=p.extendChartView({type:"bar",render:function(t,e,n){this._updateDrawMode(t);var i=t.get("coordinateSystem");return"cartesian2d"!==i&&"polar"!==i||(this._isLargeDraw?this._renderLarge(t,e,n):this._renderNormal(t,e,n)),this.group},incrementalPrepareRender:function(t,e,n){this._clear(),this._updateDrawMode(t)},incrementalRender:function(t,e,n,i){this._incrementalRenderLarge(t,e)},_updateDrawMode:function(t){var e=t.pipelineContext.large;(null==this._isLargeDraw||e^this._isLargeDraw)&&(this._isLargeDraw=e,this._clear())},_renderNormal:function(t,e,n){var o,l=this.group,c=t.getData(),u=this._data,h=t.coordinateSystem,d=h.getBaseAxis();"cartesian2d"===h.type?o=d.isHorizontal():"polar"===h.type&&(o="angle"===d.dim);var p=t.isAnimationEnabled()?t:null,f=t.get("clip",!0),m=i(h,c);l.removeClipPath();var v=t.get("roundCap",!0);c.diff(u).add(function(e){if(c.hasValue(e)){var n=c.getItemModel(e),i=R[h.type](c,e,n);if(f){if(P[h.type](m,i))return void l.remove(r)}var r=D[h.type](e,i,o,p,!1,v);c.setItemGraphicEl(e,r),l.add(r),s(r,c,e,n,i,t,o,"polar"===h.type)}}).update(function(e,n){var i=u.getItemGraphicEl(n);if(!c.hasValue(e))return void l.remove(i);var r=c.getItemModel(e),a=R[h.type](c,e,r);if(f){if(P[h.type](m,a))return void l.remove(i)}i?g.updateProps(i,{shape:a},p,e):i=D[h.type](e,a,o,p,!0,v),c.setItemGraphicEl(e,i),l.add(i),s(i,c,e,r,a,t,o,"polar"===h.type)}).remove(function(t){var e=u.getItemGraphicEl(t);"cartesian2d"===h.type?e&&r(t,p,e):e&&a(t,p,e)}).execute(),this._data=c},_renderLarge:function(t,e,n){this._clear(),c(t,this.group);var i=t.get("clip",!0)?S(t.coordinateSystem,!1,t):null;i?this.group.setClipPath(i):this.group.removeClipPath()},_incrementalRenderLarge:function(t,e){c(e,this.group,!0)},dispose:f.noop,remove:function(t){this._clear(t)},_clear:function(t){var e=this.group,n=this._data;t&&t.get("animation")&&n&&!this._isLargeDraw?n.eachItemGraphicEl(function(e){"sector"===e.type?a(e.dataIndex,t,e):r(e.dataIndex,t,e)}):e.removeAll(),this._data=null}}),E=Math.max,I=Math.min,P={cartesian2d:function(t,e){var n=e.width<0?-1:1,i=e.height<0?-1:1;n<0&&(e.x+=e.width,e.width=-e.width),i<0&&(e.y+=e.height,e.height=-e.height);var r=E(e.x,t.x),a=I(e.x+e.width,t.x+t.width),o=E(e.y,t.y),s=I(e.y+e.height,t.y+t.height);e.x=r,e.y=o,e.width=a-r,e.height=s-o;var l=e.width<0||e.height<0;return n<0&&(e.x+=e.width,e.width=-e.width),i<0&&(e.y+=e.height,e.height=-e.height),l},polar:function(t){return!1}},D={cartesian2d:function(t,e,n,i,r){var a=new g.Rect({shape:f.extend({},e)});if(i){var o=a.shape,s=n?"height":"width",l={};o[s]=0,l[s]=e[s],g[r?"updateProps":"initProps"](a,{shape:l},i,t)}return a},polar:function(t,e,n,i,r,a){var o=e.startAngle<e.endAngle,s=!n&&a?T:g.Sector,l=new s({shape:f.defaults({clockwise:o},e)});if(i){var c=l.shape,u=n?"r":"endAngle",h={};c[u]=n?0:e.startAngle,h[u]=e[u],g[r?"updateProps":"initProps"](l,{shape:h},i,t)}return l}},R={cartesian2d:function(t,e,n){var i=t.getItemLayout(e),r=l(n,i),a=i.width>0?1:-1,o=i.height>0?1:-1;return{x:i.x+a*r/2,y:i.y+o*r/2,width:i.width-a*r,height:i.height-o*r}},polar:function(t,e,n){var i=t.getItemLayout(e);return{cx:i.cx,cy:i.cy,r0:i.r0,r:i.r,startAngle:i.startAngle,endAngle:i.endAngle}}},O=_.extend({type:"largeBar",shape:{points:[]},buildPath:function(t,e){for(var n=e.points,i=this.__startPoint,r=this.__baseDimIdx,a=0;a<n.length;a+=2)i[r]=n[a+r],t.moveTo(i[0],i[1]),t.lineTo(n[a],n[a+1])}}),k=w(function(t){var e=this,n=u(e,t.offsetX,t.offsetY);e.dataIndex=n>=0?n:null},30,!1);t.exports=L},function(t,e,n){var i=n(48),r=i([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),a={getBarItemStyle:function(t){var e=r(this,t);if(this.getBorderLineDash){var n=this.getBorderLineDash();n&&(e.lineDash=n)}return e}};t.exports=a},function(t,e,n){var i=n(2),r=i.extendShape,a=r({type:"sausage",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},buildPath:function(t,e){var n=e.cx,i=e.cy,r=Math.max(e.r0||0,0),a=Math.max(e.r,0),o=.5*(a-r),s=r+o,l=e.startAngle,c=e.endAngle,u=e.clockwise,h=Math.cos(l),d=Math.sin(l),p=Math.cos(c),f=Math.sin(c);(u?c-l<2*Math.PI:l-c<2*Math.PI)&&(t.moveTo(h*r+n,d*r+i),t.arc(h*s+n,d*s+i,o,-Math.PI+l,l,!u)),t.arc(n,i,a,l,c,!u),t.moveTo(p*a+n,f*a+i),t.arc(p*s+n,f*s+i,o,c-2*Math.PI,c-Math.PI,!u),0!==r&&(t.arc(n,i,r,c,l,u),t.moveTo(h*r+n,f*r+i)),t.closePath()}});t.exports=a},function(t,e,n){var i=n(1),r=n(0);n(359),n(360);var a=n(195),o=n(87),s=n(361),l=n(69);a("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]),i.registerVisual(o("pie")),i.registerLayout(r.curry(s,"pie")),i.registerProcessor(l("pie"))},function(t,e,n){var i=n(1),r=n(53),a=n(0),o=n(4),s=n(3),l=s.getPercentWithPrecision,c=n(106),u=n(40),h=u.retrieveRawAttr,d=n(30),p=d.makeSeriesEncodeForNameBased,f=n(68),g=i.extendSeriesModel({type:"series.pie",init:function(t){g.superApply(this,"init",arguments),this.legendVisualProvider=new f(a.bind(this.getData,this),a.bind(this.getRawData,this)),this.updateSelectedMap(this._createSelectableList()),this._defaultLabelLine(t)},mergeOption:function(t){g.superCall(this,"mergeOption",t),this.updateSelectedMap(this._createSelectableList())},getInitialData:function(t,e){return r(this,{coordDimensions:["value"],encodeDefaulter:a.curry(p,this)})},_createSelectableList:function(){for(var t=this.getRawData(),e=t.mapDimension("value"),n=[],i=0,r=t.count();i<r;i++)n.push({name:t.getName(i),value:t.get(e,i),selected:h(t,i,"selected")});return n},getDataParams:function(t){var e=this.getData(),n=g.superCall(this,"getDataParams",t),i=[];return e.each(e.mapDimension("value"),function(t){i.push(t)}),n.percent=l(i,t,e.hostModel.get("percentPrecision")),n.$vars.push("percent"),n},_defaultLabelLine:function(t){o.defaultEmphasis(t,"labelLine",["show"]);var e=t.labelLine,n=t.emphasis.labelLine;e.show=e.show&&t.label.show,n.show=n.show&&t.emphasis.label.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,hoverOffset:10,avoidLabelOverlap:!0,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:!1,show:!0,position:"outer",alignTo:"none",margin:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1},animationType:"expansion",animationTypeUpdate:"transition",animationEasing:"cubicOut"}});a.mixin(g,c);var m=g;t.exports=m},function(t,e,n){function i(t,e,n,i){var a=e.getData(),o=this.dataIndex,s=a.getName(o),l=e.get("selectedOffset");i.dispatchAction({type:"pieToggleSelect",from:t,name:s,seriesId:e.id}),a.each(function(t){r(a.getItemGraphicEl(t),a.getItemLayout(t),e.isSelected(a.getName(t)),l,n)})}function r(t,e,n,i,r){var a=(e.startAngle+e.endAngle)/2,o=Math.cos(a),s=Math.sin(a),l=n?i:0,c=[o*l,s*l];r?t.animate().when(200,{position:c}).start("bounceOut"):t.attr("position",c)}function a(t,e){s.Group.call(this);var n=new s.Sector({z2:2}),i=new s.Polyline,r=new s.Text;this.add(n),this.add(i),this.add(r),this.updateData(t,e,!0)}var o=n(0),s=n(2),l=n(25),c=a.prototype;c.updateData=function(t,e,n){var i=this.childAt(0),a=this.childAt(1),l=this.childAt(2),c=t.hostModel,u=t.getItemModel(e),h=t.getItemLayout(e),d=o.extend({},h);d.label=null;var p=c.getShallow("animationTypeUpdate");if(n){i.setShape(d);"scale"===c.getShallow("animationType")?(i.shape.r=h.r0,s.initProps(i,{shape:{r:h.r}},c,e)):(i.shape.endAngle=h.startAngle,s.updateProps(i,{shape:{endAngle:h.endAngle}},c,e))}else"expansion"===p?i.setShape(d):s.updateProps(i,{shape:d},c,e);var f=t.getItemVisual(e,"color");i.useStyle(o.defaults({lineJoin:"bevel",fill:f},u.getModel("itemStyle").getItemStyle())),i.hoverStyle=u.getModel("emphasis.itemStyle").getItemStyle();var g=u.getShallow("cursor");g&&i.attr("cursor",g),r(this,t.getItemLayout(e),c.isSelected(null,e),c.get("selectedOffset"),c.get("animation"));var m=!n&&"transition"===p;this._updateLabel(t,e,m),this.highDownOnUpdate=u.get("hoverAnimation")&&c.isAnimationEnabled()?function(t,e){"emphasis"===e?(a.ignore=a.hoverIgnore,l.ignore=l.hoverIgnore,i.stopAnimation(!0),i.animateTo({shape:{r:h.r+c.get("hoverOffset")}},300,"elasticOut")):(a.ignore=a.normalIgnore,l.ignore=l.normalIgnore,i.stopAnimation(!0),i.animateTo({shape:{r:h.r}},300,"elasticOut"))}:null,s.setHoverStyle(this)},c._updateLabel=function(t,e,n){var i=this.childAt(1),r=this.childAt(2),a=t.hostModel,o=t.getItemModel(e),l=t.getItemLayout(e),c=l.label,u=t.getItemVisual(e,"color");if(!c||isNaN(c.x)||isNaN(c.y))return void(r.ignore=r.normalIgnore=r.hoverIgnore=i.ignore=i.normalIgnore=i.hoverIgnore=!0);var h={points:c.linePoints||[[c.x,c.y],[c.x,c.y],[c.x,c.y]]},d={x:c.x,y:c.y};n?(s.updateProps(i,{shape:h},a,e),s.updateProps(r,{style:d},a,e)):(i.attr({shape:h}),r.attr({style:d})),r.attr({rotation:c.rotation,origin:[c.x,c.y],z2:10});var p=o.getModel("label"),f=o.getModel("emphasis.label"),g=o.getModel("labelLine"),m=o.getModel("emphasis.labelLine"),u=t.getItemVisual(e,"color");s.setLabelStyle(r.style,r.hoverStyle={},p,f,{labelFetcher:t.hostModel,labelDataIndex:e,defaultText:c.text,autoColor:u,useInsideStyle:!!c.inside},{textAlign:c.textAlign,textVerticalAlign:c.verticalAlign,opacity:t.getItemVisual(e,"opacity")}),r.ignore=r.normalIgnore=!p.get("show"),r.hoverIgnore=!f.get("show"),i.ignore=i.normalIgnore=!g.get("show"),i.hoverIgnore=!m.get("show"),i.setStyle({stroke:u,opacity:t.getItemVisual(e,"opacity")}),i.setStyle(g.getModel("lineStyle").getLineStyle()),i.hoverStyle=m.getModel("lineStyle").getLineStyle();var v=g.get("smooth");v&&!0===v&&(v=.4),i.setShape({smooth:v})},o.inherits(a,s.Group);var u=l.extend({type:"pie",init:function(){var t=new s.Group;this._sectorGroup=t},render:function(t,e,n,r){if(!r||r.from!==this.uid){var s=t.getData(),l=this._data,c=this.group,u=e.get("animation"),h=!l,d=t.get("animationType"),p=t.get("animationTypeUpdate"),f=o.curry(i,this.uid,t,u,n),g=t.get("selectedMode");if(s.diff(l).add(function(t){var e=new a(s,t);h&&"scale"!==d&&e.eachChild(function(t){t.stopAnimation(!0)}),g&&e.on("click",f),s.setItemGraphicEl(t,e),c.add(e)}).update(function(t,e){var n=l.getItemGraphicEl(e);h||"transition"===p||n.eachChild(function(t){t.stopAnimation(!0)}),n.updateData(s,t),n.off("click"),g&&n.on("click",f),c.add(n),s.setItemGraphicEl(t,n)}).remove(function(t){var e=l.getItemGraphicEl(t);c.remove(e)}).execute(),u&&s.count()>0&&(h?"scale"!==d:"transition"!==p)){for(var m=s.getItemLayout(0),v=1;isNaN(m.startAngle)&&v<s.count();++v)m=s.getItemLayout(v);var y=Math.max(n.getWidth(),n.getHeight())/2,x=o.bind(c.removeClipPath,c);c.setClipPath(this._createClipPath(m.cx,m.cy,y,m.startAngle,m.clockwise,x,t,h))}else c.removeClipPath();this._data=s}},dispose:function(){},_createClipPath:function(t,e,n,i,r,a,o,l){var c=new s.Sector({shape:{cx:t,cy:e,r0:0,r:n,startAngle:i,endAngle:i,clockwise:r}});return(l?s.initProps:s.updateProps)(c,{shape:{endAngle:i+(r?1:-1)*Math.PI*2}},o,a),c},containPoint:function(t,e){var n=e.getData(),i=n.getItemLayout(0);if(i){var r=t[0]-i.cx,a=t[1]-i.cy,o=Math.sqrt(r*r+a*a);return o<=i.r&&o>=i.r0}}}),h=u;t.exports=h},function(t,e,n){function i(t,e){return l.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function r(t,e,n,r){e.eachSeriesByType(t,function(t){var e=t.getData(),r=e.mapDimension("value"),a=i(t,n),l=t.get("center"),p=t.get("radius");u.isArray(p)||(p=[0,p]),u.isArray(l)||(l=[l,l]);var f=o(a.width,n.getWidth()),g=o(a.height,n.getHeight()),m=Math.min(f,g),v=o(l[0],f)+a.x,y=o(l[1],g)+a.y,x=o(p[0],m/2),_=o(p[1],m/2),b=-t.get("startAngle")*d,w=t.get("minAngle")*d,M=0;e.each(r,function(t){!isNaN(t)&&M++});var S=e.getSum(r),T=Math.PI/(S||M)*2,A=t.get("clockwise"),C=t.get("roseType"),L=t.get("stillShowZeroSum"),E=e.getDataExtent(r);E[0]=0;var I=h,P=0,D=b,R=A?1:-1;if(e.each(r,function(t,n){var i;if(isNaN(t))return void e.setItemLayout(n,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:A,cx:v,cy:y,r0:x,r:C?NaN:_,viewRect:a});i="area"!==C?0===S&&L?T:t*T:h/M,i<w?(i=w,I-=w):P+=t;var r=D+R*i;e.setItemLayout(n,{angle:i,startAngle:D,endAngle:r,clockwise:A,cx:v,cy:y,r0:x,r:C?s(t,E,[x,_]):_,viewRect:a}),D=r}),I<h&&M)if(I<=.001){var O=h/M;e.each(r,function(t,n){if(!isNaN(t)){var i=e.getItemLayout(n);i.angle=O,i.startAngle=b+R*n*O,i.endAngle=b+R*(n+1)*O}})}else T=I/P,D=b,e.each(r,function(t,n){if(!isNaN(t)){var i=e.getItemLayout(n),r=i.angle===w?w:t*T;i.startAngle=D,i.endAngle=D+R*r,D+=R*r}});c(t,_,a.width,a.height,a.x,a.y)})}var a=n(3),o=a.parsePercent,s=a.linearMap,l=n(6),c=n(362),u=n(0),h=2*Math.PI,d=Math.PI/180;t.exports=r},function(t,e,n){function i(t,e,n,i,r,a,o,s,l,c){function u(e,n){for(var i=e;i>=0&&!(t[i].y-n<l)&&(t[i].y-=n,!(i>0&&t[i].y>t[i-1].y+t[i-1].height));i--);}function h(t,e,n,i,r,a){for(var o=e?Number.MAX_VALUE:0,s=0,l=t.length;s<l;s++)if("none"===t[s].labelAlignTo){var c=Math.abs(t[s].y-i),u=t[s].len,h=t[s].len2,d=c<r+u?Math.sqrt((r+u+h)*(r+u+h)-c*c):Math.abs(t[s].x-n);e&&d>=o&&(d=o-10),!e&&d<=o&&(d=o+10),t[s].x=n+d*a,o=d}}t.sort(function(t,e){return t.y-e.y});for(var d,p=0,f=t.length,g=[],m=[],v=0;v<f;v++){if("outer"===t[v].position&&"labelLine"===t[v].labelAlignTo){var y=t[v].x-c;t[v].linePoints[1][0]+=y,t[v].x=c}d=t[v].y-p,d<0&&function(e,n,i,r){for(var a=e;a<n&&!(t[a].y+i>l+o);a++)if(t[a].y+=i,a>e&&a+1<n&&t[a+1].y>t[a].y+t[a].height)return void u(a,i/2);u(n-1,i/2)}(v,f,-d),p=t[v].y+t[v].height}o-p<0&&u(f-1,p-o);for(var v=0;v<f;v++)t[v].y>=n?m.push(t[v]):g.push(t[v]);h(g,!1,e,n,i,r),h(m,!0,e,n,i,r)}function r(t,e,n,r,o,l,c,u){for(var h=[],d=[],p=Number.MAX_VALUE,f=-Number.MAX_VALUE,g=0;g<t.length;g++)a(t[g])||(t[g].x<e?(p=Math.min(p,t[g].x),h.push(t[g])):(f=Math.max(f,t[g].x),d.push(t[g])));i(d,e,n,r,1,o,l,c,u,f),i(h,e,n,r,-1,o,l,c,u,p);for(var g=0;g<t.length;g++){var m=t[g];if(!a(m)){var v=m.linePoints;if(v){var y,x="edge"===m.labelAlignTo,_=m.textRect.width;y=x?m.x<e?v[2][0]-m.labelDistance-c-m.labelMargin:c+o-m.labelMargin-v[2][0]-m.labelDistance:m.x<e?m.x-c-m.bleedMargin:c+o-m.x-m.bleedMargin,y<m.textRect.width&&(m.text=s.truncateText(m.text,y,m.font),"edge"===m.labelAlignTo&&(_=s.getWidth(m.text,m.font)));var b=v[1][0]-v[2][0];x?m.x<e?v[2][0]=c+m.labelMargin+_+m.labelDistance:v[2][0]=c+o-m.labelMargin-_-m.labelDistance:(m.x<e?v[2][0]=m.x+m.labelDistance:v[2][0]=m.x-m.labelDistance,v[1][0]=v[2][0]+b),v[1][1]=v[2][1]=m.y}}}}function a(t){return"center"===t.position}function o(t,e,n,i,a,o){var l,h,d=t.getData(),p=[],f=!1,g=(t.get("minShowLabelAngle")||0)*u;d.each(function(i){var r=d.getItemLayout(i),o=d.getItemModel(i),u=o.getModel("label"),m=u.get("position")||o.get("emphasis.label.position"),v=u.get("distanceToLabelLine"),y=u.get("alignTo"),x=c(u.get("margin"),n),_=u.get("bleedMargin"),b=u.getFont(),w=o.getModel("labelLine"),M=w.get("length");M=c(M,n);var S=w.get("length2");if(S=c(S,n),!(r.angle<g)){var T,A,C,L,E=(r.startAngle+r.endAngle)/2,I=Math.cos(E),P=Math.sin(E);l=r.cx,h=r.cy;var D=t.getFormattedLabel(i,"normal")||d.getName(i),R=s.getBoundingRect(D,b,L,"top"),O="inside"===m||"inner"===m;if("center"===m)T=r.cx,A=r.cy,L="center";else{var k=(O?(r.r+r.r0)/2*I:r.r*I)+l,N=(O?(r.r+r.r0)/2*P:r.r*P)+h;if(T=k+3*I,A=N+3*P,!O){var z=k+I*(M+e-r.r),B=N+P*(M+e-r.r),V=z+(I<0?-1:1)*S,F=B;T="edge"===y?I<0?a+x:a+n-x:V+(I<0?-v:v),A=F,C=[[k,N],[z,B],[V,F]]}L=O?"center":"edge"===y?I>0?"right":"left":I>0?"left":"right"}var G,H=u.get("rotate");G="number"==typeof H?H*(Math.PI/180):H?I<0?-E+Math.PI:-E:0,f=!!G,r.label={x:T,y:A,position:m,height:R.height,len:M,len2:S,linePoints:C,textAlign:L,verticalAlign:"middle",rotation:G,inside:O,labelDistance:v,labelAlignTo:y,labelMargin:x,bleedMargin:_,textRect:R,text:D,font:b},O||p.push(r.label)}}),!f&&t.get("avoidLabelOverlap")&&r(p,l,h,e,n,i,a,o)}var s=n(17),l=n(3),c=l.parsePercent,u=Math.PI/180;t.exports=o},function(t,e,n){var i=n(1);n(364),n(365);var r=n(42),a=n(66);n(67),i.registerVisual(r("scatter","circle")),i.registerLayout(a("scatter"))},function(t,e,n){var i=n(31),r=n(14),a=r.extend({type:"series.scatter",dependencies:["grid","polar","geo","singleAxis","calendar"],getInitialData:function(t,e){return i(this.getSource(),this,{useEncodeDefaulter:!0})},brushSelector:"point",getProgressive:function(){var t=this.option.progressive;return null==t?this.option.large?5e3:this.get("progressive"):t},getProgressiveThreshold:function(){var t=this.option.progressiveThreshold;return null==t?this.option.large?1e4:this.get("progressiveThreshold"):t},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},clip:!0}});t.exports=a},function(t,e,n){var i=n(1),r=n(64),a=n(366),o=n(66);i.extendChartView({type:"scatter",render:function(t,e,n){var i=t.getData();this._updateSymbolDraw(i,t).updateData(i,{clipShape:this._getClipShape(t)}),this._finished=!0},incrementalPrepareRender:function(t,e,n){var i=t.getData();this._updateSymbolDraw(i,t).incrementalPrepareUpdate(i),this._finished=!1},incrementalRender:function(t,e,n){this._symbolDraw.incrementalUpdate(t,e.getData(),{clipShape:this._getClipShape(e)}),this._finished=t.end===e.getData().count()},updateTransform:function(t,e,n){var i=t.getData();if(this.group.dirty(),!this._finished||i.count()>1e4||!this._symbolDraw.isPersistent())return{update:!0};var r=o().reset(t);r.progress&&r.progress({start:0,end:i.count()},i),this._symbolDraw.updateLayout(i)},_getClipShape:function(t){var e=t.coordinateSystem,n=e&&e.getArea&&e.getArea();return t.get("clip",!0)?n:null},_updateSymbolDraw:function(t,e){var n=this._symbolDraw,i=e.pipelineContext,o=i.large;return n&&o===this._isLargeDraw||(n&&n.remove(),n=this._symbolDraw=o?new a:new r,this._isLargeDraw=o,this.group.removeAll()),this.group.add(n.group),n},remove:function(t,e){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},dispose:function(){}})},function(t,e,n){function i(){this.group=new r.Group}var r=n(2),a=n(19),o=a.createSymbol,s=n(100),l=r.extendShape({shape:{points:null},symbolProxy:null,softClipShape:null,buildPath:function(t,e){var n=e.points,i=e.size,r=this.symbolProxy,a=r.shape;if(!((t.getContext?t.getContext():t)&&i[0]<4))for(var o=0;o<n.length;){var s=n[o++],l=n[o++];isNaN(s)||isNaN(l)||this.softClipShape&&!this.softClipShape.contain(s,l)||(a.x=s-i[0]/2,a.y=l-i[1]/2,a.width=i[0],a.height=i[1],r.buildPath(t,a,!0))}},afterBrush:function(t){var e=this.shape,n=e.points,i=e.size;if(i[0]<4){this.setTransform(t);for(var r=0;r<n.length;){var a=n[r++],o=n[r++];isNaN(a)||isNaN(o)||this.softClipShape&&!this.softClipShape.contain(a,o)||t.fillRect(a-i[0]/2,o-i[1]/2,i[0],i[1])}this.restoreTransform(t)}},findDataIndex:function(t,e){for(var n=this.shape,i=n.points,r=n.size,a=Math.max(r[0],4),o=Math.max(r[1],4),s=i.length/2-1;s>=0;s--){var l=2*s,c=i[l]-a/2,u=i[l+1]-o/2;if(t>=c&&e>=u&&t<=c+a&&e<=u+o)return s}return-1}}),c=i.prototype;c.isPersistent=function(){return!this._incremental},c.updateData=function(t,e){this.group.removeAll();var n=new l({rectHover:!0,cursor:"default"});n.setShape({points:t.getLayout("symbolPoints")}),this._setCommon(n,t,!1,e),this.group.add(n),this._incremental=null},c.updateLayout=function(t){if(!this._incremental){var e=t.getLayout("symbolPoints");this.group.eachChild(function(t){if(null!=t.startIndex){var n=2*(t.endIndex-t.startIndex),i=4*t.startIndex*2;e=new Float32Array(e.buffer,i,n)}t.setShape("points",e)})}},c.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clearIncremental(),t.count()>2e6?(this._incremental||(this._incremental=new s({silent:!0})),this.group.add(this._incremental)):this._incremental=null},c.incrementalUpdate=function(t,e,n){var i;this._incremental?(i=new l,this._incremental.addDisplayable(i,!0)):(i=new l({rectHover:!0,cursor:"default",startIndex:t.start,endIndex:t.end}),i.incremental=!0,this.group.add(i)),i.setShape({points:e.getLayout("symbolPoints")}),this._setCommon(i,e,!!this._incremental,n)},c._setCommon=function(t,e,n,i){var r=e.hostModel;i=i||{};var a=e.getVisual("symbolSize");t.setShape("size",a instanceof Array?a:[a,a]),t.softClipShape=i.clipShape||null,t.symbolProxy=o(e.getVisual("symbol"),0,0,0,0),t.setColor=t.symbolProxy.setColor;var s=t.shape.size[0]<4;t.useStyle(r.getModel("itemStyle").getItemStyle(s?["color","shadowBlur","shadowColor"]:["color"]));var l=e.getVisual("color");l&&t.setColor(l),n||(t.seriesIndex=r.seriesIndex,t.on("mousemove",function(e){t.dataIndex=null;var n=t.findDataIndex(e.offsetX,e.offsetY);n>=0&&(t.dataIndex=n+(t.startIndex||0))}))},c.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},c._clearIncremental=function(){var t=this._incremental;t&&t.clearDisplaybles()};var u=i;t.exports=u},function(t,e,n){var i=n(1);n(368),n(373),n(374);var r=n(87),a=n(42),o=n(375),s=n(69),l=n(376);i.registerVisual(r("radar")),i.registerVisual(a("radar","circle")),i.registerLayout(o),i.registerProcessor(s("radar")),i.registerPreprocessor(l)},function(t,e,n){n(369),n(371),n(372)},function(t,e,n){function i(t,e,n){this._model=t,this.dimensions=[],this._indicatorAxes=r.map(t.getIndicatorModels(),function(t,e){var n="indicator_"+e,i=new a(n,"log"===t.get("axisType")?new d:new o);return i.name=t.get("name"),i.model=t,t.axis=i,this.dimensions.push(n),i},this),this.resize(t,n),this.cx,this.cy,this.r,this.r0,this.startAngle}var r=n(0),a=n(370),o=n(82),s=n(3),l=n(22),c=l.getScaleExtent,u=l.niceScaleExtent,h=n(21),d=n(184);i.prototype.getIndicatorAxes=function(){return this._indicatorAxes},i.prototype.dataToPoint=function(t,e){var n=this._indicatorAxes[e];return this.coordToPoint(n.dataToCoord(t),e)},i.prototype.coordToPoint=function(t,e){var n=this._indicatorAxes[e],i=n.angle;return[this.cx+t*Math.cos(i),this.cy-t*Math.sin(i)]},i.prototype.pointToData=function(t){var e=t[0]-this.cx,n=t[1]-this.cy,i=Math.sqrt(e*e+n*n);e/=i,n/=i;for(var r,a=Math.atan2(-n,e),o=1/0,s=-1,l=0;l<this._indicatorAxes.length;l++){var c=this._indicatorAxes[l],u=Math.abs(a-c.angle);u<o&&(r=c,s=l,o=u)}return[s,+(r&&r.coordToData(i))]},i.prototype.resize=function(t,e){var n=t.get("center"),i=e.getWidth(),a=e.getHeight(),o=Math.min(i,a)/2;this.cx=s.parsePercent(n[0],i),this.cy=s.parsePercent(n[1],a),this.startAngle=t.get("startAngle")*Math.PI/180;var l=t.get("radius");"string"!=typeof l&&"number"!=typeof l||(l=[0,l]),this.r0=s.parsePercent(l[0],o),this.r=s.parsePercent(l[1],o),r.each(this._indicatorAxes,function(t,e){t.setExtent(this.r0,this.r);var n=this.startAngle+e*Math.PI*2/this._indicatorAxes.length;n=Math.atan2(Math.sin(n),Math.cos(n)),t.angle=n},this)},i.prototype.update=function(t,e){function n(t){var e=Math.pow(10,Math.floor(Math.log(t)/Math.LN10)),n=t/e;return 2===n?n=5:n*=2,n*e}var i=this._indicatorAxes,a=this._model;r.each(i,function(t){t.scale.setExtent(1/0,-1/0)}),t.eachSeriesByType("radar",function(e,n){if("radar"===e.get("coordinateSystem")&&t.getComponent("radar",e.get("radarIndex"))===a){var o=e.getData();r.each(i,function(t){t.scale.unionExtentFromData(o,o.mapDimension(t.dim))})}},this);var o=a.get("splitNumber");r.each(i,function(t,e){var i=c(t.scale,t.model);u(t.scale,t.model);var r=t.model,a=t.scale,l=r.getMin(),h=r.getMax(),d=a.getInterval();if(null!=l&&null!=h)a.setExtent(+l,+h),a.setInterval((h-l)/o);else if(null!=l){var p;do{p=l+d*o,a.setExtent(+l,p),a.setInterval(d),d=n(d)}while(p<i[1]&&isFinite(p)&&isFinite(i[1]))}else if(null!=h){var f;do{f=h-d*o,a.setExtent(f,+h),a.setInterval(d),d=n(d)}while(f>i[0]&&isFinite(f)&&isFinite(i[0]))}else{var g=a.getTicks().length-1;g>o&&(d=n(d));var m=Math.round((i[0]+i[1])/2/d)*d,v=Math.round(o/2);a.setExtent(s.round(m-v*d),s.round(m+(o-v)*d)),a.setInterval(d)}})},i.dimensions=[],i.create=function(t,e){var n=[];return t.eachComponent("radar",function(r){var a=new i(r,t,e);n.push(a),r.coordinateSystem=a}),t.eachSeriesByType("radar",function(t){"radar"===t.get("coordinateSystem")&&(t.coordinateSystem=n[t.get("radarIndex")||0])}),n},h.register("radar",i);var p=i;t.exports=p},function(t,e,n){function i(t,e,n){a.call(this,t,e,n),this.type="value",this.angle=0,this.name="",this.model}var r=n(0),a=n(35);r.inherits(i,a);var o=i;t.exports=o},function(t,e,n){function i(t,e){return a.defaults({show:e},t)}var r=n(1),a=n(0),o=n(191),s=n(12),l=n(52),c=o.valueAxis,u=r.extendComponentModel({type:"radar",optionUpdated:function(){var t=this.get("boundaryGap"),e=this.get("splitNumber"),n=this.get("scale"),i=this.get("axisLine"),r=this.get("axisTick"),o=this.get("axisType"),c=this.get("axisLabel"),u=this.get("name"),h=this.get("name.show"),d=this.get("name.formatter"),p=this.get("nameGap"),f=this.get("triggerEvent"),g=a.map(this.get("indicator")||[],function(g){null!=g.max&&g.max>0&&!g.min?g.min=0:null!=g.min&&g.min<0&&!g.max&&(g.max=0);var m=u;if(null!=g.color&&(m=a.defaults({color:g.color},u)),g=a.merge(a.clone(g),{boundaryGap:t,splitNumber:e,scale:n,axisLine:i,axisTick:r,axisType:o,axisLabel:c,name:g.text,nameLocation:"end",nameGap:p,nameTextStyle:m,triggerEvent:f},!1),h||(g.name=""),"string"==typeof d){var v=g.name;g.name=d.replace("{value}",null!=v?v:"")}else"function"==typeof d&&(g.name=d(g.name,g));var y=a.extend(new s(g,null,this.ecModel),l);return y.mainType="radar",y.componentIndex=this.componentIndex,y},this);this.getIndicatorModels=function(){return g}},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"75%",startAngle:90,name:{show:!0},boundaryGap:[0,0],splitNumber:5,nameGap:15,scale:!1,shape:"polygon",axisLine:a.merge({lineStyle:{color:"#bbb"}},c.axisLine),axisLabel:i(c.axisLabel,!1),axisTick:i(c.axisTick,!1),axisType:"interval",splitLine:i(c.splitLine,!0),splitArea:i(c.splitArea,!0),indicator:[]}}),h=u;t.exports=h},function(t,e,n){var i=n(5),r=(i.__DEV__,n(1)),a=n(0),o=n(36),s=n(2),l=["axisLine","axisTickLabel","axisName"],c=r.extendComponentView({type:"radar",render:function(t,e,n){this.group.removeAll(),this._buildAxes(t),this._buildSplitLineAndArea(t)},_buildAxes:function(t){var e=t.coordinateSystem,n=e.getIndicatorAxes(),i=a.map(n,function(t){return new o(t.model,{position:[e.cx,e.cy],rotation:t.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})});a.each(i,function(t){a.each(l,t.add,t),this.group.add(t.getGroup())},this)},_buildSplitLineAndArea:function(t){function e(t,e,n){var i=n%e.length;return t[i]=t[i]||[],i}var n=t.coordinateSystem,i=n.getIndicatorAxes();if(i.length){var r=t.get("shape"),o=t.getModel("splitLine"),l=t.getModel("splitArea"),c=o.getModel("lineStyle"),u=l.getModel("areaStyle"),h=o.get("show"),d=l.get("show"),p=c.get("color"),f=u.get("color");p=a.isArray(p)?p:[p],f=a.isArray(f)?f:[f];var g=[],m=[];if("circle"===r)for(var v=i[0].getTicksCoords(),y=n.cx,x=n.cy,_=0;_<v.length;_++){if(h){var b=e(g,p,_);g[b].push(new s.Circle({shape:{cx:y,cy:x,r:v[_].coord}}))}if(d&&_<v.length-1){var b=e(m,f,_);m[b].push(new s.Ring({shape:{cx:y,cy:x,r0:v[_].coord,r:v[_+1].coord}}))}}else for(var w,M=a.map(i,function(t,e){var i=t.getTicksCoords();return w=null==w?i.length-1:Math.min(i.length-1,w),a.map(i,function(t){return n.coordToPoint(t.coord,e)})}),S=[],_=0;_<=w;_++){for(var T=[],A=0;A<i.length;A++)T.push(M[A][_]);if(T[0]&&T.push(T[0].slice()),h){var b=e(g,p,_);g[b].push(new s.Polyline({shape:{points:T}}))}if(d&&S){var b=e(m,f,_-1);m[b].push(new s.Polygon({shape:{points:T.concat(S)}}))}S=T.slice().reverse()}var C=c.getLineStyle(),L=u.getAreaStyle();a.each(m,function(t,e){this.group.add(s.mergePath(t,{style:a.defaults({stroke:"none",fill:f[e%f.length]},L),silent:!0}))},this),a.each(g,function(t,e){this.group.add(s.mergePath(t,{style:a.defaults({fill:"none",stroke:p[e%p.length]},C),silent:!0}))},this)}}});t.exports=c},function(t,e,n){var i=n(14),r=n(53),a=n(0),o=n(9),s=o.encodeHTML,l=n(68),c=i.extend({type:"series.radar",dependencies:["radar"],init:function(t){c.superApply(this,"init",arguments),this.legendVisualProvider=new l(a.bind(this.getData,this),a.bind(this.getRawData,this))},getInitialData:function(t,e){return r(this,{generateCoord:"indicator_",generateCoordCount:1/0})},formatTooltip:function(t){var e=this.getData(),n=this.coordinateSystem,i=n.getIndicatorAxes(),r=this.getData().getName(t);return s(""===r?this.name:r)+"<br/>"+a.map(i,function(n,i){var r=e.get(e.mapDimension(n.dim),t);return s(n.name+" : "+r)}).join("<br />")},defaultOption:{zlevel:0,z:2,coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid"},label:{position:"top"},symbol:"emptyCircle",symbolSize:4}}),u=c;t.exports=u},function(t,e,n){function i(t){return o.isArray(t)||(t=[+t,+t]),t}var r=n(1),a=n(2),o=n(0),s=n(19),l=r.extendChartView({type:"radar",render:function(t,e,n){function r(t,e){var n=t.getItemVisual(e,"symbol")||"circle",r=t.getItemVisual(e,"color");if("none"!==n){var a=i(t.getItemVisual(e,"symbolSize")),o=s.createSymbol(n,-1,-1,2,2,r);return o.attr({style:{strokeNoScale:!0},z2:100,scale:[a[0]/2,a[1]/2]}),o}}function l(e,n,i,o,s,l){i.removeAll();for(var c=0;c<n.length-1;c++){var u=r(o,s);u&&(u.__dimIdx=c,e[c]?(u.attr("position",e[c]),a[l?"initProps":"updateProps"](u,{position:n[c]},t,s)):u.attr("position",n[c]),i.add(u))}}function c(t){return o.map(t,function(t){return[u.cx,u.cy]})}var u=t.coordinateSystem,h=this.group,d=t.getData(),p=this._data;d.diff(p).add(function(e){var n=d.getItemLayout(e);if(n){var i=new a.Polygon,r=new a.Polyline,o={shape:{points:n}};i.shape.points=c(n),r.shape.points=c(n),a.initProps(i,o,t,e),a.initProps(r,o,t,e);var s=new a.Group,u=new a.Group;s.add(r),s.add(i),s.add(u),l(r.shape.points,n,u,d,e,!0),d.setItemGraphicEl(e,s)}}).update(function(e,n){var i=p.getItemGraphicEl(n),r=i.childAt(0),o=i.childAt(1),s=i.childAt(2),c={shape:{points:d.getItemLayout(e)}};c.shape.points&&(l(r.shape.points,c.shape.points,s,d,e,!1),a.updateProps(r,c,t),a.updateProps(o,c,t),d.setItemGraphicEl(e,i))}).remove(function(t){h.remove(p.getItemGraphicEl(t))}).execute(),d.eachItemGraphicEl(function(t,e){var n=d.getItemModel(e),i=t.childAt(0),r=t.childAt(1),s=t.childAt(2),l=d.getItemVisual(e,"color");h.add(t),i.useStyle(o.defaults(n.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:l})),i.hoverStyle=n.getModel("emphasis.lineStyle").getLineStyle();var c=n.getModel("areaStyle"),u=n.getModel("emphasis.areaStyle"),p=c.isEmpty()&&c.parentModel.isEmpty(),f=u.isEmpty()&&u.parentModel.isEmpty();f=f&&p,r.ignore=p,r.useStyle(o.defaults(c.getAreaStyle(),{fill:l,opacity:.7})),r.hoverStyle=u.getAreaStyle();var g=n.getModel("itemStyle").getItemStyle(["color"]),m=n.getModel("emphasis.itemStyle").getItemStyle(),v=n.getModel("label"),y=n.getModel("emphasis.label");s.eachChild(function(t){t.setStyle(g),t.hoverStyle=o.clone(m);var n=d.get(d.dimensions[t.__dimIdx],e);(null==n||isNaN(n))&&(n=""),a.setLabelStyle(t.style,t.hoverStyle,v,y,{labelFetcher:d.hostModel,labelDataIndex:e,labelDimIndex:t.__dimIdx,defaultText:n,autoColor:l,isRectText:!0})}),t.highDownOnUpdate=function(t,e){r.attr("ignore","emphasis"===e?f:p)},a.setHoverStyle(t)}),this._data=d},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}});t.exports=l},function(t,e,n){function i(t){t.eachSeriesByType("radar",function(t){var e=t.getData(),n=[],i=t.coordinateSystem;if(i){var s=i.getIndicatorAxes();o.each(s,function(t,o){e.each(e.mapDimension(s[o].dim),function(t,e){n[e]=n[e]||[];var s=i.dataToPoint(t,o);n[e][o]=r(s)?s:a(i)})}),e.each(function(t){var s=o.find(n[t],function(t){return r(t)})||a(i);n[t].push(s.slice()),e.setItemLayout(t,n[t])})}})}function r(t){return!isNaN(t[0])&&!isNaN(t[1])}function a(t){return[t.cx,t.cy]}var o=n(0);t.exports=i},function(t,e,n){function i(t){var e=t.polar;if(e){r.isArray(e)||(e=[e]);var n=[];r.each(e,function(e,i){e.indicator?(e.type&&!e.shape&&(e.shape=e.type),t.radar=t.radar||[],r.isArray(t.radar)||(t.radar=[t.radar]),t.radar.push(e)):n.push(e)}),t.polar=n}r.each(t.series,function(t){t&&"radar"===t.type&&t.polarIndex&&(t.radarIndex=t.polarIndex)})}var r=n(0);t.exports=i},function(t,e,n){var i=n(1);n(378),n(385),n(198),n(109);var r=n(387),a=n(388),o=n(389),s=n(390),l=n(195);i.registerLayout(r),i.registerVisual(a),i.registerProcessor(i.PRIORITY.PROCESSOR.STATISTIC,o),i.registerPreprocessor(s),l("map",[{type:"mapToggleSelect",event:"mapselectchanged",method:"toggleSelected"},{type:"mapSelect",event:"mapselected",method:"select"},{type:"mapUnSelect",event:"mapunselected",method:"unSelect"}])},function(t,e,n){var i=n(0),r=n(53),a=n(14),o=n(9),s=o.encodeHTML,l=o.addCommas,c=n(106),u=n(40),h=u.retrieveRawAttr,d=n(88),p=n(30),f=p.makeSeriesEncodeForNameBased,g=a.extend({type:"series.map",dependencies:["geo"],layoutMode:"box",needsDrawMap:!1,seriesGroup:[],getInitialData:function(t){for(var e=r(this,{coordDimensions:["value"],encodeDefaulter:i.curry(f,this)}),n=e.mapDimension("value"),a=i.createHashMap(),o=[],s=[],l=0,c=e.count();l<c;l++){var u=e.getName(l);a.set(u,!0),o.push({name:u,value:e.get(n,l),selected:h(e,l,"selected")})}var p=d.load(this.getMapType(),this.option.nameMap);return i.each(p.regions,function(t){var e=t.name;a.get(e)||(o.push({name:e}),s.push(e))}),this.updateSelectedMap(o),e.appendValues([],s),e},getHostGeoModel:function(){var t=this.option.geoIndex;return null!=t?this.dependentModels.geo[t]:null},getMapType:function(){return(this.getHostGeoModel()||this).option.map},getRawValue:function(t){var e=this.getData();return e.get(e.mapDimension("value"),t)},getRegionModel:function(t){var e=this.getData();return e.getItemModel(e.indexOfName(t))},formatTooltip:function(t){for(var e=this.getData(),n=l(this.getRawValue(t)),i=e.getName(t),r=this.seriesGroup,a=[],o=0;o<r.length;o++){var c=r[o].originalData.indexOfName(i),u=e.mapDimension("value");isNaN(r[o].originalData.get(u,c))||a.push(s(r[o].name))}return a.join(", ")+"<br />"+s(i+" : "+n)},getTooltipPosition:function(t){if(null!=t){var e=this.getData().getName(t),n=this.coordinateSystem,i=n.getRegion(e);return i&&n.dataToPoint(i.center)}},setZoom:function(t){this.option.zoom=t},setCenter:function(t){this.option.center=t},defaultOption:{zlevel:0,z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:.75,showLegendSymbol:!0,dataRangeHoverLink:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}}}});i.mixin(g,c);var m=g;t.exports=m},function(t,e,n){function i(t){for(var e,n=0;n<t.length;n++){var i=t[n].getBoundingRect();e=e||i.clone(),e.union(i)}return e}var r=n(0),a=r.each,o=n(185),s=n(4),l=s.makeInner,c=n(380),u=n(381),h=n(382),d=n(383),p=l(),f={load:function(t,e){var n=p(e).parsed;if(n)return n;var r,s=e.specialAreas||{},l=e.geoJSON;try{r=l?o(l):[]}catch(t){throw new Error("Invalid geoJson format\n"+t.message)}return c(t,r),a(r,function(e){var n=e.name;u(t,e),h(t,e),d(t,e);var i=s[n];i&&e.transformTo(i.left,i.top,i.width,i.height)}),p(e).parsed={regions:r,boundingRect:i(r)}}};t.exports=f},function(t,e,n){function i(t,e){"china"===t&&e.push(new a("",r.map(s,function(t){return{type:"polygon",exterior:t}}),o))}for(var r=n(0),a=n(186),o=[126,25],s=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],l=0;l<s.length;l++)for(var c=0;c<s[l].length;c++)s[l][c][0]/=10.5,s[l][c][1]/=-14,s[l][c][0]+=o[0],s[l][c][1]+=o[1];t.exports=i},function(t,e){function n(t,e){if("china"===t){var n=i[e.name];if(n){var r=e.center;r[0]+=n[0]/10.5,r[1]+=-n[1]/14}}}var i={"":[32,80],"":[0,-10],"":[10,5],"":[-10,10],"":[5,5]};t.exports=n},function(t,e){function n(t,e){if("world"===t){var n=i[e.name];if(n){var r=e.center;r[0]=n[0],r[1]=n[1]}}}var i={Russia:[100,60],"United States":[-99,38],"United States of America":[-99,38]};t.exports=n},function(t,e){function n(t,e){"china"===t&&""===e.name&&e.geometries.push({type:"polygon",exterior:i[0]})}var i=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];t.exports=n},function(t,e,n){function i(t,e){var n,i,r=t.svgXML;try{n=r&&a(r,{ignoreViewBox:!0,ignoreRootClip:!0})||{},i=n.root,u(null!=i)}catch(t){throw new Error("Invalid svg format\n"+t.message)}var c=n.width,h=n.height,p=n.viewBoxRect;if(e||(e=null==c||null==h?i.getBoundingRect():new d(0,0,0,0),null!=c&&(e.width=c),null!=h&&(e.height=h)),p){var f=o(p,e.width,e.height),g=i;i=new s,i.add(g),g.scale=f.scale,g.position=f.position}return i.setClipPath(new l({shape:e.plain()})),{root:i,boundingRect:e}}var r=n(178),a=r.parseSVG,o=r.makeViewBoxTransform,s=n(46),l=n(97),c=n(0),u=c.assert,h=c.createHashMap,d=n(8),p=n(4),f=p.makeInner,g=f(),m={load:function(t,e){var n=g(e).originRoot;if(n)return{root:n,boundingRect:g(e).boundingRect};var r=i(e);return g(e).originRoot=r.root,g(e).boundingRect=r.boundingRect,r},makeGraphic:function(t,e,n){var r=g(e),a=r.rootMap||(r.rootMap=h()),o=a.get(n);if(o)return o;var s=r.originRoot,l=r.boundingRect;return r.originRootHostKey?o=i(e,l).root:(r.originRootHostKey=n,o=s),a.set(n,o)},removeGraphic:function(t,e,n){var i=g(e),r=i.rootMap;r&&r.removeKey(n),n===i.originRootHostKey&&(i.originRootHostKey=null)}};t.exports=m},function(t,e,n){function i(t){var e=this[c];e&&e.recordVersion===this[u]&&r(e,t)}function r(t,e){var n=t.circle,i=t.labelModel,r=t.hoverLabelModel,a=t.emphasisText,o=t.normalText;e?(n.style.extendFrom(s.setTextStyle({},r,{text:r.get("show")?a:null},{isRectText:!0,useInsideStyle:!1},!0)),n.__mapOriginalZ2=n.z2,n.z2+=s.Z2_EMPHASIS_LIFT):(s.setTextStyle(n.style,i,{text:i.get("show")?o:null,textPosition:i.getShallow("position")||"bottom"},{isRectText:!0,useInsideStyle:!1}),n.dirty(!1),null!=n.__mapOriginalZ2&&(n.z2=n.__mapOriginalZ2,n.__mapOriginalZ2=null))}var a=n(1),o=n(0),s=n(2),l=n(196),c="__seriesMapHighDown",u="__seriesMapCallKey",h=a.extendChartView({type:"map",render:function(t,e,n,i){if(!i||"mapToggleSelect"!==i.type||i.from!==this.uid){var r=this.group;if(r.removeAll(),!t.getHostGeoModel()){if(i&&"geoRoam"===i.type&&"series"===i.componentType&&i.seriesId===t.id){var a=this._mapDraw;a&&r.add(a.group)}else if(t.needsDrawMap){var a=this._mapDraw||new l(n,!0);r.add(a.group),a.draw(t,e,n,this,i),this._mapDraw=a}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;t.get("showLegendSymbol")&&e.getComponent("legend")&&this._renderSymbols(t,e,n)}}},remove:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},dispose:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},_renderSymbols:function(t,e,n){var a=t.originalData,l=this.group;a.each(a.mapDimension("value"),function(e,n){if(!isNaN(e)){var h=a.getItemLayout(n);if(h&&h.point){var d=h.point,p=h.offset,f=new s.Circle({style:{fill:t.getData().getVisual("color")},shape:{cx:d[0]+9*p,cy:d[1],r:3},silent:!0,z2:8+(p?0:s.Z2_EMPHASIS_LIFT+1)});if(!p){var g=t.mainSeries.getData(),m=a.getName(n),v=g.indexOfName(m),y=a.getItemModel(n),x=y.getModel("label"),_=y.getModel("emphasis.label"),b=g.getItemGraphicEl(v),w=o.retrieve2(t.getFormattedLabel(v,"normal"),m),M=o.retrieve2(t.getFormattedLabel(v,"emphasis"),w),S=b[c],T=Math.random();if(!S){S=b[c]={};var A=o.curry(i,!0),C=o.curry(i,!1);b.on("mouseover",A).on("mouseout",C).on("emphasis",A).on("normal",C)}b[u]=T,o.extend(S,{recordVersion:T,circle:f,labelModel:x,hoverLabelModel:_,emphasisText:M,normalText:w}),r(S,!1)}l.add(f)}}})}});t.exports=h},function(t,e,n){function i(t,e,n,i){s.call(this,t),this.map=e;var r=l.load(e,n);this._nameCoordMap=r.nameCoordMap,this._regionsMap=r.regionsMap,this._invertLongitute=null==i||i,this.regions=r.regions,this._rect=r.boundingRect}function r(t,e,n,i){var r=n.geoModel,a=n.seriesModel,o=r?r.coordinateSystem:a?a.coordinateSystem||(a.getReferringComponents("geo")[0]||{}).coordinateSystem:null;return o===this?o[t](i):null}var a=n(0),o=n(8),s=n(110),l=n(88);i.prototype={constructor:i,type:"geo",dimensions:["lng","lat"],containCoord:function(t){for(var e=this.regions,n=0;n<e.length;n++)if(e[n].contain(t))return!0;return!1},transformTo:function(t,e,n,i){var r=this.getBoundingRect(),a=this._invertLongitute;r=r.clone(),a&&(r.y=-r.y-r.height);var s=this._rawTransformable;if(s.transform=r.calculateTransform(new o(t,e,n,i)),s.decomposeTransform(),a){var l=s.scale;l[1]=-l[1]}s.updateTransform(),this._updateTransform()},getRegion:function(t){return this._regionsMap.get(t)},getRegionByCoord:function(t){for(var e=this.regions,n=0;n<e.length;n++)if(e[n].contain(t))return e[n]},addGeoCoord:function(t,e){this._nameCoordMap.set(t,e)},getGeoCoord:function(t){return this._nameCoordMap.get(t)},getBoundingRect:function(){return this._rect},dataToPoint:function(t,e,n){if("string"==typeof t&&(t=this.getGeoCoord(t)),t)return s.prototype.dataToPoint.call(this,t,e,n)},convertToPixel:a.curry(r,"dataToPoint"),convertFromPixel:a.curry(r,"pointToData")},a.mixin(i,s);var c=i;t.exports=c},function(t,e,n){function i(t){var e={};t.eachSeriesByType("map",function(n){var i=n.getMapType();if(!n.getHostGeoModel()&&!e[i]){var a={};r.each(n.seriesGroup,function(e){var n=e.coordinateSystem,i=e.originalData;e.get("showLegendSymbol")&&t.getComponent("legend")&&i.each(i.mapDimension("value"),function(t,e){var r=i.getName(e),o=n.getRegion(r);if(o&&!isNaN(t)){var s=a[r]||0,l=n.dataToPoint(o.center);a[r]=s+1,i.setItemLayout(e,{point:l,offset:s})}})});var o=n.getData();o.each(function(t){var e=o.getName(t),n=o.getItemLayout(t)||{};n.showLabel=!a[e],o.setItemLayout(t,n)}),e[i]=!0}})}var r=n(0);t.exports=i},function(t,e){function n(t){t.eachSeriesByType("map",function(t){var e=t.get("color"),n=t.getModel("itemStyle"),i=n.get("areaColor"),r=n.get("color")||e[t.seriesIndex%e.length];t.getData().setVisual({areaColor:i,color:r})})}t.exports=n},function(t,e,n){function i(t,e){var n={};return a.each(t,function(t){t.each(t.mapDimension("value"),function(e,i){var r="ec-"+t.getName(i);n[r]=n[r]||[],isNaN(e)||n[r].push(e)})}),t[0].map(t[0].mapDimension("value"),function(i,r){for(var a="ec-"+t[0].getName(r),o=0,s=1/0,l=-1/0,c=n[a].length,u=0;u<c;u++)s=Math.min(s,n[a][u]),l=Math.max(l,n[a][u]),o+=n[a][u];var h;return h="min"===e?s:"max"===e?l:"average"===e?o/c:o,0===c?NaN:h})}function r(t){var e={};t.eachSeriesByType("map",function(t){var n=t.getHostGeoModel(),i=n?"o"+n.id:"i"+t.getMapType();(e[i]=e[i]||[]).push(t)}),a.each(e,function(t,e){for(var n=i(a.map(t,function(t){return t.getData()}),t[0].get("mapValueCalculation")),r=0;r<t.length;r++)t[r].originalData=t[r].getData();for(var r=0;r<t.length;r++)t[r].seriesGroup=t,t[r].needsDrawMap=0===r&&!t[r].getHostGeoModel(),t[r].setData(n.cloneShallow()),t[r].mainSeries=t[0]})}var a=n(0);t.exports=r},function(t,e,n){function i(t){var e=[];r.each(t.series,function(t){t&&"map"===t.type&&(e.push(t),t.map=t.map||t.mapType,r.defaults(t,t.mapLocation))})}var r=n(0);t.exports=i},function(t,e,n){var i=n(1);n(392),n(393),n(394);var r=n(42),a=n(395);i.registerVisual(r("tree","circle")),i.registerLayout(a)},function(t,e,n){var i=n(14),r=n(111),a=n(9),o=a.encodeHTML,s=i.extend({type:"series.tree",layoutInfo:null,layoutMode:"box",getInitialData:function(t){function e(t){t.wrapMethod("getItemModel",function(t,e){var n=o.getNodeByDataIndex(e),i=n.getLeavesModel();return n.children.length&&n.isExpand||(t.parentModel=i),t})}var n={name:t.name,children:t.data},i=t.leaves||{},a={};a.leaves=i;var o=r.createTree(n,this,a,e),s=0;o.eachNode("preorder",function(t){t.depth>s&&(s=t.depth)});var l=t.expandAndCollapse,c=l&&t.initialTreeDepth>=0?t.initialTreeDepth:s;return o.root.eachNode("preorder",function(t){var e=t.hostTree.data.getRawDataItem(t.dataIndex);t.isExpand=e&&null!=e.collapsed?!e.collapsed:t.depth<=c}),o.data},getOrient:function(){var t=this.get("orient");return"horizontal"===t?t="LR":"vertical"===t&&(t="TB"),t},setZoom:function(t){this.option.zoom=t},setCenter:function(t){this.option.center=t},formatTooltip:function(t){for(var e=this.getData().tree,n=e.root.children[0],i=e.getNodeByDataIndex(t),r=i.getValue(),a=i.name;i&&i!==n;)a=i.parentNode.name+"."+a,i=i.parentNode;return o(a+(isNaN(r)||null==r?"":" : "+r))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderColor:"#c23531",borderWidth:1.5},label:{show:!0,color:"#555"},leaves:{label:{show:!0}},animationEasing:"linear",animationDuration:700,animationDurationUpdate:1e3}});t.exports=s},function(t,e,n){function i(t,e){var n=t.getItemLayout(e);return n&&!isNaN(n.x)&&!isNaN(n.y)&&"none"!==t.getItemVisual(e,"symbol")}function r(t,e,n){return n.itemModel=e,n.itemStyle=e.getModel("itemStyle").getItemStyle(),n.hoverItemStyle=e.getModel("emphasis.itemStyle").getItemStyle(),n.lineStyle=e.getModel("lineStyle").getLineStyle(),n.labelModel=e.getModel("label"),n.hoverLabelModel=e.getModel("emphasis.label"),!1===t.isExpand&&0!==t.children.length?n.symbolInnerColor=n.itemStyle.fill:n.symbolInnerColor="#fff",n}function a(t,e,n,i,a,o){var h=!n,d=t.tree.getNodeByDataIndex(e),p=d.getModel(),o=r(d,p,o),f=t.tree.root,g=d.parentNode===f?d:d.parentNode||d,m=t.getItemGraphicEl(g.dataIndex),v=g.getLayout(),y=m?{x:m.position[0],y:m.position[1],rawX:m.__radialOldRawX,rawY:m.__radialOldRawY}:v,x=d.getLayout();h?(n=new u(t,e,o),n.attr("position",[y.x,y.y])):n.updateData(t,e,o),n.__radialOldRawX=n.__radialRawX,n.__radialOldRawY=n.__radialRawY,n.__radialRawX=x.rawX,n.__radialRawY=x.rawY,i.add(n),t.setItemGraphicEl(e,n),c.updateProps(n,{position:[x.x,x.y]},a);var _=n.getSymbolPath();if("radial"===o.layout){var b,w,M=f.children[0],S=M.getLayout(),T=M.children.length;if(x.x===S.x&&!0===d.isExpand){var A={};A.x=(M.children[0].getLayout().x+M.children[T-1].getLayout().x)/2,A.y=(M.children[0].getLayout().y+M.children[T-1].getLayout().y)/2,b=Math.atan2(A.y-S.y,A.x-S.x),b<0&&(b=2*Math.PI+b),w=A.x<S.x,w&&(b-=Math.PI)}else b=Math.atan2(x.y-S.y,x.x-S.x),b<0&&(b=2*Math.PI+b),0===d.children.length||0!==d.children.length&&!1===d.isExpand?(w=x.x<S.x)&&(b-=Math.PI):(w=x.x>S.x)||(b-=Math.PI);var C=w?"left":"right",L=o.labelModel.get("rotate"),E=L*(Math.PI/180);_.setStyle({textPosition:o.labelModel.get("position")||C,textRotation:null==L?-b:E,textOrigin:"center",verticalAlign:"middle"})}if(d.parentNode&&d.parentNode!==f){var I=n.__edge;I||(I=n.__edge=new c.BezierCurve({shape:s(o,y,y),style:l.defaults({opacity:0,strokeNoScale:!0},o.lineStyle)})),c.updateProps(I,{shape:s(o,v,x),style:{opacity:1}},a),i.add(I)}}function o(t,e,n,i,a,o){for(var l,u=t.tree.getNodeByDataIndex(e),h=t.tree.root,d=u.getModel(),o=r(u,d,o),p=u.parentNode===h?u:u.parentNode||u;null==(l=p.getLayout());)p=p.parentNode===h?p:p.parentNode||p;c.updateProps(n,{position:[l.x+1,l.y+1]},a,function(){i.remove(n),t.setItemGraphicEl(e,null)}),n.fadeOut(null,{keepLabel:!0});var f=n.__edge;f&&c.updateProps(f,{shape:s(o,l,l),style:{opacity:0}},a,function(){i.remove(f)})}function s(t,e,n){var i,r,a,o,s,l,c,u,h=t.orient;if("radial"===t.layout){s=e.rawX,c=e.rawY,l=n.rawX,u=n.rawY;var p=d(s,c),f=d(s,c+(u-c)*t.curvature),g=d(l,u+(c-u)*t.curvature),m=d(l,u);return{x1:p.x,y1:p.y,x2:m.x,y2:m.y,cpx1:f.x,cpy1:f.y,cpx2:g.x,cpy2:g.y}}return s=e.x,c=e.y,l=n.x,u=n.y,"LR"!==h&&"RL"!==h||(i=s+(l-s)*t.curvature,r=c,a=l+(s-l)*t.curvature,o=u),"TB"!==h&&"BT"!==h||(i=s,r=c+(u-c)*t.curvature,a=l,o=u+(c-u)*t.curvature),{x1:s,y1:c,x2:l,y2:u,cpx1:i,cpy1:r,cpx2:a,cpy2:o}}var l=n(0),c=n(2),u=n(84),h=n(200),d=h.radialCoordinate,p=n(1),f=n(78),g=n(110),m=n(107),v=n(70),y=n(89),x=y.onIrrelevantElement,_=p.extendChartView({type:"tree",init:function(t,e){this._oldTree,this._mainGroup=new c.Group,this._controller=new v(e.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},render:function(t,e,n,r){var s=t.getData(),l=t.layoutInfo,c=this._mainGroup,u=t.get("layout");"radial"===u?c.attr("position",[l.x+l.width/2,l.y+l.height/2]):c.attr("position",[l.x,l.y]),this._updateViewCoordSys(t,l,u),this._updateController(t,e,n);var h=this._data,d={expandAndCollapse:t.get("expandAndCollapse"),layout:u,orient:t.getOrient(),curvature:t.get("lineStyle.curveness"),symbolRotate:t.get("symbolRotate"),symbolOffset:t.get("symbolOffset"),hoverAnimation:t.get("hoverAnimation"),useNameLabel:!0,fadeIn:!0};s.diff(h).add(function(e){i(s,e)&&a(s,e,null,c,t,d)}).update(function(e,n){var r=h.getItemGraphicEl(n);if(!i(s,e))return void(r&&o(h,n,r,c,t,d));a(s,e,r,c,t,d)}).remove(function(e){var n=h.getItemGraphicEl(e);n&&o(h,e,n,c,t,d)}).execute(),this._nodeScaleRatio=t.get("nodeScaleRatio"),this._updateNodeAndLinkScale(t),!0===d.expandAndCollapse&&s.eachItemGraphicEl(function(e,i){e.off("click").on("click",function(){n.dispatchAction({type:"treeExpandAndCollapse",seriesId:t.id,dataIndex:i})})}),this._data=s},_updateViewCoordSys:function(t){var e=t.getData(),n=[];e.each(function(t){var i=e.getItemLayout(t);!i||isNaN(i.x)||isNaN(i.y)||n.push([+i.x,+i.y])});var i=[],r=[];f.fromPoints(n,i,r);var a=this._min,o=this._max;r[0]-i[0]==0&&(i[0]=a?a[0]:i[0]-1,r[0]=o?o[0]:r[0]+1),r[1]-i[1]==0&&(i[1]=a?a[1]:i[1]-1,r[1]=o?o[1]:r[1]+1);var s=t.coordinateSystem=new g;s.zoomLimit=t.get("scaleLimit"),s.setBoundingRect(i[0],i[1],r[0]-i[0],r[1]-i[1]),s.setCenter(t.get("center")),s.setZoom(t.get("zoom")),this.group.attr({position:s.position,scale:s.scale}),this._viewCoordSys=s,this._min=i,this._max=r},_updateController:function(t,e,n){var i=this._controller,r=this._controllerHost,a=this.group;i.setPointerChecker(function(e,i,r){var o=a.getBoundingRect();return o.applyTransform(a.transform),o.contain(i,r)&&!x(e,n,t)}),i.enable(t.get("roam")),r.zoomLimit=t.get("scaleLimit"),r.zoom=t.coordinateSystem.getZoom(),i.off("pan").off("zoom").on("pan",function(e){m.updateViewOnPan(r,e.dx,e.dy),n.dispatchAction({seriesId:t.id,type:"treeRoam",dx:e.dx,dy:e.dy})},this).on("zoom",function(e){m.updateViewOnZoom(r,e.scale,e.originX,e.originY),n.dispatchAction({seriesId:t.id,type:"treeRoam",zoom:e.scale,originX:e.originX,originY:e.originY}),this._updateNodeAndLinkScale(t)},this)},_updateNodeAndLinkScale:function(t){var e=t.getData(),n=this._getNodeGlobalScale(t),i=[n,n];e.eachItemGraphicEl(function(t,e){t.attr("scale",i)})},_getNodeGlobalScale:function(t){var e=t.coordinateSystem;if("view"!==e.type)return 1;var n=this._nodeScaleRatio,i=e.scale,r=i&&i[0]||1;return((e.getZoom()-1)*n+1)/r},dispose:function(){this._controller&&this._controller.dispose(),this._controllerHost={}},remove:function(){this._mainGroup.removeAll(),this._data=null}});t.exports=_},function(t,e,n){var i=n(1),r=n(108),a=r.updateCenterAndZoom;i.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(t,e){e.eachComponent({mainType:"series",subType:"tree",query:t},function(e){var n=t.dataIndex,i=e.getData().tree,r=i.getNodeByDataIndex(n);r.isExpand=!r.isExpand})}),i.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(t,e){e.eachComponent({mainType:"series",subType:"tree",query:t},function(e){var n=e.coordinateSystem,i=a(n,t);e.setCenter&&e.setCenter(i.center),e.setZoom&&e.setZoom(i.zoom)})})},function(t,e,n){function i(t,e){t.eachSeriesByType("tree",function(t){r(t,e)})}function r(t,e){var n=f(t,e);t.layoutInfo=n;var i=t.get("layout"),r=0,a=0,l=null;"radial"===i?(r=2*Math.PI,a=Math.min(n.height,n.width)/2,l=d(function(t,e){return(t.parentNode===e.parentNode?1:2)/t.depth})):(r=n.width,a=n.height,l=d());var g=t.getData().tree.root,m=g.children[0];if(m){c(g),o(m,u,l),g.hierNode.modifier=-m.hierNode.prelim,s(m,h);var v=m,y=m,x=m;s(m,function(t){var e=t.getLayout().x;e<v.getLayout().x&&(v=t),e>y.getLayout().x&&(y=t),t.depth>x.depth&&(x=t)});var _=v===y?1:l(v,y)/2,b=_-v.getLayout().x,w=0,M=0,S=0,T=0;if("radial"===i)w=r/(y.getLayout().x+_+b),M=a/(x.depth-1||1),s(m,function(t){S=(t.getLayout().x+b)*w,T=(t.depth-1)*M;var e=p(S,T);t.setLayout({x:e.x,y:e.y,rawX:S,rawY:T},!0)});else{var A=t.getOrient();"RL"===A||"LR"===A?(M=a/(y.getLayout().x+_+b),w=r/(x.depth-1||1),s(m,function(t){T=(t.getLayout().x+b)*M,S="LR"===A?(t.depth-1)*w:r-(t.depth-1)*w,t.setLayout({x:S,y:T},!0)})):"TB"!==A&&"BT"!==A||(w=r/(y.getLayout().x+_+b),M=a/(x.depth-1||1),s(m,function(t){S=(t.getLayout().x+b)*w,T="TB"===A?(t.depth-1)*M:a-(t.depth-1)*M,t.setLayout({x:S,y:T},!0)}))}}}var a=n(396),o=a.eachAfter,s=a.eachBefore,l=n(200),c=l.init,u=l.firstWalk,h=l.secondWalk,d=l.separation,p=l.radialCoordinate,f=l.getViewRect;t.exports=i},function(t,e){function n(t,e,n){for(var i,r=[t],a=[];i=r.pop();)if(a.push(i),i.isExpand){var o=i.children;if(o.length)for(var s=0;s<o.length;s++)r.push(o[s])}for(;i=a.pop();)e(i,n)}function i(t,e){for(var n,i=[t];n=i.pop();)if(e(n),n.isExpand){var r=n.children;if(r.length)for(var a=r.length-1;a>=0;a--)i.push(r[a])}}e.eachAfter=n,e.eachBefore=i},function(t,e,n){var i=n(1);n(398),n(399),n(402);var r=n(403),a=n(404);i.registerVisual(r),i.registerLayout(a)},function(t,e,n){function i(t){var e=0;a.each(t.children,function(t){i(t);var n=t.value;a.isArray(n)&&(n=n[0]),e+=n});var n=t.value;a.isArray(n)&&(n=n[0]),(null==n||isNaN(n))&&(n=e),n<0&&(n=0),a.isArray(t.value)?t.value[0]=n:t.value=n}function r(t,e){var n=e.get("color");if(n){t=t||[];var i;if(a.each(t,function(t){var e=new l(t),n=e.get("color");(e.get("itemStyle.color")||n&&"none"!==n)&&(i=!0)}),!i){(t[0]||(t[0]={})).color=n.slice()}return t}}var a=n(0),o=n(14),s=n(111),l=n(12),c=n(9),u=c.encodeHTML,h=c.addCommas,d=n(44),p=d.wrapTreePathInfo,f=o.extend({type:"series.treemap",layoutMode:"box",dependencies:["grid","polar"],preventUsingHoverLayer:!0,_viewRoot:null,defaultOption:{progressive:0,left:"center",top:"middle",right:null,bottom:null,width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",borderColor:"rgba(255,255,255,0.7)",borderWidth:1,shadowColor:"rgba(150,150,150,1)",shadowBlur:3,shadowOffsetX:0,shadowOffsetY:0,textStyle:{color:"#fff"}},emphasis:{textStyle:{}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",ellipsis:!0},upperLabel:{show:!1,position:[0,"50%"],height:20,color:"#fff",ellipsis:!0,verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],color:"#fff",ellipsis:!0,verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},getInitialData:function(t,e){var n={name:t.name,children:t.data};i(n);var a=t.levels||[];a=t.levels=r(a,e);var o={};return o.levels=a,s.createTree(n,this,o).data},optionUpdated:function(){this.resetViewRoot()},formatTooltip:function(t){var e=this.getData(),n=this.getRawValue(t),i=h(a.isArray(n)?n[0]:n),r=e.getName(t);return u(r+": "+i)},getDataParams:function(t){var e=o.prototype.getDataParams.apply(this,arguments),n=this.getData().tree.getNodeByDataIndex(t);return e.treePathInfo=p(n,this),e},setLayoutInfo:function(t){this.layoutInfo=this.layoutInfo||{},a.extend(this.layoutInfo,t)},mapIdToIndex:function(t){var e=this._idIndexMap;e||(e=this._idIndexMap=a.createHashMap(),this._idIndexMapCount=0);var n=e.get(t);return null==n&&e.set(t,n=this._idIndexMapCount++),n},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(t){t?this._viewRoot=t:t=this._viewRoot;var e=this.getRawData().tree.root;t&&(t===e||e.contains(t))||(this._viewRoot=e)}});t.exports=f},function(t,e,n){function i(){return{nodeGroup:[],background:[],content:[]}}function r(t,e,n,i,r,o,c,u,h,d){function p(t,e){D?!t.invisible&&o.push(t):(e(),t.__tmWillVisible||(t.invisible=!1))}function f(e,n,i,r,a,o){var u=c.getModel(),h=s.retrieve(t.getFormattedLabel(c.dataIndex,"normal",null,null,o?"upperLabel":"label"),u.get("name"));if(!o&&_.isLeafRoot){var d=t.get("drillDownIcon",!0);h=d?d+" "+h:h}var p=u.getModel(o?M:b),f=u.getModel(o?S:w),g=p.getShallow("show");l.setLabelStyle(e,n,p,f,{defaultText:g?h:null,autoColor:i,isRectText:!0}),o&&(e.textRect=s.clone(o)),e.truncate=g&&p.get("ellipsis")?{outerWidth:r,outerHeight:a,minChar:2}:null}function g(t,i,o,s){var l=null!=O&&n[t][O],c=r[t];return l?(n[t][O]=null,m(c,l,t)):D||(l=new i({z:a(o,s)}),l.__tmDepth=o,l.__tmStorageName=t,v(c,l,t)),e[t][R]=l}function m(t,e,n){(t[R]={}).old="nodeGroup"===n?e.position.slice():s.extend({},e.shape)}function v(t,e,n){var a=t[R]={},o=c.parentNode;if(o&&(!i||"drillDown"===i.direction)){var s=0,l=0,u=r.background[o.getRawIndex()];!i&&u&&u.old&&(s=u.old.width,l=u.old.height),a.old="nodeGroup"===n?[0,l]:{x:s,y:l,width:0,height:0}}a.fadein="nodeGroup"!==n}if(c){var _=c.getLayout();if(_&&_.isInView){var T=_.width,I=_.height,P=_.borderWidth,D=_.invisible,R=c.getRawIndex(),O=u&&u.getRawIndex(),k=c.viewChildren,N=_.upperHeight,z=k&&k.length,B=c.getModel("itemStyle"),V=c.getModel("emphasis.itemStyle"),F=g("nodeGroup",y);if(F){if(h.add(F),F.attr("position",[_.x||0,_.y||0]),F.__tmNodeWidth=T,F.__tmNodeHeight=I,_.isAboveViewRoot)return F;var G=g("background",x,d,A);if(G&&function(e,n,i){n.dataIndex=c.dataIndex,n.seriesIndex=t.seriesIndex,n.setShape({x:0,y:0,width:T,height:I});var r=c.getVisual("borderColor",!0),a=V.get("borderColor");p(n,function(){var t=E(B);t.fill=r;var e=L(V);if(e.fill=a,i){var o=T-2*P;f(t,e,r,o,N,{x:P,y:0,width:o,height:N})}else t.text=e.text=null;n.setStyle(t),l.setHoverStyle(n,e)}),e.add(n)}(F,G,z&&_.upperHeight),!z){var H=g("content",x,d,C);H&&function(e,n){n.dataIndex=c.dataIndex,n.seriesIndex=t.seriesIndex;var i=Math.max(T-2*P,0),r=Math.max(I-2*P,0);n.culling=!0,n.setShape({x:P,y:P,width:i,height:r});var a=c.getVisual("color",!0);p(n,function(){var t=E(B);t.fill=a;var e=L(V);f(t,e,a,i,r),n.setStyle(t),l.setHoverStyle(n,e)}),e.add(n)}(F,H)}return F}}}}function a(t,e){var n=t*T+e;return(n-1)/n}var o=n(1),s=n(0),l=n(2),c=n(41),u=n(44),h=n(400),d=n(70),p=n(8),f=n(15),g=n(401),m=n(48),v=s.bind,y=l.Group,x=l.Rect,_=s.each,b=["label"],w=["emphasis","label"],M=["upperLabel"],S=["emphasis","upperLabel"],T=10,A=1,C=2,L=m([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),E=function(t){var e=L(t);return e.stroke=e.fill=e.lineWidth=null,e},I=o.extendChartView({type:"treemap",init:function(t,e){this._containerGroup,this._storage=i(),this._oldTree,this._breadcrumb,this._controller,this._state="ready"},render:function(t,e,n,i){var r=e.findComponents({mainType:"series",subType:"treemap",query:i});if(!(s.indexOf(r,t)<0)){this.seriesModel=t,this.api=n,this.ecModel=e;var a=["treemapZoomToNode","treemapRootToNode"],o=u.retrieveTargetInfo(i,a,t),l=i&&i.type,c=t.layoutInfo,h=!this._oldTree,d=this._storage,p="treemapRootToNode"===l&&o&&d?{rootNodeGroup:d.nodeGroup[o.node.getRawIndex()],direction:i.direction}:null,f=this._giveContainerGroup(c),g=this._doRender(f,t,p);h||l&&"treemapZoomToNode"!==l&&"treemapRootToNode"!==l?g.renderFinally():this._doAnimation(f,g,t,p),this._resetController(n),this._renderBreadcrumb(t,n,o)}},_giveContainerGroup:function(t){var e=this._containerGroup;return e||(e=this._containerGroup=new y,this._initEvents(e),this.group.add(e)),e.attr("position",[t.x,t.y]),e},_doRender:function(t,e,n){function a(t,e,n,i,r){function o(t){return t.getId()}function l(o,s){var l=null!=o?t[o]:null,c=null!=s?e[s]:null,u=g(l,c,n,r);u&&a(l&&l.viewChildren||[],c&&c.viewChildren||[],u,i,r+1)}i?(e=t,_(t,function(t,e){!t.isRemoved()&&l(e,e)})):new c(e,t,o,o).add(l).update(l).remove(s.curry(l,null)).execute()}function o(){_(m,function(t){_(t,function(t){t.parent&&t.parent.remove(t)})}),_(f,function(t){t.invisible=!0,t.dirty()})}var l=e.getData().tree,u=this._oldTree,h=i(),d=i(),p=this._storage,f=[],g=s.curry(r,e,d,p,n,h,f);a(l.root?[l.root]:[],u&&u.root?[u.root]:[],t,l===u||!u,0);var m=function(t){var e=i();return t&&_(t,function(t,n){var i=e[n];_(t,function(t){t&&(i.push(t),t.__tmWillDelete=1)})}),e}(p);return this._oldTree=l,this._storage=d,{lastsForAnimation:h,willDeleteEls:m,renderFinally:o}},_doAnimation:function(t,e,n,i){if(n.get("animation")){var r=n.get("animationDurationUpdate"),a=n.get("animationEasing"),o=g.createWrap();_(e.willDeleteEls,function(t,e){_(t,function(t,n){if(!t.invisible){var s,l=t.parent;if(i&&"drillDown"===i.direction)s=l===i.rootNodeGroup?{shape:{x:0,y:0,width:l.__tmNodeWidth,height:l.__tmNodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var c=0,u=0;l.__tmWillDelete||(c=l.__tmNodeWidth/2,u=l.__tmNodeHeight/2),s="nodeGroup"===e?{position:[c,u],style:{opacity:0}}:{shape:{x:c,y:u,width:0,height:0},style:{opacity:0}}}s&&o.add(t,s,r,a)}})}),_(this._storage,function(t,n){_(t,function(t,i){var l=e.lastsForAnimation[n][i],c={};l&&("nodeGroup"===n?l.old&&(c.position=t.position.slice(),t.attr("position",l.old)):(l.old&&(c.shape=s.extend({},t.shape),t.setShape(l.old)),l.fadein?(t.setStyle("opacity",0),c.style={opacity:1}):1!==t.style.opacity&&(c.style={opacity:1})),o.add(t,c,r,a))})},this),this._state="animating",o.done(v(function(){this._state="ready",e.renderFinally()},this)).start()}},_resetController:function(t){var e=this._controller;e||(e=this._controller=new d(t.getZr()),e.enable(this.seriesModel.get("roam")),e.on("pan",v(this._onPan,this)),e.on("zoom",v(this._onZoom,this)));var n=new p(0,0,t.getWidth(),t.getHeight());e.setPointerChecker(function(t,e,i){return n.contain(e,i)})},_clearController:function(){var t=this._controller;t&&(t.dispose(),t=null)},_onPan:function(t){if("animating"!==this._state&&(Math.abs(t.dx)>3||Math.abs(t.dy)>3)){var e=this.seriesModel.getData().tree.root;if(!e)return;var n=e.getLayout();if(!n)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:n.x+t.dx,y:n.y+t.dy,width:n.width,height:n.height}})}},_onZoom:function(t){var e=t.originX,n=t.originY;if("animating"!==this._state){var i=this.seriesModel.getData().tree.root;if(!i)return;var r=i.getLayout();if(!r)return;var a=new p(r.x,r.y,r.width,r.height),o=this.seriesModel.layoutInfo;e-=o.x,n-=o.y;var s=f.create();f.translate(s,s,[-e,-n]),f.scale(s,s,[t.scale,t.scale]),f.translate(s,s,[e,n]),a.applyTransform(s),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:a.x,y:a.y,width:a.width,height:a.height}})}},_initEvents:function(t){t.on("click",function(t){if("ready"===this._state){var e=this.seriesModel.get("nodeClick",!0);if(e){var n=this.findTarget(t.offsetX,t.offsetY);if(n){var i=n.node;if(i.getLayout().isLeafRoot)this._rootToNode(n);else if("zoomToNode"===e)this._zoomToNode(n);else if("link"===e){var r=i.hostTree.data.getItemModel(i.dataIndex),a=r.get("link",!0),o=r.get("target",!0)||"blank";a&&window.open(a,o)}}}}},this)},_renderBreadcrumb:function(t,e,n){function i(e){"animating"!==this._state&&(u.aboveViewRoot(t.getViewRoot(),e)?this._rootToNode({node:e}):this._zoomToNode({node:e}))}n||(n=null!=t.get("leafDepth",!0)?{node:t.getViewRoot()}:this.findTarget(e.getWidth()/2,e.getHeight()/2))||(n={node:t.getData().tree.root}),(this._breadcrumb||(this._breadcrumb=new h(this.group))).render(t,e,n.node,v(i,this))},remove:function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=i(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},dispose:function(){this._clearController()},_zoomToNode:function(t){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},_rootToNode:function(t){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},findTarget:function(t,e){var n;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},function(i){var r=this._storage.background[i.getRawIndex()];if(r){var a=r.transformCoordToLocal(t,e),o=r.shape;if(!(o.x<=a[0]&&a[0]<=o.x+o.width&&o.y<=a[1]&&a[1]<=o.y+o.height))return!1;n={node:i,offsetX:a[0],offsetY:a[1]}}},this),n}});t.exports=I},function(t,e,n){function i(t){this.group=new o.Group,t.add(this.group)}function r(t,e,n,i,r,a){var o=[[r?t:t-h,e],[t+n,e],[t+n,e+i],[r?t:t-h,e+i]];return!a&&o.splice(2,0,[t+n+h,e+i/2]),!r&&o.push([t,e+i/2]),o}function a(t,e,n){t.eventData={componentType:"series",componentSubType:"treemap",componentIndex:e.componentIndex,seriesIndex:e.componentIndex,seriesName:e.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:n&&n.dataIndex,name:n&&n.name},treePathInfo:n&&u(n,e)}}var o=n(2),s=n(6),l=n(0),c=n(44),u=c.wrapTreePathInfo,h=5;i.prototype={constructor:i,render:function(t,e,n,i){var r=t.getModel("breadcrumb"),a=this.group;if(a.removeAll(),r.get("show")&&n){var o=r.getModel("itemStyle"),l=o.getModel("textStyle"),c={pos:{left:r.get("left"),right:r.get("right"),top:r.get("top"),bottom:r.get("bottom")},box:{width:e.getWidth(),height:e.getHeight()},emptyItemWidth:r.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(n,c,l),this._renderContent(t,c,o,l,i),s.positionElement(a,c.pos,c.box)}},_prepare:function(t,e,n){for(var i=t;i;i=i.parentNode){var r=i.getModel().get("name"),a=n.getTextRect(r),o=Math.max(a.width+16,e.emptyItemWidth);e.totalWidth+=o+8,e.renderList.push({node:i,text:r,width:o})}},_renderContent:function(t,e,n,i,c){for(var u=0,h=e.emptyItemWidth,d=t.get("breadcrumb.height"),p=s.getAvailableSize(e.pos,e.box),f=e.totalWidth,g=e.renderList,m=g.length-1;m>=0;m--){var v=g[m],y=v.node,x=v.width,_=v.text;f>p.width&&(f-=x-h,x=h,_=null);var b=new o.Polygon({shape:{points:r(u,0,x,d,m===g.length-1,0===m)},style:l.defaults(n.getItemStyle(),{lineJoin:"bevel",text:_,textFill:i.getTextColor(),textFont:i.getFont()}),z:10,onclick:l.curry(c,y)});this.group.add(b),a(b,t,y),u+=x+8}},remove:function(){this.group.removeAll()}};var d=i;t.exports=d},function(t,e,n){function i(){var t,e=[],n={};return{add:function(t,i,a,o,s){return r.isString(o)&&(s=o,o=0),!n[t.id]&&(n[t.id]=1,e.push({el:t,target:i,time:a,delay:o,easing:s}),!0)},done:function(e){return t=e,this},start:function(){function i(){--r||(e.length=0,n={},t&&t())}for(var r=e.length,a=0,o=e.length;a<o;a++){var s=e[a];s.el.animateTo(s.target,s.time,s.delay,s.easing,i)}return this}}}var r=n(0);e.createWrap=i},function(t,e,n){for(var i=n(1),r=n(44),a=function(){},o=["treemapZoomToNode","treemapRender","treemapMove"],s=0;s<o.length;s++)i.registerAction({type:o[s],update:"updateView"},a);i.registerAction({type:"treemapRootToNode",update:"updateView"},function(t,e){function n(e,n){var i=["treemapZoomToNode","treemapRootToNode"],a=r.retrieveTargetInfo(t,i,e);if(a){var o=e.getViewRoot();o&&(t.direction=r.aboveViewRoot(o,a.node)?"rollUp":"drillDown"),e.resetViewRoot(a.node)}}e.eachComponent({mainType:"series",subType:"treemap",query:t},n)})},function(t,e,n){function i(t,e,n,s,c,h){var d=t.getModel(),f=t.getLayout();if(f&&!f.invisible&&f.isInView){var m,v=t.getModel(g),y=n[t.depth],x=r(v,e,y,s),_=v.get("borderColor"),b=v.get("borderColorSaturation");null!=b&&(m=a(x),_=o(b,m)),t.setVisual("borderColor",_);var w=t.viewChildren;if(w&&w.length){var M=l(t,d,f,v,x,w);p.each(w,function(t,e){if(t.depth>=c.length||t===c[t.depth]){i(t,u(d,x,t,e,M,h),n,s,c,h)}})}else m=a(x),t.setVisual("color",m)}}function r(t,e,n,i){var r=p.extend({},e);return p.each(["color","colorAlpha","colorSaturation"],function(a){var o=t.get(a,!0);null==o&&n&&(o=n[a]),null==o&&(o=e[a]),null==o&&(o=i.get(a)),null!=o&&(r[a]=o)}),r}function a(t){var e=s(t,"color");if(e){var n=s(t,"colorAlpha"),i=s(t,"colorSaturation");return i&&(e=d.modifyHSL(e,null,null,i)),n&&(e=d.modifyAlpha(e,n)),e}}function o(t,e){return null!=e?d.modifyHSL(e,null,null,t):null}function s(t,e){var n=t[e];if(null!=n&&"none"!==n)return n}function l(t,e,n,i,r,a){if(a&&a.length){var o=c(e,"color")||null!=r.color&&"none"!==r.color&&(c(e,"colorAlpha")||c(e,"colorSaturation"));if(o){var s=e.get("visualMin"),l=e.get("visualMax"),u=n.dataExtent.slice();null!=s&&s<u[0]&&(u[0]=s),null!=l&&l>u[1]&&(u[1]=l);var d=e.get("colorMappingBy"),p={type:o.name,dataExtent:u,visual:o.range};"color"!==p.type||"index"!==d&&"id"!==d?p.mappingMethod="linear":(p.mappingMethod="category",p.loop=!0);var f=new h(p);return f.__drColorMappingBy=d,f}}}function c(t,e){var n=t.get(e);return f(n)&&n.length?{name:e,range:n}:null}function u(t,e,n,i,r,a){var o=p.extend({},e);if(r){var s=r.type,l="color"===s&&r.__drColorMappingBy,c="index"===l?i:"id"===l?a.mapIdToIndex(n.getId()):n.getValue(t.get("visualDimension"));o[s]=r.mapValueToVisual(c)}return o}var h=n(45),d=n(24),p=n(0),f=p.isArray,g="itemStyle",m={seriesType:"treemap",reset:function(t,e,n,r){var a=t.getData().tree,o=a.root,s=t.getModel(g);if(!o.isRemoved()){i(o,{},p.map(a.levelModels,function(t){return t?t.get(g):null}),s,t.getViewRoot().getAncestors(),t)}}};t.exports=m},function(t,e,n){function i(t,e,n,a){var o,s;if(!t.isRemoved()){var u=t.getLayout();o=u.width,s=u.height;var h=t.getModel(),d=h.get(T),f=h.get(A)/2,g=p(h),m=Math.max(d,g),v=d-f,y=m-f,h=t.getModel();t.setLayout({borderWidth:d,upperHeight:m,upperLabelHeight:g},!0),o=b(o-2*v,0),s=b(s-v-y,0);var x=o*s,_=r(t,h,x,e,n,a);if(_.length){var M={x:v,y:y,width:o,height:s},S=w(o,s),C=1/0,L=[];L.area=0;for(var E=0,I=_.length;E<I;){var P=_[E];L.push(P),L.area+=P.getLayout().area;var D=l(L,S,e.squareRatio);D<=C?(E++,C=D):(L.area-=L.pop().getLayout().area,c(L,S,M,f,!1),S=w(M.width,M.height),L.length=L.area=0,C=1/0)}if(L.length&&c(L,S,M,f,!0),!n){var R=h.get("childrenVisibleMin");null!=R&&x<R&&(n=!0)}for(var E=0,I=_.length;E<I;E++)i(_[E],e,n,a+1)}}}function r(t,e,n,i,r,l){var c=t.children||[],u=i.sort;"asc"!==u&&"desc"!==u&&(u=null);var h=null!=i.leafDepth&&i.leafDepth<=l;if(r&&!h)return t.viewChildren=[];c=f.filter(c,function(t){return!t.isRemoved()}),o(c,u);var d=s(e,c,u);if(0===d.sum)return t.viewChildren=[];if(d.sum=a(e,n,d.sum,u,c),0===d.sum)return t.viewChildren=[];for(var p=0,g=c.length;p<g;p++){var m=c[p].getValue()/d.sum*n;c[p].setLayout({area:m})}return h&&(c.length&&t.setLayout({isLeafRoot:!0},!0),c.length=0),t.viewChildren=c,t.setLayout({dataExtent:d.dataExtent},!0),c}function a(t,e,n,i,r){if(!i)return n;for(var a=t.get("visibleMin"),o=r.length,s=o,l=o-1;l>=0;l--){var c=r["asc"===i?o-l-1:l].getValue();c/n*e<a&&(s=l,n-=c)}return"asc"===i?r.splice(0,o-s):r.splice(s,o-s),n}function o(t,e){return e&&t.sort(function(t,n){var i="asc"===e?t.getValue()-n.getValue():n.getValue()-t.getValue();return 0===i?"asc"===e?t.dataIndex-n.dataIndex:n.dataIndex-t.dataIndex:i}),t}function s(t,e,n){for(var i=0,r=0,a=e.length;r<a;r++)i+=e[r].getValue();var o,s=t.get("visualDimension");if(e&&e.length)if("value"===s&&n)o=[e[e.length-1].getValue(),e[0].getValue()],"asc"===n&&o.reverse();else{var o=[1/0,-1/0];S(e,function(t){var e=t.getValue(s);e<o[0]&&(o[0]=e),e>o[1]&&(o[1]=e)})}else o=[NaN,NaN];return{sum:i,dataExtent:o}}function l(t,e,n){for(var i,r=0,a=1/0,o=0,s=t.length;o<s;o++)(i=t[o].getLayout().area)&&(i<a&&(a=i),i>r&&(r=i));var l=t.area*t.area,c=e*e*n;return l?b(c*r/l,l/(c*a)):1/0}function c(t,e,n,i,r){var a=e===n.width?0:1,o=1-a,s=["x","y"],l=["width","height"],c=n[s[a]],u=e?t.area/e:0;(r||u>n[l[o]])&&(u=n[l[o]]);for(var h=0,d=t.length;h<d;h++){var p=t[h],f={},g=u?p.getLayout().area/u:0,m=f[l[o]]=b(u-2*i,0),v=n[s[a]]+n[l[a]]-c,y=h===d-1||v<g?v:g,x=f[l[a]]=b(y-2*i,0);f[s[o]]=n[s[o]]+w(i,m/2),f[s[a]]=c+w(i,x/2),c+=y,p.setLayout(f,!0)}n[s[o]]+=u,n[l[o]]-=u}function u(t,e,n,i,r){var a=(e||{}).node,o=[i,r];if(!a||a===n)return o;for(var s,l=i*r,c=l*t.option.zoomToNodeRatio;s=a.parentNode;){for(var u=0,h=s.children,d=0,f=h.length;d<f;d++)u+=h[d].getValue();var g=a.getValue();if(0===g)return o;c*=u/g;var m=s.getModel(),v=m.get(T);c+=4*v*v+(3*v+Math.max(v,p(m)))*Math.pow(c,.5),c>y&&(c=y),a=s}c<l&&(c=l);var x=Math.pow(c/l,.5);return[i*x,r*x]}function h(t,e,n){if(e)return{x:e.x,y:e.y};var i={x:0,y:0};if(!n)return i;var r=n.node,a=r.getLayout();if(!a)return i;for(var o=[a.width/2,a.height/2],s=r;s;){var l=s.getLayout();o[0]+=l.x,o[1]+=l.y,s=s.parentNode}return{x:t.width/2-o[0],y:t.height/2-o[1]}}function d(t,e,n,i,r){var a=t.getLayout(),o=n[r],s=o&&o===t;if(!(o&&!s||r===n.length&&t!==i)){t.setLayout({isInView:!0,invisible:!s&&!e.intersect(a),isAboveViewRoot:s},!0);var l=new g(e.x-a.x,e.y-a.y,e.width,e.height);S(t.viewChildren||[],function(t){d(t,l,n,i,r+1)})}}function p(t){return t.get(C)?t.get(L):0}var f=n(0),g=n(8),m=n(3),v=m.parsePercent,y=m.MAX_SAFE_INTEGER,x=n(6),_=n(44),b=Math.max,w=Math.min,M=f.retrieve,S=f.each,T=["itemStyle","borderWidth"],A=["itemStyle","gapWidth"],C=["upperLabel","show"],L=["upperLabel","height"],E={seriesType:"treemap",reset:function(t,e,n,r){var a=n.getWidth(),o=n.getHeight(),s=t.option,l=x.getLayoutRect(t.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()}),c=s.size||[],p=v(M(l.width,c[0]),a),m=v(M(l.height,c[1]),o),y=r&&r.type,b=["treemapZoomToNode","treemapRootToNode"],w=_.retrieveTargetInfo(r,b,t),T="treemapRender"===y||"treemapMove"===y?r.rootRect:null,A=t.getViewRoot(),C=_.getPathToRoot(A);if("treemapMove"!==y){var L="treemapZoomToNode"===y?u(t,w,A,p,m):T?[T.width,T.height]:[p,m],E=s.sort;E&&"asc"!==E&&"desc"!==E&&(E="desc");var I={squareRatio:s.squareRatio,sort:E,leafDepth:s.leafDepth};A.hostTree.clearLayouts();var P={x:0,y:0,width:L[0],height:L[1],area:L[0]*L[1]};A.setLayout(P),i(A,I,!1,0);var P=A.getLayout();S(C,function(t,e){var n=(C[e+1]||A).getValue();t.setLayout(f.extend({dataExtent:[n,n],borderWidth:0,upperHeight:0},P))})}var D=t.getData().tree.root;D.setLayout(h(l,T,w),!0),t.setLayoutInfo(l),d(D,new g(-l.x,-l.y,a,o),C,A,0)}};t.exports=E},function(t,e,n){var i=n(1);n(406),n(408),n(411);var r=n(412),a=n(42),o=n(413),s=n(414),l=n(415),c=n(416),u=n(417),h=n(419);i.registerProcessor(r),i.registerVisual(a("graph","circle",null)),i.registerVisual(o),i.registerVisual(s),i.registerLayout(l),i.registerLayout(i.PRIORITY.VISUAL.POST_CHART_LAYOUT,c),i.registerLayout(u),i.registerCoordinateSystem("graphView",{create:h})},function(t,e,n){var i=n(1),r=n(18),a=n(0),o=n(4),s=o.defaultEmphasis,l=n(12),c=n(9),u=c.encodeHTML,h=n(201),d=n(68),p=i.extendSeriesModel({type:"series.graph",init:function(t){function e(){return n._categoriesData}p.superApply(this,"init",arguments);var n=this;this.legendVisualProvider=new d(e,e),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},mergeOption:function(t){p.superApply(this,"mergeOption",arguments),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},mergeDefaultAndTheme:function(t){p.superApply(this,"mergeDefaultAndTheme",arguments),s(t,["edgeLabel"],["show"])},getInitialData:function(t,e){function n(t,n){function i(t){return t=this.parsePath(t),t&&"label"===t[0]?o:t&&"emphasis"===t[0]&&"label"===t[1]?c:this.parentModel}t.wrapMethod("getItemModel",function(t){var e=a._categoriesModels,n=t.getShallow("category"),i=e[n];return i&&(i.parentModel=t.parentModel,t.parentModel=i),t});var r=a.getModel("edgeLabel"),o=new l({label:r.option},r.parentModel,e),s=a.getModel("emphasis.edgeLabel"),c=new l({emphasis:{label:s.option}},s.parentModel,e);n.wrapMethod("getItemModel",function(t){return t.customizeGetParent(i),t})}var i=t.edges||t.links||[],r=t.data||t.nodes||[],a=this;if(r&&i)return h(r,i,this,!0,n).data},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(t,e,n){if("edge"===n){var i=this.getData(),r=this.getDataParams(t,n),a=i.graph.getEdgeByIndex(t),o=i.getName(a.node1.dataIndex),s=i.getName(a.node2.dataIndex),l=[];return null!=o&&l.push(o),null!=s&&l.push(s),l=u(l.join(" > ")),r.value&&(l+=" : "+u(r.value)),l}return p.superApply(this,"formatTooltip",arguments)},_updateCategoriesData:function(){var t=a.map(this.option.categories||[],function(t){return null!=t.value?t:a.extend({value:0},t)}),e=new r(["value"],this);e.initData(t),this._categoriesData=e,this._categoriesModels=e.mapArray(function(t){return e.getItemModel(t,!0)})},setZoom:function(t){this.option.zoom=t},setCenter:function(t){this.option.center=t},isAnimationEnabled:function(){return p.superCall(this,"isAnimationEnabled")&&!("force"===this.get("layout")&&this.get("force.layoutAnimation"))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",legendHoverLink:!0,hoverAnimation:!0,layout:null,focusNodeAdjacency:!1,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle"},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,curveness:0,opacity:.5},emphasis:{label:{show:!0}}}}),f=p;t.exports=f},function(t,e,n){function i(t){return"_EC_"+t}function r(t,e){this.id=null==t?"":t,this.inEdges=[],this.outEdges=[],this.edges=[],this.hostGraph,this.dataIndex=null==e?-1:e}function a(t,e,n){this.node1=t,this.node2=e,this.dataIndex=null==n?-1:n}var o=n(5),s=(o.__DEV__,n(0)),l=n(29),c=l.enableClassCheck,u=function(t){this._directed=t||!1,this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this.data,this.edgeData},h=u.prototype;h.type="graph",h.isDirected=function(){return this._directed},h.addNode=function(t,e){t=null==t?""+e:""+t;var n=this._nodesMap;if(!n[i(t)]){var a=new r(t,e);return a.hostGraph=this,this.nodes.push(a),n[i(t)]=a,a}},h.getNodeByIndex=function(t){var e=this.data.getRawIndex(t);return this.nodes[e]},h.getNodeById=function(t){return this._nodesMap[i(t)]},h.addEdge=function(t,e,n){var o=this._nodesMap,s=this._edgesMap;if("number"==typeof t&&(t=this.nodes[t]),"number"==typeof e&&(e=this.nodes[e]),r.isInstance(t)||(t=o[i(t)]),r.isInstance(e)||(e=o[i(e)]),t&&e){var l=t.id+"-"+e.id;if(!s[l]){var c=new a(t,e,n);return c.hostGraph=this,this._directed&&(t.outEdges.push(c),e.inEdges.push(c)),t.edges.push(c),t!==e&&e.edges.push(c),this.edges.push(c),s[l]=c,c}}},h.getEdgeByIndex=function(t){var e=this.edgeData.getRawIndex(t);return this.edges[e]},h.getEdge=function(t,e){r.isInstance(t)&&(t=t.id),r.isInstance(e)&&(e=e.id);var n=this._edgesMap;return this._directed?n[t+"-"+e]:n[t+"-"+e]||n[e+"-"+t]},h.eachNode=function(t,e){for(var n=this.nodes,i=n.length,r=0;r<i;r++)n[r].dataIndex>=0&&t.call(e,n[r],r)},h.eachEdge=function(t,e){for(var n=this.edges,i=n.length,r=0;r<i;r++)n[r].dataIndex>=0&&n[r].node1.dataIndex>=0&&n[r].node2.dataIndex>=0&&t.call(e,n[r],r)},h.breadthFirstTraverse=function(t,e,n,a){if(r.isInstance(e)||(e=this._nodesMap[i(e)]),e){for(var o="out"===n?"outEdges":"in"===n?"inEdges":"edges",s=0;s<this.nodes.length;s++)this.nodes[s].__visited=!1;if(!t.call(a,e,null))for(var l=[e];l.length;)for(var c=l.shift(),u=c[o],s=0;s<u.length;s++){var h=u[s],d=h.node1===c?h.node2:h.node1;if(!d.__visited){if(t.call(a,d,c))return;l.push(d),d.__visited=!0}}}},h.update=function(){for(var t=this.data,e=this.edgeData,n=this.nodes,i=this.edges,r=0,a=n.length;r<a;r++)n[r].dataIndex=-1;for(var r=0,a=t.count();r<a;r++)n[t.getRawIndex(r)].dataIndex=r;e.filterSelf(function(t){var n=i[e.getRawIndex(t)];return n.node1.dataIndex>=0&&n.node2.dataIndex>=0});for(var r=0,a=i.length;r<a;r++)i[r].dataIndex=-1;for(var r=0,a=e.count();r<a;r++)i[e.getRawIndex(r)].dataIndex=r},h.clone=function(){for(var t=new u(this._directed),e=this.nodes,n=this.edges,i=0;i<e.length;i++)t.addNode(e[i].id,e[i].dataIndex);for(var i=0;i<n.length;i++){var r=n[i];t.addEdge(r.node1.id,r.node2.id,r.dataIndex)}return t},r.prototype={constructor:r,degree:function(){return this.edges.length},inDegree:function(){return this.inEdges.length},outDegree:function(){return this.outEdges.length},getModel:function(t){if(!(this.dataIndex<0)){return this.hostGraph.data.getItemModel(this.dataIndex).getModel(t)}}},a.prototype.getModel=function(t){if(!(this.dataIndex<0)){return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(t)}};var d=function(t,e){return{getValue:function(n){var i=this[t][e];return i.get(i.getDimension(n||"value"),this.dataIndex)},setVisual:function(n,i){this.dataIndex>=0&&this[t][e].setItemVisual(this.dataIndex,n,i)},getVisual:function(n,i){return this[t][e].getItemVisual(this.dataIndex,n,i)},setLayout:function(n,i){this.dataIndex>=0&&this[t][e].setItemLayout(this.dataIndex,n,i)},getLayout:function(){return this[t][e].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[t][e].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[t][e].getRawIndex(this.dataIndex)}}};s.mixin(r,d("hostGraph","data")),s.mixin(a,d("hostGraph","edgeData")),u.Node=r,u.Edge=a,c(r),c(a);var p=u;t.exports=p},function(t,e,n){function i(t,e){var n=t.getVisual("opacity");return null!=n?n:t.getModel().get(e)}function r(t,e,n){var r=t.getGraphicEl(),a=i(t,e);null!=n&&(null==a&&(a=1),a*=n),r.downplay&&r.downplay(),r.traverse(function(t){if(!t.isGroup){var e=t.lineLabelOriginalOpacity;null!=e&&null==n||(e=a),t.setStyle("opacity",e)}})}function a(t,e){var n=i(t,e),r=t.getGraphicEl();r.traverse(function(t){!t.isGroup&&t.setStyle("opacity",n)}),r.highlight&&r.highlight()}var o=n(1),s=n(0),l=n(64),c=n(112),u=n(70),h=n(107),d=n(89),p=d.onIrrelevantElement,f=n(2),g=n(410),m=n(114),v=m.getNodeGlobalScale,y="__focusNodeAdjacency",x=["itemStyle","opacity"],_=["lineStyle","opacity"],b=o.extendChartView({type:"graph",init:function(t,e){var n=new l,i=new c,r=this.group;this._controller=new u(e.getZr()),this._controllerHost={target:r},r.add(n.group),r.add(i.group),this._symbolDraw=n,this._lineDraw=i,this._firstRender=!0},render:function(t,e,n){var i=this,r=t.coordinateSystem;this._model=t;var a=this._symbolDraw,o=this._lineDraw,s=this.group;if("view"===r.type){var l={position:r.position,scale:r.scale};this._firstRender?s.attr(l):f.updateProps(s,l,t)}g(t.getGraph(),v(t));var c=t.getData();a.updateData(c);var u=t.getEdgeData();o.updateData(u),this._updateNodeAndLinkScale(),this._updateController(t,e,n),clearTimeout(this._layoutTimeout);var h=t.forceLayout,d=t.get("force.layoutAnimation");h&&this._startForceLayoutIteration(h,d),c.eachItemGraphicEl(function(e,r){var a=c.getItemModel(r);e.off("drag").off("dragend");var o=a.get("draggable");o&&e.on("drag",function(){h&&(h.warmUp(),!this._layouting&&this._startForceLayoutIteration(h,d),h.setFixed(r),c.setItemLayout(r,e.position))},this).on("dragend",function(){h&&h.setUnfixed(r)},this),e.setDraggable(o&&h),e[y]&&e.off("mouseover",e[y]),e.__unfocusNodeAdjacency&&e.off("mouseout",e.__unfocusNodeAdjacency),a.get("focusNodeAdjacency")&&(e.on("mouseover",e[y]=function(){i._clearTimer(),n.dispatchAction({type:"focusNodeAdjacency",seriesId:t.id,dataIndex:e.dataIndex})}),e.on("mouseout",e.__unfocusNodeAdjacency=function(){i._dispatchUnfocus(n)}))},this),c.graph.eachEdge(function(e){var r=e.getGraphicEl();r[y]&&r.off("mouseover",r[y]),r.__unfocusNodeAdjacency&&r.off("mouseout",r.__unfocusNodeAdjacency),e.getModel().get("focusNodeAdjacency")&&(r.on("mouseover",r[y]=function(){i._clearTimer(),n.dispatchAction({type:"focusNodeAdjacency",seriesId:t.id,edgeDataIndex:e.dataIndex})}),r.on("mouseout",r.__unfocusNodeAdjacency=function(){i._dispatchUnfocus(n)}))});var p="circular"===t.get("layout")&&t.get("circular.rotateLabel"),m=c.getLayout("cx"),x=c.getLayout("cy");c.eachItemGraphicEl(function(t,e){var n=c.getItemModel(e),i=n.get("label.rotate")||0,r=t.getSymbolPath();if(p){var a=c.getItemLayout(e),o=Math.atan2(a[1]-x,a[0]-m);o<0&&(o=2*Math.PI+o);var s=a[0]<m;s&&(o-=Math.PI);var l=s?"left":"right";f.modifyLabelStyle(r,{textRotation:-o,textPosition:l,textOrigin:"center"},{textPosition:l})}else f.modifyLabelStyle(r,{textRotation:i*=Math.PI/180})}),this._firstRender=!1},dispose:function(){this._controller&&this._controller.dispose(),this._controllerHost={},this._clearTimer()},_dispatchUnfocus:function(t,e){var n=this;this._clearTimer(),this._unfocusDelayTimer=setTimeout(function(){n._unfocusDelayTimer=null,t.dispatchAction({type:"unfocusNodeAdjacency",seriesId:n._model.id})},500)},_clearTimer:function(){this._unfocusDelayTimer&&(clearTimeout(this._unfocusDelayTimer),this._unfocusDelayTimer=null)},focusNodeAdjacency:function(t,e,n,i){var o=this._model.getData(),l=o.graph,c=i.dataIndex,u=i.edgeDataIndex,h=l.getNodeByIndex(c),d=l.getEdgeByIndex(u);(h||d)&&(l.eachNode(function(t){r(t,x,.1)}),l.eachEdge(function(t){r(t,_,.1)}),h&&(a(h,x),s.each(h.edges,function(t){t.dataIndex<0||(a(t,_),a(t.node1,x),a(t.node2,x))})),d&&(a(d,_),a(d.node1,x),a(d.node2,x)))},unfocusNodeAdjacency:function(t,e,n,i){var a=this._model.getData().graph;a.eachNode(function(t){r(t,x)}),a.eachEdge(function(t){r(t,_)})},_startForceLayoutIteration:function(t,e){var n=this;!function i(){t.step(function(t){n.updateLayout(n._model),(n._layouting=!t)&&(e?n._layoutTimeout=setTimeout(i,16):i())})}()},_updateController:function(t,e,n){var i=this._controller,r=this._controllerHost,a=this.group;if(i.setPointerChecker(function(e,i,r){var o=a.getBoundingRect();return o.applyTransform(a.transform),o.contain(i,r)&&!p(e,n,t)}),"view"!==t.coordinateSystem.type)return void i.disable();i.enable(t.get("roam")),r.zoomLimit=t.get("scaleLimit"),r.zoom=t.coordinateSystem.getZoom(),i.off("pan").off("zoom").on("pan",function(e){h.updateViewOnPan(r,e.dx,e.dy),n.dispatchAction({seriesId:t.id,type:"graphRoam",dx:e.dx,dy:e.dy})}).on("zoom",function(e){h.updateViewOnZoom(r,e.scale,e.originX,e.originY),n.dispatchAction({seriesId:t.id,type:"graphRoam",zoom:e.scale,originX:e.originX,originY:e.originY}),this._updateNodeAndLinkScale(),g(t.getGraph(),v(t)),this._lineDraw.updateLayout()},this)},_updateNodeAndLinkScale:function(){var t=this._model,e=t.getData(),n=v(t),i=[n,n];e.eachItemGraphicEl(function(t,e){t.attr("scale",i)})},updateLayout:function(t){g(t.getGraph(),v(t)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},remove:function(t,e){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()}});t.exports=b},function(t,e,n){function i(t){return isNaN(+t.cpx1)||isNaN(+t.cpy1)}var r=n(2),a=n(7),o=r.Line.prototype,s=r.BezierCurve.prototype,l=r.extendShape({type:"ec-line",style:{stroke:"#000",fill:null},shape:{x1:0,y1:0,x2:0,y2:0,percent:1,cpx1:null,cpy1:null},buildPath:function(t,e){this[i(e)?"_buildPathLine":"_buildPathCurve"](t,e)},_buildPathLine:o.buildPath,_buildPathCurve:s.buildPath,pointAt:function(t){return this[i(this.shape)?"_pointAtLine":"_pointAtCurve"](t)},_pointAtLine:o.pointAt,_pointAtCurve:s.pointAt,tangentAt:function(t){var e=this.shape,n=i(e)?[e.x2-e.x1,e.y2-e.y1]:this._tangentAtCurve(t);return a.normalize(n,n)},_tangentAtCurve:s.tangentAt});t.exports=l},function(t,e,n){function i(t,e,n){for(var i,r=t[0],a=t[1],o=t[2],s=1/0,l=n*n,g=.1,m=.1;m<=.9;m+=.1){c[0]=d(r[0],a[0],o[0],m),c[1]=d(r[1],a[1],o[1],m);var v=f(p(c,e)-l);v<s&&(s=v,i=m)}for(var y=0;y<32;y++){var x=i+g;u[0]=d(r[0],a[0],o[0],i),u[1]=d(r[1],a[1],o[1],i),h[0]=d(r[0],a[0],o[0],x),h[1]=d(r[1],a[1],o[1],x);var v=p(u,e)-l;if(f(v)<.01)break;var _=p(h,e)-l;g/=2,v<0?_>=0?i+=g:i-=g:_>=0?i-=g:i+=g}return i}function r(t,e){var n=[],r=a.quadraticSubdivide,s=[[],[],[]],c=[[],[]],u=[];e/=2,t.eachEdge(function(t,a){var h=t.getLayout(),d=t.getVisual("fromSymbol"),p=t.getVisual("toSymbol");h.__original||(h.__original=[o.clone(h[0]),o.clone(h[1])],h[2]&&h.__original.push(o.clone(h[2])));var f=h.__original;if(null!=h[2]){if(o.copy(s[0],f[0]),o.copy(s[1],f[2]),o.copy(s[2],f[1]),d&&"none"!==d){var g=l(t.node1),m=i(s,f[0],g*e);r(s[0][0],s[1][0],s[2][0],m,n),s[0][0]=n[3],s[1][0]=n[4],r(s[0][1],s[1][1],s[2][1],m,n),s[0][1]=n[3],s[1][1]=n[4]}if(p&&"none"!==p){var g=l(t.node2),m=i(s,f[1],g*e);r(s[0][0],s[1][0],s[2][0],m,n),s[1][0]=n[1],s[2][0]=n[2],r(s[0][1],s[1][1],s[2][1],m,n),s[1][1]=n[1],s[2][1]=n[2]}o.copy(h[0],s[0]),o.copy(h[1],s[2]),o.copy(h[2],s[1])}else{if(o.copy(c[0],f[0]),o.copy(c[1],f[1]),o.sub(u,c[1],c[0]),o.normalize(u,u),d&&"none"!==d){var g=l(t.node1);o.scaleAndAdd(c[0],c[0],u,g*e)}if(p&&"none"!==p){var g=l(t.node2);o.scaleAndAdd(c[1],c[1],u,-g*e)}o.copy(h[0],c[0]),o.copy(h[1],c[1])}})}var a=n(32),o=n(7),s=n(114),l=s.getSymbolSize,c=[],u=[],h=[],d=a.quadraticAt,p=o.distSquare,f=Math.abs;t.exports=r},function(t,e,n){var i=n(1),r=n(108),a=r.updateCenterAndZoom;n(202);var o={type:"graphRoam",event:"graphRoam",update:"none"};i.registerAction(o,function(t,e){e.eachComponent({mainType:"series",query:t},function(e){var n=e.coordinateSystem,i=a(n,t);e.setCenter&&e.setCenter(i.center),e.setZoom&&e.setZoom(i.zoom)})})},function(t,e){function n(t){var e=t.findComponents({mainType:"legend"});e&&e.length&&t.eachSeriesByType("graph",function(t){var n=t.getCategoriesData(),i=t.getGraph(),r=i.data,a=n.mapArray(n.getName);r.filterSelf(function(t){var n=r.getItemModel(t),i=n.getShallow("category");if(null!=i){"number"==typeof i&&(i=a[i]);for(var o=0;o<e.length;o++)if(!e[o].isSelected(i))return!1}return!0})},this)}t.exports=n},function(t,e){function n(t){var e={};t.eachSeriesByType("graph",function(t){var n=t.getCategoriesData(),i=t.getData(),r={};n.each(function(i){var a=n.getName(i);r["ec-"+a]=i;var o=n.getItemModel(i),s=o.get("itemStyle.color")||t.getColorFromPalette(a,e);n.setItemVisual(i,"color",s);for(var l=["opacity","symbol","symbolSize","symbolKeepAspect"],c=0;c<l.length;c++){var u=o.getShallow(l[c],!0);null!=u&&n.setItemVisual(i,l[c],u)}}),n.count()&&i.each(function(t){var e=i.getItemModel(t),a=e.getShallow("category");if(null!=a){"string"==typeof a&&(a=r["ec-"+a]);for(var o=["color","opacity","symbol","symbolSize","symbolKeepAspect"],s=0;s<o.length;s++)null==i.getItemVisual(t,o[s],!0)&&i.setItemVisual(t,o[s],n.getItemVisual(a,o[s]))}})})}t.exports=n},function(t,e){function n(t){return t instanceof Array||(t=[t,t]),t}function i(t){t.eachSeriesByType("graph",function(t){var e=t.getGraph(),i=t.getEdgeData(),r=n(t.get("edgeSymbol")),a=n(t.get("edgeSymbolSize")),o="lineStyle.color".split("."),s="lineStyle.opacity".split(".");i.setVisual("fromSymbol",r&&r[0]),i.setVisual("toSymbol",r&&r[1]),i.setVisual("fromSymbolSize",a&&a[0]),i.setVisual("toSymbolSize",a&&a[1]),i.setVisual("color",t.get(o)),i.setVisual("opacity",t.get(s)),i.each(function(t){var r=i.getItemModel(t),a=e.getEdgeByIndex(t),l=n(r.getShallow("symbol",!0)),c=n(r.getShallow("symbolSize",!0)),u=r.get(o),h=r.get(s);switch(u){case"source":u=a.node1.getVisual("color");break;case"target":u=a.node2.getVisual("color")}l[0]&&a.setVisual("fromSymbol",l[0]),l[1]&&a.setVisual("toSymbol",l[1]),c[0]&&a.setVisual("fromSymbolSize",c[0]),c[1]&&a.setVisual("toSymbolSize",c[1]),a.setVisual("color",u),a.setVisual("opacity",h)})})}t.exports=i},function(t,e,n){function i(t,e){t.eachSeriesByType("graph",function(t){var e=t.get("layout"),n=t.coordinateSystem;if(n&&"view"!==n.type){var i=t.getData(),r=[];a(n.dimensions,function(t){r=r.concat(i.mapDimension(t,!0))});for(var o=0;o<i.count();o++){for(var c=[],u=!1,h=0;h<r.length;h++){var d=i.get(r[h],o);isNaN(d)||(u=!0),c.push(d)}u?i.setItemLayout(o,n.dataToPoint(c)):i.setItemLayout(o,[NaN,NaN])}l(i.graph)}else e&&"none"!==e||s(t)})}var r=n(0),a=r.each,o=n(203),s=o.simpleLayout,l=o.simpleLayoutEdge;t.exports=i},function(t,e,n){function i(t){t.eachSeriesByType("graph",function(t){"circular"===t.get("layout")&&a(t,"symbolSize")})}var r=n(204),a=r.circularLayout;t.exports=i},function(t,e,n){function i(t){t.eachSeriesByType("graph",function(t){var e=t.coordinateSystem;if(!e||"view"===e.type)if("force"===t.get("layout")){var n=t.preservedPoints||{},i=t.getGraph(),r=i.data,o=i.edgeData,l=t.getModel("force"),u=l.get("initLayout");t.preservedPoints?r.each(function(t){var e=r.getId(t);r.setItemLayout(t,n[e]||[NaN,NaN])}):u&&"none"!==u?"circular"===u&&c(t,"value"):s(t);var f=r.getDataExtent("value"),g=o.getDataExtent("value"),m=l.get("repulsion"),v=l.get("edgeLength");p.isArray(m)||(m=[m,m]),p.isArray(v)||(v=[v,v]),v=[v[1],v[0]];var y=r.mapArray("value",function(t,e){var n=r.getItemLayout(e),i=h(t,f,m);return isNaN(i)&&(i=(m[0]+m[1])/2),{w:i,rep:i,fixed:r.getItemModel(e).get("fixed"),p:!n||isNaN(n[0])||isNaN(n[1])?null:n}}),x=o.mapArray("value",function(t,e){var n=i.getEdgeByIndex(e),r=h(t,g,v);isNaN(r)&&(r=(v[0]+v[1])/2);var a=n.getModel();return{n1:y[n.node1.dataIndex],n2:y[n.node2.dataIndex],d:r,curveness:a.get("lineStyle.curveness")||0,ignoreForceLayout:a.get("ignoreForceLayout")}}),e=t.coordinateSystem,_=e.getBoundingRect(),b=a(y,x,{rect:_,gravity:l.get("gravity"),friction:l.get("friction")}),w=b.step;b.step=function(t){for(var e=0,a=y.length;e<a;e++)y[e].fixed&&d.copy(y[e].p,i.getNodeByIndex(e).getLayout());w(function(e,a,o){for(var s=0,l=e.length;s<l;s++)e[s].fixed||i.getNodeByIndex(s).setLayout(e[s].p),n[r.getId(s)]=e[s].p;for(var s=0,l=a.length;s<l;s++){var c=a[s],u=i.getEdgeByIndex(s),h=c.n1.p,p=c.n2.p,f=u.getLayout();f=f?f.slice():[],f[0]=f[0]||[],f[1]=f[1]||[],d.copy(f[0],h),d.copy(f[1],p),+c.curveness&&(f[2]=[(h[0]+p[0])/2-(h[1]-p[1])*c.curveness,(h[1]+p[1])/2-(p[0]-h[0])*c.curveness]),u.setLayout(f)}t&&t(o)})},t.forceLayout=b,t.preservedPoints=n,b.step()}else t.forceLayout=null})}var r=n(418),a=r.forceLayout,o=n(203),s=o.simpleLayout,l=n(204),c=l.circularLayout,u=n(3),h=u.linearMap,d=n(7),p=n(0);t.exports=i},function(t,e,n){function i(t,e,n){for(var i=n.rect,o=i.width,s=i.height,l=[i.x+o/2,i.y+s/2],c=null==n.gravity?.1:n.gravity,u=0;u<t.length;u++){var h=t[u];h.p||(h.p=r.create(o*(Math.random()-.5)+l[0],s*(Math.random()-.5)+l[1])),h.pp=r.clone(h.p),h.edges=null}var d=null==n.friction?.6:n.friction,p=d;return{warmUp:function(){p=.8*d},setFixed:function(e){t[e].fixed=!0},setUnfixed:function(e){t[e].fixed=!1},step:function(n){for(var i=[],o=t.length,s=0;s<e.length;s++){var u=e[s];if(!u.ignoreForceLayout){var h=u.n1,d=u.n2;r.sub(i,d.p,h.p);var f=r.len(i)-u.d,g=d.w/(h.w+d.w);isNaN(g)&&(g=0),r.normalize(i,i),!h.fixed&&a(h.p,h.p,i,g*f*p),!d.fixed&&a(d.p,d.p,i,-(1-g)*f*p)}}for(var s=0;s<o;s++){var m=t[s];m.fixed||(r.sub(i,l,m.p),a(m.p,m.p,i,c*p))}for(var s=0;s<o;s++)for(var h=t[s],v=s+1;v<o;v++){var d=t[v];r.sub(i,d.p,h.p);var f=r.len(i);0===f&&(r.set(i,Math.random()-.5,Math.random()-.5),f=1);var y=(h.rep+d.rep)/f/f;!h.fixed&&a(h.pp,h.pp,i,y),!d.fixed&&a(d.pp,d.pp,i,-y)}for(var x=[],s=0;s<o;s++){var m=t[s];m.fixed||(r.sub(x,m.p,m.pp),a(m.p,m.p,x,p),r.copy(m.pp,m.p))}p*=.992,n&&n(t,e,p<.01)}}}var r=n(7),a=r.scaleAndAdd;e.forceLayout=i},function(t,e,n){function i(t,e,n){var i=t.getBoxLayoutParams();return i.aspect=n,s(i,{width:e.getWidth(),height:e.getHeight()})}function r(t,e){var n=[];return t.eachSeriesByType("graph",function(t){var r=t.get("coordinateSystem");if(!r||"view"===r){var o=t.getData(),s=o.mapArray(function(t){var e=o.getItemModel(t);return[+e.get("x"),+e.get("y")]}),c=[],u=[];l.fromPoints(s,c,u),u[0]-c[0]==0&&(u[0]+=1,c[0]-=1),u[1]-c[1]==0&&(u[1]+=1,c[1]-=1);var h=(u[0]-c[0])/(u[1]-c[1]),d=i(t,e,h);isNaN(h)&&(c=[d.x,d.y],u=[d.x+d.width,d.y+d.height]);var p=u[0]-c[0],f=u[1]-c[1],g=d.width,m=d.height,v=t.coordinateSystem=new a;v.zoomLimit=t.get("scaleLimit"),v.setBoundingRect(c[0],c[1],p,f),v.setViewRect(d.x,d.y,g,m),v.setCenter(t.get("center")),v.setZoom(t.get("zoom")),n.push(v)}}),n}var a=n(110),o=n(6),s=o.getLayoutRect,l=n(78);t.exports=r},function(t,e,n){n(421),n(422)},function(t,e,n){var i=n(53),r=n(14),a=r.extend({type:"series.gauge",getInitialData:function(t,e){return i(this,["value"])},defaultOption:{zlevel:0,z:2,center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,lineStyle:{color:[[.2,"#91c7ae"],[.8,"#63869e"],[1,"#c23531"]],width:30}},splitLine:{show:!0,length:30,lineStyle:{color:"#eee",width:2,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:8,lineStyle:{color:"#eee",width:1,type:"solid"}},axisLabel:{show:!0,distance:5,color:"auto"},pointer:{show:!0,length:"80%",width:8},itemStyle:{color:"auto"},title:{show:!0,offsetCenter:[0,"-40%"],color:"#333",fontSize:15},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"auto",fontSize:30}}}),o=a;t.exports=o},function(t,e,n){function i(t,e){var n=t.get("center"),i=e.getWidth(),r=e.getHeight(),a=Math.min(i,r);return{cx:c(n[0],e.getWidth()),cy:c(n[1],e.getHeight()),r:c(t.get("radius"),a/2)}}function r(t,e){return e&&("string"==typeof e?t=e.replace("{value}",null!=t?t:""):"function"==typeof e&&(t=e(t))),t}var a=n(423),o=n(2),s=n(25),l=n(3),c=l.parsePercent,u=l.round,h=l.linearMap,d=2*Math.PI,p=s.extend({type:"gauge",render:function(t,e,n){this.group.removeAll();var r=t.get("axisLine.lineStyle.color"),a=i(t,n);this._renderMain(t,e,n,r,a)},dispose:function(){},_renderMain:function(t,e,n,i,r){for(var a=this.group,s=t.getModel("axisLine"),l=s.getModel("lineStyle"),c=t.get("clockwise"),u=-t.get("startAngle")/180*Math.PI,h=-t.get("endAngle")/180*Math.PI,p=(h-u)%d,f=u,g=l.get("width"),m=s.get("show"),v=0;m&&v<i.length;v++){var y=Math.min(Math.max(i[v][0],0),1),h=u+p*y,x=new o.Sector({shape:{startAngle:f,endAngle:h,cx:r.cx,cy:r.cy,clockwise:c,r0:r.r-g,r:r.r},silent:!0});x.setStyle({fill:i[v][1]}),x.setStyle(l.getLineStyle(["color","borderWidth","borderColor"])),a.add(x),f=h}var _=function(t){if(t<=0)return i[0][1];for(var e=0;e<i.length;e++)if(i[e][0]>=t&&(0===e?0:i[e-1][0])<t)return i[e][1];return i[e-1][1]};if(!c){var b=u;u=h,h=b}this._renderTicks(t,e,n,_,r,u,h,c),this._renderPointer(t,e,n,_,r,u,h,c),this._renderTitle(t,e,n,_,r),this._renderDetail(t,e,n,_,r)},_renderTicks:function(t,e,n,i,a,s,l,h){for(var d=this.group,p=a.cx,f=a.cy,g=a.r,m=+t.get("min"),v=+t.get("max"),y=t.getModel("splitLine"),x=t.getModel("axisTick"),_=t.getModel("axisLabel"),b=t.get("splitNumber"),w=x.get("splitNumber"),M=c(y.get("length"),g),S=c(x.get("length"),g),T=s,A=(l-s)/b,C=A/w,L=y.getModel("lineStyle").getLineStyle(),E=x.getModel("lineStyle").getLineStyle(),I=0;I<=b;I++){var P=Math.cos(T),D=Math.sin(T);if(y.get("show")){var R=new o.Line({shape:{x1:P*g+p,y1:D*g+f,x2:P*(g-M)+p,y2:D*(g-M)+f},style:L,silent:!0});"auto"===L.stroke&&R.setStyle({stroke:i(I/b)}),d.add(R)}if(_.get("show")){var O=r(u(I/b*(v-m)+m),_.get("formatter")),k=_.get("distance"),N=i(I/b);d.add(new o.Text({style:o.setTextStyle({},_,{text:O,x:P*(g-M-k)+p,y:D*(g-M-k)+f,textVerticalAlign:D<-.4?"top":D>.4?"bottom":"middle",textAlign:P<-.4?"left":P>.4?"right":"center"},{autoColor:N}),silent:!0}))}if(x.get("show")&&I!==b){for(var z=0;z<=w;z++){var P=Math.cos(T),D=Math.sin(T),B=new o.Line({shape:{x1:P*g+p,y1:D*g+f,x2:P*(g-S)+p,y2:D*(g-S)+f},silent:!0,style:E});"auto"===E.stroke&&B.setStyle({stroke:i((I+z/w)/b)}),d.add(B),T+=C}T-=C}else T+=A}},_renderPointer:function(t,e,n,i,r,s,l,u){var d=this.group,p=this._data;if(!t.get("pointer.show"))return void(p&&p.eachItemGraphicEl(function(t){d.remove(t)}));var f=[+t.get("min"),+t.get("max")],g=[s,l],m=t.getData(),v=m.mapDimension("value");m.diff(p).add(function(e){var n=new a({shape:{angle:s}});o.initProps(n,{shape:{angle:h(m.get(v,e),f,g,!0)}},t),d.add(n),m.setItemGraphicEl(e,n)}).update(function(e,n){var i=p.getItemGraphicEl(n);o.updateProps(i,{shape:{angle:h(m.get(v,e),f,g,!0)}},t),d.add(i),m.setItemGraphicEl(e,i)}).remove(function(t){var e=p.getItemGraphicEl(t);d.remove(e)}).execute(),m.eachItemGraphicEl(function(t,e){var n=m.getItemModel(e),a=n.getModel("pointer");t.setShape({x:r.cx,y:r.cy,width:c(a.get("width"),r.r),r:c(a.get("length"),r.r)}),t.useStyle(n.getModel("itemStyle").getItemStyle()),"auto"===t.style.fill&&t.setStyle("fill",i(h(m.get(v,e),f,[0,1],!0))),o.setHoverStyle(t,n.getModel("emphasis.itemStyle").getItemStyle())}),this._data=m},_renderTitle:function(t,e,n,i,r){var a=t.getData(),s=a.mapDimension("value"),l=t.getModel("title");if(l.get("show")){var u=l.get("offsetCenter"),d=r.cx+c(u[0],r.r),p=r.cy+c(u[1],r.r),f=+t.get("min"),g=+t.get("max"),m=t.getData().get(s,0),v=i(h(m,[f,g],[0,1],!0));this.group.add(new o.Text({silent:!0,style:o.setTextStyle({},l,{x:d,y:p,text:a.getName(0),textAlign:"center",textVerticalAlign:"middle"},{autoColor:v,forceRich:!0})}))}},_renderDetail:function(t,e,n,i,a){var s=t.getModel("detail"),l=+t.get("min"),u=+t.get("max");if(s.get("show")){var d=s.get("offsetCenter"),p=a.cx+c(d[0],a.r),f=a.cy+c(d[1],a.r),g=c(s.get("width"),a.r),m=c(s.get("height"),a.r),v=t.getData(),y=v.get(v.mapDimension("value"),0),x=i(h(y,[l,u],[0,1],!0));this.group.add(new o.Text({silent:!0,style:o.setTextStyle({},s,{x:p,y:f,text:r(y,s.get("formatter")),textWidth:isNaN(g)?null:g,textHeight:isNaN(m)?null:m,textAlign:"center",textVerticalAlign:"middle"},{autoColor:x,forceRich:!0})}))}}}),f=p;t.exports=f},function(t,e,n){var i=n(10),r=i.extend({type:"echartsGaugePointer",shape:{angle:0,width:10,r:10,x:0,y:0},buildPath:function(t,e){var n=Math.cos,i=Math.sin,r=e.r,a=e.width,o=e.angle,s=e.x-n(o)*a*(a>=r/3?1:2),l=e.y-i(o)*a*(a>=r/3?1:2);o=e.angle-Math.PI/2,t.moveTo(s,l),t.lineTo(e.x+n(o)*a,e.y+i(o)*a),t.lineTo(e.x+n(e.angle)*r,e.y+i(e.angle)*r),t.lineTo(e.x-n(o)*a,e.y-i(o)*a),t.lineTo(s,l)}});t.exports=r},function(t,e,n){var i=n(1);n(425),n(426);var r=n(87),a=n(427),o=n(69);i.registerVisual(r("funnel")),i.registerLayout(a),i.registerProcessor(o("funnel"))},function(t,e,n){var i=n(1),r=n(0),a=r.bind,o=n(53),s=n(4),l=s.defaultEmphasis,c=n(30),u=c.makeSeriesEncodeForNameBased,h=n(68),d=i.extendSeriesModel({type:"series.funnel",init:function(t){d.superApply(this,"init",arguments),this.legendVisualProvider=new h(a(this.getData,this),a(this.getRawData,this)),this._defaultLabelLine(t)},getInitialData:function(t,e){return o(this,{coordDimensions:["value"],encodeDefaulter:r.curry(u,this)})},_defaultLabelLine:function(t){l(t,"labelLine",["show"]);var e=t.labelLine,n=t.emphasis.labelLine;e.show=e.show&&t.label.show,n.show=n.show&&t.emphasis.label.show},getDataParams:function(t){var e=this.getData(),n=d.superCall(this,"getDataParams",t),i=e.mapDimension("value"),r=e.getSum(i);return n.percent=r?+(e.get(i,t)/r*100).toFixed(2):0,n.$vars.push("percent"),n},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1,type:"solid"}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}}}}),p=d;t.exports=p},function(t,e,n){function i(t,e){r.Group.call(this);var n=new r.Polygon,i=new r.Polyline,a=new r.Text;this.add(n),this.add(i),this.add(a),this.highDownOnUpdate=function(t,e){"emphasis"===e?(i.ignore=i.hoverIgnore,a.ignore=a.hoverIgnore):(i.ignore=i.normalIgnore,a.ignore=a.normalIgnore)},this.updateData(t,e,!0)}var r=n(2),a=n(0),o=n(25),s=i.prototype,l=["itemStyle","opacity"];s.updateData=function(t,e,n){var i=this.childAt(0),o=t.hostModel,s=t.getItemModel(e),c=t.getItemLayout(e),u=t.getItemModel(e).get(l);u=null==u?1:u,i.useStyle({}),n?(i.setShape({points:c.points}),i.setStyle({opacity:0}),r.initProps(i,{style:{opacity:u}},o,e)):r.updateProps(i,{style:{opacity:u},shape:{points:c.points}},o,e);var h=s.getModel("itemStyle"),d=t.getItemVisual(e,"color");i.setStyle(a.defaults({lineJoin:"round",fill:d},h.getItemStyle(["opacity"]))),i.hoverStyle=h.getModel("emphasis").getItemStyle(),this._updateLabel(t,e),r.setHoverStyle(this)},s._updateLabel=function(t,e){var n=this.childAt(1),i=this.childAt(2),a=t.hostModel,o=t.getItemModel(e),s=t.getItemLayout(e),l=s.label,c=t.getItemVisual(e,"color");r.updateProps(n,{shape:{points:l.linePoints||l.linePoints}},a,e),r.updateProps(i,{style:{x:l.x,y:l.y}},a,e),i.attr({rotation:l.rotation,origin:[l.x,l.y],z2:10});var u=o.getModel("label"),h=o.getModel("emphasis.label"),d=o.getModel("labelLine"),p=o.getModel("emphasis.labelLine"),c=t.getItemVisual(e,"color");r.setLabelStyle(i.style,i.hoverStyle={},u,h,{labelFetcher:t.hostModel,labelDataIndex:e,defaultText:t.getName(e),autoColor:c,useInsideStyle:!!l.inside},{textAlign:l.textAlign,textVerticalAlign:l.verticalAlign}),i.ignore=i.normalIgnore=!u.get("show"),i.hoverIgnore=!h.get("show"),n.ignore=n.normalIgnore=!d.get("show"),n.hoverIgnore=!p.get("show"),n.setStyle({stroke:c}),n.setStyle(d.getModel("lineStyle").getLineStyle()),n.hoverStyle=p.getModel("lineStyle").getLineStyle()},a.inherits(i,r.Group);var c=o.extend({type:"funnel",render:function(t,e,n){var r=t.getData(),a=this._data,o=this.group;r.diff(a).add(function(t){var e=new i(r,t);r.setItemGraphicEl(t,e),o.add(e)}).update(function(t,e){var n=a.getItemGraphicEl(e);n.updateData(r,t),o.add(n),r.setItemGraphicEl(t,n)}).remove(function(t){var e=a.getItemGraphicEl(t);o.remove(e)}).execute(),this._data=r},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}}),u=c;t.exports=u},function(t,e,n){function i(t,e){return s.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function r(t,e){for(var n=t.mapDimension("value"),i=t.mapArray(n,function(t){return t}),r=[],a="ascending"===e,o=0,s=t.count();o<s;o++)r[o]=o;return"function"==typeof e?r.sort(e):"none"!==e&&r.sort(function(t,e){return a?i[t]-i[e]:i[e]-i[t]}),r}function a(t){t.each(function(e){var n,i,r,a,o=t.getItemModel(e),s=o.getModel("label"),l=s.get("position"),c=o.getModel("labelLine"),u=t.getItemLayout(e),h=u.points,d="inner"===l||"inside"===l||"center"===l||"insideLeft"===l||"insideRight"===l;if(d)"insideLeft"===l?(i=(h[0][0]+h[3][0])/2+5,r=(h[0][1]+h[3][1])/2,n="left"):"insideRight"===l?(i=(h[1][0]+h[2][0])/2-5,r=(h[1][1]+h[2][1])/2,n="right"):(i=(h[0][0]+h[1][0]+h[2][0]+h[3][0])/4,r=(h[0][1]+h[1][1]+h[2][1]+h[3][1])/4,n="center"),a=[[i,r],[i,r]];else{var p,f,g,m=c.get("length");"left"===l?(p=(h[3][0]+h[0][0])/2,f=(h[3][1]+h[0][1])/2,g=p-m,i=g-5,n="right"):"right"===l?(p=(h[1][0]+h[2][0])/2,f=(h[1][1]+h[2][1])/2,g=p+m,i=g+5,n="left"):"rightTop"===l?(p=h[1][0],f=h[1][1],g=p+m,i=g+5,n="top"):"rightBottom"===l?(p=h[2][0],f=h[2][1],g=p+m,i=g+5,n="bottom"):"leftTop"===l?(p=h[0][0],f=h[1][1],g=p-m,i=g-5,n="right"):"leftBottom"===l?(p=h[3][0],f=h[2][1],g=p-m,i=g-5,n="right"):(p=(h[1][0]+h[2][0])/2,f=(h[1][1]+h[2][1])/2,g=p+m,i=g+5,n="left");var v=f;a=[[p,f],[g,v]],r=v}u.label={linePoints:a,x:i,y:r,verticalAlign:"middle",textAlign:n,inside:d}})}function o(t,e,n){t.eachSeriesByType("funnel",function(t){var n=t.getData(),o=n.mapDimension("value"),s=t.get("sort"),l=i(t,e),h=r(n,s),d=[c(t.get("minSize"),l.width),c(t.get("maxSize"),l.width)],p=n.getDataExtent(o),f=t.get("min"),g=t.get("max");null==f&&(f=Math.min(p[0],0)),null==g&&(g=p[1]);var m=t.get("funnelAlign"),v=t.get("gap"),y=(l.height-v*(n.count()-1))/n.count(),x=l.y,_=function(t,e){var i,r=n.get(o,t)||0,a=u(r,[f,g],d,!0);switch(m){case"left":i=l.x;break;case"center":i=l.x+(l.width-a)/2;break;case"right":i=l.x+l.width-a}return[[i,e],[i+a,e]]};"ascending"===s&&(y=-y,v=-v,x+=l.height,h=h.reverse());for(var b=0;b<h.length;b++){var w=h[b],M=h[b+1],S=n.getItemModel(w),T=S.get("itemStyle.height");null==T?T=y:(T=c(T,l.height),"ascending"===s&&(T=-T));var A=_(w,x),C=_(M,x+T);x+=T+v,n.setItemLayout(w,{points:A.concat(C.slice().reverse())})}a(n)})}var s=n(6),l=n(3),c=l.parsePercent,u=l.linearMap;t.exports=o},function(t,e,n){var i=n(1);n(205),n(437),n(438);var r=n(439);i.registerVisual(r)},function(t,e,n){function i(t){r(t),a(t)}function r(t){if(!t.parallel){var e=!1;o.each(t.series,function(t){t&&"parallel"===t.type&&(e=!0)}),e&&(t.parallel=[{}])}}function a(t){var e=s.normalizeToArray(t.parallelAxis);o.each(e,function(e){if(o.isObject(e)){var n=e.parallelIndex||0,i=s.normalizeToArray(t.parallel)[n];i&&i.parallelAxisDefault&&o.merge(e,i.parallelAxisDefault,!1)}})}var o=n(0),s=n(4);t.exports=i},function(t,e,n){function i(t,e,n){this._axesMap=s.createHashMap(),this._axesLayout={},this.dimensions=t.dimensions,this._rect,this._model=t,this._init(t,e,n)}function r(t,e){return m(v(t,e[0]),e[1])}function a(t,e){var n=e.layoutLength/(e.axisCount-1);return{position:n*t,axisNameAvailableWidth:n,axisLabelShow:!0}}function o(t,e){var n,i,r=e.layoutLength,a=e.axisExpandWidth,o=e.axisCount,s=e.axisCollapseWidth,l=e.winInnerIndices,c=s,u=!1;return t<l[0]?(n=t*s,i=s):t<=l[1]?(n=e.axisExpandWindow0Pos+t*a-e.axisExpandWindow[0],c=a,u=!0):(n=r-(o-1-t)*s,i=s),{position:n,axisNameAvailableWidth:c,axisLabelShow:u,nameTruncateMaxWidth:i}}var s=n(0),l=n(15),c=n(6),u=n(22),h=n(431),d=n(2),p=n(3),f=n(54),g=s.each,m=Math.min,v=Math.max,y=Math.floor,x=Math.ceil,_=p.round,b=Math.PI;i.prototype={type:"parallel",constructor:i,_init:function(t,e,n){var i=t.dimensions,r=t.parallelAxisIndex;g(i,function(t,n){var i=r[n],a=e.getComponent("parallelAxis",i),o=this._axesMap.set(t,new h(t,u.createScaleByModel(a),[0,0],a.get("type"),i)),s="category"===o.type;o.onBand=s&&a.get("boundaryGap"),o.inverse=a.get("inverse"),a.axis=o,o.model=a,o.coordinateSystem=a.coordinateSystem=this},this)},update:function(t,e){this._updateAxesFromSeries(this._model,t)},containPoint:function(t){var e=this._makeLayoutInfo(),n=e.axisBase,i=e.layoutBase,r=e.pixelDimIndex,a=t[1-r],o=t[r];return a>=n&&a<=n+e.axisLength&&o>=i&&o<=i+e.layoutLength},getModel:function(){return this._model},_updateAxesFromSeries:function(t,e){e.eachSeries(function(n){if(t.contains(n,e)){var i=n.getData();g(this.dimensions,function(t){var e=this._axesMap.get(t);e.scale.unionExtentFromData(i,i.mapDimension(t)),u.niceScaleExtent(e.scale,e.model)},this)}},this)},resize:function(t,e){this._rect=c.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),this._layoutAxes()},getRect:function(){return this._rect},_makeLayoutInfo:function(){var t,e=this._model,n=this._rect,i=["x","y"],a=["width","height"],o=e.get("layout"),s="horizontal"===o?0:1,l=n[a[s]],c=[0,l],u=this.dimensions.length,h=r(e.get("axisExpandWidth"),c),d=r(e.get("axisExpandCount")||0,[0,u]),p=e.get("axisExpandable")&&u>3&&u>d&&d>1&&h>0&&l>0,f=e.get("axisExpandWindow");if(f)t=r(f[1]-f[0],c),f[1]=f[0]+t;else{t=r(h*(d-1),c);f=[h*(e.get("axisExpandCenter")||y(u/2))-t/2],f[1]=f[0]+t}var g=(l-t)/(u-d);g<3&&(g=0);var m=[y(_(f[0]/h,1))+1,x(_(f[1]/h,1))-1],v=g/h*f[0];return{layout:o,pixelDimIndex:s,layoutBase:n[i[s]],layoutLength:l,axisBase:n[i[1-s]],axisLength:n[a[1-s]],axisExpandable:p,axisExpandWidth:h,axisCollapseWidth:g,axisExpandWindow:f,axisCount:u,winInnerIndices:m,axisExpandWindow0Pos:v}},_layoutAxes:function(){var t=this._rect,e=this._axesMap,n=this.dimensions,i=this._makeLayoutInfo(),r=i.layout;e.each(function(t){var e=[0,i.axisLength],n=t.inverse?1:0;t.setExtent(e[n],e[1-n])}),g(n,function(e,n){var s=(i.axisExpandable?o:a)(n,i),c={horizontal:{x:s.position,y:i.axisLength},vertical:{x:0,y:s.position}},u={horizontal:b/2,vertical:0},h=[c[r].x+t.x,c[r].y+t.y],d=u[r],p=l.create();l.rotate(p,p,d),l.translate(p,p,h),this._axesLayout[e]={position:h,rotation:d,transform:p,axisNameAvailableWidth:s.axisNameAvailableWidth,axisLabelShow:s.axisLabelShow,nameTruncateMaxWidth:s.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},getAxis:function(t){return this._axesMap.get(t)},dataToPoint:function(t,e){return this.axisCoordToPoint(this._axesMap.get(e).dataToCoord(t),e)},eachActiveState:function(t,e,n,i){null==n&&(n=0),null==i&&(i=t.count());var r=this._axesMap,a=this.dimensions,o=[],l=[];s.each(a,function(e){o.push(t.mapDimension(e)),l.push(r.get(e).model)});for(var c=this.hasAxisBrushed(),u=n;u<i;u++){var h;if(c){h="active";for(var d=t.getValues(o,u),p=0,f=a.length;p<f;p++){if("inactive"===l[p].getActiveState(d[p])){h="inactive";break}}}else h="normal";e(h,u)}},hasAxisBrushed:function(){for(var t=this.dimensions,e=this._axesMap,n=!1,i=0,r=t.length;i<r;i++)"normal"!==e.get(t[i]).model.getActiveState()&&(n=!0);return n},axisCoordToPoint:function(t,e){var n=this._axesLayout[e];return d.applyTransform([t,0],n.transform)},getAxisLayout:function(t){return s.clone(this._axesLayout[t])},getSlidedAxisExpandWindow:function(t){var e=this._makeLayoutInfo(),n=e.pixelDimIndex,i=e.axisExpandWindow.slice(),r=i[1]-i[0],a=[0,e.axisExpandWidth*(e.axisCount-1)];if(!this.containPoint(t))return{behavior:"none",axisExpandWindow:i};var o,s=t[n]-e.layoutBase-e.axisExpandWindow0Pos,l="slide",c=e.axisCollapseWidth,u=this._model.get("axisExpandSlideTriggerArea"),h=null!=u[0];if(c)h&&c&&s<r*u[0]?(l="jump",o=s-r*u[2]):h&&c&&s>r*(1-u[0])?(l="jump",o=s-r*(1-u[2])):(o=s-r*u[1])>=0&&(o=s-r*(1-u[1]))<=0&&(o=0),o*=e.axisExpandWidth/c,o?f(o,i,a,"all"):l="none";else{var r=i[1]-i[0];i=[v(0,a[1]*s/r-r/2)],i[1]=m(a[1],i[0]+r),i[0]=i[1]-r}return{axisExpandWindow:i,behavior:l}}};var w=i;t.exports=w},function(t,e,n){var i=n(0),r=n(35),a=function(t,e,n,i,a){r.call(this,t,e,n),this.type=i||"value",this.axisIndex=a};a.prototype={constructor:a,model:null,isHorizontal:function(){return"horizontal"!==this.coordinateSystem.getModel().get("layout")}},i.inherits(a,r);var o=a;t.exports=o},function(t,e,n){var i=n(0),r=n(13);n(433);var a=r.extend({type:"parallel",dependencies:["parallelAxis"],coordinateSystem:null,dimensions:null,parallelAxisIndex:null,layoutMode:"box",defaultOption:{zlevel:0,z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},init:function(){r.prototype.init.apply(this,arguments),this.mergeOption({})},mergeOption:function(t){var e=this.option;t&&i.merge(e,t,!0),this._initDimensions()},contains:function(t,e){var n=t.get("parallelIndex");return null!=n&&e.getComponent("parallel",n)===this},setAxisExpand:function(t){i.each(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(e){t.hasOwnProperty(e)&&(this.option[e]=t[e])},this)},_initDimensions:function(){var t=this.dimensions=[],e=this.parallelAxisIndex=[],n=i.filter(this.dependentModels.parallelAxis,function(t){return(t.get("parallelIndex")||0)===this.componentIndex},this);i.each(n,function(n){t.push("dim"+n.get("dim")),e.push(n.componentIndex)})}});t.exports=a},function(t,e,n){function i(t,e){return e.type||(e.data?"category":"value")}var r=n(0),a=n(13),o=n(48),s=n(85),l=n(3),c=n(52),u=a.extend({type:"baseParallelAxis",axis:null,activeIntervals:[],getAreaSelectStyle:function(){return o([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},setActiveIntervals:function(t){var e=this.activeIntervals=r.clone(t);if(e)for(var n=e.length-1;n>=0;n--)l.asc(e[n])},getActiveState:function(t){var e=this.activeIntervals;if(!e.length)return"normal";if(null==t||isNaN(t))return"inactive";if(1===e.length){var n=e[0];if(n[0]<=t&&t<=n[1])return"active"}else for(var i=0,r=e.length;i<r;i++)if(e[i][0]<=t&&t<=e[i][1])return"active";return"inactive"}}),h={type:"value",dim:null,areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};r.merge(u.prototype,c),s("parallel",u,i,h);var d=u;t.exports=d},function(t,e,n){n(206),n(435),n(436)},function(t,e,n){var i=n(1),r={type:"axisAreaSelect",event:"axisAreaSelected"};i.registerAction(r,function(t,e){e.eachComponent({mainType:"parallelAxis",query:t},function(e){e.axis.model.setActiveIntervals(t.intervals)})}),i.registerAction("parallelAxisExpand",function(t,e){e.eachComponent({mainType:"parallel",query:t},function(e){e.setAxisExpand(t)})})},function(t,e,n){function i(t,e,n){return n&&"axisAreaSelect"===n.type&&e.findComponents({mainType:"parallelAxis",query:n})[0]===t}function r(t){var e=t.axis;return s.map(t.activeIntervals,function(t){return{brushType:"lineX",panelId:"pl",range:[e.dataToCoord(t[0],!0),e.dataToCoord(t[1],!0)]}})}function a(t,e){return e.getComponent("parallel",t.get("parallelIndex"))}var o=n(1),s=n(0),l=n(36),c=n(115),u=n(207),h=n(2),d=["axisLine","axisTickLabel","axisName"],p=o.extendComponentView({type:"parallelAxis",init:function(t,e){p.superApply(this,"init",arguments),(this._brushController=new c(e.getZr())).on("brush",s.bind(this._onBrush,this))},render:function(t,e,n,r){if(!i(t,e,r)){this.axisModel=t,this.api=n,this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new h.Group,this.group.add(this._axisGroup),t.get("show")){var c=a(t,e),u=c.coordinateSystem,p=t.getAreaSelectStyle(),f=p.width,g=t.axis.dim,m=u.getAxisLayout(g),v=s.extend({strokeContainThreshold:f},m),y=new l(t,v);s.each(d,y.add,y),this._axisGroup.add(y.getGroup()),this._refreshBrushController(v,p,t,c,f,n);var x=r&&!1===r.animation?null:t;h.groupTransition(o,this._axisGroup,x)}}},_refreshBrushController:function(t,e,n,i,a,o){var s=n.axis.getExtent(),l=s[1]-s[0],c=Math.min(30,.1*Math.abs(l)),d=h.BoundingRect.create({x:s[0],y:-a/2,width:l,height:a});d.x-=c,d.width+=2*c,this._brushController.mount({enableGlobalPan:!0,rotation:t.rotation,position:t.position}).setPanels([{panelId:"pl",clipPath:u.makeRectPanelClipPath(d),isTargetByCursor:u.makeRectIsTargetByCursor(d,o,i),getLinearBrushOtherExtent:u.makeLinearBrushOtherExtent(d,0)}]).enableBrush({brushType:"lineX",brushStyle:e,removeOnClick:!0}).updateCovers(r(n))},_onBrush:function(t,e){var n=this.axisModel,i=n.axis,r=s.map(t,function(t){return[i.coordToData(t.range[0],!0),i.coordToData(t.range[1],!0)]});(!n.option.realtime===e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:n.id,intervals:r})},dispose:function(){this._brushController.dispose()}}),f=p;t.exports=f},function(t,e,n){function i(t,e){if(!t.encodeDefine){var n=e.ecModel.getComponent("parallel",e.get("parallelIndex"));if(n){var i=t.encodeDefine=s();o(n.dimensions,function(t){var e=r(t);i.set(t,e)})}}}function r(t){return+t.replace("dim","")}var a=n(0),o=a.each,s=a.createHashMap,l=n(14),c=n(31),u=l.extend({type:"series.parallel",dependencies:["parallel"],visualColorAccessPath:"lineStyle.color",getInitialData:function(t,e){var n=this.getSource();return i(n,this),c(n,this)},getRawIndicesByActiveState:function(t){var e=this.coordinateSystem,n=this.getData(),i=[];return e.eachActiveState(n,function(e,r){t===e&&i.push(n.getRawIndex(r))}),i},defaultOption:{zlevel:0,z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"}});t.exports=u},function(t,e,n){function i(t,e,n){var i=t.model,r=t.getRect(),a=new c.Rect({shape:{x:r.x,y:r.y,width:r.width,height:r.height}}),o="horizontal"===i.get("layout")?"width":"height";return a.setShape(o,0),c.initProps(a,{shape:{width:r.width,height:r.height}},e,n),a}function r(t,e,n,i){for(var r=[],a=0;a<n.length;a++){var o=n[a],s=t.get(t.mapDimension(o),e);l(s,i.getAxis(o).type)||r.push(i.dataToPoint(s,o))}return r}function a(t,e,n,i,a){var o=r(t,n,i,a),s=new c.Polyline({shape:{points:o},silent:!0,z2:10});return e.add(s),t.setItemGraphicEl(n,s),s}function o(t){var e=t.get("smooth",!0);return!0===e&&(e=h),{lineStyle:t.getModel("lineStyle").getLineStyle(),smooth:null!=e?e:h}}function s(t,e,n,i){var r=i.lineStyle;if(e.hasItemOption){r=e.getItemModel(n).getModel("lineStyle").getLineStyle()}t.useStyle(r);var a=t.style;a.fill=null,a.stroke=e.getItemVisual(n,"color"),a.opacity=e.getItemVisual(n,"opacity"),i.smooth&&(t.shape.smooth=i.smooth)}function l(t,e){return"category"===e?null==t:null==t||isNaN(t)}var c=n(2),u=n(25),h=.3,d=u.extend({type:"parallel",init:function(){this._dataGroup=new c.Group,this.group.add(this._dataGroup),this._data,this._initialized},render:function(t,e,n,l){function u(t){s(a(f,p,t,v,m),f,t,y)}function h(e,n){var i=g.getItemGraphicEl(n),a=r(f,e,v,m);f.setItemGraphicEl(e,i);var o=l&&!1===l.animation?null:t;c.updateProps(i,{shape:{points:a}},o,e),s(i,f,e,y)}function d(t){var e=g.getItemGraphicEl(t);p.remove(e)}var p=this._dataGroup,f=t.getData(),g=this._data,m=t.coordinateSystem,v=m.dimensions,y=o(t);if(f.diff(g).add(u).update(h).remove(d).execute(),!this._initialized){this._initialized=!0;var x=i(m,t,function(){setTimeout(function(){p.removeClipPath()})});p.setClipPath(x)}this._data=f},incrementalPrepareRender:function(t,e,n){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},incrementalRender:function(t,e,n){for(var i=e.getData(),r=e.coordinateSystem,l=r.dimensions,c=o(e),u=t.start;u<t.end;u++){var h=a(i,this._dataGroup,u,l,r);h.incremental=!0,s(h,i,u,c)}},dispose:function(){},remove:function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null}}),p=d;t.exports=p},function(t,e){var n=["lineStyle","normal","opacity"],i={seriesType:"parallel",reset:function(t,e,i){function r(t,e){d.eachActiveState(e,function(t,i){var r=f[t];if("normal"===t&&e.hasItemOption){var a=e.getItemModel(i).get(n,!0);null!=a&&(r=a)}e.setItemVisual(i,"opacity",r)},t.start,t.end)}var a=t.getModel("itemStyle"),o=t.getModel("lineStyle"),s=e.get("color"),l=o.get("color")||a.get("color")||s[t.seriesIndex%s.length],c=t.get("inactiveOpacity"),u=t.get("activeOpacity"),h=t.getModel("lineStyle").getLineStyle(),d=t.coordinateSystem,p=t.getData(),f={normal:h.opacity,active:u,inactive:c};return p.setVisual("color",l),{progress:r}}};t.exports=i},function(t,e,n){var i=n(1);n(441),n(442),n(443);var r=n(444),a=n(445);i.registerLayout(r),i.registerVisual(a)},function(t,e,n){var i=n(14),r=n(201),a=n(9),o=a.encodeHTML,s=n(12),l=n(5),c=(l.__DEV__,i.extend({type:"series.sankey",layoutInfo:null,levelModels:null,getInitialData:function(t,e){function n(t,e){t.wrapMethod("getItemModel",function(t,e){return t.customizeGetParent(function(t){var n=this.parentModel,i=n.getData().getItemLayout(e).depth;return n.levelModels[i]||this.parentModel}),t}),e.wrapMethod("getItemModel",function(t,e){return t.customizeGetParent(function(t){var n=this.parentModel,i=n.getGraph().getEdgeByIndex(e),r=i.node1.getLayout().depth;return n.levelModels[r]||this.parentModel}),t})}for(var i=t.edges||t.links,a=t.data||t.nodes,o=t.levels,l=this.levelModels={},c=0;c<o.length;c++)null!=o[c].depth&&o[c].depth>=0&&(l[o[c].depth]=new s(o[c],this,e));if(a&&i){return r(a,i,this,!0,n).data}},setNodePosition:function(t,e){var n=this.option.data[t];n.localX=e[0],n.localY=e[1]},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},formatTooltip:function(t,e,n){if("edge"===n){var i=this.getDataParams(t,n),r=i.data,a=r.source+" -- "+r.target;return i.value&&(a+=" : "+i.value),o(a)}if("node"===n){var s=this.getGraph().getNodeByIndex(t),l=s.getLayout().value,u=this.getDataParams(t,n).data.name;if(l)var a=u+" : "+l;return o(a)}return c.superCall(this,"formatTooltip",t,e)},optionUpdated:function(){var t=this.option;!0===t.focusNodeAdjacency&&(t.focusNodeAdjacency="allEdges")},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",layout:null,left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,focusNodeAdjacency:!1,layoutIterations:32,label:{show:!0,position:"right",color:"#000",fontSize:12},levels:[],nodeAlign:"justify",itemStyle:{borderWidth:1,borderColor:"#333"},lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.6}},animationEasing:"linear",animationDuration:1e3}})),u=c;t.exports=u},function(t,e,n){function i(t,e){return t.getVisual("opacity")||t.getModel().get(e)}function r(t,e,n){var r=t.getGraphicEl(),a=i(t,e);null!=n&&(null==a&&(a=1),a*=n),r.downplay&&r.downplay(),r.traverse(function(t){"group"!==t.type&&t.setStyle("opacity",a)})}function a(t,e){var n=i(t,e),r=t.getGraphicEl();r.highlight&&r.highlight(),r.traverse(function(t){"group"!==t.type&&t.setStyle("opacity",n)})}function o(t,e,n){var i=new s.Rect({shape:{x:t.x-10,y:t.y-10,width:0,height:t.height+20}});return s.initProps(i,{shape:{width:t.width+20,height:t.height+20}},e,n),i}var s=n(2),l=n(1),c=n(0),u=["itemStyle","opacity"],h=["lineStyle","opacity"],d=s.extendShape({shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,extent:0,orient:""},buildPath:function(t,e){var n=e.extent;t.moveTo(e.x1,e.y1),t.bezierCurveTo(e.cpx1,e.cpy1,e.cpx2,e.cpy2,e.x2,e.y2),"vertical"===e.orient?(t.lineTo(e.x2+n,e.y2),t.bezierCurveTo(e.cpx2+n,e.cpy2,e.cpx1+n,e.cpy1,e.x1+n,e.y1)):(t.lineTo(e.x2,e.y2+n),t.bezierCurveTo(e.cpx2,e.cpy2+n,e.cpx1,e.cpy1+n,e.x1,e.y1+n)),t.closePath()}}),p=l.extendChartView({type:"sankey",_model:null,_focusAdjacencyDisabled:!1,render:function(t,e,n){var i=this,r=t.getGraph(),a=this.group,l=t.layoutInfo,c=l.width,u=l.height,h=t.getData(),p=t.getData("edge"),f=t.get("orient");this._model=t,a.removeAll(),a.attr("position",[l.x,l.y]),r.eachEdge(function(e){var n=new d;n.dataIndex=e.dataIndex,n.seriesIndex=t.seriesIndex,n.dataType="edge";var i,r,o,l,h,g,m,v,y=e.getModel("lineStyle"),x=y.get("curveness"),_=e.node1.getLayout(),b=e.node1.getModel(),w=b.get("localX"),M=b.get("localY"),S=e.node2.getLayout(),T=e.node2.getModel(),A=T.get("localX"),C=T.get("localY"),L=e.getLayout();switch(n.shape.extent=Math.max(1,L.dy),n.shape.orient=f,"vertical"===f?(i=(null!=w?w*c:_.x)+L.sy,r=(null!=M?M*u:_.y)+_.dy,o=(null!=A?A*c:S.x)+L.ty,l=null!=C?C*u:S.y,h=i,g=r*(1-x)+l*x,m=o,v=r*x+l*(1-x)):(i=(null!=w?w*c:_.x)+_.dx,r=(null!=M?M*u:_.y)+L.sy,o=null!=A?A*c:S.x,l=(null!=C?C*u:S.y)+L.ty,h=i*(1-x)+o*x,g=r,m=i*x+o*(1-x),v=l),n.setShape({x1:i,y1:r,x2:o,y2:l,cpx1:h,cpy1:g,cpx2:m,cpy2:v}),n.setStyle(y.getItemStyle()),n.style.fill){case"source":n.style.fill=e.node1.getVisual("color");break;case"target":n.style.fill=e.node2.getVisual("color")}s.setHoverStyle(n,e.getModel("emphasis.lineStyle").getItemStyle()),a.add(n),p.setItemGraphicEl(e.dataIndex,n)}),r.eachNode(function(e){var n=e.getLayout(),i=e.getModel(),r=i.get("localX"),o=i.get("localY"),l=i.getModel("label"),d=i.getModel("emphasis.label"),p=new s.Rect({shape:{x:null!=r?r*c:n.x,y:null!=o?o*u:n.y,width:n.dx,height:n.dy},style:i.getModel("itemStyle").getItemStyle()}),f=e.getModel("emphasis.itemStyle").getItemStyle();s.setLabelStyle(p.style,f,l,d,{labelFetcher:t,labelDataIndex:e.dataIndex,defaultText:e.id,isRectText:!0}),p.setStyle("fill",e.getVisual("color")),s.setHoverStyle(p,f),a.add(p),h.setItemGraphicEl(e.dataIndex,p),p.dataType="node"}),h.eachItemGraphicEl(function(e,r){var a=h.getItemModel(r);a.get("draggable")&&(e.drift=function(e,a){i._focusAdjacencyDisabled=!0,this.shape.x+=e,this.shape.y+=a,this.dirty(),n.dispatchAction({type:"dragNode",seriesId:t.id,dataIndex:h.getRawIndex(r),localX:this.shape.x/c,localY:this.shape.y/u})},e.ondragend=function(){i._focusAdjacencyDisabled=!1},e.draggable=!0,e.cursor="move"),a.get("focusNodeAdjacency")&&(e.off("mouseover").on("mouseover",function(){i._focusAdjacencyDisabled||(i._clearTimer(),n.dispatchAction({type:"focusNodeAdjacency",seriesId:t.id,dataIndex:e.dataIndex}))}),e.off("mouseout").on("mouseout",function(){i._focusAdjacencyDisabled||i._dispatchUnfocus(n)}))}),p.eachItemGraphicEl(function(e,r){p.getItemModel(r).get("focusNodeAdjacency")&&(e.off("mouseover").on("mouseover",function(){i._focusAdjacencyDisabled||(i._clearTimer(),n.dispatchAction({type:"focusNodeAdjacency",seriesId:t.id,edgeDataIndex:e.dataIndex}))}),e.off("mouseout").on("mouseout",function(){i._focusAdjacencyDisabled||i._dispatchUnfocus(n)}))}),!this._data&&t.get("animation")&&a.setClipPath(o(a.getBoundingRect(),t,function(){a.removeClipPath()})),this._data=t.getData()},dispose:function(){this._clearTimer()},_dispatchUnfocus:function(t){var e=this;this._clearTimer(),this._unfocusDelayTimer=setTimeout(function(){e._unfocusDelayTimer=null,t.dispatchAction({type:"unfocusNodeAdjacency",seriesId:e._model.id})},500)},_clearTimer:function(){this._unfocusDelayTimer&&(clearTimeout(this._unfocusDelayTimer),this._unfocusDelayTimer=null)},focusNodeAdjacency:function(t,e,n,i){var o=this._model.getData(),s=o.graph,l=i.dataIndex,d=o.getItemModel(l),p=i.edgeDataIndex;if(null!=l||null!=p){var f=s.getNodeByIndex(l),g=s.getEdgeByIndex(p);if(s.eachNode(function(t){r(t,u,.1)}),s.eachEdge(function(t){r(t,h,.1)}),f){a(f,u);var m=d.get("focusNodeAdjacency");"outEdges"===m?c.each(f.outEdges,function(t){t.dataIndex<0||(a(t,h),a(t.node2,u))}):"inEdges"===m?c.each(f.inEdges,function(t){t.dataIndex<0||(a(t,h),a(t.node1,u))}):"allEdges"===m&&c.each(f.edges,function(t){t.dataIndex<0||(a(t,h),a(t.node1,u),a(t.node2,u))})}g&&(a(g,h),a(g.node1,u),a(g.node2,u))}},unfocusNodeAdjacency:function(t,e,n,i){var a=this._model.getGraph();a.eachNode(function(t){r(t,u)}),a.eachEdge(function(t){r(t,h)})}});t.exports=p},function(t,e,n){var i=n(1);n(202),i.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(t,e){e.eachComponent({mainType:"series",subType:"sankey",query:t},function(e){e.setNodePosition(t.dataIndex,[t.localX,t.localY])})})},function(t,e,n){function i(t,e,n){t.eachSeriesByType("sankey",function(t){var n=t.get("nodeWidth"),i=t.get("nodeGap"),s=r(t,e);t.layoutInfo=s;var l=s.width,c=s.height,u=t.getGraph(),h=u.nodes,d=u.edges;o(h),a(h,d,n,i,l,c,0!==T.filter(h,function(t){return 0===t.getLayout().value}).length?0:t.get("layoutIterations"),t.get("orient"),t.get("nodeAlign"))})}function r(t,e){return S.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function a(t,e,n,i,r,a,o,l,c){s(t,e,n,r,a,l,c),d(t,e,a,r,i,o,l),M(t,l)}function o(t){T.each(t,function(t){var e=b(t.outEdges,_),n=b(t.inEdges,_),i=Math.max(e,n);t.setLayout({value:i},!0)})}function s(t,e,n,i,r,a,o){for(var s=[],l=[],u=[],d=[],p=0,f=0;f<e.length;f++)s[f]=1;for(f=0;f<t.length;f++)l[f]=t[f].inEdges.length,0===l[f]&&u.push(t[f]);for(var g=-1;u.length;){for(var m=0;m<u.length;m++){var v=u[m],y=v.hostGraph.data.getRawDataItem(v.dataIndex),x=null!=y.depth&&y.depth>=0;x&&y.depth>g&&(g=y.depth),v.setLayout({depth:x?y.depth:p},!0),"vertical"===a?v.setLayout({dy:n},!0):v.setLayout({dx:n},!0);for(var _=0;_<v.outEdges.length;_++){var b=v.outEdges[_];s[e.indexOf(b)]=0;var w=b.node2;0==--l[t.indexOf(w)]&&d.indexOf(w)<0&&d.push(w)}}++p,u=d,d=[]}for(f=0;f<s.length;f++)if(1===s[f])throw new Error("Sankey is a DAG, the original data has cycle!");var M=g>p-1?g:p-1;o&&"left"!==o&&c(t,o,a,M),h(t,"vertical"===a?(r-n)/M:(i-n)/M,a)}function l(t){var e=t.hostGraph.data.getRawDataItem(t.dataIndex);return null!=e.depth&&e.depth>=0}function c(t,e,n,i){if("right"===e){for(var r=[],a=t,o=0;a.length;){for(var s=0;s<a.length;s++){var c=a[s];c.setLayout({skNodeHeight:o},!0);for(var h=0;h<c.inEdges.length;h++){var d=c.inEdges[h];r.indexOf(d.node1)<0&&r.push(d.node1)}}a=r,r=[],++o}T.each(t,function(t){l(t)||t.setLayout({depth:Math.max(0,i-t.getLayout().skNodeHeight)},!0)})}else"justify"===e&&u(t,i)}function u(t,e){T.each(t,function(t){l(t)||t.outEdges.length||t.setLayout({depth:e},!0)})}function h(t,e,n){T.each(t,function(t){var i=t.getLayout().depth*e;"vertical"===n?t.setLayout({y:i},!0):t.setLayout({x:i},!0)})}function d(t,e,n,i,r,a,o){var s=p(t,o);f(s,e,n,i,r,o),g(s,r,n,i,o);for(var l=1;a>0;a--)l*=.99,m(s,l,o),g(s,r,n,i,o),w(s,l,o),g(s,r,n,i,o)}function p(t,e){var n=[],i="vertical"===e?"y":"x",r=C(t,function(t){return t.getLayout()[i]});return r.keys.sort(function(t,e){return t-e}),T.each(r.keys,function(t){n.push(r.buckets.get(t))}),n}function f(t,e,n,i,r,a){var o=1/0;T.each(t,function(t){var e=t.length,s=0;T.each(t,function(t){s+=t.getLayout().value});var l="vertical"===a?(i-(e-1)*r)/s:(n-(e-1)*r)/s;l<o&&(o=l)}),T.each(t,function(t){T.each(t,function(t,e){var n=t.getLayout().value*o;"vertical"===a?(t.setLayout({x:e},!0),t.setLayout({dx:n},!0)):(t.setLayout({y:e},!0),t.setLayout({dy:n},!0))})}),T.each(e,function(t){var e=+t.getValue()*o;t.setLayout({dy:e},!0)})}function g(t,e,n,i,r){var a="vertical"===r?"x":"y";T.each(t,function(t){t.sort(function(t,e){return t.getLayout()[a]-e.getLayout()[a]});for(var o,s,l,c=0,u=t.length,h="vertical"===r?"dx":"dy",d=0;d<u;d++)s=t[d],l=c-s.getLayout()[a],l>0&&(o=s.getLayout()[a]+l,"vertical"===r?s.setLayout({x:o},!0):s.setLayout({y:o},!0)),c=s.getLayout()[a]+s.getLayout()[h]+e;if((l=c-e-("vertical"===r?i:n))>0)for(o=s.getLayout()[a]-l,"vertical"===r?s.setLayout({x:o},!0):s.setLayout({y:o},!0),c=o,d=u-2;d>=0;--d)s=t[d],l=s.getLayout()[a]+s.getLayout()[h]+e-c,l>0&&(o=s.getLayout()[a]-l,"vertical"===r?s.setLayout({x:o},!0):s.setLayout({y:o},!0)),c=s.getLayout()[a]})}function m(t,e,n){T.each(t.slice().reverse(),function(t){T.each(t,function(t){if(t.outEdges.length){var i=b(t.outEdges,v,n)/b(t.outEdges,_,n);if("vertical"===n){var r=t.getLayout().x+(i-x(t,n))*e;t.setLayout({x:r},!0)}else{var a=t.getLayout().y+(i-x(t,n))*e;t.setLayout({y:a},!0)}}})})}function v(t,e){return x(t.node2,e)*t.getValue()}function y(t,e){return x(t.node1,e)*t.getValue()}function x(t,e){return"vertical"===e?t.getLayout().x+t.getLayout().dx/2:t.getLayout().y+t.getLayout().dy/2}function _(t){return t.getValue()}function b(t,e,n){for(var i=0,r=t.length,a=-1;++a<r;){var o=+e.call(t,t[a],n);isNaN(o)||(i+=o)}return i}function w(t,e,n){T.each(t,function(t){T.each(t,function(t){if(t.inEdges.length){var i=b(t.inEdges,y,n)/b(t.inEdges,_,n);if("vertical"===n){var r=t.getLayout().x+(i-x(t,n))*e;t.setLayout({x:r},!0)}else{var a=t.getLayout().y+(i-x(t,n))*e;t.setLayout({y:a},!0)}}})})}function M(t,e){var n="vertical"===e?"x":"y";T.each(t,function(t){t.outEdges.sort(function(t,e){return t.node2.getLayout()[n]-e.node2.getLayout()[n]}),t.inEdges.sort(function(t,e){return t.node1.getLayout()[n]-e.node1.getLayout()[n]})}),T.each(t,function(t){var e=0,n=0;T.each(t.outEdges,function(t){t.setLayout({sy:e},!0),e+=t.getLayout().dy}),T.each(t.inEdges,function(t){t.setLayout({ty:n},!0),n+=t.getLayout().dy})})}var S=n(6),T=n(0),A=n(4),C=A.groupData;t.exports=i},function(t,e,n){function i(t,e){t.eachSeriesByType("sankey",function(t){var e=t.getGraph(),n=e.nodes;if(n.length){var i=1/0,o=-1/0;a.each(n,function(t){var e=t.getLayout().value;e<i&&(i=e),e>o&&(o=e)}),a.each(n,function(e){var n=new r({type:"color",mappingMethod:"linear",dataExtent:[i,o],visual:t.get("color")}),a=n.mapValueToVisual(e.getLayout().value),s=e.getModel().get("itemStyle.color");null!=s?e.setVisual("color",s):e.setVisual("color",a)})}})}var r=n(45),a=n(0);t.exports=i},function(t,e,n){var i=n(1);n(447),n(448);var r=n(449),a=n(450);i.registerVisual(r),i.registerLayout(a)},function(t,e,n){var i=n(0),r=n(14),a=n(208),o=a.seriesModelMixin,s=r.extend({type:"series.boxplot",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:2,shadowOffsetY:2,shadowColor:"rgba(0,0,0,0.4)"}},animationEasing:"elasticOut",animationDuration:800}});i.mixin(s,o,!0);var l=s;t.exports=l},function(t,e,n){function i(t,e,n,i,o){var s=t.ends,l=new p({shape:{points:o?a(s,i,t):s}});return r(t,l,e,n,o),l}function r(t,e,n,i,r){var a=n.hostModel;(0,l[r?"initProps":"updateProps"])(e,{shape:{points:t.ends}},a,i);var o=n.getItemModel(i),s=o.getModel(u),c=n.getItemVisual(i,"color"),d=s.getItemStyle(["borderColor"]);d.stroke=c,d.strokeNoScale=!0,e.useStyle(d),e.z2=100;var p=o.getModel(h).getItemStyle();l.setHoverStyle(e,p)}function a(t,e,n){return o.map(t,function(t){return t=t.slice(),t[e]=n.initBaseline,t})}var o=n(0),s=n(25),l=n(2),c=n(10),u=["itemStyle"],h=["emphasis","itemStyle"],d=s.extend({type:"boxplot",render:function(t,e,n){var a=t.getData(),o=this.group,s=this._data;this._data||o.removeAll();var l="horizontal"===t.get("layout")?1:0;a.diff(s).add(function(t){if(a.hasValue(t)){var e=a.getItemLayout(t),n=i(e,a,t,l,!0);a.setItemGraphicEl(t,n),o.add(n)}}).update(function(t,e){var n=s.getItemGraphicEl(e);if(!a.hasValue(t))return void o.remove(n);var c=a.getItemLayout(t);n?r(c,n,a,t):n=i(c,a,t,l),o.add(n),a.setItemGraphicEl(t,n)}).remove(function(t){var e=s.getItemGraphicEl(t);e&&o.remove(e)}).execute(),this._data=a},remove:function(t){var e=this.group,n=this._data;this._data=null,n&&n.eachItemGraphicEl(function(t){t&&e.remove(t)})},dispose:o.noop}),p=c.extend({type:"boxplotBoxPath",shape:{},buildPath:function(t,e){var n=e.points,i=0;for(t.moveTo(n[i][0],n[i][1]),i++;i<4;i++)t.lineTo(n[i][0],n[i][1]);for(t.closePath();i<n.length;i++)t.moveTo(n[i][0],n[i][1]),i++,t.lineTo(n[i][0],n[i][1])}}),f=d;t.exports=f},function(t,e){function n(t,e){var n=t.get("color");t.eachRawSeriesByType("boxplot",function(e){var r=n[e.seriesIndex%n.length],a=e.getData();a.setVisual({legendSymbol:"roundRect",color:e.get(i)||r}),t.isSeriesFiltered(e)||a.each(function(t){var e=a.getItemModel(t);a.setItemVisual(t,{color:e.get(i,!0)})})})}var i=["itemStyle","borderColor"];t.exports=n},function(t,e,n){function i(t){var e=r(t);u(e,function(t){var e=t.seriesModels;e.length&&(a(t),u(e,function(e,n){o(e,t.boxOffsetList[n],t.boxWidthList[n])}))})}function r(t){var e=[],n=[];return t.eachSeriesByType("boxplot",function(t){var i=t.getBaseAxis(),r=s.indexOf(n,i);r<0&&(r=n.length,n[r]=i,e[r]={axis:i,seriesModels:[]}),e[r].seriesModels.push(t)}),e}function a(t){var e,n,i=t.axis,r=t.seriesModels,a=r.length,o=t.boxWidthList=[],l=t.boxOffsetList=[],h=[];if("category"===i.type)n=i.getBandWidth();else{var d=0;u(r,function(t){d=Math.max(d,t.getData().count())}),e=i.getExtent(),Math.abs(e[1]-e[0])}u(r,function(t){var e=t.get("boxWidth");s.isArray(e)||(e=[e,e]),h.push([c(e[0],n)||0,c(e[1],n)||0])});var p=.8*n-2,f=p/a*.3,g=(p-f*(a-1))/a,m=g/2-p/2;u(r,function(t,e){l.push(m),m+=f+g,o.push(Math.min(Math.max(g,h[e][0]),h[e][1]))})}function o(t,e,n){function i(t,n,i){var r=s.get(n,i),a=[];a[c]=t,a[u]=r;var l;return isNaN(t)||isNaN(r)?l=[NaN,NaN]:(l=o.dataToPoint(a),l[c]+=e),l}function r(t,e,n){var i=e.slice(),r=e.slice();i[c]+=l,r[c]-=l,n?t.push(i,r):t.push(r,i)}function a(t,e){var n=e.slice(),i=e.slice();n[c]-=l,i[c]+=l,t.push(n,i)}var o=t.coordinateSystem,s=t.getData(),l=n/2,c="horizontal"===t.get("layout")?0:1,u=1-c,h=["x","y"],d=s.mapDimension(h[c]),p=s.mapDimension(h[u],!0);if(!(null==d||p.length<5))for(var f=0;f<s.count();f++){var g=s.get(d,f),m=i(g,p[2],f),v=i(g,p[0],f),y=i(g,p[1],f),x=i(g,p[3],f),_=i(g,p[4],f),b=[];r(b,y,0),r(b,x,1),b.push(v,y,_,x),a(b,v),a(b,_),a(b,m),s.setItemLayout(f,{initBaseline:m[u],ends:b})}}var s=n(0),l=n(3),c=l.parsePercent,u=s.each;t.exports=i},function(t,e,n){var i=n(1);n(452),n(453);var r=n(454),a=n(455),o=n(456);i.registerPreprocessor(r),i.registerVisual(a),i.registerLayout(o)},function(t,e,n){var i=n(0),r=n(14),a=n(208),o=a.seriesModelMixin,s=r.extend({type:"series.candlestick",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,clip:!0,itemStyle:{color:"#c23531",color0:"#314656",borderWidth:1,borderColor:"#c23531",borderColor0:"#314656"},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationUpdate:!1,animationEasing:"linear",animationDuration:300},getShadowDim:function(){return"open"},brushSelector:function(t,e,n){var i=e.getItemLayout(t);return i&&n.rect(i.brushRect)}});i.mixin(s,o,!0);var l=s;t.exports=l},function(t,e,n){function i(t,e,n){var i=t.ends;return new x({shape:{points:n?o(i,t):i},z2:100})}function r(t,e){for(var n=!0,i=0;i<e.ends.length;i++)if(t.contain(e.ends[i][0],e.ends[i][1])){n=!1;break}return n}function a(t,e,n,i){var r=e.getItemModel(n),a=r.getModel(g),o=e.getItemVisual(n,"color"),s=e.getItemVisual(n,"borderColor")||o,l=a.getItemStyle(v);t.useStyle(l),t.style.strokeNoScale=!0,t.style.fill=o,t.style.stroke=s,t.__simpleBox=i;var c=r.getModel(m).getItemStyle();h.setHoverStyle(t,c)}function o(t,e){return c.map(t,function(t){return t=t.slice(),t[1]=e.initBaseline,t})}function s(t,e,n){var i=t.getData(),r=i.getLayout("largePoints"),a=new _({shape:{points:r},__sign:1});e.add(a);var o=new _({shape:{points:r},__sign:-1});e.add(o),l(1,a,t,i),l(-1,o,t,i),n&&(a.incremental=!0,o.incremental=!0)}function l(t,e,n,i){var r=t>0?"P":"N",a=i.getVisual("borderColor"+r)||i.getVisual("color"+r),o=n.getModel(g).getItemStyle(v);e.useStyle(o),e.style.fill=null,e.style.stroke=a}var c=n(0),u=n(25),h=n(2),d=n(10),p=n(65),f=p.createClipPath,g=["itemStyle"],m=["emphasis","itemStyle"],v=["color","color0","borderColor","borderColor0"],y=u.extend({type:"candlestick",render:function(t,e,n){this.group.removeClipPath(),this._updateDrawMode(t),this._isLargeDraw?this._renderLarge(t):this._renderNormal(t)},incrementalPrepareRender:function(t,e,n){this._clear(),this._updateDrawMode(t)},incrementalRender:function(t,e,n,i){this._isLargeDraw?this._incrementalRenderLarge(t,e):this._incrementalRenderNormal(t,e)},_updateDrawMode:function(t){var e=t.pipelineContext.large;(null==this._isLargeDraw||e^this._isLargeDraw)&&(this._isLargeDraw=e,this._clear())},_renderNormal:function(t){var e=t.getData(),n=this._data,o=this.group,s=e.getLayout("isSimpleBox"),l=t.get("clip",!0),c=t.coordinateSystem,u=c.getArea&&c.getArea();this._data||o.removeAll(),e.diff(n).add(function(n){if(e.hasValue(n)){var c,d=e.getItemLayout(n);if(l&&r(u,d))return;c=i(d,n,!0),h.initProps(c,{shape:{points:d.ends}},t,n),a(c,e,n,s),o.add(c),e.setItemGraphicEl(n,c)}}).update(function(c,d){var p=n.getItemGraphicEl(d);if(!e.hasValue(c))return void o.remove(p);var f=e.getItemLayout(c);if(l&&r(u,f))return void o.remove(p);p?h.updateProps(p,{shape:{points:f.ends}},t,c):p=i(f,c),a(p,e,c,s),o.add(p),e.setItemGraphicEl(c,p)}).remove(function(t){var e=n.getItemGraphicEl(t);e&&o.remove(e)}).execute(),this._data=e},_renderLarge:function(t){this._clear(),s(t,this.group);var e=t.get("clip",!0)?f(t.coordinateSystem,!1,t):null;e?this.group.setClipPath(e):this.group.removeClipPath()},_incrementalRenderNormal:function(t,e){for(var n,r=e.getData(),o=r.getLayout("isSimpleBox");null!=(n=t.next());){var s;s=i(r.getItemLayout(n),n),a(s,r,n,o),s.incremental=!0,this.group.add(s)}},_incrementalRenderLarge:function(t,e){s(e,this.group,!0)},remove:function(t){this._clear()},_clear:function(){this.group.removeAll(),this._data=null},dispose:c.noop}),x=d.extend({type:"normalCandlestickBox",shape:{},buildPath:function(t,e){var n=e.points;this.__simpleBox?(t.moveTo(n[4][0],n[4][1]),t.lineTo(n[6][0],n[6][1])):(t.moveTo(n[0][0],n[0][1]),t.lineTo(n[1][0],n[1][1]),t.lineTo(n[2][0],n[2][1]),t.lineTo(n[3][0],n[3][1]),t.closePath(),t.moveTo(n[4][0],n[4][1]),t.lineTo(n[5][0],n[5][1]),t.moveTo(n[6][0],n[6][1]),t.lineTo(n[7][0],n[7][1]))}}),_=d.extend({type:"largeCandlestickBox",shape:{},buildPath:function(t,e){for(var n=e.points,i=0;i<n.length;)if(this.__sign===n[i++]){var r=n[i++];t.moveTo(r,n[i++]),t.lineTo(r,n[i++])}else i+=3}}),b=y;t.exports=b},function(t,e,n){function i(t){t&&r.isArray(t.series)&&r.each(t.series,function(t){r.isObject(t)&&"k"===t.type&&(t.type="candlestick")})}var r=n(0);t.exports=i},function(t,e,n){var i=n(50),r=["itemStyle","borderColor"],a=["itemStyle","borderColor0"],o=["itemStyle","color"],s=["itemStyle","color0"],l={seriesType:"candlestick",plan:i(),performRawSeries:!0,reset:function(t,e){function n(t,e){for(var n;null!=(n=t.next());){var r=e.getItemModel(n),a=e.getItemLayout(n).sign;e.setItemVisual(n,{color:i(a,r),borderColor:l(a,r)})}}function i(t,e){return e.get(t>0?o:s)}function l(t,e){return e.get(t>0?r:a)}var c=t.getData(),u=t.pipelineContext.large;if(c.setVisual({legendSymbol:"roundRect",colorP:i(1,t),colorN:i(-1,t),borderColorP:l(1,t),borderColorN:l(-1,t)}),!e.isSeriesFiltered(t))return!u&&{progress:n}}};t.exports=l},function(t,e,n){function i(t,e,n,i,r){return n>i?-1:n<i?1:e>0?t.get(r,e-1)<=i?1:-1:1}function r(t,e){var n,i=t.getBaseAxis(),r="category"===i.type?i.getBandWidth():(n=i.getExtent(),Math.abs(n[1]-n[0])/e.count()),a=c(h(t.get("barMaxWidth"),r),r),o=c(h(t.get("barMinWidth"),1),r),s=t.get("barWidth");return null!=s?c(s,r):Math.max(Math.min(r/2,a),o)}var a=n(2),o=a.subPixelOptimize,s=n(50),l=n(3),c=l.parsePercent,u=n(0),h=u.retrieve2,d="undefined"!=typeof Float32Array?Float32Array:Array,p={seriesType:"candlestick",plan:s(),reset:function(t){function e(t,e){function n(t,e){var n=[];return n[c]=e,n[u]=t,isNaN(e)||isNaN(t)?[NaN,NaN]:a.dataToPoint(n)}function r(t,e,n){var i=e.slice(),r=e.slice();i[c]=o(i[c]+l/2,1,!1),r[c]=o(r[c]-l/2,1,!0),n?t.push(i,r):t.push(r,i)}function s(t){return t[c]=o(t[c],1),t}for(var h;null!=(h=t.next());){var d=e.get(p,h),f=e.get(g,h),x=e.get(m,h),_=e.get(v,h),b=e.get(y,h),w=Math.min(f,x),M=Math.max(f,x),S=n(w,d),T=n(M,d),A=n(_,d),C=n(b,d),L=[];r(L,T,0),r(L,S,1),L.push(s(C),s(T),s(A),s(S)),e.setItemLayout(h,{sign:i(e,h,f,x,m),initBaseline:f>x?T[u]:S[u],ends:L,brushRect:function(t,e,i){var r=n(t,i),a=n(e,i);return r[c]-=l/2,a[c]-=l/2,{x:r[0],y:r[1],width:u?l:a[0]-r[0],height:u?a[1]-r[1]:l}}(_,b,d)})}}function n(t,e){for(var n,r,o=new d(4*t.count),s=0,l=[],h=[];null!=(r=t.next());){var f=e.get(p,r),x=e.get(g,r),_=e.get(m,r),b=e.get(v,r),w=e.get(y,r);isNaN(f)||isNaN(b)||isNaN(w)?(o[s++]=NaN,s+=3):(o[s++]=i(e,r,x,_,m),l[c]=f,l[u]=b,n=a.dataToPoint(l,null,h),o[s++]=n?n[0]:NaN,o[s++]=n?n[1]:NaN,l[u]=w,n=a.dataToPoint(l,null,h),o[s++]=n?n[1]:NaN)}e.setLayout("largePoints",o)}var a=t.coordinateSystem,s=t.getData(),l=r(t,s),c=0,u=1,h=["x","y"],p=s.mapDimension(h[c]),f=s.mapDimension(h[u],!0),g=f[0],m=f[1],v=f[2],y=f[3];if(s.setLayout({candleWidth:l,isSimpleBox:l<=1.3}),!(null==p||f.length<4))return{progress:t.pipelineContext.large?n:e}}};t.exports=p},function(t,e,n){var i=n(1);n(458),n(459);var r=n(42),a=n(66);i.registerVisual(r("effectScatter","circle")),i.registerLayout(a("effectScatter"))},function(t,e,n){var i=n(31),r=n(14),a=r.extend({type:"series.effectScatter",dependencies:["grid","polar"],getInitialData:function(t,e){return i(this.getSource(),this,{useEncodeDefaulter:!0})},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",rippleEffect:{period:4,scale:2.5,brushType:"fill"},symbolSize:10}});t.exports=a},function(t,e,n){var i=n(1),r=n(64),a=n(460),o=n(15),s=n(66),l=i.extendChartView({type:"effectScatter",init:function(){this._symbolDraw=new r(a)},render:function(t,e,n){var i=t.getData(),r=this._symbolDraw;r.updateData(i),this.group.add(r.group)},updateTransform:function(t,e,n){var i=t.getData();this.group.dirty();var r=s().reset(t);r.progress&&r.progress({start:0,end:i.count()},i),this._symbolDraw.updateLayout(i)},_updateGroupTransform:function(t){var e=t.coordinateSystem;e&&e.getRoamTransform&&(this.group.transform=o.clone(e.getRoamTransform()),this.group.decomposeTransform())},remove:function(t,e){this._symbolDraw&&this._symbolDraw.remove(e)},dispose:function(){}});t.exports=l},function(t,e,n){function i(t){return o.isArray(t)||(t=[+t,+t]),t}function r(t,e){var n=e.rippleEffectColor||e.color;t.eachChild(function(t){t.attr({z:e.z,zlevel:e.zlevel,style:{stroke:"stroke"===e.brushType?n:null,fill:"fill"===e.brushType?n:null}})})}function a(t,e){u.call(this);var n=new p(t,e),i=new u;this.add(n),this.add(i),i.beforeUpdate=function(){this.attr(n.getScale())},this.updateData(t,e)}var o=n(0),s=n(19),l=s.createSymbol,c=n(2),u=c.Group,h=n(3),d=h.parsePercent,p=n(84),f=a.prototype;f.stopEffectAnimation=function(){this.childAt(1).removeAll()},f.startEffectAnimation=function(t){for(var e=t.symbolType,n=t.color,i=this.childAt(1),a=0;a<3;a++){var o=l(e,-1,-1,2,2,n);o.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scale:[.5,.5]});var s=-a/3*t.period+t.effectOffset;o.animate("",!0).when(t.period,{scale:[t.rippleScale/2,t.rippleScale/2]}).delay(s).start(),o.animateStyle(!0).when(t.period,{opacity:0}).delay(s).start(),i.add(o)}r(i,t)},f.updateEffectAnimation=function(t){for(var e=this._effectCfg,n=this.childAt(1),i=["symbolType","period","rippleScale"],a=0;a<i.length;a++){var o=i[a];if(e[o]!==t[o])return this.stopEffectAnimation(),void this.startEffectAnimation(t)}r(n,t)},f.highlight=function(){this.trigger("emphasis")},f.downplay=function(){this.trigger("normal")},f.updateData=function(t,e){var n=t.hostModel;this.childAt(0).updateData(t,e);var r=this.childAt(1),a=t.getItemModel(e),o=t.getItemVisual(e,"symbol"),s=i(t.getItemVisual(e,"symbolSize")),l=t.getItemVisual(e,"color");r.attr("scale",s),r.traverse(function(t){t.attr({fill:l})});var c=a.getShallow("symbolOffset");if(c){var u=r.position;u[0]=d(c[0],s[0]),u[1]=d(c[1],s[1])}r.rotation=(a.getShallow("symbolRotate")||0)*Math.PI/180||0;var h={};if(h.showEffectOn=n.get("showEffectOn"),h.rippleScale=a.get("rippleEffect.scale"),h.brushType=a.get("rippleEffect.brushType"),h.period=1e3*a.get("rippleEffect.period"),h.effectOffset=e/t.count(),h.z=a.getShallow("z")||0,h.zlevel=a.getShallow("zlevel")||0,h.symbolType=o,h.color=l,h.rippleEffectColor=a.get("rippleEffect.color"),this.off("mouseover").off("mouseout").off("emphasis").off("normal"),"render"===h.showEffectOn)this._effectCfg?this.updateEffectAnimation(h):this.startEffectAnimation(h),this._effectCfg=h;else{this._effectCfg=null,this.stopEffectAnimation();var p=this.childAt(0),f=function(){p.highlight(),"render"!==h.showEffectOn&&this.startEffectAnimation(h)},g=function(){p.downplay(),"render"!==h.showEffectOn&&this.stopEffectAnimation()};this.on("mouseover",f,this).on("mouseout",g,this).on("emphasis",f,this).on("normal",g,this)}this._effectCfg=h},f.fadeOut=function(t){this.off("mouseover").off("mouseout").off("emphasis").off("normal"),t&&t()},o.inherits(a,u);var g=a;t.exports=g},function(t,e,n){var i=n(1);n(462),n(463);var r=n(211),a=n(466);i.registerLayout(r),i.registerVisual(a)},function(t,e,n){function i(t){var e=t.data;e&&e[0]&&e[0][0]&&e[0][0].coord&&(t.data=u(e,function(t){var e=[t[0].coord,t[1].coord],n={coords:e};return t[0].name&&(n.fromName=t[0].name),t[1].name&&(n.toName=t[1].name),c([n,t[0],t[1]])}))}var r=n(5),a=(r.__DEV__,n(14)),o=n(18),s=n(0),l=s.concatArray,c=s.mergeAll,u=s.map,h=n(9),d=h.encodeHTML,p=(n(21),"undefined"==typeof Uint32Array?Array:Uint32Array),f="undefined"==typeof Float64Array?Array:Float64Array,g=a.extend({type:"series.lines",dependencies:["grid","polar"],visualColorAccessPath:"lineStyle.color",init:function(t){t.data=t.data||[],i(t);var e=this._processFlatCoordsArray(t.data);this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset,e.flatCoords&&(t.data=new Float32Array(e.count)),g.superApply(this,"init",arguments)},mergeOption:function(t){if(t.data=t.data||[],i(t),t.data){var e=this._processFlatCoordsArray(t.data);this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset,e.flatCoords&&(t.data=new Float32Array(e.count))}g.superApply(this,"mergeOption",arguments)},appendData:function(t){var e=this._processFlatCoordsArray(t.data);e.flatCoords&&(this._flatCoords?(this._flatCoords=l(this._flatCoords,e.flatCoords),this._flatCoordsOffset=l(this._flatCoordsOffset,e.flatCoordsOffset)):(this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset),t.data=new Float32Array(e.count)),this.getRawData().appendData(t.data)},_getCoordsFromItemModel:function(t){var e=this.getData().getItemModel(t);return e.option instanceof Array?e.option:e.getShallow("coords")},getLineCoordsCount:function(t){return this._flatCoordsOffset?this._flatCoordsOffset[2*t+1]:this._getCoordsFromItemModel(t).length},getLineCoords:function(t,e){if(this._flatCoordsOffset){for(var n=this._flatCoordsOffset[2*t],i=this._flatCoordsOffset[2*t+1],r=0;r<i;r++)e[r]=e[r]||[],e[r][0]=this._flatCoords[n+2*r],e[r][1]=this._flatCoords[n+2*r+1];return i}for(var a=this._getCoordsFromItemModel(t),r=0;r<a.length;r++)e[r]=e[r]||[],e[r][0]=a[r][0],e[r][1]=a[r][1];return a.length},_processFlatCoordsArray:function(t){var e=0;if(this._flatCoords&&(e=this._flatCoords.length),"number"==typeof t[0]){for(var n=t.length,i=new p(n),r=new f(n),a=0,o=0,s=0,l=0;l<n;){s++;var c=t[l++];i[o++]=a+e,i[o++]=c;for(var u=0;u<c;u++){var h=t[l++],d=t[l++];r[a++]=h,r[a++]=d}}return{flatCoordsOffset:new Uint32Array(i.buffer,0,o),flatCoords:r,count:s}}return{flatCoordsOffset:null,flatCoords:null,count:t.length}},getInitialData:function(t,e){var n=new o(["value"],this);return n.hasItemOption=!1,n.initData(t.data,[],function(t,e,i,r){if(t instanceof Array)return NaN;n.hasItemOption=!0;var a=t.value;return null!=a?a instanceof Array?a[r]:a:void 0}),n},formatTooltip:function(t){var e=this.getData(),n=e.getItemModel(t),i=n.get("name");if(i)return i;var r=n.get("fromName"),a=n.get("toName"),o=[];return null!=r&&o.push(r),null!=a&&o.push(a),d(o.join(" > "))},preventIncremental:function(){return!!this.get("effect.show")},getProgressive:function(){var t=this.option.progressive;return null==t?this.option.large?1e4:this.get("progressive"):t},getProgressiveThreshold:function(){var t=this.option.progressiveThreshold;return null==t?this.option.large?2e4:this.get("progressiveThreshold"):t},defaultOption:{coordinateSystem:"geo",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}}}),m=g;t.exports=m},function(t,e,n){var i=n(5),r=(i.__DEV__,n(1)),a=n(112),o=n(209),s=n(113),l=n(210),c=n(464),u=n(465),h=n(211),d=n(65),p=d.createClipPath,f=r.extendChartView({type:"lines",init:function(){},render:function(t,e,n){var i=t.getData(),r=this._updateLineDraw(i,t),a=t.get("zlevel"),o=t.get("effect.trailLength"),s=n.getZr(),l="svg"===s.painter.getType();l||s.painter.getLayer(a).clear(!0),null==this._lastZlevel||l||s.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(t)&&o&&(l||s.configLayer(a,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(o/10+.9,1),0)})),r.updateData(i);var c=t.get("clip",!0)&&p(t.coordinateSystem,!1,t);c?this.group.setClipPath(c):this.group.removeClipPath(),this._lastZlevel=a,this._finished=!0},incrementalPrepareRender:function(t,e,n){var i=t.getData();this._updateLineDraw(i,t).incrementalPrepareUpdate(i),this._clearLayer(n),this._finished=!1},incrementalRender:function(t,e,n){this._lineDraw.incrementalUpdate(t,e.getData()),this._finished=t.end===e.getData().count()},updateTransform:function(t,e,n){var i=t.getData(),r=t.pipelineContext;if(!this._finished||r.large||r.progressiveRender)return{update:!0};var a=h.reset(t);a.progress&&a.progress({start:0,end:i.count()},i),this._lineDraw.updateLayout(),this._clearLayer(n)},_updateLineDraw:function(t,e){var n=this._lineDraw,i=this._showEffect(e),r=!!e.get("polyline"),h=e.pipelineContext,d=h.large;return n&&i===this._hasEffet&&r===this._isPolyline&&d===this._isLargeDraw||(n&&n.remove(),n=this._lineDraw=d?new u:new a(r?i?c:l:i?o:s),this._hasEffet=i,this._isPolyline=r,this._isLargeDraw=d,this.group.removeAll()),this.group.add(n.group),n},_showEffect:function(t){return!!t.get("effect.show")},_clearLayer:function(t){var e=t.getZr();"svg"===e.painter.getType()||null==this._lastZlevel||e.painter.getLayer(this._lastZlevel).clear(!0)},remove:function(t,e){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(e)},dispose:function(){}});t.exports=f},function(t,e,n){function i(t,e,n){o.call(this,t,e,n),this._lastFrame=0,this._lastFramePercent=0}var r=n(210),a=n(0),o=n(209),s=n(7),l=i.prototype;l.createLine=function(t,e,n){return new r(t,e,n)},l.updateAnimationPoints=function(t,e){this._points=e;for(var n=[0],i=0,r=1;r<e.length;r++){var a=e[r-1],o=e[r];i+=s.dist(a,o),n.push(i)}if(0!==i){for(var r=0;r<n.length;r++)n[r]/=i;this._offsets=n,this._length=i}},l.getLineLength=function(t){return this._length},l.updateSymbolPosition=function(t){var e=t.__t,n=this._points,i=this._offsets,r=n.length;if(i){var a,o=this._lastFrame;if(e<this._lastFramePercent){var l=Math.min(o+1,r-1);for(a=l;a>=0&&!(i[a]<=e);a--);a=Math.min(a,r-2)}else{for(var a=o;a<r&&!(i[a]>e);a++);a=Math.min(a-1,r-2)}s.lerp(t.position,n[a],n[a+1],(e-i[a])/(i[a+1]-i[a]));var c=n[a+1][0]-n[a][0],u=n[a+1][1]-n[a][1];t.rotation=-Math.atan2(u,c)-Math.PI/2,this._lastFrame=a,this._lastFramePercent=e,t.ignore=!1}},a.inherits(i,o);var c=i;t.exports=c},function(t,e,n){function i(){this.group=new r.Group}var r=n(2),a=n(100),o=n(165),s=n(166),l=r.extendShape({shape:{polyline:!1,curveness:0,segs:[]},buildPath:function(t,e){var n=e.segs,i=e.curveness;if(e.polyline)for(var r=0;r<n.length;){var a=n[r++];if(a>0){t.moveTo(n[r++],n[r++]);for(var o=1;o<a;o++)t.lineTo(n[r++],n[r++])}}else for(var r=0;r<n.length;){var s=n[r++],l=n[r++],c=n[r++],u=n[r++];if(t.moveTo(s,l),i>0){var h=(s+c)/2-(l-u)*i,d=(l+u)/2-(c-s)*i;t.quadraticCurveTo(h,d,c,u)}else t.lineTo(c,u)}},findDataIndex:function(t,e){var n=this.shape,i=n.segs,r=n.curveness;if(n.polyline)for(var a=0,l=0;l<i.length;){var c=i[l++];if(c>0)for(var u=i[l++],h=i[l++],d=1;d<c;d++){var p=i[l++],f=i[l++];if(o.containStroke(u,h,p,f))return a}a++}else for(var a=0,l=0;l<i.length;){var u=i[l++],h=i[l++],p=i[l++],f=i[l++];if(r>0){var g=(u+p)/2-(h-f)*r,m=(h+f)/2-(p-u)*r;if(s.containStroke(u,h,g,m,p,f))return a}else if(o.containStroke(u,h,p,f))return a;a++}return-1}}),c=i.prototype;c.isPersistent=function(){return!this._incremental},c.updateData=function(t){this.group.removeAll();var e=new l({rectHover:!0,cursor:"default"});e.setShape({segs:t.getLayout("linesPoints")}),this._setCommon(e,t),this.group.add(e),this._incremental=null},c.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clearIncremental(),t.count()>5e5?(this._incremental||(this._incremental=new a({silent:!0})),this.group.add(this._incremental)):this._incremental=null},c.incrementalUpdate=function(t,e){var n=new l;n.setShape({segs:e.getLayout("linesPoints")}),this._setCommon(n,e,!!this._incremental),this._incremental?this._incremental.addDisplayable(n,!0):(n.rectHover=!0,n.cursor="default",n.__startIndex=t.start,this.group.add(n))},c.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},c._setCommon=function(t,e,n){var i=e.hostModel;t.setShape({polyline:i.get("polyline"),curveness:i.get("lineStyle.curveness")}),t.useStyle(i.getModel("lineStyle").getLineStyle()),t.style.strokeNoScale=!0;var r=e.getVisual("color");r&&t.setStyle("stroke",r),t.setStyle("fill"),n||(t.seriesIndex=i.seriesIndex,t.on("mousemove",function(e){t.dataIndex=null;var n=t.findDataIndex(e.offsetX,e.offsetY);n>0&&(t.dataIndex=n+t.__startIndex)}))},c._clearIncremental=function(){var t=this._incremental;t&&t.clearDisplaybles()};var u=i;t.exports=u},function(t,e){function n(t){return t instanceof Array||(t=[t,t]),t}var i="lineStyle.opacity".split("."),r={seriesType:"lines",reset:function(t,e,r){function a(t,e){var r=t.getItemModel(e),a=n(r.getShallow("symbol",!0)),o=n(r.getShallow("symbolSize",!0)),s=r.get(i);a[0]&&t.setItemVisual(e,"fromSymbol",a[0]),a[1]&&t.setItemVisual(e,"toSymbol",a[1]),o[0]&&t.setItemVisual(e,"fromSymbolSize",o[0]),o[1]&&t.setItemVisual(e,"toSymbolSize",o[1]),t.setItemVisual(e,"opacity",s)}var o=n(t.get("symbol")),s=n(t.get("symbolSize")),l=t.getData();return l.setVisual("fromSymbol",o&&o[0]),l.setVisual("toSymbol",o&&o[1]),l.setVisual("fromSymbolSize",s&&s[0]),l.setVisual("toSymbolSize",s&&s[1]),l.setVisual("opacity",t.get(i)),{dataEach:l.hasItemOption?a:null}}};t.exports=r},function(t,e,n){n(468),n(469)},function(t,e,n){var i=n(14),r=n(31),a=n(21),o=i.extend({type:"series.heatmap",getInitialData:function(t,e){return r(this.getSource(),this,{generateCoord:"value"})},preventIncremental:function(){var t=a.get(this.get("coordinateSystem"));if(t&&t.dimensions)return"lng"===t.dimensions[0]&&"lat"===t.dimensions[1]},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0}});t.exports=o},function(t,e,n){function i(t,e,n){var i=t[1]-t[0];e=u.map(e,function(e){return{interval:[(e.interval[0]-t[0])/i,(e.interval[1]-t[0])/i]}});var r=e.length,a=0;return function(t){for(var i=a;i<r;i++){var o=e[i].interval;if(o[0]<=t&&t<=o[1]){a=i;break}}if(i===r)for(var i=a-1;i>=0;i--){var o=e[i].interval;if(o[0]<=t&&t<=o[1]){a=i;break}}return i>=0&&i<r&&n[i]}}function r(t,e){var n=t[1]-t[0];return e=[(e[0]-t[0])/n,(e[1]-t[0])/n],function(t){return t>=e[0]&&t<=e[1]}}function a(t){var e=t.dimensions;return"lng"===e[0]&&"lat"===e[1]}var o=n(5),s=(o.__DEV__,n(1)),l=n(2),c=n(470),u=n(0),h=s.extendChartView({type:"heatmap",render:function(t,e,n){var i;e.eachComponent("visualMap",function(e){e.eachTargetSeries(function(n){n===t&&(i=e)})}),this.group.removeAll(),this._incrementalDisplayable=null;var r=t.coordinateSystem;"cartesian2d"===r.type||"calendar"===r.type?this._renderOnCartesianAndCalendar(t,n,0,t.getData().count()):a(r)&&this._renderOnGeo(r,t,i,n)},incrementalPrepareRender:function(t,e,n){this.group.removeAll()},incrementalRender:function(t,e,n,i){e.coordinateSystem&&this._renderOnCartesianAndCalendar(e,i,t.start,t.end,!0)},_renderOnCartesianAndCalendar:function(t,e,n,i,r){var a,o,s=t.coordinateSystem;if("cartesian2d"===s.type){var c=s.getAxis("x"),h=s.getAxis("y");a=c.getBandWidth(),o=h.getBandWidth()}for(var d=this.group,p=t.getData(),f=t.getModel("itemStyle").getItemStyle(["color"]),g=t.getModel("emphasis.itemStyle").getItemStyle(),m=t.getModel("label"),v=t.getModel("emphasis.label"),y=s.type,x="cartesian2d"===y?[p.mapDimension("x"),p.mapDimension("y"),p.mapDimension("value")]:[p.mapDimension("time"),p.mapDimension("value")],_=n;_<i;_++){var b;if("cartesian2d"===y){if(isNaN(p.get(x[2],_)))continue;var w=s.dataToPoint([p.get(x[0],_),p.get(x[1],_)]);b=new l.Rect({shape:{x:Math.floor(w[0]-a/2),y:Math.floor(w[1]-o/2),width:Math.ceil(a),height:Math.ceil(o)},style:{fill:p.getItemVisual(_,"color"),opacity:p.getItemVisual(_,"opacity")}})}else{if(isNaN(p.get(x[1],_)))continue;b=new l.Rect({z2:1,shape:s.dataToRect([p.get(x[0],_)]).contentShape,style:{fill:p.getItemVisual(_,"color"),opacity:p.getItemVisual(_,"opacity")}})}var M=p.getItemModel(_);p.hasItemOption&&(f=M.getModel("itemStyle").getItemStyle(["color"]),g=M.getModel("emphasis.itemStyle").getItemStyle(),m=M.getModel("label"),v=M.getModel("emphasis.label"));var S=t.getRawValue(_),T="-";S&&null!=S[2]&&(T=S[2]),l.setLabelStyle(f,g,m,v,{labelFetcher:t,labelDataIndex:_,defaultText:T,isRectText:!0}),b.setStyle(f),l.setHoverStyle(b,p.hasItemOption?g:u.extend({},g)),b.incremental=r,r&&(b.useHoverLayer=!0),d.add(b),p.setItemGraphicEl(_,b)}},_renderOnGeo:function(t,e,n,a){var o=n.targetVisuals.inRange,s=n.targetVisuals.outOfRange,u=e.getData(),h=this._hmLayer||this._hmLayer||new c;h.blurSize=e.get("blurSize"),h.pointSize=e.get("pointSize"),h.minOpacity=e.get("minOpacity"),h.maxOpacity=e.get("maxOpacity");var d=t.getViewRect().clone(),p=t.getRoamTransform();d.applyTransform(p);var f=Math.max(d.x,0),g=Math.max(d.y,0),m=Math.min(d.width+d.x,a.getWidth()),v=Math.min(d.height+d.y,a.getHeight()),y=m-f,x=v-g,_=[u.mapDimension("lng"),u.mapDimension("lat"),u.mapDimension("value")],b=u.mapArray(_,function(e,n,i){var r=t.dataToPoint([e,n]);return r[0]-=f,r[1]-=g,r.push(i),r}),w=n.getExtent(),M="visualMap.continuous"===n.type?r(w,n.option.range):i(w,n.getPieceList(),n.option.selected);h.update(b,y,x,o.color.getNormalizer(),{inRange:o.color.getColorMapper(),outOfRange:s.color.getColorMapper()},M);var S=new l.Image({style:{width:y,height:x,x:f,y:g,image:h.canvas},silent:!0});this.group.add(S)},dispose:function(){}});t.exports=h},function(t,e,n){function i(){var t=r.createCanvas();this.canvas=t,this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={}}var r=n(0);i.prototype={update:function(t,e,n,i,r,a){var o=this._getBrush(),s=this._getGradient(t,r,"inRange"),l=this._getGradient(t,r,"outOfRange"),c=this.pointSize+this.blurSize,u=this.canvas,h=u.getContext("2d"),d=t.length;u.width=e,u.height=n;for(var p=0;p<d;++p){var f=t[p],g=f[0],m=f[1],v=f[2],y=i(v);h.globalAlpha=y,h.drawImage(o,g-c,m-c)}if(!u.width||!u.height)return u;for(var x=h.getImageData(0,0,u.width,u.height),_=x.data,b=0,w=_.length,M=this.minOpacity,S=this.maxOpacity,T=S-M;b<w;){var y=_[b+3]/256,A=4*Math.floor(255*y);if(y>0){var C=a(y)?s:l;y>0&&(y=y*T+M),_[b++]=C[A],_[b++]=C[A+1],_[b++]=C[A+2],_[b++]=C[A+3]*y*256}else b+=4}return h.putImageData(x,0,0),u},_getBrush:function(){var t=this._brushCanvas||(this._brushCanvas=r.createCanvas()),e=this.pointSize+this.blurSize,n=2*e;t.width=n,t.height=n;var i=t.getContext("2d");return i.clearRect(0,0,n,n),i.shadowOffsetX=n,i.shadowBlur=this.blurSize,i.shadowColor="#000",i.beginPath(),i.arc(-e,e,this.pointSize,0,2*Math.PI,!0),i.closePath(),i.fill(),t},_getGradient:function(t,e,n){for(var i=this._gradientPixels,r=i[n]||(i[n]=new Uint8ClampedArray(1024)),a=[0,0,0,0],o=0,s=0;s<256;s++)e[n](s/255,!0,a),r[o++]=a[0],r[o++]=a[1],r[o++]=a[2],r[o++]=a[3];return r}};var a=i;t.exports=a},function(t,e,n){var i=n(1),r=n(0);n(105),n(472),n(473);var a=n(83),o=a.layout,s=n(42);n(67),i.registerLayout(r.curry(o,"pictorialBar")),i.registerVisual(s("pictorialBar","roundRect"))},function(t,e,n){var i=n(193),r=i.extend({type:"series.pictorialBar",dependencies:["grid"],defaultOption:{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,hoverAnimation:!1},getInitialData:function(t){return t.stack=null,r.superApply(this,"getInitialData",arguments)}}),a=r;t.exports=a},function(t,e,n){function i(t,e,n,i){var a=t.getItemLayout(e),c=n.get("symbolRepeat"),u=n.get("symbolClip"),h=n.get("symbolPosition")||"start",d=n.get("symbolRotate"),p=(d||0)*Math.PI/180||0,f=n.get("symbolPatternSize")||2,g=n.isAnimationEnabled(),m={dataIndex:e,layout:a,itemModel:n,symbolType:t.getItemVisual(e,"symbol")||"circle",color:t.getItemVisual(e,"color"),symbolClip:u,symbolRepeat:c,symbolRepeatDirection:n.get("symbolRepeatDirection"),symbolPatternSize:f,rotation:p,animationModel:g?n:null,hoverAnimation:g&&n.get("hoverAnimation"),z2:n.getShallow("z",!0)||0};r(n,c,a,i,m),o(t,e,a,c,u,m.boundingLength,m.pxSign,f,i,m),s(n,m.symbolScale,p,i,m);var v=m.symbolSize,y=n.get("symbolOffset");return C.isArray(y)&&(y=[D(y[0],v[0]),D(y[1],v[1])]),l(n,v,a,c,u,y,h,m.valueLineWidth,m.boundingLength,m.repeatCutLength,i,m),m}function r(t,e,n,i,r){var o,s=i.valueDim,l=t.get("symbolBoundingData"),c=i.coordSys.getOtherAxis(i.coordSys.getBaseAxis()),u=c.toGlobalCoord(c.dataToCoord(0)),h=1-+(n[s.wh]<=0);if(C.isArray(l)){var d=[a(c,l[0])-u,a(c,l[1])-u];d[1]<d[0]&&d.reverse(),o=d[h]}else o=null!=l?a(c,l)-u:e?i.coordSysExtent[s.index][h]-u:n[s.wh];r.boundingLength=o,e&&(r.repeatCutLength=n[s.wh]),r.pxSign=o>0?1:o<0?-1:0}function a(t,e){return t.toGlobalCoord(t.dataToCoord(t.scale.parse(e)))}function o(t,e,n,i,r,a,o,s,l,c){var u=l.valueDim,h=l.categoryDim,d=Math.abs(n[h.wh]),p=t.getItemVisual(e,"symbolSize");C.isArray(p)?p=p.slice():(null==p&&(p="100%"),p=[p,p]),p[h.index]=D(p[h.index],d),p[u.index]=D(p[u.index],i?d:Math.abs(a)),c.symbolSize=p,(c.symbolScale=[p[0]/s,p[1]/s])[u.index]*=(l.isHorizontal?-1:1)*o}function s(t,e,n,i,r){var a=t.get(N)||0;a&&(B.attr({scale:e.slice(),rotation:n}),B.updateTransform(),a/=B.getLineScale(),a*=e[i.valueDim.index]),r.valueLineWidth=a}function l(t,e,n,i,r,a,o,s,l,c,u,h){var d=u.categoryDim,p=u.valueDim,f=h.pxSign,g=Math.max(e[p.index]+s,0),m=g;if(i){var v=Math.abs(l),y=C.retrieve(t.get("symbolMargin"),"15%")+"",x=!1;y.lastIndexOf("!")===y.length-1&&(x=!0,y=y.slice(0,y.length-1)),y=D(y,e[p.index]);var _=Math.max(g+2*y,0),b=x?0:2*y,w=R(i),M=w?i:T((v+b)/_);y=(v-M*g)/2/(x?M:M-1),_=g+2*y,b=x?0:2*y,w||"fixed"===i||(M=c?T((Math.abs(c)+b)/_):0),m=M*_-b,h.repeatTimes=M,h.symbolMargin=y}var S=f*(m/2),A=h.pathPosition=[];A[d.index]=n[d.wh]/2,A[p.index]="start"===o?S:"end"===o?l-S:l/2,a&&(A[0]+=a[0],A[1]+=a[1]);var L=h.bundlePosition=[];L[d.index]=n[d.xy],L[p.index]=n[p.xy];var E=h.barRectShape=C.extend({},n);E[p.wh]=f*Math.max(Math.abs(n[p.wh]),Math.abs(A[p.index]+S)),E[d.wh]=n[d.wh];var I=h.clipShape={};I[d.xy]=-n[d.xy],I[d.wh]=u.ecSize[d.wh],I[p.xy]=0,I[p.wh]=n[p.wh]}function c(t){var e=t.symbolPatternSize,n=I(t.symbolType,-e/2,-e/2,e,e,t.color);return n.attr({culling:!0}),"image"!==n.type&&n.setStyle({strokeNoScale:!0}),n}function u(t,e,n,i){function r(t){var e=h.slice(),i=n.pxSign,r=t;return("start"===n.symbolRepeatDirection?i>0:i<0)&&(r=p-1-t),e[d.index]=g*(r-p/2+.5)+h[d.index],{position:e,scale:n.symbolScale.slice(),rotation:n.rotation}}function a(){w(t,function(t){t.trigger("emphasis")})}function o(){w(t,function(t){t.trigger("normal")})}var s=t.__pictorialBundle,l=n.symbolSize,u=n.valueLineWidth,h=n.pathPosition,d=e.valueDim,p=n.repeatTimes||0,f=0,g=l[e.valueDim.index]+u+2*n.symbolMargin;for(w(t,function(t){t.__pictorialAnimationIndex=f,t.__pictorialRepeatTimes=p,f<p?M(t,null,r(f),n,i):M(t,null,{scale:[0,0]},n,i,function(){s.remove(t)}),v(t,n),f++});f<p;f++){var m=c(n);m.__pictorialAnimationIndex=f,m.__pictorialRepeatTimes=p,s.add(m);var y=r(f);M(m,{position:y.position,scale:[0,0]},{scale:y.scale,rotation:y.rotation},n,i),m.on("mouseover",a).on("mouseout",o),v(m,n)}}function h(t,e,n,i){function r(){this.trigger("emphasis")}function a(){this.trigger("normal")}var o=t.__pictorialBundle,s=t.__pictorialMainPath;s?M(s,null,{position:n.pathPosition.slice(),scale:n.symbolScale.slice(),rotation:n.rotation},n,i):(s=t.__pictorialMainPath=c(n),o.add(s),M(s,{position:n.pathPosition.slice(),scale:[0,0],rotation:n.rotation},{scale:n.symbolScale.slice()},n,i),s.on("mouseover",r).on("mouseout",a)),v(s,n)}function d(t,e,n){var i=C.extend({},e.barRectShape),r=t.__pictorialBarRect;r?M(r,null,{shape:i},e,n):(r=t.__pictorialBarRect=new L.Rect({z2:2,shape:i,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),t.add(r))}function p(t,e,n,i){if(n.symbolClip){var r=t.__pictorialClipPath,a=C.extend({},n.clipShape),o=e.valueDim,s=n.animationModel,l=n.dataIndex;if(r)L.updateProps(r,{shape:a},s,l);else{a[o.wh]=0,r=new L.Rect({shape:a}),t.__pictorialBundle.setClipPath(r),t.__pictorialClipPath=r;var c={};c[o.wh]=n.clipShape[o.wh],L[i?"updateProps":"initProps"](r,{shape:c},s,l)}}}function f(t,e){var n=t.getItemModel(e);return n.getAnimationDelayParams=g,n.isAnimationEnabled=m,n}function g(t){return{index:t.__pictorialAnimationIndex,count:t.__pictorialRepeatTimes}}function m(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function v(t,e){t.off("emphasis").off("normal");var n=e.symbolScale.slice();e.hoverAnimation&&t.on("emphasis",function(){this.animateTo({scale:[1.1*n[0],1.1*n[1]]},400,"elasticOut")}).on("normal",function(){this.animateTo({scale:n.slice()},400,"elasticOut")})}function y(t,e,n,i){var r=new L.Group,a=new L.Group;return r.add(a),r.__pictorialBundle=a,a.attr("position",n.bundlePosition.slice()),n.symbolRepeat?u(r,e,n):h(r,e,n),d(r,n,i),p(r,e,n,i),r.__pictorialShapeStr=b(t,n),r.__pictorialSymbolMeta=n,r}function x(t,e,n){var i=n.animationModel,r=n.dataIndex,a=t.__pictorialBundle;L.updateProps(a,{position:n.bundlePosition.slice()},i,r),n.symbolRepeat?u(t,e,n,!0):h(t,e,n,!0),d(t,n,!0),p(t,e,n,!0)}function _(t,e,n,i){var r=i.__pictorialBarRect;r&&(r.style.text=null);var a=[];w(i,function(t){a.push(t)}),i.__pictorialMainPath&&a.push(i.__pictorialMainPath),i.__pictorialClipPath&&(n=null),C.each(a,function(t){L.updateProps(t,{scale:[0,0]},n,e,function(){i.parent&&i.parent.remove(i)})}),t.setItemGraphicEl(e,null)}function b(t,e){return[t.getItemVisual(e.dataIndex,"symbol")||"none",!!e.symbolRepeat,!!e.symbolClip].join(":")}function w(t,e,n){C.each(t.__pictorialBundle.children(),function(i){i!==t.__pictorialBarRect&&e.call(n,i)})}function M(t,e,n,i,r,a){e&&t.attr(e),i.symbolClip&&!r?n&&t.attr(n):n&&L[r?"updateProps":"initProps"](t,n,i.animationModel,i.dataIndex,a)}function S(t,e,n){var i=n.color,r=n.dataIndex,a=n.itemModel,o=a.getModel("itemStyle").getItemStyle(["color"]),s=a.getModel("emphasis.itemStyle").getItemStyle(),l=a.getShallow("cursor");w(t,function(t){t.setColor(i),t.setStyle(C.defaults({fill:i,opacity:n.opacity},o)),L.setHoverStyle(t,s),l&&(t.cursor=l),t.z2=n.z2});var c={},u=e.valueDim.posDesc[+(n.boundingLength>0)],h=t.__pictorialBarRect;k(h.style,c,a,i,e.seriesModel,r,u),L.setHoverStyle(h,c)}function T(t){var e=Math.round(t);return Math.abs(t-e)<1e-4?e:Math.ceil(t)}var A=n(1),C=n(0),L=n(2),E=n(19),I=E.createSymbol,P=n(3),D=P.parsePercent,R=P.isNumeric,O=n(194),k=O.setLabel,N=["itemStyle","borderWidth"],z=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],B=new L.Circle,V=A.extendChartView({type:"pictorialBar",render:function(t,e,n){var r=this.group,a=t.getData(),o=this._data,s=t.coordinateSystem,l=s.getBaseAxis(),c=!!l.isHorizontal(),u=s.grid.getRect(),h={ecSize:{width:n.getWidth(),height:n.getHeight()},seriesModel:t,coordSys:s,coordSysExtent:[[u.x,u.x+u.width],[u.y,u.y+u.height]],isHorizontal:c,valueDim:z[+c],categoryDim:z[1-c]};return a.diff(o).add(function(t){if(a.hasValue(t)){var e=f(a,t),n=i(a,t,e,h),o=y(a,h,n);a.setItemGraphicEl(t,o),r.add(o),S(o,h,n)}}).update(function(t,e){var n=o.getItemGraphicEl(e);if(!a.hasValue(t))return void r.remove(n);var s=f(a,t),l=i(a,t,s,h),c=b(a,l);n&&c!==n.__pictorialShapeStr&&(r.remove(n),a.setItemGraphicEl(t,null),n=null),n?x(n,h,l):n=y(a,h,l,!0),a.setItemGraphicEl(t,n),n.__pictorialSymbolMeta=l,r.add(n),S(n,h,l)}).remove(function(t){var e=o.getItemGraphicEl(t);e&&_(o,t,e.__pictorialSymbolMeta.animationModel,e)}).execute(),this._data=a,this.group},dispose:C.noop,remove:function(t,e){var n=this.group,i=this._data;t.get("animation")?i&&i.eachItemGraphicEl(function(e){_(i,e.dataIndex,t,e)}):n.removeAll()}}),F=V;t.exports=F},function(t,e,n){var i=n(1);n(212),n(484),n(485);var r=n(486),a=n(487),o=n(69);i.registerLayout(r),i.registerVisual(a),i.registerProcessor(o("themeRiver"))},function(t,e,n){function i(t,e){var n=[];return t.eachComponent("singleAxis",function(i,a){var o=new r(i,t,e);o.name="single_"+a,o.resize(i,e),i.coordinateSystem=o,n.push(o)}),t.eachSeries(function(e){if("singleAxis"===e.get("coordinateSystem")){var n=t.queryComponents({mainType:"singleAxis",index:e.get("singleAxisIndex"),id:e.get("singleAxisId")})[0];e.coordinateSystem=n&&n.coordinateSystem}}),n}var r=n(476);n(21).register("single",{create:i,dimensions:r.prototype.dimensions})},function(t,e,n){function i(t,e,n){this.dimension="single",this.dimensions=["single"],this._axis=null,this._rect,this._init(t,e,n),this.model=t}var r=n(477),a=n(22),o=n(6),s=o.getLayoutRect,l=n(0),c=l.each;i.prototype={type:"singleAxis",axisPointerEnabled:!0,constructor:i,_init:function(t,e,n){var i=this.dimension,o=new r(i,a.createScaleByModel(t),[0,0],t.get("type"),t.get("position")),s="category"===o.type;o.onBand=s&&t.get("boundaryGap"),o.inverse=t.get("inverse"),o.orient=t.get("orient"),t.axis=o,o.model=t,o.coordinateSystem=this,this._axis=o},update:function(t,e){t.eachSeries(function(t){if(t.coordinateSystem===this){var e=t.getData();c(e.mapDimension(this.dimension,!0),function(t){this._axis.scale.unionExtentFromData(e,t)},this),a.niceScaleExtent(this._axis.scale,this._axis.model)}},this)},resize:function(t,e){this._rect=s({left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")},{width:e.getWidth(),height:e.getHeight()}),this._adjustAxis()},getRect:function(){return this._rect},_adjustAxis:function(){var t=this._rect,e=this._axis,n=e.isHorizontal(),i=n?[0,t.width]:[0,t.height],r=e.reverse?1:0;e.setExtent(i[r],i[1-r]),this._updateAxisTransform(e,n?t.x:t.y)},_updateAxisTransform:function(t,e){var n=t.getExtent(),i=n[0]+n[1],r=t.isHorizontal();t.toGlobalCoord=r?function(t){return t+e}:function(t){return i-t+e},t.toLocalCoord=r?function(t){return t-e}:function(t){return i-t+e}},getAxis:function(){return this._axis},getBaseAxis:function(){return this._axis},getAxes:function(){return[this._axis]},getTooltipAxes:function(){return{baseAxes:[this.getAxis()]}},containPoint:function(t){var e=this.getRect(),n=this.getAxis();return"horizontal"===n.orient?n.contain(n.toLocalCoord(t[0]))&&t[1]>=e.y&&t[1]<=e.y+e.height:n.contain(n.toLocalCoord(t[1]))&&t[0]>=e.y&&t[0]<=e.y+e.height},pointToData:function(t){var e=this.getAxis();return[e.coordToData(e.toLocalCoord(t["horizontal"===e.orient?0:1]))]},dataToPoint:function(t){var e=this.getAxis(),n=this.getRect(),i=[],r="horizontal"===e.orient?0:1;return t instanceof Array&&(t=t[0]),i[r]=e.toGlobalCoord(e.dataToCoord(+t)),i[1-r]=0===r?n.y+n.height/2:n.x+n.width/2,i}};var u=i;t.exports=u},function(t,e,n){var i=n(0),r=n(35),a=function(t,e,n,i,a){r.call(this,t,e,n),this.type=i||"value",this.position=a||"bottom",this.orient=null};a.prototype={constructor:a,model:null,isHorizontal:function(){var t=this.position;return"top"===t||"bottom"===t},pointToData:function(t,e){return this.coordinateSystem.pointToData(t,e)[0]},toGlobalCoord:null,toLocalCoord:null},i.inherits(a,r);var o=a;t.exports=o},function(t,e,n){var i=n(0),r=n(36),a=n(2),o=n(213),s=n(43),l=["axisLine","axisTickLabel","axisName"],c=s.extend({type:"singleAxis",axisPointerClass:"SingleAxisPointer",render:function(t,e,n,a){var s=this.group;s.removeAll();var u=o.layout(t),h=new r(t,u);i.each(l,h.add,h),s.add(h.getGroup()),t.get("splitLine.show")&&this._splitLine(t),c.superCall(this,"render",t,e,n,a)},_splitLine:function(t){var e=t.axis;if(!e.scale.isBlank()){var n=t.getModel("splitLine"),i=n.getModel("lineStyle"),r=i.get("width"),o=i.get("color");o=o instanceof Array?o:[o];for(var s=t.coordinateSystem.getRect(),l=e.isHorizontal(),c=[],u=0,h=e.getTicksCoords({tickModel:n}),d=[],p=[],f=0;f<h.length;++f){var g=e.toGlobalCoord(h[f].coord);l?(d[0]=g,d[1]=s.y,p[0]=g,p[1]=s.y+s.height):(d[0]=s.x,d[1]=g,p[0]=s.x+s.width,p[1]=g);var m=u++%o.length;c[m]=c[m]||[],c[m].push(new a.Line({subPixelOptimize:!0,shape:{x1:d[0],y1:d[1],x2:p[0],y2:p[1]},style:{lineWidth:r},silent:!0}))}for(var f=0;f<c.length;++f)this.group.add(a.mergePath(c[f],{style:{stroke:o[f%o.length],lineDash:i.getLineDash(r),lineWidth:r},silent:!0}))}}}),u=c;t.exports=u},function(t,e,n){function i(t,e){return e.type||(e.data?"category":"value")}var r=n(0),a=n(13),o=n(85),s=n(52),l=a.extend({type:"singleAxis",layoutMode:"box",axis:null,coordinateSystem:null,getCoordSysModel:function(){return this}}),c={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}};r.merge(l.prototype,s),o("single",l,i,c);var u=l;t.exports=u},function(t,e,n){function i(t,e,n){var i=t.currTrigger,a=[t.x,t.y],g=t,m=t.dispatchAction||f.bind(n.dispatchAction,n),v=e.getComponent("axisPointer").coordSysAxesInfo;if(v){p(a)&&(a=y({seriesIndex:g.seriesIndex,dataIndex:g.dataIndex},e).point);var b=p(a),w=g.axesInfo,M=v.axesInfo,S="leave"===i||p(a),T={},A={},C={list:[],map:{}},L={showPointer:_(o,A),showTooltip:_(s,C)};x(v.coordSysMap,function(t,e){var n=b||t.containPoint(a);x(v.coordSysAxesInfo[e],function(t,e){var i=t.axis,o=h(w,t);if(!S&&n&&(!w||o)){var s=o&&o.value;null!=s||b||(s=i.pointToData(a)),null!=s&&r(t,s,L,!1,T)}})});var E={};return x(M,function(t,e){var n=t.linkGroup;n&&!A[e]&&x(n.axesInfo,function(e,i){var r=A[i];if(e!==t&&r){var a=r.value;n.mapper&&(a=t.axis.scale.parse(n.mapper(a,d(e),d(t)))),E[t.key]=a}})}),x(E,function(t,e){r(M[e],t,L,!0,T)}),l(A,M,T),c(C,a,t,m),u(M,m,n),T}}function r(t,e,n,i,r){var o=t.axis;if(!o.scale.isBlank()&&o.containData(e)){if(!t.involveSeries)return void n.showPointer(t,e);var s=a(e,t),l=s.payloadBatch,c=s.snapToValue;l[0]&&null==r.seriesIndex&&f.extend(r,l[0]),!i&&t.snap&&o.containData(c)&&null!=c&&(e=c),n.showPointer(t,e,l,r),n.showTooltip(t,s,c)}}function a(t,e){var n=e.axis,i=n.dim,r=t,a=[],o=Number.MAX_VALUE,s=-1;return x(e.seriesModels,function(e,l){var c,u,h=e.getData().mapDimension(i,!0);if(e.getAxisTooltipData){var d=e.getAxisTooltipData(h,t,n);u=d.dataIndices,c=d.nestestValue}else{if(u=e.getData().indicesOfNearest(h[0],t,"category"===n.type?.5:null),!u.length)return;c=e.getData().get(h[0],u[0])}if(null!=c&&isFinite(c)){var p=t-c,f=Math.abs(p);f<=o&&((f<o||p>=0&&s<0)&&(o=f,s=p,r=c,a.length=0),x(u,function(t){a.push({seriesIndex:e.seriesIndex,dataIndexInside:t,dataIndex:e.getData().getRawIndex(t)})}))}}),{payloadBatch:a,snapToValue:r}}function o(t,e,n,i){t[e.key]={value:n,payloadBatch:i}}function s(t,e,n,i){var r=n.payloadBatch,a=e.axis,o=a.model,s=e.axisPointerModel;if(e.triggerTooltip&&r.length){var l=e.coordSys.model,c=v.makeKey(l),u=t.map[c];u||(u=t.map[c]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},t.list.push(u)),u.dataByAxis.push({axisDim:a.dim,axisIndex:o.componentIndex,axisType:o.type,axisId:o.id,value:i,valueLabelOpt:{precision:s.get("label.precision"),formatter:s.get("label.formatter")},seriesDataIndices:r.slice()})}}function l(t,e,n){var i=n.axesInfo=[];x(e,function(e,n){var r=e.axisPointerModel.option,a=t[n];a?(!e.useHandle&&(r.status="show"),r.value=a.value,r.seriesDataIndices=(a.payloadBatch||[]).slice()):!e.useHandle&&(r.status="hide"),"show"===r.status&&i.push({axisDim:e.axis.dim,axisIndex:e.axis.model.componentIndex,value:r.value})})}function c(t,e,n,i){if(p(e)||!t.list.length)return void i({type:"hideTip"});var r=((t.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};i({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:n.tooltipOption,position:n.position,dataIndexInside:r.dataIndexInside,dataIndex:r.dataIndex,seriesIndex:r.seriesIndex,dataByCoordSys:t.list})}function u(t,e,n){var i=n.getZr(),r=b(i).axisPointerLastHighlights||{},a=b(i).axisPointerLastHighlights={};x(t,function(t,e){var n=t.axisPointerModel.option;"show"===n.status&&x(n.seriesDataIndices,function(t){var e=t.seriesIndex+" | "+t.dataIndex;a[e]=t})});var o=[],s=[];f.each(r,function(t,e){!a[e]&&s.push(t)}),f.each(a,function(t,e){!r[e]&&o.push(t)}),s.length&&n.dispatchAction({type:"downplay",escapeConnect:!0,batch:s}),o.length&&n.dispatchAction({type:"highlight",escapeConnect:!0,batch:o})}function h(t,e){for(var n=0;n<(t||[]).length;n++){var i=t[n];if(e.axis.dim===i.axisDim&&e.axis.model.componentIndex===i.axisIndex)return i}}function d(t){var e=t.axis.model,n={},i=n.axisDim=t.axis.dim;return n.axisIndex=n[i+"AxisIndex"]=e.componentIndex,n.axisName=n[i+"AxisName"]=e.name,n.axisId=n[i+"AxisId"]=e.id,n}function p(t){return!t||null==t[0]||isNaN(t[0])||null==t[1]||isNaN(t[1])}var f=n(0),g=n(4),m=g.makeInner,v=n(86),y=n(214),x=f.each,_=f.curry,b=m();t.exports=i},function(t,e,n){var i=n(1),r=i.extendComponentModel({type:"axisPointer",coordSysAxesInfo:null,defaultOption:{show:"auto",triggerOn:null,zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#aaa",width:1,type:"solid"},shadowStyle:{color:"rgba(150,150,150,0.3)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,shadowBlur:3,shadowColor:"#aaa"},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}}}),a=r;t.exports=a},function(t,e,n){var i=n(1),r=n(215),a=i.extendComponentView({type:"axisPointer",render:function(t,e,n){var i=e.getComponent("tooltip"),a=t.get("triggerOn")||i&&i.get("triggerOn")||"mousemove|click";r.register("axisPointer",n,function(t,e,n){"none"!==a&&("leave"===t||a.indexOf(t)>=0)&&n({type:"updateAxisPointer",currTrigger:t,x:e&&e.offsetX,y:e&&e.offsetY})})},remove:function(t,e){r.unregister(e.getZr(),"axisPointer"),a.superApply(this._model,"remove",arguments)},dispose:function(t,e){r.unregister("axisPointer",e),a.superApply(this._model,"dispose",arguments)}}),o=a;t.exports=o},function(t,e,n){function i(t){return t.isHorizontal()?0:1}function r(t,e){var n=t.getRect();return[n[c[e]],n[c[e]]+n[u[e]]]}var a=n(116),o=n(90),s=n(213),l=n(43),c=["x","y"],u=["width","height"],h=a.extend({makeElOption:function(t,e,n,a,l){var c=n.axis,u=c.coordinateSystem,h=r(u,1-i(c)),p=u.dataToPoint(e)[0],f=a.get("type");if(f&&"none"!==f){var g=o.buildElStyle(a),m=d[f](c,p,h);m.style=g,t.graphicKey=m.type,t.pointer=m}var v=s.layout(n);o.buildCartesianSingleLabelElOption(e,t,v,n,a,l)},getHandleTransform:function(t,e,n){var i=s.layout(e,{labelInside:!1});return i.labelMargin=n.get("handle.margin"),{position:o.getTransformedPosition(e.axis,t,i),rotation:i.rotation+(i.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(t,e,n,a){var o=n.axis,s=o.coordinateSystem,l=i(o),c=r(s,l),u=t.position;u[l]+=e[l],u[l]=Math.min(c[1],u[l]),u[l]=Math.max(c[0],u[l]);var h=r(s,1-l),d=(h[1]+h[0])/2,p=[d,d];return p[l]=u[l],{position:u,rotation:t.rotation,cursorPoint:p,tooltipOption:{verticalAlign:"middle"}}}}),d={line:function(t,e,n){return{type:"Line",subPixelOptimize:!0,shape:o.makeLineShape([e,n[0]],[e,n[1]],i(t))}},shadow:function(t,e,n){var r=t.getBandWidth(),a=n[1]-n[0];return{type:"Rect",shape:o.makeRectShape([e-r/2,n[0]],[r,a],i(t))}}};l.registerAxisPointerClass("SingleAxisPointer",h);var p=h;t.exports=p},function(t,e,n){var i=n(14),r=n(51),a=n(63),o=a.getDimensionTypeByAxis,s=n(18),l=n(0),c=n(4),u=c.groupData,h=n(9),d=h.encodeHTML,p=n(68),f=i.extend({type:"series.themeRiver",dependencies:["singleAxis"],nameMap:null,init:function(t){f.superApply(this,"init",arguments),this.legendVisualProvider=new p(l.bind(this.getData,this),l.bind(this.getRawData,this))},fixData:function(t){var e=t.length,n=u(t,function(t){return t[2]}),i=[];n.buckets.each(function(t,e){i.push({name:e,dataList:t})});for(var r=i.length,a=-1,o=-1,s=0;s<r;++s){var l=i[s].dataList.length;l>a&&(a=l,o=s)}for(var c=0;c<r;++c)if(c!==o)for(var h=i[c].name,d=0;d<a;++d){for(var p=i[o].dataList[d][0],f=i[c].dataList.length,g=-1,m=0;m<f;++m){var v=i[c].dataList[m][0];if(v===p){g=m;break}}-1===g&&(t[e]=[],t[e][0]=p,t[e][1]=0,t[e][2]=h,e++)}return t},getInitialData:function(t,e){for(var n=e.queryComponents({mainType:"singleAxis",index:this.get("singleAxisIndex"),id:this.get("singleAxisId")})[0],i=n.get("type"),a=l.filter(t.data,function(t){return void 0!==t[2]}),c=this.fixData(a||[]),u=[],h=this.nameMap=l.createHashMap(),d=0,p=0;p<c.length;++p)u.push(c[p][2]),h.get(c[p][2])||(h.set(c[p][2],d),d++);var f=r(c,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:o(i)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}),g=new s(f,this);return g.initData(c),g},getLayerSeries:function(){for(var t=this.getData(),e=t.count(),n=[],i=0;i<e;++i)n[i]=i;var r=t.mapDimension("single"),a=u(n,function(e){return t.get("name",e)}),o=[];return a.buckets.each(function(e,n){e.sort(function(e,n){return t.get(r,e)-t.get(r,n)}),o.push({name:n,indices:e})}),o},getAxisTooltipData:function(t,e,n){l.isArray(t)||(t=t?[t]:[]);for(var i,r=this.getData(),a=this.getLayerSeries(),o=[],s=a.length,c=0;c<s;++c){for(var u=Number.MAX_VALUE,h=-1,d=a[c].indices.length,p=0;p<d;++p){var f=r.get(t[0],a[c].indices[p]),g=Math.abs(f-e);g<=u&&(i=f,u=g,h=a[c].indices[p])}o.push(h)}return{dataIndices:o,nestestValue:i}},formatTooltip:function(t){var e=this.getData(),n=e.getName(t),i=e.get(e.mapDimension("value"),t);return(isNaN(i)||null==i)&&(i="-"),d(n+" : "+i)},defaultOption:{zlevel:0,z:2,coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",color:"#000",fontSize:11},emphasis:{label:{show:!0}}}}),g=f;t.exports=g},function(t,e,n){function i(t,e,n){var i=new s.Rect({shape:{x:t.x-10,y:t.y-10,width:0,height:t.height+20}});return s.initProps(i,{shape:{width:t.width+20,height:t.height+20}},e,n),i}var r=n(1),a=n(189),o=a.Polygon,s=n(2),l=n(0),c=l.bind,u=l.extend,h=n(41),d=r.extendChartView({type:"themeRiver",init:function(){this._layers=[]},render:function(t,e,n){function r(t){return t.name}function a(e,n,r){var a=this._layers;if("remove"===e)return void d.remove(a[n]);for(var c,h=[],f=[],g=p[n].indices,m=0;m<g.length;m++){var v=l.getItemLayout(g[m]),x=v.x,_=v.y0,b=v.y;h.push([x,_]),f.push([x,_+b]),c=l.getItemVisual(g[m],"color")}var w,M,S=l.getItemLayout(g[0]),T=l.getItemModel(g[m-1]),A=T.getModel("label"),C=A.get("margin");if("add"===e){var L=y[n]=new s.Group;w=new o({shape:{points:h,stackedOnPoints:f,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),M=new s.Text({style:{x:S.x-C,y:S.y0+S.y/2}}),L.add(w),L.add(M),d.add(L),w.setClipPath(i(w.getBoundingRect(),t,function(){w.removeClipPath()}))}else{var L=a[r];w=L.childAt(0),M=L.childAt(1),d.add(L),y[n]=L,s.updateProps(w,{shape:{points:h,stackedOnPoints:f}},t),s.updateProps(M,{style:{x:S.x-C,y:S.y0+S.y/2}},t)}var E=T.getModel("emphasis.itemStyle"),I=T.getModel("itemStyle");s.setTextStyle(M.style,A,{text:A.get("show")?t.getFormattedLabel(g[m-1],"normal")||l.getName(g[m-1]):null,textVerticalAlign:"middle"}),w.setStyle(u({fill:c},I.getItemStyle(["color"]))),s.setHoverStyle(w,E.getItemStyle())}var l=t.getData(),d=this.group,p=t.getLayerSeries(),f=l.getLayout("layoutInfo"),g=f.rect,m=f.boundaryGap;d.attr("position",[0,g.y+m[0]]);var v=new h(this._layersSeries||[],p,r,r),y={};v.add(c(a,this,"add")).update(c(a,this,"update")).remove(c(a,this,"remove")).execute(),this._layersSeries=p,this._layers=y},dispose:function(){}});t.exports=d},function(t,e,n){function i(t,e){t.eachSeriesByType("themeRiver",function(t){var e=t.getData(),n=t.coordinateSystem,i={},a=n.getRect();i.rect=a;var o=t.get("boundaryGap"),l=n.getAxis();if(i.boundaryGap=o,"horizontal"===l.orient){o[0]=s.parsePercent(o[0],a.height),o[1]=s.parsePercent(o[1],a.height);r(e,t,a.height-o[0]-o[1])}else{o[0]=s.parsePercent(o[0],a.width),o[1]=s.parsePercent(o[1],a.width);r(e,t,a.width-o[0]-o[1])}e.setLayout("layoutInfo",i)})}function r(t,e,n){if(t.count())for(var i,r=e.coordinateSystem,s=e.getLayerSeries(),l=t.mapDimension("single"),c=t.mapDimension("value"),u=o.map(s,function(e){return o.map(e.indices,function(e){var n=r.dataToPoint(t.get(l,e));return n[1]=t.get(c,e),n})}),h=a(u),d=h.y0,p=n/h.max,f=s.length,g=s[0].indices.length,m=0;m<g;++m){i=d[m]*p,t.setItemLayout(s[0].indices[m],{layerIndex:0,x:u[0][m][0],y0:i,y:u[0][m][1]*p});for(var v=1;v<f;++v)i+=u[v-1][m][1]*p,t.setItemLayout(s[v].indices[m],{layerIndex:v,x:u[v][m][0],y0:i,y:u[v][m][1]*p})}}function a(t){for(var e,n=t.length,i=t[0].length,r=[],a=[],o=0,s={},l=0;l<i;++l){for(var c=0,e=0;c<n;++c)e+=t[c][l][1];e>o&&(o=e),r.push(e)}for(var u=0;u<i;++u)a[u]=(o-r[u])/2;o=0;for(var h=0;h<i;++h){var d=r[h]+a[h];d>o&&(o=d)}return s.y0=a,s.max=o,s}var o=n(0),s=n(3);t.exports=i},function(t,e,n){function i(t){t.eachSeriesByType("themeRiver",function(t){var e=t.getData(),n=t.getRawData(),i=t.get("color"),r=a();e.each(function(t){r.set(e.getRawIndex(t),t)}),n.each(function(a){var o=n.getName(a),s=i[(t.nameMap.get(o)-1)%i.length];n.setItemVisual(a,"color",s);var l=r.get(a);null!=l&&e.setItemVisual(l,"color",s)})})}var r=n(0),a=r.createHashMap;t.exports=i},function(t,e,n){var i=n(1),r=n(0);n(489),n(490),n(492);var a=n(87),o=n(493),s=n(69);i.registerVisual(r.curry(a,"sunburst")),i.registerLayout(r.curry(o,"sunburst")),i.registerProcessor(r.curry(s,"sunburst"))},function(t,e,n){function i(t){var e=0;r.each(t.children,function(t){i(t);var n=t.value;r.isArray(n)&&(n=n[0]),e+=n});var n=t.value;r.isArray(n)&&(n=n[0]),(null==n||isNaN(n))&&(n=e),n<0&&(n=0),r.isArray(t.value)?t.value[0]=n:t.value=n}var r=n(0),a=n(14),o=n(111),s=n(44),l=s.wrapTreePathInfo,c=a.extend({type:"series.sunburst",_viewRoot:null,getInitialData:function(t,e){var n={name:t.name,children:t.data};i(n);var r=t.levels||[],a={};return a.levels=r,o.createTree(n,this,a).data},optionUpdated:function(){this.resetViewRoot()},getDataParams:function(t){var e=a.prototype.getDataParams.apply(this,arguments),n=this.getData().tree.getNodeByDataIndex(t);return e.treePathInfo=l(n,this),e},defaultOption:{zlevel:0,z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,percentPrecision:2,stillShowZeroSum:!0,highlightPolicy:"descendant",nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0,emphasis:{}},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1,emphasis:{},highlight:{opacity:1},downplay:{opacity:.9}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicOut",data:[],levels:[],sort:"desc"},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(t){t?this._viewRoot=t:t=this._viewRoot;var e=this.getRawData().tree.root;t&&(t===e||e.contains(t))||(this._viewRoot=e)}});t.exports=c},function(t,e,n){var i=n(0),r=n(25),a=n(491),o=n(41),s=r.extend({type:"sunburst",init:function(){},render:function(t,e,n,r){function s(n,i){if(f||!n||n.getValue()||(n=null),n!==h&&i!==h)if(i&&i.piece)n?(i.piece.updateData(!1,n,"normal",t,e),u.setItemGraphicEl(n.dataIndex,i.piece)):l(i);else if(n){var r=new a(n,t,e);p.add(r),u.setItemGraphicEl(n.dataIndex,r)}}function l(t){t&&t.piece&&(p.remove(t.piece),t.piece=null)}var c=this;this.seriesModel=t,this.api=n,this.ecModel=e;var u=t.getData(),h=u.tree.root,d=t.getViewRoot(),p=this.group,f=t.get("renderLabelForZeroData"),g=[];d.eachNode(function(t){g.push(t)});var m=this._oldChildren||[];if(function(t,e){function n(t){return t.getId()}function r(n,i){s(null==n?null:t[n],null==i?null:e[i])}0===t.length&&0===e.length||new o(e,t,n,n).add(r).update(r).remove(i.curry(r,null)).execute()}(g,m),function(n,i){if(i.depth>0){c.virtualPiece?c.virtualPiece.updateData(!1,n,"normal",t,e):(c.virtualPiece=new a(n,t,e),p.add(c.virtualPiece)),i.piece._onclickEvent&&i.piece.off("click",i.piece._onclickEvent);var r=function(t){c._rootToNode(i.parentNode)};i.piece._onclickEvent=r,c.virtualPiece.on("click",r)}else c.virtualPiece&&(p.remove(c.virtualPiece),c.virtualPiece=null)}(h,d),r&&r.highlight&&r.highlight.piece){var v=t.getShallow("highlightPolicy");r.highlight.piece.onEmphasis(v)}else if(r&&r.unhighlight){var y=this.virtualPiece;!y&&h.children.length&&(y=h.children[0].piece),y&&y.onNormal()}this._initEvents(),this._oldChildren=g},dispose:function(){},_initEvents:function(){var t=this,e=function(e){var n=!1;t.seriesModel.getViewRoot().eachNode(function(i){if(!n&&i.piece&&i.piece.childAt(0)===e.target){var r=i.getModel().get("nodeClick");if("rootToNode"===r)t._rootToNode(i);else if("link"===r){var a=i.getModel(),o=a.get("link");if(o){var s=a.get("target",!0)||"_blank";window.open(o,s)}}n=!0}})};this.group._onclickEvent&&this.group.off("click",this.group._onclickEvent),this.group.on("click",e),this.group._onclickEvent=e},_rootToNode:function(t){t!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:"sunburstRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t})},containPoint:function(t,e){var n=e.getData(),i=n.getItemLayout(0);if(i){var r=t[0]-i.cx,a=t[1]-i.cy,o=Math.sqrt(r*r+a*a);return o<=i.r&&o>=i.r0}}}),l=s;t.exports=l},function(t,e,n){function i(t,e,n){function i(){o.ignore=o.hoverIgnore}function r(){o.ignore=o.normalIgnore}c.Group.call(this);var a=new c.Sector({z2:h});a.seriesIndex=e.seriesIndex;var o=new c.Text({z2:d,silent:t.getModel("label").get("silent")});this.add(a),this.add(o),this.updateData(!0,t,"normal",e,n),this.on("emphasis",i).on("normal",r).on("mouseover",i).on("mouseout",r)}function r(t,e,n){var i=t.getVisual("color"),r=t.getVisual("visualMeta");r&&0!==r.length||(i=null);var o=t.getModel("itemStyle").get("color");if(o)return o;if(i)return i;if(0===t.depth)return n.option.color[0];var s=n.option.color.length;return o=n.option.color[a(t)%s]}function a(t){for(var e=t;e.depth>1;)e=e.parentNode;var n=t.getAncestors()[0];return l.indexOf(n.children,e)}function o(t,e,n){return n!==u.NONE&&(n===u.SELF?t===e:n===u.ANCESTOR?t===e||t.isAncestorOf(e):t===e||t.isDescendantOf(e))}function s(t,e,n){e.getData().setItemVisual(t.dataIndex,"color",n)}var l=n(0),c=n(2),u={NONE:"none",DESCENDANT:"descendant",ANCESTOR:"ancestor",SELF:"self"},h=2,d=4,p=i.prototype;p.updateData=function(t,e,n,i,a){this.node=e,e.piece=this,i=i||this._seriesModel,a=a||this._ecModel;var o=this.childAt(0);o.dataIndex=e.dataIndex;var u=e.getModel(),h=e.getLayout(),d=l.extend({},h);d.label=null;var p=r(e,i,a);s(e,i,p);var f,g=u.getModel("itemStyle").getItemStyle();if("normal"===n)f=g;else{var m=u.getModel(n+".itemStyle").getItemStyle();f=l.merge(m,g)}f=l.defaults({lineJoin:"bevel",fill:f.fill||p},f),t?(o.setShape(d),o.shape.r=h.r0,c.updateProps(o,{shape:{r:h.r}},i,e.dataIndex),o.useStyle(f)):"object"==typeof f.fill&&f.fill.type||"object"==typeof o.style.fill&&o.style.fill.type?(c.updateProps(o,{shape:d},i),o.useStyle(f)):c.updateProps(o,{shape:d,style:f},i),this._updateLabel(i,p,n);var v=u.getShallow("cursor");if(v&&o.attr("cursor",v),t){var y=i.getShallow("highlightPolicy");this._initEvents(o,e,i,y)}this._seriesModel=i||this._seriesModel,this._ecModel=a||this._ecModel},p.onEmphasis=function(t){var e=this;this.node.hostTree.root.eachNode(function(n){n.piece&&(e.node===n?n.piece.updateData(!1,n,"emphasis"):o(n,e.node,t)?n.piece.childAt(0).trigger("highlight"):t!==u.NONE&&n.piece.childAt(0).trigger("downplay"))})},p.onNormal=function(){this.node.hostTree.root.eachNode(function(t){t.piece&&t.piece.updateData(!1,t,"normal")})},p.onHighlight=function(){this.updateData(!1,this.node,"highlight")},p.onDownplay=function(){this.updateData(!1,this.node,"downplay")},p._updateLabel=function(t,e,n){function i(t){var e=o.get(t);return null==e?a.get(t):e}var r=this.node.getModel(),a=r.getModel("label"),o="normal"===n||"emphasis"===n?a:r.getModel(n+".label"),s=r.getModel("emphasis.label"),u=l.retrieve(t.getFormattedLabel(this.node.dataIndex,n,null,null,"label"),this.node.name);!1===i("show")&&(u="");var h=this.node.getLayout(),d=o.get("minAngle");null==d&&(d=a.get("minAngle")),d=d/180*Math.PI;var p=h.endAngle-h.startAngle;null!=d&&Math.abs(p)<d&&(u="");var f=this.childAt(1);c.setLabelStyle(f.style,f.hoverStyle||{},a,s,{defaultText:o.getShallow("show")?u:null,autoColor:e,useInsideStyle:!0});var g,m=(h.startAngle+h.endAngle)/2,v=Math.cos(m),y=Math.sin(m),x=i("position"),_=i("distance")||0,b=i("align");"outside"===x?(g=h.r+_,b=m>Math.PI/2?"right":"left"):b&&"center"!==b?"left"===b?(g=h.r0+_,m>Math.PI/2&&(b="right")):"right"===b&&(g=h.r-_,m>Math.PI/2&&(b="left")):(g=(h.r+h.r0)/2,b="center"),f.attr("style",{text:u,textAlign:b,textVerticalAlign:i("verticalAlign")||"middle",opacity:i("opacity")});var w=g*v+h.cx,M=g*y+h.cy;f.attr("position",[w,M]);var S=i("rotate"),T=0;"radial"===S?(T=-m)<-Math.PI/2&&(T+=Math.PI):"tangential"===S?(T=Math.PI/2-m,T>Math.PI/2?T-=Math.PI:T<-Math.PI/2&&(T+=Math.PI)):"number"==typeof S&&(T=S*Math.PI/180),f.attr("rotation",T)},p._initEvents=function(t,e,n,i){t.off("mouseover").off("mouseout").off("emphasis").off("normal");var r=this,a=function(){r.onEmphasis(i)},o=function(){r.onNormal()},s=function(){r.onDownplay()},l=function(){r.onHighlight()};n.isAnimationEnabled()&&t.on("mouseover",a).on("mouseout",o).on("emphasis",a).on("normal",o).on("downplay",s).on("highlight",l)},l.inherits(i,c.Group);var f=i;t.exports=f},function(t,e,n){var i=n(1),r=n(44),a="sunburstRootToNode";i.registerAction({type:a,update:"updateView"},function(t,e){function n(e,n){var i=r.retrieveTargetInfo(t,[a],e);if(i){var o=e.getViewRoot();o&&(t.direction=r.aboveViewRoot(o,i.node)?"rollUp":"drillDown"),e.resetViewRoot(i.node)}}e.eachComponent({mainType:"series",subType:"sunburst",query:t},n)});var o="sunburstHighlight";i.registerAction({type:o,update:"updateView"},function(t,e){function n(e,n){var i=r.retrieveTargetInfo(t,[o],e);i&&(t.highlight=i.node)}e.eachComponent({mainType:"series",subType:"sunburst",query:t},n)});i.registerAction({type:"sunburstUnhighlight",update:"updateView"},function(t,e){function n(e,n){t.unhighlight=!0}e.eachComponent({mainType:"series",subType:"sunburst",query:t},n)})},function(t,e,n){function i(t,e,n,i){e.eachSeriesByType(t,function(t){var e=t.get("center"),i=t.get("radius");l.isArray(i)||(i=[0,i]),l.isArray(e)||(e=[e,e]);var a=n.getWidth(),o=n.getHeight(),u=Math.min(a,o),h=s(e[0],a),d=s(e[1],o),p=s(i[0],u/2),f=s(i[1],u/2),g=-t.get("startAngle")*c,m=t.get("minAngle")*c,v=t.getData().tree.root,y=t.getViewRoot(),x=y.depth,_=t.get("sort");null!=_&&r(y,_);var b=0;l.each(y.children,function(t){!isNaN(t.getValue())&&b++});var w=y.getValue(),M=Math.PI/(w||b)*2,S=y.depth>0,T=y.height-(S?-1:1),A=(f-p)/(T||1),C=t.get("clockwise"),L=t.get("stillShowZeroSum"),E=C?1:-1,I=function(t,e){if(t){var n=e;if(t!==v){var i=t.getValue(),r=0===w&&L?M:i*M;r<m&&(r=m),n=e+E*r;var a=t.depth-x-(S?-1:1),o=p+A*a,c=p+A*(a+1),f=t.getModel();null!=f.get("r0")&&(o=s(f.get("r0"),u/2)),null!=f.get("r")&&(c=s(f.get("r"),u/2)),t.setLayout({angle:r,startAngle:e,endAngle:n,clockwise:C,cx:h,cy:d,r0:o,r:c})}if(t.children&&t.children.length){var g=0;l.each(t.children,function(t){g+=I(t,e+g)})}return n-e}};if(S){var P=p,D=p+A,R=2*Math.PI;v.setLayout({angle:R,startAngle:g,endAngle:g+R,clockwise:C,cx:h,cy:d,r0:P,r:D})}I(y,g)})}function r(t,e){var n=t.children||[];t.children=a(n,e),n.length&&l.each(t.children,function(t){r(t,e)})}function a(t,e){if("function"==typeof e)return t.sort(e);var n="asc"===e;return t.sort(function(t,e){var i=(t.getValue()-e.getValue())*(n?1:-1);return 0===i?(t.dataIndex-e.dataIndex)*(n?-1:1):i})}var o=n(3),s=o.parsePercent,l=n(0),c=Math.PI/180;t.exports=i},function(t,e,n){function i(t){var e,n=t.type;if("path"===n){var i=t.shape,r=null!=i.width&&null!=i.height?{x:i.x||0,y:i.y||0,width:i.width,height:i.height}:null,a=v(i);e=w.makePath(a,null,r,i.layout||"center"),e.__customPathData=a}else if("image"===n)e=new w.Image({}),e.__customImagePath=t.style.image;else if("text"===n)e=new w.Text({}),e.__customText=t.style.text;else if("group"===n)e=new w.Group;else{if("compoundPath"===n)throw new Error('"compoundPath" is not supported yet.');var o=w.getShapeClass(n);e=new o}return e.__customGraphicType=n,e.name=t.name,e}function r(t,e,n,i,r,o,s){var l={},c=n.style||{};if(n.shape&&(l.shape=b.clone(n.shape)),n.position&&(l.position=n.position.slice()),n.scale&&(l.scale=n.scale.slice()),n.origin&&(l.origin=n.origin.slice()),n.rotation&&(l.rotation=n.rotation),"image"===t.type&&n.style){var u=l.style={};b.each(["x","y","width","height"],function(e){a(e,u,c,t.style,o)})}if("text"===t.type&&n.style){var u=l.style={};b.each(["x","y"],function(e){a(e,u,c,t.style,o)}),!c.hasOwnProperty("textFill")&&c.fill&&(c.textFill=c.fill),!c.hasOwnProperty("textStroke")&&c.stroke&&(c.textStroke=c.stroke)}if("group"!==t.type&&(t.useStyle(c),o)){t.style.opacity=0;var h=c.opacity;null==h&&(h=1),w.initProps(t,{style:{opacity:h}},i,e)}o?t.attr(l):w.updateProps(t,l,i,e),n.hasOwnProperty("z2")&&t.attr("z2",n.z2||0),n.hasOwnProperty("silent")&&t.attr("silent",n.silent),n.hasOwnProperty("invisible")&&t.attr("invisible",n.invisible),n.hasOwnProperty("ignore")&&t.attr("ignore",n.ignore),n.hasOwnProperty("info")&&t.attr("info",n.info);var d=n.styleEmphasis;w.setElementHoverStyle(t,d),s&&w.setAsHighDownDispatcher(t,!1!==d)}function a(t,e,n,i,r){null==n[t]||r||(e[t]=n[t],n[t]=i[t])}function o(t,e,n,i){function r(t){null==t&&(t=y),E&&(x=e.getItemModel(t),_=x.getModel(H),M=x.getModel(U),T=e.getItemVisual(t,"color"),E=!1)}function a(t,n){return null==n&&(n=y),e.get(e.getDimension(t||0),n)}function o(n,i){null==i&&(i=y),r(i);var a=x.getModel(F).getItemStyle();null!=T&&(a.fill=T);var o=e.getItemVisual(i,"opacity");null!=o&&(a.opacity=o);var s=n?f(n,_):_;return w.setTextStyle(a,s,null,{autoColor:T,isRectText:!0}),a.text=s.getShallow("show")?b.retrieve2(t.getFormattedLabel(i,"normal"),S(e,i)):null,n&&g(a,n),a}function l(n,i){null==i&&(i=y),r(i);var a=x.getModel(G).getItemStyle(),o=n?f(n,M):M;return w.setTextStyle(a,o,null,{isRectText:!0},!0),a.text=o.getShallow("show")?b.retrieve3(t.getFormattedLabel(i,"emphasis"),t.getFormattedLabel(i,"normal"),S(e,i)):null,n&&g(a,n),a}function c(t,n){return null==n&&(n=y),e.getItemVisual(n,t)}function u(t){if(m.getBaseAxis){var e=m.getBaseAxis();return C(b.defaults({axis:e},t),i)}}function h(){return n.getCurrentSeriesIndices()}function d(t){return w.getFont(t,n)}var p=t.get("renderItem"),m=t.coordinateSystem,v={};m&&(v=m.prepareCustoms?m.prepareCustoms():W[m.type](m));var y,x,_,M,T,A=b.defaults({getWidth:i.getWidth,getHeight:i.getHeight,getZr:i.getZr,getDevicePixelRatio:i.getDevicePixelRatio,value:a,style:o,styleEmphasis:l,visual:c,barLayout:u,currentSeriesIndices:h,font:d},v.api||{}),L={context:{},seriesId:t.id,seriesName:t.name,seriesIndex:t.seriesIndex,coordSys:v.coordSys,dataInsideLength:e.count(),encode:s(t.getData())},E=!0;return function(t,n){return y=t,E=!0,p&&p(b.defaults({dataIndexInside:t,dataIndex:e.getRawIndex(t),actionType:n?n.type:null},L),A)}}function s(t){var e={};return b.each(t.dimensions,function(n,i){var r=t.getDimensionInfo(n);if(!r.isExtraCoord){var a=r.coordDim;(e[a]=e[a]||[])[r.coordDimIndex]=i}}),e}function l(t,e,n,i,r,a){return t=c(t,e,n,i,r,a,!0),t&&a.setItemGraphicEl(e,t),t}function c(t,e,n,a,o,s,l){var c=!n;n=n||{};var h=n.type,d=n.shape,p=n.style;if(t&&(c||null!=h&&h!==t.__customGraphicType||"path"===h&&y(d)&&v(d)!==t.__customPathData||"image"===h&&x(p,"image")&&p.image!==t.__customImagePath||"text"===h&&x(d,"text")&&p.text!==t.__customText)&&(o.remove(t),t=null),!c){var f=!t;return!t&&(t=i(n)),r(t,e,n,a,s,f,l),"group"===h&&u(t,e,n,a,s),o.add(t),t}}function u(t,e,n,i,r){var a=n.children,o=a?a.length:0,s=n.$mergeChildren,l="byName"===s||n.diffChildrenByName,u=!1===s;if(o||l||u){if(l)return void h({oldChildren:t.children()||[],newChildren:a||[],dataIndex:e,animatableModel:i,group:t,data:r});u&&t.removeAll();for(var d=0;d<o;d++)a[d]&&c(t.childAt(d),e,a[d],i,t,r)}}function h(t){new L(t.oldChildren,t.newChildren,d,d,t).add(p).update(p).remove(m).execute()}function d(t,e){var n=t&&t.name;return null!=n?n:j+e}function p(t,e){var n=this.context,i=null!=t?n.newChildren[t]:null;c(null!=e?n.oldChildren[e]:null,n.dataIndex,i,n.animatableModel,n.group,n.data)}function f(t,e){var n=new I({},e);return b.each(V,function(e,i){t.hasOwnProperty(e)&&(n.option[i]=t[e])}),n}function g(t,e){for(var n in e)!e.hasOwnProperty(n)&&V.hasOwnProperty(n)||(t[n]=e[n])}function m(t){var e=this.context,n=e.oldChildren[t];n&&e.group.remove(n)}function v(t){return t&&(t.pathData||t.d)}function y(t){return t&&(t.hasOwnProperty("pathData")||t.hasOwnProperty("d"))}function x(t,e){return t&&t.hasOwnProperty(e)}var _=n(5),b=(_.__DEV__,n(0)),w=n(2),M=n(104),S=M.getDefaultLabel,T=n(31),A=n(83),C=A.getLayoutOnAxis,L=n(41),E=n(14),I=n(12),P=n(25),D=n(65),R=D.createClipPath,O=n(495),k=n(496),N=n(497),z=n(498),B=n(499),V=w.CACHED_LABEL_STYLE_PROPERTIES,F=["itemStyle"],G=["emphasis","itemStyle"],H=["label"],U=["emphasis","label"],j="e\0\0",W={cartesian2d:O,geo:k,singleAxis:N,polar:z,calendar:B};E.extend({type:"series.custom",dependencies:["grid","polar","geo","singleAxis","calendar"],defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,useTransform:!0,clip:!1},getInitialData:function(t,e){return T(this.getSource(),this)},getDataParams:function(t,e,n){var i=E.prototype.getDataParams.apply(this,arguments);return n&&(i.info=n.info),i}}),P.extend({type:"custom",_data:null,render:function(t,e,n,i){var r=this._data,a=t.getData(),s=this.group,c=o(t,a,e,n);a.diff(r).add(function(e){l(null,e,c(e,i),t,s,a)}).update(function(e,n){l(r.getItemGraphicEl(n),e,c(e,i),t,s,a)}).remove(function(t){var e=r.getItemGraphicEl(t);e&&s.remove(e)}).execute();var u=t.get("clip",!0)?R(t.coordinateSystem,!1,t):null;u?s.setClipPath(u):s.removeClipPath(),this._data=a},incrementalPrepareRender:function(t,e,n){this.group.removeAll(),this._data=null},incrementalRender:function(t,e,n,i,r){function a(t){t.isGroup||(t.incremental=!0,t.useHoverLayer=!0)}for(var s=e.getData(),c=o(e,s,n,i),u=t.start;u<t.end;u++){l(null,u,c(u,r),e,this.group,s).traverse(a)}},dispose:b.noop,filterForExposedEvent:function(t,e,n,i){var r=e.element;if(null==r||n.name===r)return!0;for(;(n=n.parent)&&n!==this.group;)if(n.name===r)return!0;return!1}})},function(t,e,n){function i(t,e){return e=e||[0,0],a.map(["x","y"],function(n,i){var r=this.getAxis(n),a=e[i],o=t[i]/2;return"category"===r.type?r.getBandWidth():Math.abs(r.dataToCoord(a-o)-r.dataToCoord(a+o))},this)}function r(t){var e=t.grid.getRect();return{coordSys:{type:"cartesian2d",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(e){return t.dataToPoint(e)},size:a.bind(i,t)}}}var a=n(0);t.exports=r},function(t,e,n){function i(t,e){return e=e||[0,0],a.map([0,1],function(n){var i=e[n],r=t[n]/2,a=[],o=[];return a[n]=i-r,o[n]=i+r,a[1-n]=o[1-n]=e[1-n],Math.abs(this.dataToPoint(a)[n]-this.dataToPoint(o)[n])},this)}function r(t){var e=t.getBoundingRect();return{coordSys:{type:"geo",x:e.x,y:e.y,width:e.width,height:e.height,zoom:t.getZoom()},api:{coord:function(e){return t.dataToPoint(e)},size:a.bind(i,t)}}}var a=n(0);t.exports=r},function(t,e,n){function i(t,e){var n=this.getAxis(),i=e instanceof Array?e[0]:e,r=(t instanceof Array?t[0]:t)/2;return"category"===n.type?n.getBandWidth():Math.abs(n.dataToCoord(i-r)-n.dataToCoord(i+r))}function r(t){var e=t.getRect();return{coordSys:{type:"singleAxis",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(e){return t.dataToPoint(e)},size:a.bind(i,t)}}}var a=n(0);t.exports=r},function(t,e,n){function i(t,e){return a.map(["Radius","Angle"],function(n,i){var r=this["get"+n+"Axis"](),a=e[i],o=t[i]/2,s="dataTo"+n,l="category"===r.type?r.getBandWidth():Math.abs(r[s](a-o)-r[s](a+o));return"Angle"===n&&(l=l*Math.PI/180),l},this)}function r(t){var e=t.getRadiusAxis(),n=t.getAngleAxis(),r=e.getExtent();return r[0]>r[1]&&r.reverse(),{coordSys:{type:"polar",cx:t.cx,cy:t.cy,r:r[1],r0:r[0]},api:{coord:a.bind(function(i){var r=e.dataToRadius(i[0]),a=n.dataToAngle(i[1]),o=t.coordToPoint([r,a]);return o.push(r,a*Math.PI/180),o}),size:a.bind(i,t)}}}var a=n(0);t.exports=r},function(t,e){function n(t){var e=t.getRect(),n=t.getRangeInfo();return{coordSys:{type:"calendar",x:e.x,y:e.y,width:e.width,height:e.height,cellWidth:t.getCellWidth(),cellHeight:t.getCellHeight(),rangeInfo:{start:n.start,end:n.end,weeks:n.weeks,dayCount:n.allDay}},api:{coord:function(e,n){return t.dataToPoint(e,n)}}}}t.exports=n},function(t,e,n){n(67),n(216),n(71)},function(t,e,n){var i=n(1),r=n(0),a=n(502);n(117),n(508),n(510),n(71),n(512),i.registerLayout(r.curry(a,"bar")),i.extendComponentView({type:"polar"})},function(t,e,n){function i(t){return t.get("stack")||"__ec_stack_"+t.seriesIndex}function r(t,e){return e.dim+t.model.componentIndex}function a(t,e,n){var a={},l=o(s.filter(e.getSeriesByType(t),function(t){return!e.isSeriesFiltered(t)&&t.coordinateSystem&&"polar"===t.coordinateSystem.type}));e.eachSeriesByType(t,function(t){if("polar"===t.coordinateSystem.type){var e=t.getData(),n=t.coordinateSystem,o=n.getBaseAxis(),s=r(n,o),c=i(t),u=l[s][c],d=u.offset,p=u.width,f=n.getOtherAxis(o),g=t.coordinateSystem.cx,m=t.coordinateSystem.cy,v=t.get("barMinHeight")||0,y=t.get("barMinAngle")||0;a[c]=a[c]||[];for(var x=e.mapDimension(f.dim),_=e.mapDimension(o.dim),b=h(e,x),w="radius"!==o.dim||!t.get("roundCap",!0),M=f.getExtent()[0],S=0,T=e.count();S<T;S++){var A=e.get(x,S),C=e.get(_,S);if(!isNaN(A)){var L=A>=0?"p":"n",E=M;b&&(a[c][C]||(a[c][C]={p:M,n:M}),E=a[c][C][L]);var I,P,D,R;if("radius"===f.dim){var O=f.dataToRadius(A)-M,k=o.dataToAngle(C);Math.abs(O)<v&&(O=(O<0?-1:1)*v),I=E,P=E+O,D=k-d,R=D-p,b&&(a[c][C][L]=P)}else{var N=f.dataToAngle(A,w)-M,z=o.dataToRadius(C);Math.abs(N)<y&&(N=(N<0?-1:1)*y),I=z+d,P=I+p,D=E,R=E+N,b&&(a[c][C][L]=R)}e.setItemLayout(S,{cx:g,cy:m,r0:I,r:P,startAngle:-D*Math.PI/180,endAngle:-R*Math.PI/180})}}}},this)}function o(t,e){var n={};s.each(t,function(t,e){var a=t.getData(),o=t.coordinateSystem,s=o.getBaseAxis(),l=r(o,s),u=s.getExtent(),h="category"===s.type?s.getBandWidth():Math.abs(u[1]-u[0])/a.count(),d=n[l]||{bandWidth:h,remainedWidth:h,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},p=d.stacks;n[l]=d;var f=i(t);p[f]||d.autoWidthCount++,p[f]=p[f]||{width:0,maxWidth:0};var g=c(t.get("barWidth"),h),m=c(t.get("barMaxWidth"),h),v=t.get("barGap"),y=t.get("barCategoryGap");g&&!p[f].width&&(g=Math.min(d.remainedWidth,g),p[f].width=g,d.remainedWidth-=g),m&&(p[f].maxWidth=m),null!=v&&(d.gap=v),null!=y&&(d.categoryGap=y)});var a={};return s.each(n,function(t,e){a[e]={};var n=t.stacks,i=t.bandWidth,r=c(t.categoryGap,i),o=c(t.gap,1),l=t.remainedWidth,u=t.autoWidthCount,h=(l-r)/(u+(u-1)*o);h=Math.max(h,0),s.each(n,function(t,e){var n=t.maxWidth;n&&n<h&&(n=Math.min(n,l),t.width&&(n=Math.min(n,t.width)),l-=n,t.width=n,u--)}),h=(l-r)/(u+(u-1)*o),h=Math.max(h,0);var d,p=0;s.each(n,function(t,e){t.width||(t.width=h),d=t,p+=t.width*(1+o)}),d&&(p-=d.width*o);var f=-p/2;s.each(n,function(t,n){a[e][n]=a[e][n]||{offset:f,width:t.width},f+=t.width*(1+o)})}),a}var s=n(0),l=n(3),c=l.parsePercent,u=n(26),h=u.isDimensionStacked,d=a;t.exports=d},function(t,e,n){var i=n(504),r=n(505),a=function(t){this.name=t||"",this.cx=0,this.cy=0,this._radiusAxis=new i,this._angleAxis=new r,this._radiusAxis.polar=this._angleAxis.polar=this};a.prototype={type:"polar",axisPointerEnabled:!0,constructor:a,dimensions:["radius","angle"],model:null,containPoint:function(t){var e=this.pointToCoord(t);return this._radiusAxis.contain(e[0])&&this._angleAxis.contain(e[1])},containData:function(t){return this._radiusAxis.containData(t[0])&&this._angleAxis.containData(t[1])},getAxis:function(t){return this["_"+t+"Axis"]},getAxes:function(){return[this._radiusAxis,this._angleAxis]},getAxesByScale:function(t){var e=[],n=this._angleAxis,i=this._radiusAxis;return n.scale.type===t&&e.push(n),i.scale.type===t&&e.push(i),e},getAngleAxis:function(){return this._angleAxis},getRadiusAxis:function(){return this._radiusAxis},getOtherAxis:function(t){var e=this._angleAxis;return t===e?this._radiusAxis:e},getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},getTooltipAxes:function(t){var e=null!=t&&"auto"!==t?this.getAxis(t):this.getBaseAxis();return{baseAxes:[e],otherAxes:[this.getOtherAxis(e)]}},dataToPoint:function(t,e){return this.coordToPoint([this._radiusAxis.dataToRadius(t[0],e),this._angleAxis.dataToAngle(t[1],e)])},pointToData:function(t,e){var n=this.pointToCoord(t);return[this._radiusAxis.radiusToData(n[0],e),this._angleAxis.angleToData(n[1],e)]},pointToCoord:function(t){var e=t[0]-this.cx,n=t[1]-this.cy,i=this.getAngleAxis(),r=i.getExtent(),a=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);i.inverse?a=o-360:o=a+360;var s=Math.sqrt(e*e+n*n);e/=s,n/=s;for(var l=Math.atan2(-n,e)/Math.PI*180,c=l<a?1:-1;l<a||l>o;)l+=360*c;return[s,l]},coordToPoint:function(t){var e=t[0],n=t[1]/180*Math.PI;return[Math.cos(n)*e+this.cx,-Math.sin(n)*e+this.cy]},getArea:function(){var t=this.getAngleAxis(),e=this.getRadiusAxis(),n=e.getExtent().slice();n[0]>n[1]&&n.reverse();var i=t.getExtent(),r=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:n[0],r:n[1],startAngle:-i[0]*r,endAngle:-i[1]*r,clockwise:t.inverse,contain:function(t,e){var n=t-this.cx,i=e-this.cy,r=n*n+i*i,a=this.r,o=this.r0;return r<=a*a&&r>=o*o}}}};var o=a;t.exports=o},function(t,e,n){function i(t,e){a.call(this,"radius",t,e),this.type="category"}var r=n(0),a=n(35);i.prototype={constructor:i,pointToData:function(t,e){return this.polar.pointToData(t,e)["radius"===this.dim?0:1]},dataToRadius:a.prototype.dataToCoord,radiusToData:a.prototype.coordToData},r.inherits(i,a);var o=i;t.exports=o},function(t,e,n){function i(t,e){e=e||[0,360],o.call(this,"angle",t,e),this.type="category"}var r=n(0),a=n(17),o=n(35),s=n(4),l=s.makeInner,c=l();i.prototype={constructor:i,pointToData:function(t,e){return this.polar.pointToData(t,e)["radius"===this.dim?0:1]},dataToAngle:o.prototype.dataToCoord,angleToData:o.prototype.coordToData,calculateCategoryInterval:function(){var t=this,e=t.getLabelModel(),n=t.scale,i=n.getExtent(),r=n.count();if(i[1]-i[0]<1)return 0;var o=i[0],s=t.dataToCoord(o+1)-t.dataToCoord(o),l=Math.abs(s),u=a.getBoundingRect(o,e.getFont(),"center","top"),h=Math.max(u.height,7),d=h/l;isNaN(d)&&(d=1/0);var p=Math.max(0,Math.floor(d)),f=c(t.model),g=f.lastAutoInterval,m=f.lastTickCount;return null!=g&&null!=m&&Math.abs(g-p)<=1&&Math.abs(m-r)<=1&&g>p?p=g:(f.lastTickCount=r,f.lastAutoInterval=p),p}},r.inherits(i,o);var u=i;t.exports=u},function(t,e,n){var i=n(1);n(507);var r=i.extendComponentModel({type:"polar",dependencies:["polarAxis","angleAxis"],coordinateSystem:null,findAxisModel:function(t){var e;return this.ecModel.eachComponent(t,function(t){t.getCoordSysModel()===this&&(e=t)},this),e},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"80%"}});t.exports=r},function(t,e,n){function i(t,e){return e.type||(e.data?"category":"value")}var r=n(0),a=n(13),o=n(85),s=n(52),l=a.extend({type:"polarAxis",axis:null,getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"polar",index:this.option.polarIndex,id:this.option.polarId})[0]}});r.merge(l.prototype,s);var c={angle:{startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:!1}},radius:{splitNumber:5}};o("angle",l,i,c.angle),o("radius",l,i,c.radius)},function(t,e,n){n(117),n(509)},function(t,e,n){function i(t,e,n){e[1]>e[0]&&(e=e.slice().reverse());var i=t.coordToPoint([e[0],n]),r=t.coordToPoint([e[1],n]);return{x1:i[0],y1:i[1],x2:r[0],y2:r[1]}}function r(t){return t.getRadiusAxis().inverse?0:1}function a(t){var e=t[0],n=t[t.length-1];e&&n&&Math.abs(Math.abs(e.coord-n.coord)-360)<1e-4&&t.pop()}var o=n(0),s=n(2),l=n(12),c=n(43),u=n(36),h=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"],d=c.extend({type:"angleAxis",axisPointerClass:"PolarAxisPointer",render:function(t,e){if(this.group.removeAll(),t.get("show")){var n=t.axis,i=n.polar,r=i.getRadiusAxis().getExtent(),s=n.getTicksCoords(),l=n.getMinorTicksCoords(),c=o.map(n.getViewLabels(),function(t){var t=o.clone(t);return t.coord=n.dataToCoord(t.tickValue),t});a(c),a(s),o.each(h,function(e){!t.get(e+".show")||n.scale.isBlank()&&"axisLine"!==e||this["_"+e](t,i,s,l,r,c)},this)}},_axisLine:function(t,e,n,i,a){var o,l=t.getModel("axisLine.lineStyle"),c=r(e),u=c?0:1;o=0===a[u]?new s.Circle({shape:{cx:e.cx,cy:e.cy,r:a[c]},style:l.getLineStyle(),z2:1,silent:!0}):new s.Ring({shape:{cx:e.cx,cy:e.cy,r:a[c],r0:a[u]},style:l.getLineStyle(),z2:1,silent:!0}),o.style.fill=null,this.group.add(o)},_axisTick:function(t,e,n,a,l){var c=t.getModel("axisTick"),u=(c.get("inside")?-1:1)*c.get("length"),h=l[r(e)],d=o.map(n,function(t){return new s.Line({shape:i(e,[h,h+u],t.coord)})});this.group.add(s.mergePath(d,{style:o.defaults(c.getModel("lineStyle").getLineStyle(),{stroke:t.get("axisLine.lineStyle.color")})}))},_minorTick:function(t,e,n,a,l){if(a.length){for(var c=t.getModel("axisTick"),u=t.getModel("minorTick"),h=(c.get("inside")?-1:1)*u.get("length"),d=l[r(e)],p=[],f=0;f<a.length;f++)for(var g=0;g<a[f].length;g++)p.push(new s.Line({shape:i(e,[d,d+h],a[f][g].coord)}));this.group.add(s.mergePath(p,{style:o.defaults(u.getModel("lineStyle").getLineStyle(),o.defaults(c.getLineStyle(),{stroke:t.get("axisLine.lineStyle.color")}))}))}},_axisLabel:function(t,e,n,i,a,c){var h=t.getCategories(!0),d=t.getModel("axisLabel"),p=d.get("margin"),f=t.get("triggerEvent");o.each(c,function(n,i){var o=d,c=n.tickValue,g=a[r(e)],m=e.coordToPoint([g+p,n.coord]),v=e.cx,y=e.cy,x=Math.abs(m[0]-v)/g<.3?"center":m[0]>v?"left":"right",_=Math.abs(m[1]-y)/g<.3?"middle":m[1]>y?"top":"bottom";h&&h[c]&&h[c].textStyle&&(o=new l(h[c].textStyle,d,d.ecModel));var b=new s.Text({silent:u.isLabelSilent(t)});this.group.add(b),s.setTextStyle(b.style,o,{x:m[0],y:m[1],textFill:o.getTextColor()||t.get("axisLine.lineStyle.color"),text:n.formattedLabel,textAlign:x,textVerticalAlign:_}),f&&(b.eventData=u.makeAxisEventDataBase(t),b.eventData.targetType="axisLabel",b.eventData.value=n.rawLabel)},this)},_splitLine:function(t,e,n,r,a){var l=t.getModel("splitLine"),c=l.getModel("lineStyle"),u=c.get("color"),h=0;u=u instanceof Array?u:[u];for(var d=[],p=0;p<n.length;p++){var f=h++%u.length;d[f]=d[f]||[],d[f].push(new s.Line({shape:i(e,a,n[p].coord)}))}for(var p=0;p<d.length;p++)this.group.add(s.mergePath(d[p],{style:o.defaults({stroke:u[p%u.length]},c.getLineStyle()),silent:!0,z:t.get("z")}))},_minorSplitLine:function(t,e,n,r,a){if(r.length){for(var o=t.getModel("minorSplitLine"),l=o.getModel("lineStyle"),c=[],u=0;u<r.length;u++)for(var h=0;h<r[u].length;h++)c.push(new s.Line({shape:i(e,a,r[u][h].coord)}));this.group.add(s.mergePath(c,{style:l.getLineStyle(),silent:!0,z:t.get("z")}))}},_splitArea:function(t,e,n,i,r){if(n.length){var a=t.getModel("splitArea"),l=a.getModel("areaStyle"),c=l.get("color"),u=0;c=c instanceof Array?c:[c];for(var h=[],d=Math.PI/180,p=-n[0].coord*d,f=Math.min(r[0],r[1]),g=Math.max(r[0],r[1]),m=t.get("clockwise"),v=1;v<n.length;v++){var y=u++%c.length;h[y]=h[y]||[],h[y].push(new s.Sector({shape:{cx:e.cx,cy:e.cy,r0:f,r:g,startAngle:p,endAngle:-n[v].coord*d,clockwise:m},silent:!0})),p=-n[v].coord*d}for(var v=0;v<h.length;v++)this.group.add(s.mergePath(h[v],{style:o.defaults({fill:c[v%c.length]},l.getAreaStyle()),silent:!0}))}}});t.exports=d},function(t,e,n){n(117),n(511)},function(t,e,n){function i(t,e,n){return{position:[t.cx,t.cy],rotation:n/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:e.getModel("axisLabel").get("rotate"),z2:1}}var r=n(0),a=n(2),o=n(36),s=n(43),l=["axisLine","axisTickLabel","axisName"],c=["splitLine","splitArea","minorSplitLine"],u=s.extend({type:"radiusAxis",axisPointerClass:"PolarAxisPointer",render:function(t,e){if(this.group.removeAll(),t.get("show")){var n=t.axis,a=n.polar,s=a.getAngleAxis(),u=n.getTicksCoords(),h=n.getMinorTicksCoords(),d=s.getExtent()[0],p=n.getExtent(),f=i(a,t,d),g=new o(t,f);r.each(l,g.add,g),this.group.add(g.getGroup()),r.each(c,function(e){t.get(e+".show")&&!n.scale.isBlank()&&this["_"+e](t,a,d,p,u,h)},this)}},_splitLine:function(t,e,n,i,o){var s=t.getModel("splitLine"),l=s.getModel("lineStyle"),c=l.get("color"),u=0;c=c instanceof Array?c:[c];for(var h=[],d=0;d<o.length;d++){var p=u++%c.length;h[p]=h[p]||[],h[p].push(new a.Circle({shape:{cx:e.cx,cy:e.cy,r:o[d].coord}}))}for(var d=0;d<h.length;d++)this.group.add(a.mergePath(h[d],{style:r.defaults({stroke:c[d%c.length],fill:null},l.getLineStyle()),silent:!0}))},_minorSplitLine:function(t,e,n,i,o,s){if(s.length){for(var l=t.getModel("minorSplitLine"),c=l.getModel("lineStyle"),u=[],h=0;h<s.length;h++)for(var d=0;d<s[h].length;d++)u.push(new a.Circle({shape:{cx:e.cx,cy:e.cy,r:s[h][d].coord}}));this.group.add(a.mergePath(u,{style:r.defaults({fill:null},c.getLineStyle()),silent:!0}))}},_splitArea:function(t,e,n,i,o){if(o.length){var s=t.getModel("splitArea"),l=s.getModel("areaStyle"),c=l.get("color"),u=0;c=c instanceof Array?c:[c];for(var h=[],d=o[0].coord,p=1;p<o.length;p++){var f=u++%c.length;h[f]=h[f]||[],h[f].push(new a.Sector({shape:{cx:e.cx,cy:e.cy,r0:d,r:o[p].coord,startAngle:0,endAngle:2*Math.PI},silent:!0})),d=o[p].coord}for(var p=0;p<h.length;p++)this.group.add(a.mergePath(h[p],{style:r.defaults({fill:c[p%c.length]},l.getAreaStyle()),silent:!0}))}}});t.exports=u},function(t,e,n){function i(t,e,n,i,r){var a=e.axis,s=a.dataToCoord(t),u=i.getAngleAxis().getExtent()[0];u=u/180*Math.PI;var h,d,p,f=i.getRadiusAxis().getExtent();if("radius"===a.dim){var g=l.create();l.rotate(g,g,u),l.translate(g,g,[i.cx,i.cy]),h=o.applyTransform([s,-r],g);var m=e.getModel("axisLabel").get("rotate")||0,v=c.innerTextLayout(u,m*Math.PI/180,-1);d=v.textAlign,p=v.textVerticalAlign}else{var y=f[1];h=i.coordToPoint([y+r,s]);var x=i.cx,_=i.cy;d=Math.abs(h[0]-x)/y<.3?"center":h[0]>x?"left":"right",p=Math.abs(h[1]-_)/y<.3?"middle":h[1]>_?"top":"bottom"}return{position:h,align:d,verticalAlign:p}}var r=n(9),a=n(116),o=n(2),s=n(90),l=n(15),c=n(36),u=n(43),h=a.extend({makeElOption:function(t,e,n,a,o){var l=n.axis;"angle"===l.dim&&(this.animationThreshold=Math.PI/18);var c,u=l.polar,h=u.getOtherAxis(l),p=h.getExtent();c=l["dataTo"+r.capitalFirst(l.dim)](e);var f=a.get("type");if(f&&"none"!==f){var g=s.buildElStyle(a),m=d[f](l,u,c,p,g);m.style=g,t.graphicKey=m.type,t.pointer=m}var v=a.get("label.margin"),y=i(e,n,a,u,v);s.buildLabelElOption(t,n,a,o,y)}}),d={line:function(t,e,n,i,r){return"angle"===t.dim?{type:"Line",shape:s.makeLineShape(e.coordToPoint([i[0],n]),e.coordToPoint([i[1],n]))}:{type:"Circle",shape:{cx:e.cx,cy:e.cy,r:n}}},shadow:function(t,e,n,i,r){var a=Math.max(1,t.getBandWidth()),o=Math.PI/180;return"angle"===t.dim?{type:"Sector",shape:s.makeSectorShape(e.cx,e.cy,i[0],i[1],(-n-a/2)*o,(a/2-n)*o)}:{type:"Sector",shape:s.makeSectorShape(e.cx,e.cy,n-a/2,n+a/2,0,2*Math.PI)}}};u.registerAxisPointerClass("PolarAxisPointer",h);var p=h;t.exports=p},function(t,e,n){function i(t,e){e.update="updateView",r.registerAction(e,function(e,n){var i={};return n.eachComponent({mainType:"geo",query:e},function(n){n[t](e.name);var r=n.coordinateSystem;a.each(r.regions,function(t){i[t.name]=n.isSelected(t.name)||!1})}),{selected:i,name:e.name}})}var r=n(1),a=n(0);n(514),n(109),n(515),n(198),i("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),i("select",{type:"geoSelect",event:"geoselected"}),i("unSelect",{type:"geoUnSelect",event:"geounselected"})},function(t,e,n){var i=n(0),r=n(4),a=n(13),o=n(12),s=n(106),l=n(109),c=a.extend({type:"geo",coordinateSystem:null,layoutMode:"box",init:function(t){a.prototype.init.apply(this,arguments),r.defaultEmphasis(t,"label",["show"])},optionUpdated:function(){var t=this.option,e=this;t.regions=l.getFilledRegions(t.regions,t.map,t.nameMap),this._optionModelMap=i.reduce(t.regions||[],function(t,n){return n.name&&t.set(n.name,new o(n,e)),t},i.createHashMap()),this.updateSelectedMap(t.regions)},defaultOption:{zlevel:0,z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",color:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},getRegionModel:function(t){return this._optionModelMap.get(t)||new o(null,this,this.ecModel)},getFormattedLabel:function(t,e){var n=this.getRegionModel(t),i=n.get("label"+("normal"===e?".":e+".")+"formatter"),r={name:t};return"function"==typeof i?(r.status=e,i(r)):"string"==typeof i?i.replace("{a}",null!=t?t:""):void 0},setZoom:function(t){this.option.zoom=t},setCenter:function(t){this.option.center=t}});i.mixin(c,s);var u=c;t.exports=u},function(t,e,n){var i=n(196),r=n(1),a=r.extendComponentView({type:"geo",init:function(t,e){var n=new i(e,!0);this._mapDraw=n,this.group.add(n.group)},render:function(t,e,n,i){if(!i||"geoToggleSelect"!==i.type||i.from!==this.uid){var r=this._mapDraw;t.get("show")?r.draw(t,e,n,this,i):this._mapDraw.group.removeAll(),this.group.silent=t.get("silent")}},dispose:function(){this._mapDraw&&this._mapDraw.remove()}});t.exports=a},function(t,e,n){n(517),n(518),n(519)},function(t,e,n){function i(t,e,n){this._model=t}function r(t,e,n,i){var r=n.calendarModel,a=n.seriesModel,o=r?r.coordinateSystem:a?a.coordinateSystem:null;return o===this?o[t](i):null}var a=n(0),o=n(6),s=n(3),l=n(21);i.prototype={constructor:i,type:"calendar",dimensions:["time","value"],getDimensionsInfo:function(){return[{name:"time",type:"time"},"value"]},getRangeInfo:function(){return this._rangeInfo},getModel:function(){return this._model},getRect:function(){return this._rect},getCellWidth:function(){return this._sw},getCellHeight:function(){return this._sh},getOrient:function(){return this._orient},getFirstDayOfWeek:function(){return this._firstDayOfWeek},getDateInfo:function(t){t=s.parseDate(t);var e=t.getFullYear(),n=t.getMonth()+1;n=n<10?"0"+n:n;var i=t.getDate();i=i<10?"0"+i:i;var r=t.getDay();return r=Math.abs((r+7-this.getFirstDayOfWeek())%7),{y:e,m:n,d:i,day:r,time:t.getTime(),formatedDate:e+"-"+n+"-"+i,date:t}},getNextNDay:function(t,e){return 0===(e=e||0)?this.getDateInfo(t):(t=new Date(this.getDateInfo(t).time),t.setDate(t.getDate()+e),this.getDateInfo(t))},update:function(t,e){function n(t,e){return null!=t[e]&&"auto"!==t[e]}this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var i=this._rangeInfo.weeks||1,r=["width","height"],s=this._model.get("cellSize").slice(),l=this._model.getBoxLayoutParams(),c="horizontal"===this._orient?[i,7]:[7,i];a.each([0,1],function(t){n(s,t)&&(l[r[t]]=s[t]*c[t])});var u={width:e.getWidth(),height:e.getHeight()},h=this._rect=o.getLayoutRect(l,u);a.each([0,1],function(t){n(s,t)||(s[t]=h[r[t]]/c[t])}),this._sw=s[0],this._sh=s[1]},dataToPoint:function(t,e){a.isArray(t)&&(t=t[0]),null==e&&(e=!0);var n=this.getDateInfo(t),i=this._rangeInfo,r=n.formatedDate;if(e&&!(n.time>=i.start.time&&n.time<i.end.time+864e5))return[NaN,NaN];var o=n.day,s=this._getRangeInfo([i.start.time,r]).nthWeek;return"vertical"===this._orient?[this._rect.x+o*this._sw+this._sw/2,this._rect.y+s*this._sh+this._sh/2]:[this._rect.x+s*this._sw+this._sw/2,this._rect.y+o*this._sh+this._sh/2]},pointToData:function(t){var e=this.pointToDate(t);return e&&e.time},dataToRect:function(t,e){var n=this.dataToPoint(t,e);return{contentShape:{x:n[0]-(this._sw-this._lineWidth)/2,y:n[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:n,tl:[n[0]-this._sw/2,n[1]-this._sh/2],tr:[n[0]+this._sw/2,n[1]-this._sh/2],br:[n[0]+this._sw/2,n[1]+this._sh/2],bl:[n[0]-this._sw/2,n[1]+this._sh/2]}},pointToDate:function(t){var e=Math.floor((t[0]-this._rect.x)/this._sw)+1,n=Math.floor((t[1]-this._rect.y)/this._sh)+1,i=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(n,e-1,i):this._getDateByWeeksAndDay(e,n-1,i)},convertToPixel:a.curry(r,"dataToPoint"),convertFromPixel:a.curry(r,"pointToData"),_initRangeOption:function(){var t=this._model.get("range"),e=t;if(a.isArray(e)&&1===e.length&&(e=e[0]),/^\d{4}$/.test(e)&&(t=[e+"-01-01",e+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(e)){var n=this.getDateInfo(e),i=n.date;i.setMonth(i.getMonth()+1);var r=this.getNextNDay(i,-1);t=[n.formatedDate,r.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(e)&&(t=[e,e]);var o=this._getRangeInfo(t);return o.start.time>o.end.time&&t.reverse(),t},_getRangeInfo:function(t){t=[this.getDateInfo(t[0]),this.getDateInfo(t[1])];var e;t[0].time>t[1].time&&(e=!0,t.reverse());var n=Math.floor(t[1].time/864e5)-Math.floor(t[0].time/864e5)+1,i=new Date(t[0].time),r=i.getDate(),a=t[1].date.getDate();if(i.setDate(r+n-1),i.getDate()!==a)for(var o=i.getTime()-t[1].time>0?1:-1;i.getDate()!==a&&(i.getTime()-t[1].time)*o>0;)n-=o,i.setDate(r+n-1);var s=Math.floor((n+t[0].day+6)/7),l=e?1-s:s-1;return e&&t.reverse(),{range:[t[0].formatedDate,t[1].formatedDate],start:t[0],end:t[1],allDay:n,weeks:s,nthWeek:l,fweek:t[0].day,lweek:t[1].day}},_getDateByWeeksAndDay:function(t,e,n){var i=this._getRangeInfo(n);if(t>i.weeks||0===t&&e<i.fweek||t===i.weeks&&e>i.lweek)return!1;var r=7*(t-1)-i.fweek+e,a=new Date(i.start.time);return a.setDate(i.start.d+r),this.getDateInfo(a)}},i.dimensions=i.prototype.dimensions,i.getDimensionsInfo=i.prototype.getDimensionsInfo,i.create=function(t,e){var n=[];return t.eachComponent("calendar",function(r){var a=new i(r,t,e);n.push(a),r.coordinateSystem=a}),t.eachSeries(function(t){"calendar"===t.get("coordinateSystem")&&(t.coordinateSystem=n[t.get("calendarIndex")||0])}),n},l.register("calendar",i);var c=i;t.exports=c},function(t,e,n){function i(t,e){var n=t.cellSize;r.isArray(n)?1===n.length&&(n[1]=n[0]):n=t.cellSize=[n,n];var i=r.map([0,1],function(t){return l(e,t)&&(n[t]="auto"),null!=n[t]&&"auto"!==n[t]});c(t,e,{type:"box",ignoreSize:i})}var r=n(0),a=n(13),o=n(6),s=o.getLayoutParams,l=o.sizeCalculable,c=o.mergeLayoutParam,u=a.extend({type:"calendar",coordinateSystem:null,defaultOption:{zlevel:0,z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",nameMap:"en",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",nameMap:"en",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},init:function(t,e,n,r){var a=s(t);u.superApply(this,"init",arguments),i(t,a)},mergeOption:function(t,e){u.superApply(this,"mergeOption",arguments),i(this.option,t)}}),h=u;t.exports=h},function(t,e,n){var i=n(1),r=n(0),a=n(2),o=n(9),s=n(3),l={EN:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],CN:["","","","","","","","","","","",""]},c={EN:["S","M","T","W","T","F","S"],CN:["","","","","","",""]},u=i.extendComponentView({type:"calendar",_tlpoints:null,_blpoints:null,_firstDayOfMonth:null,_firstDayPoints:null,render:function(t,e,n){var i=this.group;i.removeAll();var r=t.coordinateSystem,a=r.getRangeInfo(),o=r.getOrient();this._renderDayRect(t,a,i),this._renderLines(t,a,o,i),this._renderYearText(t,a,o,i),this._renderMonthText(t,o,i),this._renderWeekText(t,a,o,i)},_renderDayRect:function(t,e,n){for(var i=t.coordinateSystem,r=t.getModel("itemStyle").getItemStyle(),o=i.getCellWidth(),s=i.getCellHeight(),l=e.start.time;l<=e.end.time;l=i.getNextNDay(l,1).time){var c=i.dataToRect([l],!1).tl,u=new a.Rect({shape:{x:c[0],y:c[1],width:o,height:s},cursor:"default",style:r});n.add(u)}},_renderLines:function(t,e,n,i){function r(e){a._firstDayOfMonth.push(o.getDateInfo(e)),a._firstDayPoints.push(o.dataToRect([e],!1).tl);var r=a._getLinePointsOfOneWeek(t,e,n);a._tlpoints.push(r[0]),a._blpoints.push(r[r.length-1]),l&&a._drawSplitline(r,s,i)}var a=this,o=t.coordinateSystem,s=t.getModel("splitLine.lineStyle").getLineStyle(),l=t.get("splitLine.show"),c=s.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var u=e.start,h=0;u.time<=e.end.time;h++){r(u.formatedDate),0===h&&(u=o.getDateInfo(e.start.y+"-"+e.start.m));var d=u.date;d.setMonth(d.getMonth()+1),u=o.getDateInfo(d)}r(o.getNextNDay(e.end.time,1).formatedDate),l&&this._drawSplitline(a._getEdgesPoints(a._tlpoints,c,n),s,i),l&&this._drawSplitline(a._getEdgesPoints(a._blpoints,c,n),s,i)},_getEdgesPoints:function(t,e,n){var i=[t[0].slice(),t[t.length-1].slice()],r="horizontal"===n?0:1;return i[0][r]=i[0][r]-e/2,i[1][r]=i[1][r]+e/2,i},_drawSplitline:function(t,e,n){var i=new a.Polyline({z2:20,shape:{points:t},style:e});n.add(i)},_getLinePointsOfOneWeek:function(t,e,n){var i=t.coordinateSystem;e=i.getDateInfo(e);for(var r=[],a=0;a<7;a++){var o=i.getNextNDay(e.time,a),s=i.dataToRect([o.time],!1);r[2*o.day]=s.tl,r[2*o.day+1]=s["horizontal"===n?"bl":"tr"]}return r},_formatterLabel:function(t,e){return"string"==typeof t&&t?o.formatTplSimple(t,e):"function"==typeof t?t(e):e.nameMap},_yearTextPositionControl:function(t,e,n,i,r){e=e.slice();var a=["center","bottom"];"bottom"===i?(e[1]+=r,a=["center","top"]):"left"===i?e[0]-=r:"right"===i?(e[0]+=r,a=["center","top"]):e[1]-=r;var o=0;return"left"!==i&&"right"!==i||(o=Math.PI/2),{rotation:o,position:e,style:{textAlign:a[0],textVerticalAlign:a[1]}}},_renderYearText:function(t,e,n,i){var r=t.getModel("yearLabel");if(r.get("show")){var o=r.get("margin"),s=r.get("position");s||(s="horizontal"!==n?"top":"left");var l=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],c=(l[0][0]+l[1][0])/2,u=(l[0][1]+l[1][1])/2,h="horizontal"===n?0:1,d={top:[c,l[h][1]],bottom:[c,l[1-h][1]],left:[l[1-h][0],u],right:[l[h][0],u]},p=e.start.y;+e.end.y>+e.start.y&&(p=p+"-"+e.end.y);var f=r.get("formatter"),g={start:e.start.y,end:e.end.y,nameMap:p},m=this._formatterLabel(f,g),v=new a.Text({z2:30});a.setTextStyle(v.style,r,{text:m}),v.attr(this._yearTextPositionControl(v,d[s],n,s,o)),i.add(v)}},_monthTextPositionControl:function(t,e,n,i,r){var a="left",o="top",s=t[0],l=t[1];return"horizontal"===n?(l+=r,e&&(a="center"),"start"===i&&(o="bottom")):(s+=r,e&&(o="middle"),"start"===i&&(a="right")),{x:s,y:l,textAlign:a,textVerticalAlign:o}},_renderMonthText:function(t,e,n){var i=t.getModel("monthLabel");if(i.get("show")){var o=i.get("nameMap"),s=i.get("margin"),c=i.get("position"),u=i.get("align"),h=[this._tlpoints,this._blpoints];r.isString(o)&&(o=l[o.toUpperCase()]||[]);var d="start"===c?0:1,p="horizontal"===e?0:1;s="start"===c?-s:s;for(var f="center"===u,g=0;g<h[d].length-1;g++){var m=h[d][g].slice(),v=this._firstDayOfMonth[g];if(f){var y=this._firstDayPoints[g];m[p]=(y[p]+h[0][g+1][p])/2}var x=i.get("formatter"),_=o[+v.m-1],b={yyyy:v.y,yy:(v.y+"").slice(2),MM:v.m,M:+v.m,nameMap:_},w=this._formatterLabel(x,b),M=new a.Text({z2:30});r.extend(a.setTextStyle(M.style,i,{text:w}),this._monthTextPositionControl(m,f,e,c,s)),n.add(M)}}},_weekTextPositionControl:function(t,e,n,i,r){var a="center",o="middle",s=t[0],l=t[1],c="start"===n;return"horizontal"===e?(s=s+i+(c?1:-1)*r[0]/2,a=c?"right":"left"):(l=l+i+(c?1:-1)*r[1]/2,o=c?"bottom":"top"),{x:s,y:l,textAlign:a,textVerticalAlign:o}},_renderWeekText:function(t,e,n,i){var o=t.getModel("dayLabel");if(o.get("show")){var l=t.coordinateSystem,u=o.get("position"),h=o.get("nameMap"),d=o.get("margin"),p=l.getFirstDayOfWeek();r.isString(h)&&(h=c[h.toUpperCase()]||[]);var f=l.getNextNDay(e.end.time,7-e.lweek).time,g=[l.getCellWidth(),l.getCellHeight()];d=s.parsePercent(d,g["horizontal"===n?0:1]),"start"===u&&(f=l.getNextNDay(e.start.time,-(7+e.fweek)).time,d=-d);for(var m=0;m<7;m++){var v=l.getNextNDay(f,m),y=l.dataToRect([v.time],!1).center,x=m;x=Math.abs((m+p)%7);var _=new a.Text({z2:30});r.extend(a.setTextStyle(_.style,o,{text:h[x]}),this._weekTextPositionControl(y,n,u,d,g)),i.add(_)}}}});t.exports=u},function(t,e,n){function i(t,e,n,i){var r=n.type,a=x.hasOwnProperty(r)?x[r]:g.getShapeClass(r),o=new a(n);e.add(o),i.set(t,o),o.__ecGraphicId=t}function r(t,e){var n=t&&t.parent;n&&("group"===t.type&&t.traverse(function(t){r(t,e)}),e.removeKey(t.__ecGraphicId),n.remove(t))}function a(t){return t=p.extend({},t),p.each(["id","parentId","$action","hv","bounding"].concat(m.LOCATION_PARAMS),function(e){delete t[e]}),t}function o(t,e){var n;return p.each(e,function(e){null!=t[e]&&"auto"!==t[e]&&(n=!0)}),n}function s(t,e){var n=t.exist;if(e.id=t.keyInfo.id,!e.type&&n&&(e.type=n.type),null==e.parentId){var i=e.parentOption;i?e.parentId=i.id:n&&(e.parentId=n.parentId)}e.parentOption=null}function l(t,e,n){var i=p.extend({},n),r=t[e],a=n.$action||"merge";"merge"===a?r?(p.merge(r,i,!0),m.mergeLayoutParam(r,i,{ignoreSize:!0}),m.copyLayoutParams(n,r)):t[e]=i:"replace"===a?t[e]=i:"remove"===a&&r&&(t[e]=null)}function c(t,e){t&&(t.hv=e.hv=[o(e,["left","right"]),o(e,["top","bottom"])],"group"===t.type&&(null==t.width&&(t.width=e.width=0),null==t.height&&(t.height=e.height=0)))}function u(t,e,n){var i=t.eventData;t.silent||t.ignore||i||(i=t.eventData={componentType:"graphic",componentIndex:e.componentIndex,name:t.name}),i&&(i.info=t.info)}var h=n(5),d=(h.__DEV__,n(1)),p=n(0),f=n(4),g=n(2),m=n(6),v=n(3),y=v.parsePercent,x={path:null,compoundPath:null,group:g.Group,image:g.Image,text:g.Text};d.registerPreprocessor(function(t){var e=t.graphic;p.isArray(e)?e[0]&&e[0].elements?t.graphic=[t.graphic[0]]:t.graphic=[{elements:e}]:e&&!e.elements&&(t.graphic=[{elements:[e]}])});var _=d.extendComponentModel({type:"graphic",defaultOption:{elements:[],parentId:null},_elOptionsToUpdate:null,mergeOption:function(t){var e=this.option.elements;this.option.elements=null,_.superApply(this,"mergeOption",arguments),this.option.elements=e},optionUpdated:function(t,e){var n=this.option,i=(e?n:t).elements,r=n.elements=e?[]:n.elements,a=[];this._flatten(i,a);var o=f.mappingToExists(r,a);f.makeIdAndName(o);var u=this._elOptionsToUpdate=[];p.each(o,function(t,e){var n=t.option;n&&(u.push(n),s(t,n),l(r,e,n),c(r[e],n))},this);for(var h=r.length-1;h>=0;h--)null==r[h]?r.splice(h,1):delete r[h].$action},_flatten:function(t,e,n){p.each(t,function(t){if(t){n&&(t.parentOption=n),e.push(t);var i=t.children;"group"===t.type&&i&&this._flatten(i,e,t),delete t.children}},this)},useElOptionsToUpdate:function(){var t=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,t}});d.extendComponentView({type:"graphic",init:function(t,e){this._elMap=p.createHashMap(),this._lastGraphicModel},render:function(t,e,n){t!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=t,this._updateElements(t),this._relocate(t,n)},_updateElements:function(t){var e=t.useElOptionsToUpdate();if(e){var n=this._elMap,o=this.group;p.each(e,function(e){var s=e.$action,l=e.id,c=n.get(l),h=e.parentId,d=null!=h?n.get(h):o,p=e.style;"text"===e.type&&p&&(e.hv&&e.hv[1]&&(p.textVerticalAlign=p.textBaseline=null),!p.hasOwnProperty("textFill")&&p.fill&&(p.textFill=p.fill),!p.hasOwnProperty("textStroke")&&p.stroke&&(p.textStroke=p.stroke));var f=a(e);s&&"merge"!==s?"replace"===s?(r(c,n),i(l,d,f,n)):"remove"===s&&r(c,n):c?c.attr(f):i(l,d,f,n);var g=n.get(l);g&&(g.__ecGraphicWidthOption=e.width,g.__ecGraphicHeightOption=e.height,u(g,t,e))})}},_relocate:function(t,e){for(var n=t.option.elements,i=this.group,r=this._elMap,a=e.getWidth(),o=e.getHeight(),s=0;s<n.length;s++){var l=n[s],c=r.get(l.id);if(c&&c.isGroup){var u=c.parent,h=u===i;c.__ecGraphicWidth=y(c.__ecGraphicWidthOption,h?a:u.__ecGraphicWidth)||0,c.__ecGraphicHeight=y(c.__ecGraphicHeightOption,h?o:u.__ecGraphicHeight)||0}}for(var s=n.length-1;s>=0;s--){var l=n[s],c=r.get(l.id);if(c){var u=c.parent,d=u===i?{width:a,height:o}:{width:u.__ecGraphicWidth,height:u.__ecGraphicHeight};m.positionElement(c,l,d,null,{hv:l.hv,boundingMode:l.bounding})}}},_clear:function(){var t=this._elMap;t.each(function(e){r(e,t)}),this._elMap=p.createHashMap()},dispose:function(){this._clear()}})},function(t,e,n){n(522),n(523),n(524),n(525),n(526),n(527),n(532)},function(t,e,n){var i=n(1),r=n(0),a=n(37),o=i.extendComponentModel({type:"toolbox",layoutMode:{type:"box",ignoreSize:!0},optionUpdated:function(){o.superApply(this,"optionUpdated",arguments),r.each(this.option.feature,function(t,e){var n=a.get(e);n&&r.merge(t,n.defaultOption)})},defaultOption:{show:!0,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1}}}),s=o;t.exports=s},function(t,e,n){function i(t){return 0===t.indexOf("my")}var r=n(1),a=n(0),o=n(17),s=n(37),l=n(2),c=n(12),u=n(41),h=n(217),d=r.extendComponentView({type:"toolbox",render:function(t,e,n,r){function d(a,o){var l,u=y[a],h=y[o],d=m[u],f=new c(d,t,t.ecModel);if(r&&null!=r.newTitle&&(d.title=r.newTitle),u&&!h){if(i(u))l={model:f,onclick:f.option.onclick,featureName:u};else{var g=s.get(u);if(!g)return;l=new g(f,e,n)}v[u]=l}else{if(!(l=v[h]))return;l.model=f,l.ecModel=e,l.api=n}return!u&&h?void(l.dispose&&l.dispose(e,n)):!f.get("show")||l.unusable?void(l.remove&&l.remove(e,n)):(p(f,l,u),f.setIconStatus=function(t,e){var n=this.option,i=this.iconPaths;n.iconStatus=n.iconStatus||{},n.iconStatus[t]=e,i[t]&&i[t].trigger(e)},void(l.render&&l.render(f,e,n,r)))}function p(i,r,o){var s=i.getModel("iconStyle"),c=i.getModel("emphasis.iconStyle"),u=r.getIcons?r.getIcons():i.get("icon"),h=i.get("title")||{};if("string"==typeof u){var d=u,p=h;u={},h={},u[o]=d,h[o]=p}var m=i.iconPaths={};a.each(u,function(o,u){var d=l.createIcon(o,{},{x:-g/2,y:-g/2,width:g,height:g});d.setStyle(s.getItemStyle()),d.hoverStyle=c.getItemStyle(),d.setStyle({text:h[u],textAlign:c.get("textAlign"),textBorderRadius:c.get("textBorderRadius"),textPadding:c.get("textPadding"),textFill:null});var p=t.getModel("tooltip");p&&p.get("show")&&d.attr("tooltip",a.extend({content:h[u],formatter:p.get("formatter",!0)||function(){return h[u]},formatterParams:{componentType:"toolbox",name:u,title:h[u],$vars:["name","title"]},position:p.get("position",!0)||"bottom"},p.option)),l.setHoverStyle(d),t.get("showTitle")&&(d.__title=h[u],d.on("mouseover",function(){var e=c.getItemStyle(),n="vertical"===t.get("orient")?null==t.get("right")?"right":"left":null==t.get("bottom")?"bottom":"top";d.setStyle({textFill:c.get("textFill")||e.fill||e.stroke||"#000",textBackgroundColor:c.get("textBackgroundColor"),textPosition:c.get("textPosition")||n})}).on("mouseout",function(){d.setStyle({textFill:null,textBackgroundColor:null})})),d.trigger(i.get("iconStatus."+u)||"normal"),f.add(d),d.on("click",a.bind(r.onclick,r,e,n,u)),m[u]=d})}var f=this.group;if(f.removeAll(),t.get("show")){var g=+t.get("itemSize"),m=t.get("feature")||{},v=this._features||(this._features={}),y=[];a.each(m,function(t,e){y.push(e)}),new u(this._featureNames||[],y).add(d).update(d).remove(a.curry(d,null)).execute(),this._featureNames=y,h.layout(f,t,n),f.add(h.makeBackground(f.getBoundingRect(),t)),f.eachChild(function(t){var e=t.__title,i=t.hoverStyle;if(i&&e){var r=o.getBoundingRect(e,o.makeFont(i)),a=t.position[0]+f.position[0],s=t.position[1]+f.position[1]+g,l=!1;s+r.height>n.getHeight()&&(i.textPosition="top",l=!0);var c=l?-5-r.height:g+8;a+r.width/2>n.getWidth()?(i.textPosition=["100%",c],i.textAlign="right"):a-r.width/2<0&&(i.textPosition=[0,c],i.textAlign="left")}})}},updateView:function(t,e,n,i){a.each(this._features,function(t){t.updateView&&t.updateView(t.model,e,n,i)})},remove:function(t,e){a.each(this._features,function(n){n.remove&&n.remove(t,e)}),this.group.removeAll()},dispose:function(t,e){a.each(this._features,function(n){n.dispose&&n.dispose(t,e)})}});t.exports=d},function(t,e,n){function i(t){this.model=t}var r=n(11),a=n(34),o=n(37),s=a.toolbox.saveAsImage;i.defaultOption={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:s.title,type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],pixelRatio:1,lang:s.lang.slice()},i.prototype.unusable=!r.canvasSupported,i.prototype.onclick=function(t,e){var n=this.model,i=n.get("name")||t.get("title.0.text")||"echarts",a=n.get("type",!0)||"png",o=e.getConnectedDataURL({type:a,backgroundColor:n.get("backgroundColor",!0)||t.get("backgroundColor")||"#fff",connectedBackgroundColor:n.get("connectedBackgroundColor"),excludeComponents:n.get("excludeComponents"),pixelRatio:n.get("pixelRatio")});if("function"!=typeof MouseEvent||r.browser.ie||r.browser.edge)if(window.navigator.msSaveOrOpenBlob){for(var s=atob(o.split(",")[1]),l=s.length,c=new Uint8Array(l);l--;)c[l]=s.charCodeAt(l);var u=new Blob([c]);window.navigator.msSaveOrOpenBlob(u,i+"."+a)}else{var h=n.get("lang"),d='<body style="margin:0;"><img src="'+o+'" style="max-width:100%;" title="'+(h&&h[0]||"")+'" /></body>',p=window.open();p.document.write(d)}else{var f=document.createElement("a");f.download=i+"."+a,f.target="_blank",f.href=o;var g=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1});f.dispatchEvent(g)}},o.register("saveAsImage",i);var l=i;t.exports=l},function(t,e,n){function i(t){this.model=t}var r=n(1),a=n(0),o=n(34),s=n(37),l=o.toolbox.magicType;i.defaultOption={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:a.clone(l.title),option:{},seriesIndex:{}};var c=i.prototype;c.getIcons=function(){var t=this.model,e=t.get("icon"),n={};return a.each(t.get("type"),function(t){e[t]&&(n[t]=e[t])}),n};var u={line:function(t,e,n,i){if("bar"===t)return a.merge({id:e,type:"line",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},i.get("option.line")||{},!0)},bar:function(t,e,n,i){if("line"===t)return a.merge({id:e,type:"bar",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},i.get("option.bar")||{},!0)},stack:function(t,e,n,i){var r="__ec_magicType_stack__"===n.get("stack");if("line"===t||"bar"===t)return i.setIconStatus("stack",r?"normal":"emphasis"),a.merge({id:e,stack:r?"":"__ec_magicType_stack__"},i.get("option.stack")||{},!0)}},h=[["line","bar"],["stack"]];c.onclick=function(t,e,n){var i=this.model,r=i.get("seriesIndex."+n);if(u[n]){var o={series:[]},s=function(e){var r=e.subType,s=e.id,l=u[n](r,s,e,i);l&&(a.defaults(l,e.option),o.series.push(l));var c=e.coordinateSystem;if(c&&"cartesian2d"===c.type&&("line"===n||"bar"===n)){var h=c.getAxesByScale("ordinal")[0];if(h){var d=h.dim,p=d+"Axis",f=t.queryComponents({mainType:p,index:e.get(name+"Index"),id:e.get(name+"Id")})[0],g=f.componentIndex;o[p]=o[p]||[];for(var m=0;m<=g;m++)o[p][g]=o[p][g]||{};o[p][g].boundaryGap="bar"===n}}};a.each(h,function(t){a.indexOf(t,n)>=0&&a.each(t,function(t){i.setIconStatus(t,"normal")})}),i.setIconStatus(n,"emphasis"),t.eachComponent({mainType:"series",query:null==r?null:{seriesIndex:r}},s);var c;if("stack"===n){c=o.series&&o.series[0]&&"__ec_magicType_stack__"===o.series[0].stack?a.merge({stack:l.title.tiled},l.title):a.clone(l.title)}e.dispatchAction({type:"changeMagicType",currentType:n,newOption:o,newTitle:c})}},r.registerAction({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(t,e){e.mergeOption(t.newOption)}),s.register("magicType",i);var d=i;t.exports=d},function(t,e,n){function i(t){var e={},n=[],i=[];return t.eachRawSeries(function(t){var r=t.coordinateSystem;if(!r||"cartesian2d"!==r.type&&"polar"!==r.type)n.push(t);else{var a=r.getBaseAxis();if("category"===a.type){var o=a.dim+"_"+a.index;e[o]||(e[o]={categoryAxis:a,valueAxis:r.getOtherAxis(a),series:[]},i.push({axisDim:a.dim,axisIndex:a.index})),e[o].series.push(t)}else n.push(t)}}),{seriesGroupByCategoryAxis:e,other:n,meta:i}}function r(t){var e=[];return g.each(t,function(t,n){var i=t.categoryAxis,r=t.valueAxis,a=r.dim,o=[" "].concat(g.map(t.series,function(t){return t.name})),s=[i.model.getCategories()];g.each(t.series,function(t){s.push(t.getRawData().mapArray(a,function(t){return t}))});for(var l=[o.join(b)],c=0;c<s[0].length;c++){for(var u=[],h=0;h<s.length;h++)u.push(s[h][c]);l.push(u.join(b))}e.push(l.join("\n"))}),e.join("\n\n"+_+"\n\n")}function a(t){return g.map(t,function(t){var e=t.getRawData(),n=[t.name],i=[];return e.each(e.dimensions,function(){for(var t=arguments.length,r=arguments[t-1],a=e.getName(r),o=0;o<t-1;o++)i[o]=arguments[o];n.push((a?a+b:"")+i.join(b))}),n.join("\n")}).join("\n\n"+_+"\n\n")}function o(t){var e=i(t);return{value:g.filter([r(e.seriesGroupByCategoryAxis),a(e.other)],function(t){return t.replace(/[\n\t\s]/g,"")}).join("\n\n"+_+"\n\n"),meta:e.meta}}function s(t){return t.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function l(t){if(t.slice(0,t.indexOf("\n")).indexOf(b)>=0)return!0}function c(t){for(var e=t.split(/\n+/g),n=s(e.shift()).split(w),i=[],r=g.map(n,function(t){return{name:t,data:[]}}),a=0;a<e.length;a++){var o=s(e[a]).split(w);i.push(o.shift());for(var l=0;l<o.length;l++)r[l]&&(r[l].data[a]=o[l])}return{series:r,categories:i}}function u(t){for(var e=t.split(/\n+/g),n=s(e.shift()),i=[],r=0;r<e.length;r++){var a,o=s(e[r]).split(w),l="",c=!1;isNaN(o[0])?(c=!0,l=o[0],o=o.slice(1),i[r]={name:l,value:[]},a=i[r].value):a=i[r]=[];for(var u=0;u<o.length;u++)a.push(+o[u]);1===a.length&&(c?i[r].value=a[0]:i[r]=a[0])}return{name:n,data:i}}function h(t,e){var n=t.split(new RegExp("\n*"+_+"\n*","g")),i={series:[]};return g.each(n,function(t,n){if(l(t)){var r=c(t),a=e[n],o=a.axisDim+"Axis";a&&(i[o]=i[o]||[],i[o][a.axisIndex]={data:r.categories},i.series=i.series.concat(r.series))}else{var r=u(t);i.series.push(r)}}),i}function d(t){this._dom=null,this.model=t}function p(t,e){return g.map(t,function(t,n){var i=e&&e[n];return g.isObject(i)&&!g.isArray(i)?(g.isObject(t)&&!g.isArray(t)&&(t=t.value),g.defaults({value:t},i)):t})}var f=n(1),g=n(0),m=n(23),v=n(34),y=n(37),x=v.toolbox.dataView,_=new Array(60).join("-"),b="\t",w=new RegExp("["+b+"]+","g");d.defaultOption={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:g.clone(x.title),lang:g.clone(x.lang),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"},d.prototype.onclick=function(t,e){function n(){i.removeChild(a),M._dom=null}var i=e.getDom(),r=this.model;this._dom&&i.removeChild(this._dom);var a=document.createElement("div");a.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;",a.style.backgroundColor=r.get("backgroundColor")||"#fff";var s=document.createElement("h4"),l=r.get("lang")||[];s.innerHTML=l[0]||r.get("title"),s.style.cssText="margin: 10px 20px;",s.style.color=r.get("textColor");var c=document.createElement("div"),u=document.createElement("textarea");c.style.cssText="display:block;width:100%;overflow:auto;";var d=r.get("optionToContent"),p=r.get("contentToOption"),f=o(t);if("function"==typeof d){var v=d(e.getOption());"string"==typeof v?c.innerHTML=v:g.isDom(v)&&c.appendChild(v)}else c.appendChild(u),u.readOnly=r.get("readOnly"),u.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;",u.style.color=r.get("textColor"),u.style.borderColor=r.get("textareaBorderColor"),u.style.backgroundColor=r.get("textareaColor"),u.value=f.value;var y=f.meta,x=document.createElement("div");x.style.cssText="position:absolute;bottom:0;left:0;right:0;";var _="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",b=document.createElement("div"),w=document.createElement("div");_+=";background-color:"+r.get("buttonColor"),_+=";color:"+r.get("buttonTextColor");var M=this;m.addEventListener(b,"click",n),m.addEventListener(w,"click",function(){var t;try{t="function"==typeof p?p(c,e.getOption()):h(u.value,y)}catch(t){throw n(),new Error("Data view format error "+t)}t&&e.dispatchAction({type:"changeDataView",newOption:t}),n()}),b.innerHTML=l[1],w.innerHTML=l[2],w.style.cssText=_,b.style.cssText=_,!r.get("readOnly")&&x.appendChild(w),x.appendChild(b),a.appendChild(s),a.appendChild(c),a.appendChild(x),c.style.height=i.clientHeight-80+"px",i.appendChild(a),this._dom=a},d.prototype.remove=function(t,e){this._dom&&e.getDom().removeChild(this._dom)},d.prototype.dispose=function(t,e){this.remove(t,e)},y.register("dataView",d),f.registerAction({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(t,e){var n=[];g.each(t.newOption.series,function(t){var i=e.getSeriesByName(t.name)[0];if(i){var r=i.get("data");n.push({name:t.name,data:p(t.data,r)})}else n.push(g.extend({type:"scatter"},t))}),e.mergeOption(g.defaults({series:n},t.newOption))});var M=d;t.exports=M},function(t,e,n){function i(t,e,n){(this._brushController=new c(n.getZr())).on("brush",l.bind(this._onBrush,this)).mount(),this._isZoomActive}function r(t){var e={};return l.each(["xAxisIndex","yAxisIndex"],function(n){e[n]=t[n],null==e[n]&&(e[n]="all"),(!1===e[n]||"none"===e[n])&&(e[n]=[])}),e}function a(t,e){t.setIconStatus("back",h.count(e)>1?"emphasis":"normal")}function o(t,e,n,i,a){var o=n._isZoomActive;i&&"takeGlobalCursor"===i.type&&(o="dataZoomSelect"===i.key&&i.dataZoomSelectActive),n._isZoomActive=o,t.setIconStatus("zoom",o?"emphasis":"normal");var s=new u(r(t.option),e,{include:["grid"]});n._brushController.setPanels(s.makePanelOpts(a,function(t){return t.xAxisDeclared&&!t.yAxisDeclared?"lineX":!t.xAxisDeclared&&t.yAxisDeclared?"lineY":"rect"})).enableBrush(!!o&&{brushType:"auto",brushStyle:{lineWidth:0,fill:"rgba(0,0,0,0.2)"}})}var s=n(1),l=n(0),c=n(115),u=n(218),h=n(219),d=n(54),p=n(34),f=n(37);n(528);var g=p.toolbox.dataZoom,m=l.each,v="\0_ec_\0toolbox-dataZoom_";i.defaultOption={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:l.clone(g.title)};var y=i.prototype;y.render=function(t,e,n,i){this.model=t,this.ecModel=e,this.api=n,o(t,e,this,i,n),a(t,e)},y.onclick=function(t,e,n){x[n].call(this)},y.remove=function(t,e){this._brushController.unmount()},y.dispose=function(t,e){this._brushController.dispose()};var x={zoom:function(){var t=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:t})},back:function(){this._dispatchZoomAction(h.pop(this.ecModel))}};y._onBrush=function(t,e){function n(t,e,n){var r=e.getAxis(t),s=r.model,l=i(t,s,o),c=l.findRepresentativeAxisProxy(s).getMinMaxSpan();null==c.minValueSpan&&null==c.maxValueSpan||(n=d(0,n.slice(),r.scale.getExtent(),0,c.minValueSpan,c.maxValueSpan)),l&&(a[l.id]={dataZoomId:l.id,startValue:n[0],endValue:n[1]})}function i(t,e,n){var i;return n.eachComponent({mainType:"dataZoom",subType:"select"},function(n){n.getAxisModel(t,e.componentIndex)&&(i=n)}),i}if(e.isEnd&&t.length){var a={},o=this.ecModel;this._brushController.updateCovers([]);new u(r(this.model.option),o,{include:["grid"]}).matchOutputRanges(t,o,function(t,e,i){if("cartesian2d"===i.type){var r=t.brushType;"rect"===r?(n("x",i,e[0]),n("y",i,e[1])):n({lineX:"x",lineY:"y"}[r],i,e)}}),h.push(o,a),this._dispatchZoomAction(a)}},y._dispatchZoomAction=function(t){var e=[];m(t,function(t,n){e.push(l.clone(t))}),e.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:e})},f.register("dataZoom",i),s.registerPreprocessor(function(t){function e(t,e){if(e){var r=t+"Index",a=e[r];null==a||"all"===a||l.isArray(a)||(a=!1===a||"none"===a?[]:[a]),n(t,function(n,o){if(null==a||"all"===a||-1!==l.indexOf(a,o)){var s={type:"select",$fromToolbox:!0,filterMode:e.filterMode||"filter",id:v+t+o};s[r]=o,i.push(s)}})}}function n(e,n){var i=t[e];l.isArray(i)||(i=i?[i]:[]),m(i,n)}if(t){var i=t.dataZoom||(t.dataZoom=[]);l.isArray(i)||(t.dataZoom=i=[i]);var r=t.toolbox;if(r&&(l.isArray(r)&&(r=r[0]),r&&r.feature)){var a=r.feature.dataZoom;e("xAxis",a),e("yAxis",a)}}});var _=i;t.exports=_},function(t,e,n){n(118),n(55),n(56),n(530),n(531),n(120),n(121)},function(t,e,n){function i(t,e,n){var i=[1/0,-1/0];return h(n,function(t){var n=t.getData();n&&h(n.mapDimension(e,!0),function(t){var e=n.getApproximateExtent(t);e[0]<i[0]&&(i[0]=e[0]),e[1]>i[1]&&(i[1]=e[1])})}),i[1]<i[0]&&(i=[NaN,NaN]),r(t,i),i}function r(t,e){var n=t.getAxisModel(),i=n.getMin(!0),r="category"===n.get("type"),a=r&&n.getCategories().length;null!=i&&"dataMin"!==i&&"function"!=typeof i?e[0]=i:r&&(e[0]=a>0?0:NaN);var o=n.getMax(!0);return null!=o&&"dataMax"!==o&&"function"!=typeof o?e[1]=o:r&&(e[1]=a>0?a-1:NaN),n.get("scale",!0)||(e[0]>0&&(e[0]=0),e[1]<0&&(e[1]=0)),e}function a(t,e){var n=t.getAxisModel(),i=t._percentWindow,r=t._valueWindow;if(i){var a=l.getPixelPrecision(r,[0,500]);a=Math.min(a,20);var o=e||0===i[0]&&100===i[1];n.setRange(o?null:+r[0].toFixed(a),o?null:+r[1].toFixed(a))}}function o(t){var e=t._minMaxSpan={},n=t._dataZoomModel,i=t._dataExtent;h(["min","max"],function(r){var a=n.get(r+"Span"),o=n.get(r+"ValueSpan");null!=o&&(o=t.getAxisModel().axis.scale.parse(o)),null!=o?a=l.linearMap(i[0]+o,i,[0,100],!0):null!=a&&(o=l.linearMap(a,[0,100],i,!0)-i[0]),e[r+"Span"]=a,e[r+"ValueSpan"]=o})}var s=n(0),l=n(3),c=n(119),u=n(54),h=s.each,d=l.asc,p=function(t,e,n,i){this._dimName=t,this._axisIndex=e,this._valueWindow,this._percentWindow,this._dataExtent,this._minMaxSpan,this.ecModel=i,this._dataZoomModel=n};p.prototype={constructor:p,hostedBy:function(t){return this._dataZoomModel===t},getDataValueWindow:function(){return this._valueWindow.slice()},getDataPercentWindow:function(){return this._percentWindow.slice()},getTargetSeriesModels:function(){var t=[],e=this.ecModel;return e.eachSeries(function(n){if(c.isCoordSupported(n.get("coordinateSystem"))){var i=this._dimName,r=e.queryComponents({mainType:i+"Axis",index:n.get(i+"AxisIndex"),id:n.get(i+"AxisId")})[0];this._axisIndex===(r&&r.componentIndex)&&t.push(n)}},this),t},getAxisModel:function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},getOtherAxisModel:function(){var t,e,n=this._dimName,i=this.ecModel,r=this.getAxisModel(),a="x"===n||"y"===n;a?(e="gridIndex",t="x"===n?"y":"x"):(e="polarIndex",t="angle"===n?"radius":"angle");var o;return i.eachComponent(t+"Axis",function(t){(t.get(e)||0)===(r.get(e)||0)&&(o=t)}),o},getMinMaxSpan:function(){return s.clone(this._minMaxSpan)},calculateDataWindow:function(t){function e(t,e,n,i,r){var o=r?"Span":"ValueSpan";u(0,t,n,"all",f["min"+o],f["max"+o]);for(var s=0;s<2;s++)e[s]=l.linearMap(t[s],n,i,!0),r&&(e[s]=a.parse(e[s]))}var n,i=this._dataExtent,r=this.getAxisModel(),a=r.axis.scale,o=this._dataZoomModel.getRangePropMode(),s=[0,100],c=[],p=[];h(["start","end"],function(e,r){var u=t[e],h=t[e+"Value"];"percent"===o[r]?(null==u&&(u=s[r]),h=a.parse(l.linearMap(u,s,i))):(n=!0,h=null==h?i[r]:a.parse(h),u=l.linearMap(h,i,s)),p[r]=h,c[r]=u}),d(p),d(c);var f=this._minMaxSpan;return n?e(p,c,i,s,!1):e(c,p,s,i,!0),{valueWindow:p,percentWindow:c}},reset:function(t){if(t===this._dataZoomModel){var e=this.getTargetSeriesModels();this._dataExtent=i(this,this._dimName,e),o(this);var n=this.calculateDataWindow(t.settledOption);this._valueWindow=n.valueWindow,this._percentWindow=n.percentWindow,a(this)}},restore:function(t){t===this._dataZoomModel&&(this._valueWindow=this._percentWindow=null,a(this,!0))},filterData:function(t,e){function n(t){return t>=o[0]&&t<=o[1]}if(t===this._dataZoomModel){var i=this._dimName,r=this.getTargetSeriesModels(),a=t.get("filterMode"),o=this._valueWindow;"none"!==a&&h(r,function(t){var e=t.getData(),r=e.mapDimension(i,!0);r.length&&("weakFilter"===a?e.filterSelf(function(t){for(var n,i,a,s=0;s<r.length;s++){var l=e.get(r[s],t),c=!isNaN(l),u=l<o[0],h=l>o[1];if(c&&!u&&!h)return!0;c&&(a=!0),u&&(n=!0),h&&(i=!0)}return a&&n&&i}):h(r,function(i){if("empty"===a)t.setData(e=e.map(i,function(t){return n(t)?t:NaN}));else{var r={};r[i]=o,e.selectRange(r)}}),h(r,function(t){e.setApproximateExtent(o,t)}))})}}};var f=p;t.exports=f},function(t,e,n){var i=n(55),r=i.extend({type:"dataZoom.select"});t.exports=r},function(t,e,n){var i=n(56),r=i.extend({type:"dataZoom.select"});t.exports=r},function(t,e,n){function i(t){this.model=t}var r=n(1),a=n(219),o=n(34),s=n(37),l=o.toolbox.restore;i.defaultOption={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:l.title},i.prototype.onclick=function(t,e,n){a.clear(t),e.dispatchAction({type:"restore",from:this.uid})},s.register("restore",i),r.registerAction({type:"restore",event:"restore",update:"prepareAndUpdate"},function(t,e){e.resetOption("recreate")});var c=i;t.exports=c},function(t,e,n){var i=n(1);n(71),n(534),n(535),i.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},function(){}),i.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},function(){})},function(t,e,n){var i=n(1),r=i.extendComponentModel({type:"tooltip",dependencies:["axisPointer"],defaultOption:{zlevel:0,z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:!1,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#fff",fontSize:14}}});t.exports=r},function(t,e,n){function i(t){for(var e=t.pop();t.length;){var n=t.pop();n&&(x.isInstance(n)&&(n=n.get("tooltip",!0)),"string"==typeof n&&(n={formatter:n}),e=new x(n,e,e.ecModel))}return e}function r(t,e){return t.dispatchAction||u.bind(e.dispatchAction,e)}function a(t,e,n,i,r,a,o){var s=n.getOuterSize(),l=s.width,c=s.height;return null!=a&&(t+l+a>i?t-=l+a:t+=a),null!=o&&(e+c+o>r?e-=c+o:e+=o),[t,e]}function o(t,e,n,i,r){var a=n.getOuterSize(),o=a.width,s=a.height;return t=Math.min(t+o,i)-o,e=Math.min(e+s,r)-s,t=Math.max(t,0),e=Math.max(e,0),[t,e]}function s(t,e,n){var i=n[0],r=n[1],a=0,o=0,s=e.width,l=e.height;switch(t){case"inside":a=e.x+s/2-i/2,o=e.y+l/2-r/2;break;case"top":a=e.x+s/2-i/2,o=e.y-r-5;break;case"bottom":a=e.x+s/2-i/2,o=e.y+l+5;break;case"left":a=e.x-i-5,o=e.y+l/2-r/2;break;case"right":a=e.x+s+5,o=e.y+l/2-r/2}return[a,o]}function l(t){return"center"===t||"middle"===t}var c=n(1),u=n(0),h=n(11),d=n(536),p=n(537),f=n(9),g=n(3),m=n(2),v=n(214),y=n(6),x=n(12),_=n(215),b=n(22),w=n(90),M=n(4),S=M.getTooltipRenderMode,T=u.bind,A=u.each,C=g.parsePercent,L=new m.Rect({shape:{x:-1,y:-1,width:2,height:2}}),E=c.extendComponentView({type:"tooltip",init:function(t,e){if(!h.node){var n=t.getComponent("tooltip"),i=n.get("renderMode");this._renderMode=S(i);var r;"html"===this._renderMode?(r=new d(e.getDom(),e),this._newLine="<br/>"):(r=new p(e),this._newLine="\n"),this._tooltipContent=r}},render:function(t,e,n){if(!h.node){this.group.removeAll(),this._tooltipModel=t,this._ecModel=e,this._api=n,this._lastDataByCoordSys=null,this._alwaysShowContent=t.get("alwaysShowContent");var i=this._tooltipContent;i.update(),i.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow()}},_initGlobalListener:function(){var t=this._tooltipModel,e=t.get("triggerOn");_.register("itemTooltip",this._api,T(function(t,n,i){"none"!==e&&(e.indexOf(t)>=0?this._tryShow(n,i):"leave"===t&&this._hide(i))},this))},_keepShow:function(){var t=this._tooltipModel,e=this._ecModel,n=this._api;if(null!=this._lastX&&null!=this._lastY&&"none"!==t.get("triggerOn")){var i=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!n.isDisposed()&&i.manuallyShowTip(t,e,n,{x:i._lastX,y:i._lastY})})}},manuallyShowTip:function(t,e,n,i){if(i.from!==this.uid&&!h.node){var a=r(i,n);this._ticket="";var o=i.dataByCoordSys;if(i.tooltip&&null!=i.x&&null!=i.y){var s=L;s.position=[i.x,i.y],s.update(),s.tooltip=i.tooltip,this._tryShow({offsetX:i.x,offsetY:i.y,target:s},a)}else if(o)this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,event:{},dataByCoordSys:i.dataByCoordSys,tooltipOption:i.tooltipOption},a);else if(null!=i.seriesIndex){if(this._manuallyAxisShowTip(t,e,n,i))return;var l=v(i,e),c=l.point[0],u=l.point[1];null!=c&&null!=u&&this._tryShow({offsetX:c,offsetY:u,position:i.position,target:l.el,event:{}},a)}else null!=i.x&&null!=i.y&&(n.dispatchAction({type:"updateAxisPointer",x:i.x,y:i.y}),this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,target:n.getZr().findHover(i.x,i.y).target,event:{}},a))}},manuallyHideTip:function(t,e,n,i){var a=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&a.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=null,i.from!==this.uid&&this._hide(r(i,n))},_manuallyAxisShowTip:function(t,e,n,r){var a=r.seriesIndex,o=r.dataIndex,s=e.getComponent("axisPointer").coordSysAxesInfo;if(null!=a&&null!=o&&null!=s){var l=e.getSeriesByIndex(a);if(l){var c=l.getData(),t=i([c.getItemModel(o),l,(l.coordinateSystem||{}).model,t]);if("axis"===t.get("trigger"))return n.dispatchAction({type:"updateAxisPointer",seriesIndex:a,dataIndex:o,position:r.position}),!0}}},_tryShow:function(t,e){var n=t.target;if(this._tooltipModel){this._lastX=t.offsetX,this._lastY=t.offsetY;var i=t.dataByCoordSys;i&&i.length?this._showAxisTooltip(i,t):n&&null!=n.dataIndex?(this._lastDataByCoordSys=null,this._showSeriesItemTooltip(t,n,e)):n&&n.tooltip?(this._lastDataByCoordSys=null,this._showComponentItemTooltip(t,n,e)):(this._lastDataByCoordSys=null,this._hide(e))}},_showOrMove:function(t,e){var n=t.get("showDelay");e=u.bind(e,this),clearTimeout(this._showTimout),n>0?this._showTimout=setTimeout(e,n):e()},_showAxisTooltip:function(t,e){var n=this._ecModel,r=this._tooltipModel,a=[e.offsetX,e.offsetY],o=[],s=[],l=i([e.tooltipOption,r]),c=this._renderMode,h=this._newLine,d={};A(t,function(t){A(t.dataByAxis,function(t){var e=n.getComponent(t.axisDim+"Axis",t.axisIndex),i=t.value,r=[];if(e&&null!=i){var a=w.getValueLabel(i,e.axis,n,t.seriesDataIndices,t.valueLabelOpt);u.each(t.seriesDataIndices,function(o){var l=n.getSeriesByIndex(o.seriesIndex),h=o.dataIndexInside,p=l&&l.getDataParams(h);if(p.axisDim=t.axisDim,p.axisIndex=t.axisIndex,p.axisType=t.axisType,p.axisId=t.axisId,p.axisValue=b.getAxisRawValue(e.axis,i),p.axisValueLabel=a,p){s.push(p);var f,g=l.formatTooltip(h,!0,null,c);if(u.isObject(g)){f=g.html;var m=g.markers;u.merge(d,m)}else f=g;r.push(f)}});var l=a;"html"!==c?o.push(r.join(h)):o.push((l?f.encodeHTML(l)+h:"")+r.join(h))}})},this),o.reverse(),o=o.join(this._newLine+this._newLine);var p=e.position;this._showOrMove(l,function(){this._updateContentNotChangedOnAxis(t)?this._updatePosition(l,p,a[0],a[1],this._tooltipContent,s):this._showTooltipContent(l,o,s,Math.random(),a[0],a[1],p,void 0,d)})},_showSeriesItemTooltip:function(t,e,n){var r=this._ecModel,a=e.seriesIndex,o=r.getSeriesByIndex(a),s=e.dataModel||o,l=e.dataIndex,c=e.dataType,h=s.getData(),d=i([h.getItemModel(l),s,o&&(o.coordinateSystem||{}).model,this._tooltipModel]),p=d.get("trigger");if(null==p||"item"===p){var f,g,m=s.getDataParams(l,c),v=s.formatTooltip(l,!1,c,this._renderMode);u.isObject(v)?(f=v.html,g=v.markers):(f=v,g=null);var y="item_"+s.name+"_"+l;this._showOrMove(d,function(){this._showTooltipContent(d,f,m,y,t.offsetX,t.offsetY,t.position,t.target,g)}),n({type:"showTip",dataIndexInside:l,dataIndex:h.getRawIndex(l),seriesIndex:a,from:this.uid})}},_showComponentItemTooltip:function(t,e,n){var i=e.tooltip;if("string"==typeof i){var r=i;i={content:r,formatter:r}}var a=new x(i,this._tooltipModel,this._ecModel),o=a.get("content"),s=Math.random();this._showOrMove(a,function(){this._showTooltipContent(a,o,a.get("formatterParams")||{},s,t.offsetX,t.offsetY,t.position,e)}),n({type:"showTip",from:this.uid})},_showTooltipContent:function(t,e,n,i,r,a,o,s,l){if(this._ticket="",t.get("showContent")&&t.get("show")){var c=this._tooltipContent,u=t.get("formatter");o=o||t.get("position");var h=e;if(u&&"string"==typeof u)h=f.formatTpl(u,n,!0);else if("function"==typeof u){var d=T(function(e,i){e===this._ticket&&(c.setContent(i,l,t),this._updatePosition(t,o,r,a,c,n,s))},this);this._ticket=i,h=u(n,i,d)}c.setContent(h,l,t),c.show(t),this._updatePosition(t,o,r,a,c,n,s)}},_updatePosition:function(t,e,n,i,r,c,h){var d=this._api.getWidth(),p=this._api.getHeight();e=e||t.get("position");var f=r.getSize(),g=t.get("align"),m=t.get("verticalAlign"),v=h&&h.getBoundingRect().clone();if(h&&v.applyTransform(h.transform),"function"==typeof e&&(e=e([n,i],c,r.el,v,{viewSize:[d,p],contentSize:f.slice()})),u.isArray(e))n=C(e[0],d),i=C(e[1],p);else if(u.isObject(e)){e.width=f[0],e.height=f[1];var x=y.getLayoutRect(e,{width:d,height:p});n=x.x,i=x.y,g=null,m=null}else if("string"==typeof e&&h){var _=s(e,v,f);n=_[0],i=_[1]}else{var _=a(n,i,r,d,p,g?null:20,m?null:20);n=_[0],i=_[1]}if(g&&(n-=l(g)?f[0]/2:"right"===g?f[0]:0),m&&(i-=l(m)?f[1]/2:"bottom"===m?f[1]:0),t.get("confine")){var _=o(n,i,r,d,p);n=_[0],i=_[1]}r.moveTo(n,i)},_updateContentNotChangedOnAxis:function(t){var e=this._lastDataByCoordSys,n=!!e&&e.length===t.length;return n&&A(e,function(e,i){var r=e.dataByAxis||{},a=t[i]||{},o=a.dataByAxis||[];(n&=r.length===o.length)&&A(r,function(t,e){var i=o[e]||{},r=t.seriesDataIndices||[],a=i.seriesDataIndices||[];(n&=t.value===i.value&&t.axisType===i.axisType&&t.axisId===i.axisId&&r.length===a.length)&&A(r,function(t,e){var i=a[e];n&=t.seriesIndex===i.seriesIndex&&t.dataIndex===i.dataIndex})})}),this._lastDataByCoordSys=t,!!n},_hide:function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},dispose:function(t,e){h.node||(this._tooltipContent.hide(),_.unregister("itemTooltip",e))}});t.exports=E},function(t,e,n){function i(t){var e="left "+t+"s cubic-bezier(0.23, 1, 0.32, 1),top "+t+"s cubic-bezier(0.23, 1, 0.32, 1)";return s.map(f,function(t){return t+"transition:"+e}).join(";")}function r(t){var e=[],n=t.get("fontSize"),i=t.getTextColor();return i&&e.push("color:"+i),e.push("font:"+t.getFont()),n&&e.push("line-height:"+Math.round(3*n/2)+"px"),d(["decoration","align"],function(n){var i=t.get(n);i&&e.push("text-"+n+":"+i)}),e.join(";")}function a(t){var e=[],n=t.get("transitionDuration"),a=t.get("backgroundColor"),o=t.getModel("textStyle"),s=t.get("padding");return n&&e.push(i(n)),a&&(u.canvasSupported?e.push("background-Color:"+a):(e.push("background-Color:#"+l.toHex(a)),e.push("filter:alpha(opacity=70)"))),d(["width","color","radius"],function(n){var i="border-"+n,r=p(i),a=t.get(r);null!=a&&e.push(i+":"+a+("color"===n?"":"px"))}),e.push(r(o)),null!=s&&e.push("padding:"+h.normalizeCssArray(s).join("px ")+"px"),e.join(";")+";"}function o(t,e){if(u.wxa)return null;var n=document.createElement("div"),i=this._zr=e.getZr();this.el=n,this._x=e.getWidth()/2,this._y=e.getHeight()/2,t.appendChild(n),this._container=t,this._show=!1,this._hideTimeout;var r=this;n.onmouseenter=function(){r._enterable&&(clearTimeout(r._hideTimeout),r._show=!0),r._inContent=!0},n.onmousemove=function(e){if(e=e||window.event,!r._enterable){var n=i.handler;c.normalizeEvent(t,e,!0),n.dispatch("mousemove",e)}},n.onmouseleave=function(){r._enterable&&r._show&&r.hideLater(r._hideDelay),r._inContent=!1}}var s=n(0),l=n(24),c=n(23),u=n(11),h=n(9),d=s.each,p=h.toCamelCase,f=["","-webkit-","-moz-","-o-"];o.prototype={constructor:o,_enterable:!0,update:function(){var t=this._container,e=t.currentStyle||document.defaultView.getComputedStyle(t),n=t.style;"absolute"!==n.position&&"absolute"!==e.position&&(n.position="relative")},show:function(t){clearTimeout(this._hideTimeout);var e=this.el;e.style.cssText="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+a(t)+";left:"+this._x+"px;top:"+this._y+"px;"+(t.get("extraCssText")||""),e.style.display=e.innerHTML?"block":"none",e.style.pointerEvents=this._enterable?"auto":"none",this._show=!0},setContent:function(t){this.el.innerHTML=null==t?"":t},setEnterable:function(t){this._enterable=t},getSize:function(){var t=this.el;return[t.clientWidth,t.clientHeight]},moveTo:function(t,e){var n,i=this._zr;i&&i.painter&&(n=i.painter.getViewportRootOffset())&&(t+=n.offsetLeft,e+=n.offsetTop);var r=this.el.style;r.left=t+"px",r.top=e+"px",this._x=t,this._y=e},hide:function(){this.el.style.display="none",this._show=!1},hideLater:function(t){!this._show||this._inContent&&this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(s.bind(this.hide,this),t)):this.hide())},isShow:function(){return this._show},getOuterSize:function(){var t=this.el.clientWidth,e=this.el.clientHeight;if(document.defaultView&&document.defaultView.getComputedStyle){var n=document.defaultView.getComputedStyle(this.el);n&&(t+=parseInt(n.borderLeftWidth,10)+parseInt(n.borderRightWidth,10),e+=parseInt(n.borderTopWidth,10)+parseInt(n.borderBottomWidth,10))}return{width:t,height:e}}};var g=o;t.exports=g},function(t,e,n){function i(t){this._zr=t.getZr(),this._show=!1,this._hideTimeout}var r=n(0),a=n(39);i.prototype={constructor:i,_enterable:!0,update:function(){},show:function(t){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.attr("show",!0),this._show=!0},setContent:function(t,e,n){this.el&&this._zr.remove(this.el);for(var i={},r=t,o=r.indexOf("{marker");o>=0;){var s=r.indexOf("|}"),l=r.substr(o+"{marker".length,s-o-"{marker".length);l.indexOf("sub")>-1?i["marker"+l]={textWidth:4,textHeight:4,textBorderRadius:2,textBackgroundColor:e[l],textOffset:[3,0]}:i["marker"+l]={textWidth:10,textHeight:10,textBorderRadius:5,textBackgroundColor:e[l]},r=r.substr(s+1),o=r.indexOf("{marker")}this.el=new a({style:{rich:i,text:t,textLineHeight:20,textBackgroundColor:n.get("backgroundColor"),textBorderRadius:n.get("borderRadius"),textFill:n.get("textStyle.color"),textPadding:n.get("padding")},z:n.get("z")}),this._zr.add(this.el);var c=this;this.el.on("mouseover",function(){c._enterable&&(clearTimeout(c._hideTimeout),c._show=!0),c._inContent=!0}),this.el.on("mouseout",function(){c._enterable&&c._show&&c.hideLater(c._hideDelay),c._inContent=!1})},setEnterable:function(t){this._enterable=t},getSize:function(){var t=this.el.getBoundingRect();return[t.width,t.height]},moveTo:function(t,e){this.el&&this.el.attr("position",[t,e])},hide:function(){this.el&&this.el.hide(),this._show=!1},hideLater:function(t){!this._show||this._inContent&&this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(r.bind(this.hide,this),t)):this.hide())},isShow:function(){return this._show},getOuterSize:function(){var t=this.getSize();return{width:t[0],height:t[1]}}};var o=i;t.exports=o},function(t,e,n){var i=n(1),r=n(539);n(540),n(542),n(543),n(544),n(545),i.registerPreprocessor(r)},function(t,e,n){function i(t,e){var n=t&&t.brush;if(a.isArray(n)||(n=n?[n]:[]),n.length){var i=[];a.each(n,function(t){var e=t.hasOwnProperty("toolbox")?t.toolbox:[];e instanceof Array&&(i=i.concat(e))});var s=t&&t.toolbox;a.isArray(s)&&(s=s[0]),s||(s={feature:{}},t.toolbox=[s]);var l=s.feature||(s.feature={}),c=l.brush||(l.brush={}),u=c.type||(c.type=[]);u.push.apply(u,i),r(u),e&&!u.length&&u.push.apply(u,o)}}function r(t){var e={};a.each(t,function(t){e[t]=1}),t.length=0,a.each(e,function(e,n){t.push(n)})}var a=n(0),o=["rect","polygon","keep","clear"];t.exports=i},function(t,e,n){function i(t,e,n,i,a){if(a){var o=t.getZr();if(!o[x]){o[y]||(o[y]=r);g.createOrUpdate(o,y,n,e)(t,i)}}}function r(t,e){if(!t.isDisposed()){var n=t.getZr();n[x]=!0,t.dispatchAction({type:"brushSelect",batch:e}),n[x]=!1}}function a(t,e,n,i){for(var r=0,a=e.length;r<a;r++){var o=e[r];if(t[o.brushType](i,n,o.selectors,o))return!0}}function o(t){var e=t.brushSelector;if(h.isString(e)){var n=[];return h.each(f,function(t,i){n[i]=function(n,i,r,a){var o=i.getItemLayout(n);return t[e](o,r,a)}}),n}if(h.isFunction(e)){var i={};return h.each(f,function(t,n){i[n]=e}),i}return e}function s(t,e){var n=t.option.seriesIndex;return null!=n&&"all"!==n&&(h.isArray(n)?h.indexOf(n,e)<0:e!==n)}function l(t){var e=t.selectors={};return h.each(f[t.brushType],function(n,i){e[i]=function(i){return n(i,e,t)}}),t}function c(t){return new d(t[0][0],t[1][0],t[0][1]-t[0][0],t[1][1]-t[1][0])}var u=n(1),h=n(0),d=n(8),p=n(91),f=n(541),g=n(33),m=n(218),v=["inBrush","outOfBrush"],y="__ecBrushSelect",x="__ecInBrushSelectEvent",_=u.PRIORITY.VISUAL.BRUSH;u.registerLayout(_,function(t,e,n){t.eachComponent({mainType:"brush"},function(e){n&&"takeGlobalCursor"===n.type&&e.setBrushOption("brush"===n.key?n.brushOption:{brushType:!1}),(e.brushTargetManager=new m(e.option,t)).setInputRanges(e.areas,t)})}),u.registerVisual(_,function(t,e,n){var r,c,u=[];t.eachComponent({mainType:"brush"},function(e,n){function i(t){return"all"===x||_[t]}function d(t){return!!t.length}function f(t,e){var n=t.coordinateSystem;S|=n.hasAxisBrushed(),i(e)&&n.eachActiveState(t.getData(),function(t,e){"active"===t&&(w[e]=1)})}function g(n,r,l){var c=o(n);if(c&&!s(e,r)&&(h.each(T,function(i){c[i.brushType]&&e.brushTargetManager.controlSeries(i,n,t)&&l.push(i),S|=d(l)}),i(r)&&d(l))){var u=n.getData();u.each(function(t){a(c,l,u,t)&&(w[t]=1)})}}var m={brushId:e.id,brushIndex:n,brushName:e.name,areas:h.clone(e.areas),selected:[]};u.push(m);var y=e.option,x=y.brushLink,_=[],w=[],M=[],S=0;n||(r=y.throttleType,c=y.throttleDelay);var T=h.map(e.areas,function(t){return l(h.defaults({boundingRect:b[t.brushType](t)},t))}),A=p.createVisualMappings(e.option,v,function(t){t.mappingMethod="fixed"});h.isArray(x)&&h.each(x,function(t){_[t]=1}),t.eachSeries(function(t,e){var n=M[e]=[];"parallel"===t.subType?f(t,e):g(t,e,n)}),t.eachSeries(function(t,e){var n={seriesId:t.id,seriesIndex:e,seriesName:t.name,dataIndex:[]};m.selected.push(n);var r=o(t),s=M[e],l=t.getData(),c=i(e)?function(t){return w[t]?(n.dataIndex.push(l.getRawIndex(t)),"inBrush"):"outOfBrush"}:function(t){return a(r,s,l,t)?(n.dataIndex.push(l.getRawIndex(t)),"inBrush"):"outOfBrush"};(i(e)?S:d(s))&&p.applyVisual(v,A,l,c)})}),i(e,r,c,u,n)});var b={lineX:h.noop,lineY:h.noop,rect:function(t){return c(t.range)},polygon:function(t){for(var e,n=t.range,i=0,r=n.length;i<r;i++){e=e||[[1/0,-1/0],[1/0,-1/0]];var a=n[i];a[0]<e[0][0]&&(e[0][0]=a[0]),a[0]>e[0][1]&&(e[0][1]=a[0]),a[1]<e[1][0]&&(e[1][0]=a[1]),a[1]>e[1][1]&&(e[1][1]=a[1])}return e&&c(e)}}},function(t,e,n){function i(t){var e=["x","y"],n=["width","height"];return{point:function(e,n,i){if(e){var a=i.range;return r(e[t],a)}},rect:function(i,a,o){if(i){var s=o.range,l=[i[e[t]],i[e[t]]+i[n[t]]];return l[1]<l[0]&&l.reverse(),r(l[0],s)||r(l[1],s)||r(s[0],l)||r(s[1],l)}}}}function r(t,e){return e[0]<=t&&t<=e[1]}var a=n(187),o=n(8),s=n(2),l=s.linePolygonIntersect,c={lineX:i(0),lineY:i(1),rect:{point:function(t,e,n){return t&&n.boundingRect.contain(t[0],t[1])},rect:function(t,e,n){return t&&n.boundingRect.intersect(t)}},polygon:{point:function(t,e,n){return t&&n.boundingRect.contain(t[0],t[1])&&a.contain(n.range,t[0],t[1])},rect:function(t,e,n){var i=n.range;if(!t||i.length<=1)return!1;var r=t.x,s=t.y,c=t.width,u=t.height,h=i[0];return!!(a.contain(i,r,s)||a.contain(i,r+c,s)||a.contain(i,r,s+u)||a.contain(i,r+c,s+u)||o.create(t).contain(h[0],h[1])||l(r,s,r+c,s,i)||l(r,s,r,s+u,i)||l(r+c,s,r+c,s+u,i)||l(r,s+u,r+c,s+u,i))||void 0}}},u=c;t.exports=u},function(t,e,n){function i(t,e){return o.merge({brushType:t.brushType,brushMode:t.brushMode,transformable:t.transformable,brushStyle:new l(t.brushStyle).getItemStyle(),removeOnClick:t.removeOnClick,z:t.z},e,!0)}var r=n(5),a=(r.__DEV__,n(1)),o=n(0),s=n(91),l=n(12),c=["#ddd"],u=a.extendComponentModel({type:"brush",dependencies:["geo","grid","xAxis","yAxis","parallel","series"],defaultOption:{toolbox:null,brushLink:null,seriesIndex:"all",geoIndex:null,xAxisIndex:null,yAxisIndex:null,brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(120,140,180,0.3)",borderColor:"rgba(120,140,180,0.8)"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},areas:[],brushType:null,brushOption:{},coordInfoList:[],optionUpdated:function(t,e){var n=this.option;!e&&s.replaceVisualOption(n,t,["inBrush","outOfBrush"]);var i=n.inBrush=n.inBrush||{};n.outOfBrush=n.outOfBrush||{color:c},i.hasOwnProperty("liftZ")||(i.liftZ=5)},setAreas:function(t){t&&(this.areas=o.map(t,function(t){return i(this.option,t)},this))},setBrushOption:function(t){this.brushOption=i(this.option,t),this.brushType=this.brushOption.brushType}}),h=u;t.exports=h},function(t,e,n){function i(t,e,n,i){(!i||i.$from!==t.id)&&this._brushController.setPanels(t.brushTargetManager.makePanelOpts(n)).enableBrush(t.brushOption).updateCovers(t.areas.slice())}var r=n(1),a=n(0),o=n(115),s=r.extendComponentView({type:"brush",init:function(t,e){this.ecModel=t,this.api=e,this.model,(this._brushController=new o(e.getZr())).on("brush",a.bind(this._onBrush,this)).mount()},render:function(t){return this.model=t,i.apply(this,arguments)},updateTransform:i,updateView:i,dispose:function(){this._brushController.dispose()},_onBrush:function(t,e){var n=this.model.id;this.model.brushTargetManager.setOutputRanges(t,this.ecModel),(!e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:n,areas:a.clone(t),$from:n}),e.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:n,areas:a.clone(t),$from:n})}});t.exports=s},function(t,e,n){var i=n(1);i.registerAction({type:"brush",event:"brush"},function(t,e){e.eachComponent({mainType:"brush",query:t},function(e){e.setAreas(t.areas)})}),i.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},function(){}),i.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},function(){})},function(t,e,n){function i(t,e,n){this.model=t,this.ecModel=e,this.api=n,this._brushType,this._brushMode}var r=n(0),a=n(37),o=n(34),s=o.toolbox.brush;i.defaultOption={show:!0,type:["rect","polygon","lineX","lineY","keep","clear"],icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:r.clone(s.title)};var l=i.prototype;l.render=l.updateView=function(t,e,n){var i,a,o;e.eachComponent({mainType:"brush"},function(t){i=t.brushType,a=t.brushOption.brushMode||"single",o|=t.areas.length}),this._brushType=i,this._brushMode=a,r.each(t.get("type",!0),function(e){t.setIconStatus(e,("keep"===e?"multiple"===a:"clear"===e?o:e===i)?"emphasis":"normal")})},l.getIcons=function(){var t=this.model,e=t.get("icon",!0),n={};return r.each(t.get("type",!0),function(t){e[t]&&(n[t]=e[t])}),n},l.onclick=function(t,e,n){var i=this._brushType,r=this._brushMode;"clear"===n?(e.dispatchAction({type:"axisAreaSelect",intervals:[]}),e.dispatchAction({type:"brush",command:"clear",areas:[]})):e.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===n?i:i!==n&&n,brushMode:"keep"===n?"multiple"===r?"single":"multiple":r}})},a.register("brush",i);var c=i;t.exports=c},function(t,e,n){var i=n(0),r=n(1),a=n(2),o=n(6),s=o.getLayoutRect;r.extendComponentModel({type:"title",layoutMode:{type:"box",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}}),r.extendComponentView({type:"title",render:function(t,e,n){if(this.group.removeAll(),t.get("show")){var r=this.group,o=t.getModel("textStyle"),l=t.getModel("subtextStyle"),c=t.get("textAlign"),u=i.retrieve2(t.get("textBaseline"),t.get("textVerticalAlign")),h=new a.Text({style:a.setTextStyle({},o,{text:t.get("text"),textFill:o.getTextColor()},{disableBox:!0}),z2:10}),d=h.getBoundingRect(),p=t.get("subtext"),f=new a.Text({style:a.setTextStyle({},l,{text:p,textFill:l.getTextColor(),y:d.height+t.get("itemGap"),textVerticalAlign:"top"},{disableBox:!0}),z2:10}),g=t.get("link"),m=t.get("sublink"),v=t.get("triggerEvent",!0);h.silent=!g&&!v,f.silent=!m&&!v,g&&h.on("click",function(){window.open(g,"_"+t.get("target"))}),m&&f.on("click",function(){window.open(m,"_"+t.get("subtarget"))}),h.eventData=f.eventData=v?{componentType:"title",componentIndex:t.componentIndex}:null,r.add(h),p&&r.add(f);var y=r.getBoundingRect(),x=t.getBoxLayoutParams();x.width=y.width,x.height=y.height;var _=s(x,{width:n.getWidth(),height:n.getHeight()},t.get("padding"));c||(c=t.get("left")||t.get("right"),"middle"===c&&(c="center"),"right"===c?_.x+=_.width:"center"===c&&(_.x+=_.width/2)),u||(u=t.get("top")||t.get("bottom"),"center"===u&&(u="middle"),"bottom"===u?_.y+=_.height:"middle"===u&&(_.y+=_.height/2),u=u||"top"),r.attr("position",[_.x,_.y]);var b={textAlign:c,textVerticalAlign:u};h.setStyle(b),f.setStyle(b),y=r.getBoundingRect();var w=_.margin,M=t.getItemStyle(["color","opacity"]);M.fill=t.get("backgroundColor");var S=new a.Rect({shape:{x:y.x-w[3],y:y.y-w[0],width:y.width+w[1]+w[3],height:y.height+w[0]+w[2],r:t.get("borderRadius")},style:M,subPixelOptimize:!0,silent:!0});r.add(S)}}})},function(t,e,n){var i=n(1),r=n(548);n(549),n(550),n(551),n(553),i.registerPreprocessor(r)},function(t,e,n){function i(t){var e=t&&t.timeline;s.isArray(e)||(e=e?[e]:[]),s.each(e,function(t){t&&r(t)})}function r(t){var e=t.type,n={number:"value",time:"time"};if(n[e]&&(t.axisType=n[e],delete t.type),a(t),o(t,"controlPosition")){var i=t.controlStyle||(t.controlStyle={});o(i,"position")||(i.position=t.controlPosition),"none"!==i.position||o(i,"show")||(i.show=!1,delete i.position),delete t.controlPosition}s.each(t.data||[],function(t){s.isObject(t)&&!s.isArray(t)&&(!o(t,"value")&&o(t,"name")&&(t.value=t.name),a(t))})}function a(t){var e=t.itemStyle||(t.itemStyle={}),n=e.emphasis||(e.emphasis={}),i=t.label||t.label||{},r=i.normal||(i.normal={}),a={normal:1,emphasis:1};s.each(i,function(t,e){a[e]||o(r,e)||(r[e]=t)}),n.label&&!o(i,"emphasis")&&(i.emphasis=n.label,delete n.label)}function o(t,e){return t.hasOwnProperty(e)}var s=n(0);t.exports=i},function(t,e,n){n(13).registerSubTypeDefaulter("timeline",function(){return"slider"})},function(t,e,n){var i=n(1),r=n(0);i.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(t,e){var n=e.getComponent("timeline");return n&&null!=t.currentIndex&&(n.setCurrentIndex(t.currentIndex),!n.get("loop",!0)&&n.isIndexMax()&&n.setPlayState(!1)),e.resetOption("timeline"),r.defaults({currentIndex:n.option.currentIndex},t)}),i.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(t,e){var n=e.getComponent("timeline");n&&null!=t.playState&&n.setPlayState(t.playState)})},function(t,e,n){var i=n(0),r=n(552),a=n(101),o=r.extend({type:"timeline.slider",defaultOption:{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"emptyCircle",symbolSize:10,lineStyle:{show:!0,width:2,color:"#304654"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#304654"},itemStyle:{color:"#304654",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:13,color:"#c23531",borderWidth:5,borderColor:"rgba(194,53,49, 0.5)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:22,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"path://M18.6,50.8l22.5-22.5c0.2-0.2,0.3-0.4,0.3-0.7c0-0.3-0.1-0.5-0.3-0.7L18.7,4.4c-0.1-0.1-0.2-0.3-0.2-0.5 c0-0.4,0.3-0.8,0.8-0.8c0.2,0,0.5,0.1,0.6,0.3l23.5,23.5l0,0c0.2,0.2,0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-0.1,0.1L19.7,52 c-0.1,0.1-0.3,0.2-0.5,0.2c-0.4,0-0.8-0.3-0.8-0.8C18.4,51.2,18.5,51,18.6,50.8z",prevIcon:"path://M43,52.8L20.4,30.3c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.3,0.1-0.5,0.3-0.7L42.9,6.4c0.1-0.1,0.2-0.3,0.2-0.5 c0-0.4-0.3-0.8-0.8-0.8c-0.2,0-0.5,0.1-0.6,0.3L18.3,28.8l0,0c-0.2,0.2-0.3,0.4-0.3,0.7c0,0.3,0.1,0.5,0.3,0.7l0.1,0.1L41.9,54 c0.1,0.1,0.3,0.2,0.5,0.2c0.4,0,0.8-0.3,0.8-0.8C43.2,53.2,43.1,53,43,52.8z",color:"#304654",borderColor:"#304654",borderWidth:1},emphasis:{label:{show:!0,color:"#c23531"},itemStyle:{color:"#c23531"},controlStyle:{color:"#c23531",borderColor:"#c23531",borderWidth:2}},data:[]}});i.mixin(o,a);var s=o;t.exports=s},function(t,e,n){var i=n(0),r=n(13),a=n(18),o=n(4),s=r.extend({type:"timeline",layoutMode:"box",defaultOption:{zlevel:0,z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},init:function(t,e,n){this._data,this._names,this.mergeDefaultAndTheme(t,n),this._initData()},mergeOption:function(t){s.superApply(this,"mergeOption",arguments),this._initData()},setCurrentIndex:function(t){null==t&&(t=this.option.currentIndex);var e=this._data.count();this.option.loop?t=(t%e+e)%e:(t>=e&&(t=e-1),t<0&&(t=0)),this.option.currentIndex=t},getCurrentIndex:function(){return this.option.currentIndex},isIndexMax:function(){return this.getCurrentIndex()>=this._data.count()-1},setPlayState:function(t){this.option.autoPlay=!!t},getPlayState:function(){return!!this.option.autoPlay},_initData:function(){var t=this.option,e=t.data||[],n=t.axisType,r=this._names=[];if("category"===n){var s=[];i.each(e,function(t,e){var n,a=o.getDataItemValue(t);i.isObject(t)?(n=i.clone(t),n.value=e):n=e,s.push(n),i.isString(a)||null!=a&&!isNaN(a)||(a=""),r.push(a+"")}),e=s}var l={category:"ordinal",time:"time"}[n]||"number";(this._data=new a([{name:"value",type:l}],this)).initData(e,r)},getData:function(){return this._data},getCategories:function(){if("category"===this.get("axisType"))return this._names.slice()}}),l=s;t.exports=l},function(t,e,n){function i(t,e){return h.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()},t.get("padding"))}function r(t,e,n,i){return u.makePath(t.get(e).replace(/^path:\/\//,""),s.clone(i||{}),new l(n[0],n[1],n[2],n[3]),"center")}function a(t,e,n,i,r,a){var o=e.get("color");if(r)r.setColor(o),n.add(r),a&&a.onUpdate(r);else{var l=t.get("symbol");r=g(l,-1,-1,2,2,o),r.setStyle("strokeNoScale",!0),n.add(r),a&&a.onCreate(r)}var c=e.getItemStyle(["color","symbol","symbolSize"]);r.setStyle(c),i=s.merge({rectHover:!0,z2:100},i,!0);var u=t.get("symbolSize");u=u instanceof Array?u.slice():[+u,+u],u[0]/=2,u[1]/=2,i.scale=u;var h=t.get("symbolOffset");if(h){var d=i.position=i.position||[0,0];d[0]+=v.parsePercent(h[0],u[0]),d[1]+=v.parsePercent(h[1],u[1])}var p=t.get("symbolRotate");return i.rotation=(p||0)*Math.PI/180||0,r.attr(i),r.updateTransform(),r}function o(t,e,n,i,r){if(!t.dragging){var a=i.getModel("checkpointStyle"),o=n.dataToCoord(i.getData().get(["value"],e));r||!a.get("animation",!0)?t.attr({position:[o,0]}):(t.stopAnimation(!0),t.animateTo({position:[o,0]},a.get("animationDuration",!0),a.get("animationEasing",!0)))}}var s=n(0),l=n(8),c=n(15),u=n(2),h=n(6),d=n(554),p=n(555),f=n(19),g=f.createSymbol,m=n(22),v=n(3),y=n(9),x=y.encodeHTML,_=s.bind,b=s.each,w=Math.PI,M=d.extend({type:"timeline.slider",init:function(t,e){this.api=e,this._axis,this._viewRect,this._timer,this._currentPointer,this._mainGroup,this._labelGroup},render:function(t,e,n,i){if(this.model=t,this.api=n,this.ecModel=e,this.group.removeAll(),t.get("show",!0)){var r=this._layout(t,n),a=this._createGroup("mainGroup"),o=this._createGroup("labelGroup"),s=this._axis=this._createAxis(r,t);t.formatTooltip=function(t){return x(s.scale.getLabel(t))},b(["AxisLine","AxisTick","Control","CurrentPointer"],function(e){this["_render"+e](r,a,s,t)},this),this._renderAxisLabel(r,o,s,t),this._position(r,t)}this._doPlayStop()},remove:function(){this._clearTimer(),this.group.removeAll()},dispose:function(){this._clearTimer()},_layout:function(t,e){var n=t.get("label.position"),r=t.get("orient"),a=i(t,e);null==n||"auto"===n?n="horizontal"===r?a.y+a.height/2<e.getHeight()/2?"-":"+":a.x+a.width/2<e.getWidth()/2?"+":"-":isNaN(n)&&(n={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[r][n]);var o={horizontal:"center",vertical:n>=0||"+"===n?"left":"right"},s={horizontal:n>=0||"+"===n?"top":"bottom",vertical:"middle"},l={horizontal:0,vertical:w/2},c="vertical"===r?a.height:a.width,u=t.getModel("controlStyle"),h=u.get("show",!0),d=h?u.get("itemSize"):0,p=h?u.get("itemGap"):0,f=d+p,g=t.get("label.rotate")||0;g=g*w/180;var m,v,y,x,_=u.get("position",!0),b=h&&u.get("showPlayBtn",!0),M=h&&u.get("showPrevBtn",!0),S=h&&u.get("showNextBtn",!0),T=0,A=c;return"left"===_||"bottom"===_?(b&&(m=[0,0],T+=f),M&&(v=[T,0],T+=f),S&&(y=[A-d,0],A-=f)):(b&&(m=[A-d,0],A-=f),M&&(v=[0,0],T+=f),S&&(y=[A-d,0],A-=f)),x=[T,A],t.get("inverse")&&x.reverse(),{viewRect:a,mainLength:c,orient:r,rotation:l[r],labelRotation:g,labelPosOpt:n,labelAlign:t.get("label.align")||o[r],labelBaseline:t.get("label.verticalAlign")||t.get("label.baseline")||s[r],playPosition:m,prevBtnPosition:v,nextBtnPosition:y,axisExtent:x,controlSize:d,controlGap:p}},_position:function(t,e){function n(t){var e=t.position;t.origin=[d[0][0]-e[0],d[1][0]-e[1]]}function i(t){return[[t.x,t.x+t.width],[t.y,t.y+t.height]]}function r(t,e,n,i,r){t[i]+=n[i][r]-e[i][r]}var a=this._mainGroup,o=this._labelGroup,s=t.viewRect;if("vertical"===t.orient){var l=c.create(),u=s.x,h=s.y+s.height;c.translate(l,l,[-u,-h]),c.rotate(l,l,-w/2),c.translate(l,l,[u,h]),s=s.clone(),s.applyTransform(l)}var d=i(s),p=i(a.getBoundingRect()),f=i(o.getBoundingRect()),g=a.position,m=o.position;m[0]=g[0]=d[0][0];var v=t.labelPosOpt;if(isNaN(v)){var y="+"===v?0:1;r(g,p,d,1,y),r(m,f,d,1,1-y)}else{var y=v>=0?0:1;r(g,p,d,1,y),m[1]=g[1]+v}a.attr("position",g),o.attr("position",m),a.rotation=o.rotation=t.rotation,n(a),n(o)},_createAxis:function(t,e){var n=e.getData(),i=e.get("axisType"),r=m.createScaleByModel(e,i);r.getTicks=function(){return n.mapArray(["value"],function(t){return t})};var a=n.getDataExtent("value");r.setExtent(a[0],a[1]),r.niceTicks();var o=new p("value",r,t.axisExtent,i);return o.model=e,o},_createGroup:function(t){var e=this["_"+t]=new u.Group;return this.group.add(e),e},_renderAxisLine:function(t,e,n,i){var r=n.getExtent();i.get("lineStyle.show")&&e.add(new u.Line({shape:{x1:r[0],y1:0,x2:r[1],y2:0},style:s.extend({lineCap:"round"},i.getModel("lineStyle").getLineStyle()),silent:!0,z2:1}))},_renderAxisTick:function(t,e,n,i){var r=i.getData(),o=n.scale.getTicks();b(o,function(t){var o=n.dataToCoord(t),s=r.getItemModel(t),l=s.getModel("itemStyle"),c=s.getModel("emphasis.itemStyle"),h={position:[o,0],onclick:_(this._changeTimeline,this,t)},d=a(s,l,e,h);u.setHoverStyle(d,c.getItemStyle()),s.get("tooltip")?(d.dataIndex=t,d.dataModel=i):d.dataIndex=d.dataModel=null},this)},_renderAxisLabel:function(t,e,n,i){if(n.getLabelModel().get("show")){var r=i.getData(),a=n.getViewLabels();b(a,function(i){var a=i.tickValue,o=r.getItemModel(a),s=o.getModel("label"),l=o.getModel("emphasis.label"),c=n.dataToCoord(i.tickValue),h=new u.Text({position:[c,0],rotation:t.labelRotation-t.rotation,onclick:_(this._changeTimeline,this,a),silent:!1});u.setTextStyle(h.style,s,{text:i.formattedLabel,textAlign:t.labelAlign,textVerticalAlign:t.labelBaseline}),e.add(h),u.setHoverStyle(h,u.setTextStyle({},l))},this)}},_renderControl:function(t,e,n,i){function a(t,n,a,d){if(t){var p={position:t,origin:[o/2,0],rotation:d?-s:0,rectHover:!0,style:l,onclick:a},f=r(i,n,h,p);e.add(f),u.setHoverStyle(f,c)}}var o=t.controlSize,s=t.rotation,l=i.getModel("controlStyle").getItemStyle(),c=i.getModel("emphasis.controlStyle").getItemStyle(),h=[0,-o/2,o,o],d=i.getPlayState(),p=i.get("inverse",!0);a(t.nextBtnPosition,"controlStyle.nextIcon",_(this._changeTimeline,this,p?"-":"+")),a(t.prevBtnPosition,"controlStyle.prevIcon",_(this._changeTimeline,this,p?"+":"-")),a(t.playPosition,"controlStyle."+(d?"stopIcon":"playIcon"),_(this._handlePlayClick,this,!d),!0)},_renderCurrentPointer:function(t,e,n,i){var r=i.getData(),s=i.getCurrentIndex(),l=r.getItemModel(s).getModel("checkpointStyle"),c=this,u={onCreate:function(t){t.draggable=!0,t.drift=_(c._handlePointerDrag,c),t.ondragend=_(c._handlePointerDragend,c),o(t,s,n,i,!0)},onUpdate:function(t){o(t,s,n,i)}};this._currentPointer=a(l,l,this._mainGroup,{},this._currentPointer,u)},_handlePlayClick:function(t){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:t,from:this.uid})},_handlePointerDrag:function(t,e,n){this._clearTimer(),this._pointerChangeTimeline([n.offsetX,n.offsetY])},_handlePointerDragend:function(t){this._pointerChangeTimeline([t.offsetX,t.offsetY],!0)},_pointerChangeTimeline:function(t,e){var n=this._toAxisCoord(t)[0],i=this._axis,r=v.asc(i.getExtent().slice());n>r[1]&&(n=r[1]),n<r[0]&&(n=r[0]),this._currentPointer.position[0]=n,this._currentPointer.dirty();var a=this._findNearestTick(n),o=this.model;(e||a!==o.getCurrentIndex()&&o.get("realtime"))&&this._changeTimeline(a)},_doPlayStop:function(){function t(){var t=this.model;this._changeTimeline(t.getCurrentIndex()+(t.get("rewind",!0)?-1:1))}this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(_(t,this),this.model.get("playInterval")))},_toAxisCoord:function(t){var e=this._mainGroup.getLocalTransform();return u.applyTransform(t,e,!0)},_findNearestTick:function(t){var e,n=this.model.getData(),i=1/0,r=this._axis;return n.each(["value"],function(n,a){var o=r.dataToCoord(n),s=Math.abs(o-t);s<i&&(i=s,e=a)}),e},_clearTimer:function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},_changeTimeline:function(t){var e=this.model.getCurrentIndex();"+"===t?t=e+1:"-"===t&&(t=e-1),this.api.dispatchAction({type:"timelineChange",currentIndex:t,from:this.uid})}});t.exports=M},function(t,e,n){var i=n(80),r=i.extend({type:"timeline"});t.exports=r},function(t,e,n){var i=n(0),r=n(35),a=function(t,e,n,i){r.call(this,t,e,n),this.type=i||"value",this.model=null};a.prototype={constructor:a,getLabelModel:function(){return this.model.getModel("label")},isHorizontal:function(){return"horizontal"===this.model.get("orient")}},i.inherits(a,r);var o=a;t.exports=o},function(t,e,n){var i=n(1);n(557),n(558),i.registerPreprocessor(function(t){t.markPoint=t.markPoint||{}})},function(t,e,n){var i=n(122),r=i.extend({type:"markPoint",defaultOption:{zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}}});t.exports=r},function(t,e,n){function i(t,e,n){var i=e.coordinateSystem;t.each(function(r){var a,o=t.getItemModel(r),l=s.parsePercent(o.get("x"),n.getWidth()),c=s.parsePercent(o.get("y"),n.getHeight());if(isNaN(l)||isNaN(c)){if(e.getMarkerPosition)a=e.getMarkerPosition(t.getValues(t.dimensions,r));else if(i){var u=t.get(i.dimensions[0],r),h=t.get(i.dimensions[1],r);a=i.dataToPoint([u,h])}}else a=[l,c];isNaN(l)||(a[0]=l),isNaN(c)||(a[1]=c),t.setItemLayout(r,a)})}function r(t,e,n){var i;i=t?a.map(t&&t.dimensions,function(t){var n=e.getData().getDimensionInfo(e.getData().mapDimension(t))||{};return a.defaults({name:t},n)}):[{name:"value",type:"float"}];var r=new l(i,n),o=a.map(n.get("data"),a.curry(c.dataTransform,e));return t&&(o=a.filter(o,a.curry(c.dataFilter,t))),r.initData(o,null,t?c.dimValueGetter:function(t){return t.value}),r}var a=n(0),o=n(64),s=n(3),l=n(18),c=n(123),u=n(124),h=u.extend({type:"markPoint",updateTransform:function(t,e,n){e.eachSeries(function(t){var e=t.markPointModel;e&&(i(e.getData(),t,n),this.markerGroupMap.get(t.id).updateLayout(e))},this)},renderSeries:function(t,e,n,s){var l=t.coordinateSystem,c=t.id,u=t.getData(),h=this.markerGroupMap,d=h.get(c)||h.set(c,new o),p=r(l,t,e);e.setData(p),i(e.getData(),t,s),p.each(function(t){var n=p.getItemModel(t),i=n.getShallow("symbol"),r=n.getShallow("symbolSize"),o=a.isFunction(i),s=a.isFunction(r);if(o||s){var l=e.getRawValue(t),c=e.getDataParams(t);o&&(i=i(l,c)),s&&(r=r(l,c))}p.setItemVisual(t,{symbol:i,symbolSize:r,color:n.get("itemStyle.color")||u.getVisual("color")})}),d.updateData(p),this.group.add(d.group),p.eachItemGraphicEl(function(t){t.traverse(function(t){t.dataModel=e})}),d.__keep=!0,d.group.silent=e.get("silent")||t.get("silent")}});t.exports=h},function(t,e,n){var i=n(1);n(560),n(561),i.registerPreprocessor(function(t){t.markLine=t.markLine||{}})},function(t,e,n){var i=n(122),r=i.extend({type:"markLine",defaultOption:{zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end"},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"}});t.exports=r},function(t,e,n){function i(t){return!isNaN(t)&&!isFinite(t)}function r(t,e,n,r){var a=1-t,o=r.dimensions[t];return i(e[a])&&i(n[a])&&e[t]===n[t]&&r.getAxis(o).containData(e[t])}function a(t,e){if("cartesian2d"===t.type){var n=e[0].coord,i=e[1].coord;if(n&&i&&(r(1,n,i,t)||r(0,n,i,t)))return!0}return h.dataFilter(t,e[0])&&h.dataFilter(t,e[1])}function o(t,e,n,r,a){var o,s=r.coordinateSystem,l=t.getItemModel(e),c=u.parsePercent(l.get("x"),a.getWidth()),h=u.parsePercent(l.get("y"),a.getHeight());if(isNaN(c)||isNaN(h)){if(r.getMarkerPosition)o=r.getMarkerPosition(t.getValues(t.dimensions,e));else{var d=s.dimensions,p=t.get(d[0],e),f=t.get(d[1],e);o=s.dataToPoint([p,f])}if("cartesian2d"===s.type){var g=s.getAxis("x"),m=s.getAxis("y"),d=s.dimensions;i(t.get(d[0],e))?o[0]=g.toGlobalCoord(g.getExtent()[n?0:1]):i(t.get(d[1],e))&&(o[1]=m.toGlobalCoord(m.getExtent()[n?0:1]))}isNaN(c)||(o[0]=c),isNaN(h)||(o[1]=h)}else o=[c,h];t.setItemLayout(e,o)}function s(t,e,n){var i;i=t?l.map(t&&t.dimensions,function(t){var n=e.getData().getDimensionInfo(e.getData().mapDimension(t))||{};return l.defaults({name:t},n)}):[{name:"value",type:"float"}];var r=new c(i,n),o=new c(i,n),s=new c([],n),u=l.map(n.get("data"),l.curry(m,e,t,n));t&&(u=l.filter(u,l.curry(a,t)));var d=t?h.dimValueGetter:function(t){return t.value};return r.initData(l.map(u,function(t){return t[0]}),null,d),o.initData(l.map(u,function(t){return t[1]}),null,d),s.initData(l.map(u,function(t){return t[2]})),s.hasItemOption=!0,{from:r,to:o,line:s}}var l=n(0),c=n(18),u=n(3),h=n(123),d=n(112),p=n(124),f=n(26),g=f.getStackedDimension,m=function(t,e,n,i){var r=t.getData(),a=i.type;if(!l.isArray(i)&&("min"===a||"max"===a||"average"===a||"median"===a||null!=i.xAxis||null!=i.yAxis)){var o,s;if(null!=i.yAxis||null!=i.xAxis)o=e.getAxis(null!=i.yAxis?"y":"x"),s=l.retrieve(i.yAxis,i.xAxis);else{var c=h.getAxisInfo(i,r,e,t);o=c.valueAxis;var u=g(r,c.valueDataDim);s=h.numCalculate(r,u,a)}var d="x"===o.dim?0:1,p=1-d,f=l.clone(i),m={};f.type=null,f.coord=[],m.coord=[],f.coord[p]=-1/0,m.coord[p]=1/0;var v=n.get("precision");v>=0&&"number"==typeof s&&(s=+s.toFixed(Math.min(v,20))),f.coord[d]=m.coord[d]=s,i=[f,m,{type:a,valueIndex:i.valueIndex,value:s}]}return i=[h.dataTransform(t,i[0]),h.dataTransform(t,i[1]),l.extend({},i[2])],i[2].type=i[2].type||"",l.merge(i[2],i[0]),l.merge(i[2],i[1]),i},v=p.extend({type:"markLine",updateTransform:function(t,e,n){e.eachSeries(function(t){var e=t.markLineModel;if(e){var i=e.getData(),r=e.__from,a=e.__to;r.each(function(e){o(r,e,!0,t,n),o(a,e,!1,t,n)}),i.each(function(t){i.setItemLayout(t,[r.getItemLayout(t),a.getItemLayout(t)])}),this.markerGroupMap.get(t.id).updateLayout()}},this)},renderSeries:function(t,e,n,i){function r(e,n,r){var a=e.getItemModel(n);o(e,n,r,t,i),e.setItemVisual(n,{symbolSize:a.get("symbolSize")||x[r?0:1],symbol:a.get("symbol",!0)||y[r?0:1],color:a.get("itemStyle.color")||u.getVisual("color")})}var a=t.coordinateSystem,c=t.id,u=t.getData(),h=this.markerGroupMap,p=h.get(c)||h.set(c,new d);this.group.add(p.group);var f=s(a,t,e),g=f.from,m=f.to,v=f.line;e.__from=g,e.__to=m,e.setData(v);var y=e.get("symbol"),x=e.get("symbolSize");l.isArray(y)||(y=[y,y]),"number"==typeof x&&(x=[x,x]),f.from.each(function(t){r(g,t,!0),r(m,t,!1)}),v.each(function(t){var e=v.getItemModel(t).get("lineStyle.color");v.setItemVisual(t,{color:e||g.getItemVisual(t,"color")}),v.setItemLayout(t,[g.getItemLayout(t),m.getItemLayout(t)]),v.setItemVisual(t,{fromSymbolSize:g.getItemVisual(t,"symbolSize"),fromSymbol:g.getItemVisual(t,"symbol"),toSymbolSize:m.getItemVisual(t,"symbolSize"),toSymbol:m.getItemVisual(t,"symbol")})}),p.updateData(v),f.line.eachItemGraphicEl(function(t,n){t.traverse(function(t){t.dataModel=e})}),p.__keep=!0,p.group.silent=e.get("silent")||t.get("silent")}});t.exports=v},function(t,e,n){var i=n(1);n(563),n(564),i.registerPreprocessor(function(t){t.markArea=t.markArea||{}})},function(t,e,n){var i=n(122),r=i.extend({type:"markArea",defaultOption:{zlevel:0,z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}}});t.exports=r},function(t,e,n){function i(t){return!isNaN(t)&&!isFinite(t)}function r(t,e,n,r){var a=1-t;return i(e[a])&&i(n[a])}function a(t,e){var n=e.coord[0],i=e.coord[1];return!("cartesian2d"!==t.type||!n||!i||!r(1,n,i,t)&&!r(0,n,i,t))||(p.dataFilter(t,{coord:n,x:e.x0,y:e.y0})||p.dataFilter(t,{coord:i,x:e.x1,y:e.y1}))}function o(t,e,n,r,a){var o,s=r.coordinateSystem,l=t.getItemModel(e),c=h.parsePercent(l.get(n[0]),a.getWidth()),u=h.parsePercent(l.get(n[1]),a.getHeight());if(isNaN(c)||isNaN(u)){if(r.getMarkerPosition)o=r.getMarkerPosition(t.getValues(n,e));else{var d=t.get(n[0],e),p=t.get(n[1],e),f=[d,p];s.clampData&&s.clampData(f,f),o=s.dataToPoint(f,!0)}if("cartesian2d"===s.type){var g=s.getAxis("x"),m=s.getAxis("y"),d=t.get(n[0],e),p=t.get(n[1],e);i(d)?o[0]=g.toGlobalCoord(g.getExtent()["x0"===n[0]?0:1]):i(p)&&(o[1]=m.toGlobalCoord(m.getExtent()["y0"===n[1]?0:1]))}isNaN(c)||(o[0]=c),isNaN(u)||(o[1]=u)}else o=[c,u];return o}function s(t,e,n){var i,r,o=["x0","y0","x1","y1"];t?(i=l.map(t&&t.dimensions,function(t){var n=e.getData(),i=n.getDimensionInfo(n.mapDimension(t))||{};return l.defaults({name:t},i)}),r=new u(l.map(o,function(t,e){return{name:t,type:i[e%2].type}}),n)):(i=[{name:"value",type:"float"}],r=new u(i,n));var s=l.map(n.get("data"),l.curry(g,e,t,n));t&&(s=l.filter(s,l.curry(a,t)));var c=t?function(t,e,n,i){return t.coord[Math.floor(i/2)][i%2]}:function(t){return t.value};return r.initData(s,null,c),r.hasItemOption=!0,r}var l=n(0),c=n(24),u=n(18),h=n(3),d=n(2),p=n(123),f=n(124),g=function(t,e,n,i){var r=p.dataTransform(t,i[0]),a=p.dataTransform(t,i[1]),o=l.retrieve,s=r.coord,c=a.coord;s[0]=o(s[0],-1/0),s[1]=o(s[1],-1/0),c[0]=o(c[0],1/0),c[1]=o(c[1],1/0);var u=l.mergeAll([{},r,a]);return u.coord=[r.coord,a.coord],u.x0=r.x,u.y0=r.y,u.x1=a.x,u.y1=a.y,u},m=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]];f.extend({type:"markArea",updateTransform:function(t,e,n){e.eachSeries(function(t){var e=t.markAreaModel;if(e){var i=e.getData();i.each(function(e){var r=l.map(m,function(r){return o(i,e,r,t,n)});i.setItemLayout(e,r),i.getItemGraphicEl(e).setShape("points",r)})}},this)},renderSeries:function(t,e,n,i){var r=t.coordinateSystem,a=t.id,u=t.getData(),h=this.markerGroupMap,p=h.get(a)||h.set(a,{group:new d.Group});this.group.add(p.group),p.__keep=!0;var f=s(r,t,e);e.setData(f),f.each(function(e){f.setItemLayout(e,l.map(m,function(n){return o(f,e,n,t,i)})),f.setItemVisual(e,{color:u.getVisual("color")})}),f.diff(p.__data).add(function(t){var e=new d.Polygon({shape:{points:f.getItemLayout(t)}});f.setItemGraphicEl(t,e),p.group.add(e)}).update(function(t,n){var i=p.__data.getItemGraphicEl(n);d.updateProps(i,{shape:{points:f.getItemLayout(t)}},e,t),p.group.add(i),f.setItemGraphicEl(t,i)}).remove(function(t){var e=p.__data.getItemGraphicEl(t);p.group.remove(e)}).execute(),f.eachItemGraphicEl(function(t,n){var i=f.getItemModel(n),r=i.getModel("label"),a=i.getModel("emphasis.label"),o=f.getItemVisual(n,"color");t.useStyle(l.defaults(i.getModel("itemStyle").getItemStyle(),{fill:c.modifyAlpha(o,.4),stroke:o})),t.hoverStyle=i.getModel("emphasis.itemStyle").getItemStyle(),d.setLabelStyle(t.style,t.hoverStyle,r,a,{labelFetcher:e,labelDataIndex:n,defaultText:f.getName(n)||"",isRectText:!0,autoColor:o}),d.setHoverStyle(t,{}),t.dataModel=e}),p.__data=f,p.group.silent=e.get("silent")||t.get("silent")}})},function(t,e,n){n(220),n(568),n(569),n(570)},function(t,e,n){function i(t,e,n){var i,r={},o="toggleSelected"===t;return n.eachComponent("legend",function(n){o&&null!=i?n[i?"select":"unSelect"](e.name):"allSelect"===t||"inverseSelect"===t?n[t]():(n[t](e.name),i=n.isSelected(e.name));var s=n.getData();a.each(s,function(t){var e=t.get("name");if("\n"!==e&&""!==e){var i=n.isSelected(e);r.hasOwnProperty(e)?r[e]=r[e]&&i:r[e]=i}})}),"allSelect"===t||"inverseSelect"===t?{selected:r}:{name:e.name,selected:r}}var r=n(1),a=n(0);r.registerAction("legendToggleSelect","legendselectchanged",a.curry(i,"toggleSelected")),r.registerAction("legendAllSelect","legendselectall",a.curry(i,"allSelect")),r.registerAction("legendInverseSelect","legendinverseselect",a.curry(i,"inverseSelect")),r.registerAction("legendSelect","legendselected",a.curry(i,"select")),r.registerAction("legendUnSelect","legendunselected",a.curry(i,"unSelect"))},function(t,e){function n(t){var e=t.findComponents({mainType:"legend"});e&&e.length&&t.filterSeries(function(t){for(var n=0;n<e.length;n++)if(!e[n].isSelected(t.name))return!1;return!0})}t.exports=n},function(t,e,n){function i(t,e,n){var i=t.getOrient(),r=[1,1];r[i.index]=0,o(e,n,{type:"box",ignoreSize:r})}var r=n(221),a=n(6),o=a.mergeLayoutParam,s=a.getLayoutParams,l=r.extend({type:"legend.scroll",setScrollDataIndex:function(t){this.option.scrollDataIndex=t},defaultOption:{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800},init:function(t,e,n,r){var a=s(t);l.superCall(this,"init",t,e,n,r),i(this,t,a)},mergeOption:function(t,e){l.superCall(this,"mergeOption",t,e),i(this,this.option,t)}}),c=l;t.exports=c},function(t,e,n){var i=n(0),r=n(2),a=n(6),o=n(222),s=r.Group,l=["width","height"],c=["x","y"],u=o.extend({type:"legend.scroll",newlineDisabled:!0,init:function(){u.superCall(this,"init"),this._currentIndex=0,this.group.add(this._containerGroup=new s),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new s),this._showController},resetInner:function(){u.superCall(this,"resetInner"),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},renderInner:function(t,e,n,a,o,s,l){function c(t,n){var o=t+"DataIndex",s=r.createIcon(e.get("pageIcons",!0)[e.getOrient().name][n],{onclick:i.bind(h._pageGo,h,o,e,a)},{x:-p[0]/2,y:-p[1]/2,width:p[0],height:p[1]});s.name=t,d.add(s)}var h=this;u.superCall(this,"renderInner",t,e,n,a,o,s,l);var d=this._controllerGroup,p=e.get("pageIconSize",!0);i.isArray(p)||(p=[p,p]),c("pagePrev",0);var f=e.getModel("pageTextStyle");d.add(new r.Text({name:"pageText",style:{textFill:f.getTextColor(),font:f.getFont(),textVerticalAlign:"middle",textAlign:"center"},silent:!0})),c("pageNext",1)},layoutInner:function(t,e,n,r,o,s){var u=this.getSelectorGroup(),h=t.getOrient().index,d=l[h],p=c[h],f=l[1-h],g=c[1-h];o&&a.box("horizontal",u,t.get("selectorItemGap",!0));var m=t.get("selectorButtonGap",!0),v=u.getBoundingRect(),y=[-v.x,-v.y],x=i.clone(n);o&&(x[d]=n[d]-v[d]-m);var _=this._layoutContentAndController(t,r,x,h,d,f,g);if(o){if("end"===s)y[h]+=_[d]+m;else{var b=v[d]+m;y[h]-=b,_[p]-=b}_[d]+=v[d]+m,y[1-h]+=_[g]+_[f]/2-v[f]/2,_[f]=Math.max(_[f],v[f]),_[g]=Math.min(_[g],v[g]+y[1-h]),u.attr("position",y)}return _},_layoutContentAndController:function(t,e,n,o,s,l,c){var u=this.getContentGroup(),h=this._containerGroup,d=this._controllerGroup;a.box(t.get("orient"),u,t.get("itemGap"),o?n.width:null,o?null:n.height),a.box("horizontal",d,t.get("pageButtonItemGap",!0));var p=u.getBoundingRect(),f=d.getBoundingRect(),g=this._showController=p[s]>n[s],m=[-p.x,-p.y];e||(m[o]=u.position[o]);var v=[0,0],y=[-f.x,-f.y],x=i.retrieve2(t.get("pageButtonGap",!0),t.get("itemGap",!0));if(g){"end"===t.get("pageButtonPosition",!0)?y[o]+=n[s]-f[s]:v[o]+=f[s]+x}y[1-o]+=p[l]/2-f[l]/2,u.attr("position",m),h.attr("position",v),d.attr("position",y);var _={x:0,y:0};if(_[s]=g?n[s]:p[s],_[l]=Math.max(p[l],f[l]),_[c]=Math.min(0,f[c]+y[1-o]),h.__rectSize=n[s],g){var b={x:0,y:0};b[s]=Math.max(n[s]-f[s]-x,0),b[l]=_[l],h.setClipPath(new r.Rect({shape:b})),h.__rectSize=b[s]}else d.eachChild(function(t){t.attr({invisible:!0,silent:!0})});var w=this._getPageInfo(t);return null!=w.pageIndex&&r.updateProps(u,{position:w.contentPosition},!!g&&t),this._updatePageInfoView(t,w),_},_pageGo:function(t,e,n){var i=this._getPageInfo(e)[t];null!=i&&n.dispatchAction({type:"legendScroll",scrollDataIndex:i,legendId:e.id})},_updatePageInfoView:function(t,e){var n=this._controllerGroup;i.each(["pagePrev","pageNext"],function(i){var r=null!=e[i+"DataIndex"],a=n.childOfName(i);a&&(a.setStyle("fill",r?t.get("pageIconColor",!0):t.get("pageIconInactiveColor",!0)),a.cursor=r?"pointer":"default")});var r=n.childOfName("pageText"),a=t.get("pageFormatter"),o=e.pageIndex,s=null!=o?o+1:0,l=e.pageCount;r&&a&&r.setStyle("text",i.isString(a)?a.replace("{current}",s).replace("{total}",l):a({current:s,total:l}))},_getPageInfo:function(t){function e(t){if(t){var e=t.getBoundingRect(),n=e[u]+t.position[o];return{s:n,e:n+e[s],i:t.__legendDataIndex}}}function n(t,e){return t.e>=e&&t.s<=e+a}var i=t.get("scrollDataIndex",!0),r=this.getContentGroup(),a=this._containerGroup.__rectSize,o=t.getOrient().index,s=l[o],u=c[o],h=this._findTargetItemIndex(i),d=r.children(),p=d[h],f=d.length,g=f?1:0,m={contentPosition:r.position.slice(),pageCount:g,pageIndex:g-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!p)return m;var v=e(p);m.contentPosition[o]=-v.s;for(var y=h+1,x=v,_=v,b=null;y<=f;++y)b=e(d[y]),(!b&&_.e>x.s+a||b&&!n(b,x.s))&&(x=_.i>x.i?_:b)&&(null==m.pageNextDataIndex&&(m.pageNextDataIndex=x.i),++m.pageCount),_=b;for(var y=h-1,x=v,_=v,b=null;y>=-1;--y)b=e(d[y]),b&&n(_,b.s)||!(x.i<_.i)||(_=x,null==m.pagePrevDataIndex&&(m.pagePrevDataIndex=x.i),++m.pageCount,++m.pageIndex),x=b;return m},_findTargetItemIndex:function(t){var e,n,i=this.getContentGroup();return this._showController&&i.eachChild(function(i,r){var a=i.__legendDataIndex;null==n&&null!=a&&(n=r),a===t&&(e=r)}),null!=e?e:n}}),h=u;t.exports=h},function(t,e,n){n(1).registerAction("legendScroll","legendscroll",function(t,e){var n=t.scrollDataIndex;null!=n&&e.eachComponent({mainType:"legend",subType:"scroll",query:t},function(t){t.setScrollDataIndex(n)})})},function(t,e,n){n(223),n(224)},function(t,e,n){var i=n(55),r=i.extend({type:"dataZoom.slider",layoutMode:"box",defaultOption:{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#2f4554",width:.5,opacity:.3},areaStyle:{color:"rgba(47,69,84,0.3)",opacity:.3}},borderColor:"#ddd",fillerColor:"rgba(167,183,204,0.4)",handleIcon:"M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z",handleSize:"100%",handleStyle:{color:"#a7b7cc"},labelPrecision:null,labelFormatter:null,showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#333"}}}),a=r;t.exports=a},function(t,e,n){function i(t){return{x:"y",y:"x",radius:"angle",angle:"radius"}[t]}function r(t){return"vertical"===t?"ns-resize":"ew-resize"}var a=n(0),o=n(23),s=n(2),l=n(33),c=n(56),u=n(3),h=n(6),d=n(54),p=s.Rect,f=u.linearMap,g=u.asc,m=a.bind,v=a.each,y="horizontal",x=5,_=["line","bar","candlestick","scatter"],b=c.extend({type:"dataZoom.slider",init:function(t,e){this._displayables={},this._orient,this._range,this._handleEnds,this._size,this._handleWidth,this._handleHeight,this._location,this._dragging,this._dataShadowInfo,this.api=e},render:function(t,e,n,i){if(b.superApply(this,"render",arguments),l.createOrUpdate(this,"_dispatchZoomAction",this.dataZoomModel.get("throttle"),"fixRate"),this._orient=t.get("orient"),!1===this.dataZoomModel.get("show"))return void this.group.removeAll();i&&"dataZoom"===i.type&&i.from===this.uid||this._buildView(),this._updateView()},remove:function(){b.superApply(this,"remove",arguments),l.clear(this,"_dispatchZoomAction")},dispose:function(){b.superApply(this,"dispose",arguments),l.clear(this,"_dispatchZoomAction")},_buildView:function(){var t=this.group;t.removeAll(),this._resetLocation(),this._resetInterval();var e=this._displayables.barGroup=new s.Group;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),t.add(e),this._positionGroup()},_resetLocation:function(){var t=this.dataZoomModel,e=this.api,n=this._findCoordRect(),i={width:e.getWidth(),height:e.getHeight()},r=this._orient===y?{right:i.width-n.x-n.width,top:i.height-30-7,width:n.width,height:30}:{right:7,top:n.y,width:30,height:n.height},o=h.getLayoutParams(t.option);a.each(["right","top","width","height"],function(t){"ph"===o[t]&&(o[t]=r[t])});var s=h.getLayoutRect(o,i,t.padding);this._location={x:s.x,y:s.y},this._size=[s.width,s.height],"vertical"===this._orient&&this._size.reverse()},_positionGroup:function(){var t=this.group,e=this._location,n=this._orient,i=this.dataZoomModel.getFirstTargetAxisModel(),r=i&&i.get("inverse"),a=this._displayables.barGroup,o=(this._dataShadowInfo||{}).otherAxisInverse;a.attr(n!==y||r?n===y&&r?{scale:o?[-1,1]:[-1,-1]}:"vertical"!==n||r?{scale:o?[-1,-1]:[-1,1],rotation:Math.PI/2}:{scale:o?[1,-1]:[1,1],rotation:Math.PI/2}:{scale:o?[1,1]:[1,-1]});var s=t.getBoundingRect([a]);t.attr("position",[e.x-s.x,e.y-s.y])},_getViewExtent:function(){return[0,this._size[0]]},_renderBackground:function(){var t=this.dataZoomModel,e=this._size,n=this._displayables.barGroup;n.add(new p({silent:!0,shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:t.get("backgroundColor")},z2:-40})),n.add(new p({shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:"transparent"},z2:0,onclick:a.bind(this._onClickPanelClick,this)}))},_renderDataShadow:function(){var t=this._dataShadowInfo=this._prepareDataShadowInfo();if(t){var e=this._size,n=t.series,i=n.getRawData(),r=n.getShadowDim?n.getShadowDim():t.otherDim;if(null!=r){var o=i.getDataExtent(r),l=.3*(o[1]-o[0]);o=[o[0]-l,o[1]+l];var c,u=[0,e[1]],h=[0,e[0]],d=[[e[0],0],[0,0]],p=[],g=h[1]/(i.count()-1),m=0,v=Math.round(i.count()/e[0]);i.each([r],function(t,e){if(v>0&&e%v)return void(m+=g);var n=null==t||isNaN(t)||""===t,i=n?0:f(t,o,u,!0);n&&!c&&e?(d.push([d[d.length-1][0],0]),p.push([p[p.length-1][0],0])):!n&&c&&(d.push([m,0]),p.push([m,0])),d.push([m,i]),p.push([m,i]),m+=g,c=n});var y=this.dataZoomModel;this._displayables.barGroup.add(new s.Polygon({shape:{points:d},style:a.defaults({fill:y.get("dataBackgroundColor")},y.getModel("dataBackground.areaStyle").getAreaStyle()),silent:!0,z2:-20})),this._displayables.barGroup.add(new s.Polyline({shape:{points:p},style:y.getModel("dataBackground.lineStyle").getLineStyle(),silent:!0,z2:-19}))}}},_prepareDataShadowInfo:function(){var t=this.dataZoomModel,e=t.get("showDataShadow");if(!1!==e){var n,r=this.ecModel;return t.eachTargetAxis(function(o,s){var l=t.getAxisProxy(o.name,s).getTargetSeriesModels();a.each(l,function(t){if(!(n||!0!==e&&a.indexOf(_,t.get("type"))<0)){var l,c=r.getComponent(o.axis,s).axis,u=i(o.name),h=t.coordinateSystem;null!=u&&h.getOtherAxis&&(l=h.getOtherAxis(c).inverse),u=t.getData().mapDimension(u),n={thisAxis:c,series:t,thisDim:o.name,otherDim:u,otherAxisInverse:l}}},this)},this),n}},_renderHandle:function(){var t=this._displayables,e=t.handles=[],n=t.handleLabels=[],i=this._displayables.barGroup,a=this._size,o=this.dataZoomModel;i.add(t.filler=new p({draggable:!0,cursor:r(this._orient),drift:m(this._onDragMove,this,"all"),ondragstart:m(this._showDataInfo,this,!0),ondragend:m(this._onDragEnd,this),onmouseover:m(this._showDataInfo,this,!0),onmouseout:m(this._showDataInfo,this,!1),style:{fill:o.get("fillerColor"),textPosition:"inside"}})),i.add(new p({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:a[0],height:a[1]},style:{stroke:o.get("dataBackgroundColor")||o.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}})),v([0,1],function(t){var a=s.createIcon(o.get("handleIcon"),{cursor:r(this._orient),draggable:!0,drift:m(this._onDragMove,this,t),ondragend:m(this._onDragEnd,this),onmouseover:m(this._showDataInfo,this,!0),onmouseout:m(this._showDataInfo,this,!1)},{x:-1,y:0,width:2,height:2}),l=a.getBoundingRect();this._handleHeight=u.parsePercent(o.get("handleSize"),this._size[1]),this._handleWidth=l.width/l.height*this._handleHeight,a.setStyle(o.getModel("handleStyle").getItemStyle());var c=o.get("handleColor");null!=c&&(a.style.fill=c),i.add(e[t]=a);var h=o.textStyleModel;this.group.add(n[t]=new s.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textVerticalAlign:"middle",textAlign:"center",textFill:h.getTextColor(),textFont:h.getFont()},z2:10}))},this)},_resetInterval:function(){var t=this._range=this.dataZoomModel.getPercentRange(),e=this._getViewExtent();this._handleEnds=[f(t[0],[0,100],e,!0),f(t[1],[0,100],e,!0)]},_updateInterval:function(t,e){var n=this.dataZoomModel,i=this._handleEnds,r=this._getViewExtent(),a=n.findRepresentativeAxisProxy().getMinMaxSpan(),o=[0,100];d(e,i,r,n.get("zoomLock")?"all":t,null!=a.minSpan?f(a.minSpan,o,r,!0):null,null!=a.maxSpan?f(a.maxSpan,o,r,!0):null);var s=this._range,l=this._range=g([f(i[0],r,o,!0),f(i[1],r,o,!0)]);return!s||s[0]!==l[0]||s[1]!==l[1]},_updateView:function(t){var e=this._displayables,n=this._handleEnds,i=g(n.slice()),r=this._size;v([0,1],function(t){var i=e.handles[t],a=this._handleHeight;i.attr({scale:[a/2,a/2],position:[n[t],r[1]/2-a/2]})},this),e.filler.setShape({x:i[0],y:0,width:i[1]-i[0],height:r[1]}),this._updateDataInfo(t)},_updateDataInfo:function(t){function e(t){var e=s.getTransform(i.handles[t].parent,this.group),n=s.transformDirection(0===t?"right":"left",e),l=this._handleWidth/2+x,c=s.applyTransform([d[t]+(0===t?-l:l),this._size[1]/2],e);r[t].setStyle({x:c[0],y:c[1],textVerticalAlign:a===y?"middle":n,textAlign:a===y?n:"center",text:o[t]})}var n=this.dataZoomModel,i=this._displayables,r=i.handleLabels,a=this._orient,o=["",""];if(n.get("showDetail")){var l=n.findRepresentativeAxisProxy();if(l){var c=l.getAxisModel().axis,u=this._range,h=t?l.calculateDataWindow({start:u[0],end:u[1]}).valueWindow:l.getDataValueWindow();o=[this._formatLabel(h[0],c),this._formatLabel(h[1],c)]}}var d=g(this._handleEnds.slice());e.call(this,0),e.call(this,1)},_formatLabel:function(t,e){var n=this.dataZoomModel,i=n.get("labelFormatter"),r=n.get("labelPrecision");null!=r&&"auto"!==r||(r=e.getPixelPrecision());var o=null==t||isNaN(t)?"":"category"===e.type||"time"===e.type?e.scale.getLabel(Math.round(t)):t.toFixed(Math.min(r,20));return a.isFunction(i)?i(t,o):a.isString(i)?i.replace("{value}",o):o},_showDataInfo:function(t){t=this._dragging||t;var e=this._displayables.handleLabels;e[0].attr("invisible",!t),e[1].attr("invisible",!t)},_onDragMove:function(t,e,n,i){this._dragging=!0,o.stop(i.event);var r=this._displayables.barGroup.getLocalTransform(),a=s.applyTransform([e,n],r,!0),l=this._updateInterval(t,a[0]),c=this.dataZoomModel.get("realtime");this._updateView(!c),l&&c&&this._dispatchZoomAction()},_onDragEnd:function(){this._dragging=!1,this._showDataInfo(!1),!this.dataZoomModel.get("realtime")&&this._dispatchZoomAction()},_onClickPanelClick:function(t){var e=this._size,n=this._displayables.barGroup.transformCoordToLocal(t.offsetX,t.offsetY);if(!(n[0]<0||n[0]>e[0]||n[1]<0||n[1]>e[1])){var i=this._handleEnds,r=(i[0]+i[1])/2,a=this._updateInterval("all",n[0]-r);this._updateView(),a&&this._dispatchZoomAction()}},_dispatchZoomAction:function(){var t=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,start:t[0],end:t[1]})},_findCoordRect:function(){var t;if(v(this.getTargetCoordInfo(),function(e){if(!t&&e.length){var n=e[0].model.coordinateSystem;t=n.getRect&&n.getRect()}}),!t){var e=this.api.getWidth(),n=this.api.getHeight();t={x:.2*e,y:.2*n,width:.6*e,height:.6*n}}return t}}),w=b;t.exports=w},function(t,e,n){var i=n(55),r=i.extend({type:"dataZoom.inside",defaultOption:{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}});t.exports=r},function(t,e,n){function i(t){return function(e,n,i,r){var a=this._range,s=a.slice(),l=e.axisModels[0];if(l){var c=t(s,l,e,n,i,r);return o(c,s,[0,100],"all"),this._range=s,a[0]!==s[0]||a[1]!==s[1]?s:void 0}}}var r=n(0),a=n(56),o=n(54),s=n(576),l=r.bind,c=a.extend({type:"dataZoom.inside",init:function(t,e){this._range},render:function(t,e,n,i){c.superApply(this,"render",arguments),this._range=t.getPercentRange(),r.each(this.getTargetCoordInfo(),function(e,i){var a=r.map(e,function(t){return s.generateCoordId(t.model)});r.each(e,function(e){var o=e.model,c={};r.each(["pan","zoom","scrollMove"],function(t){c[t]=l(u[t],this,e,i)},this),s.register(n,{coordId:s.generateCoordId(o),allCoordIds:a,containsPoint:function(t,e,n){return o.coordinateSystem.containPoint([e,n])},dataZoomId:t.id,dataZoomModel:t,getRange:c})},this)},this)},dispose:function(){s.unregister(this.api,this.dataZoomModel.id),c.superApply(this,"dispose",arguments),this._range=null}}),u={zoom:function(t,e,n,i){var r=this._range,a=r.slice(),s=t.axisModels[0];if(s){var l=h[e](null,[i.originX,i.originY],s,n,t),c=(l.signal>0?l.pixelStart+l.pixelLength-l.pixel:l.pixel-l.pixelStart)/l.pixelLength*(a[1]-a[0])+a[0],u=Math.max(1/i.scale,0);a[0]=(a[0]-c)*u+c,a[1]=(a[1]-c)*u+c;var d=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return o(0,a,[0,100],0,d.minSpan,d.maxSpan),this._range=a,r[0]!==a[0]||r[1]!==a[1]?a:void 0}},pan:i(function(t,e,n,i,r,a){var o=h[i]([a.oldX,a.oldY],[a.newX,a.newY],e,r,n);return o.signal*(t[1]-t[0])*o.pixel/o.pixelLength}),scrollMove:i(function(t,e,n,i,r,a){return h[i]([0,0],[a.scrollDelta,a.scrollDelta],e,r,n).signal*(t[1]-t[0])*a.scrollDelta})},h={grid:function(t,e,n,i,r){var a=n.axis,o={},s=r.model.coordinateSystem.getRect();return t=t||[0,0],"x"===a.dim?(o.pixel=e[0]-t[0],o.pixelLength=s.width,o.pixelStart=s.x,o.signal=a.inverse?1:-1):(o.pixel=e[1]-t[1],o.pixelLength=s.height,o.pixelStart=s.y,o.signal=a.inverse?-1:1),o},polar:function(t,e,n,i,r){var a=n.axis,o={},s=r.model.coordinateSystem,l=s.getRadiusAxis().getExtent(),c=s.getAngleAxis().getExtent();return t=t?s.pointToCoord(t):[0,0],e=s.pointToCoord(e),"radiusAxis"===n.mainType?(o.pixel=e[0]-t[0],o.pixelLength=l[1]-l[0],o.pixelStart=l[0],o.signal=a.inverse?1:-1):(o.pixel=e[1]-t[1],o.pixelLength=c[1]-c[0],o.pixelStart=c[0],o.signal=a.inverse?-1:1),o},singleAxis:function(t,e,n,i,r){var a=n.axis,o=r.model.coordinateSystem.getRect(),s={};return t=t||[0,0],"horizontal"===a.orient?(s.pixel=e[0]-t[0],s.pixelLength=o.width,s.pixelStart=o.x,s.signal=a.inverse?1:-1):(s.pixel=e[1]-t[1],s.pixelLength=o.height,s.pixelStart=o.y,s.signal=a.inverse?-1:1),s}},d=c;t.exports=d},function(t,e,n){function i(t,e){var n=o(t),i=e.dataZoomId,r=e.coordId;h.each(n,function(t,n){var a=t.dataZoomInfos;a[i]&&h.indexOf(e.allCoordIds,r)<0&&(delete a[i],t.count--)}),l(n);var a=n[r];a||(a=n[r]={coordId:r,dataZoomInfos:{},count:0},a.controller=s(t,a),a.dispatchAction=h.curry(c,t)),!a.dataZoomInfos[i]&&a.count++,a.dataZoomInfos[i]=e;var d=u(a.dataZoomInfos);a.controller.enable(d.controlType,d.opt),a.controller.setPointerChecker(e.containsPoint),p.createOrUpdate(a,"dispatchAction",e.dataZoomModel.get("throttle",!0),"fixRate")}function r(t,e){var n=o(t);h.each(n,function(t){t.controller.dispose();var n=t.dataZoomInfos;n[e]&&(delete n[e],t.count--)}),l(n)}function a(t){return t.type+"\0_"+t.id}function o(t){var e=t.getZr();return e[f]||(e[f]={})}function s(t,e){var n=new d(t.getZr());return h.each(["pan","zoom","scrollMove"],function(t){n.on(t,function(n){var i=[];h.each(e.dataZoomInfos,function(r){if(n.isAvailableBehavior(r.dataZoomModel.option)){var a=(r.getRange||{})[t],o=a&&a(e.controller,n);!r.dataZoomModel.get("disabled",!0)&&o&&i.push({dataZoomId:r.dataZoomId,start:o[0],end:o[1]})}}),i.length&&e.dispatchAction(i)})}),n}function l(t){h.each(t,function(e,n){e.count||(e.controller.dispose(),delete t[n])})}function c(t,e){t.dispatchAction({type:"dataZoom",batch:e})}function u(t){var e,n={type_true:2,type_move:1,type_false:0,type_undefined:-1},i=!0;return h.each(t,function(t){var r=t.dataZoomModel,a=!r.get("disabled",!0)&&(!r.get("zoomLock",!0)||"move");n["type_"+a]>n["type_"+e]&&(e=a),i&=r.get("preventDefaultMouseMove",!0)}),{controlType:e,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!i}}}var h=n(0),d=n(70),p=n(33),f="\0_ec_dataZoom_roams";e.register=i,e.unregister=r,e.generateCoordId=a},function(t,e,n){n(225),n(234)},function(t,e,n){function i(t,e,n){if(n[0]===n[1])return n.slice();for(var i=(n[1]-n[0])/200,r=n[0],a=[],o=0;o<=200&&r<n[1];o++)a.push(r),r+=i;return a.push(n[1]),a}var r=n(0),a=n(229),o=n(3),s=[20,140],l=a.extend({type:"visualMap.continuous",defaultOption:{align:"auto",calculable:!1,range:null,realtime:!0,itemHeight:null,itemWidth:null,hoverLink:!0,hoverLinkDataSize:null,hoverLinkOnHandle:null},optionUpdated:function(t,e){l.superApply(this,"optionUpdated",arguments),this.resetExtent(),this.resetVisual(function(t){t.mappingMethod="linear",t.dataExtent=this.getExtent()}),this._resetRange()},resetItemSize:function(){l.superApply(this,"resetItemSize",arguments);var t=this.itemSize;"horizontal"===this._orient&&t.reverse(),(null==t[0]||isNaN(t[0]))&&(t[0]=s[0]),(null==t[1]||isNaN(t[1]))&&(t[1]=s[1])},_resetRange:function(){var t=this.getExtent(),e=this.option.range;!e||e.auto?(t.auto=1,this.option.range=t):r.isArray(e)&&(e[0]>e[1]&&e.reverse(),e[0]=Math.max(e[0],t[0]),e[1]=Math.min(e[1],t[1]))},completeVisualOption:function(){a.prototype.completeVisualOption.apply(this,arguments),r.each(this.stateList,function(t){var e=this.option.controller[t].symbolSize;e&&e[0]!==e[1]&&(e[0]=0)},this)},setSelected:function(t){this.option.range=t.slice(),this._resetRange()},getSelected:function(){var t=this.getExtent(),e=o.asc((this.get("range")||[]).slice());return e[0]>t[1]&&(e[0]=t[1]),e[1]>t[1]&&(e[1]=t[1]),e[0]<t[0]&&(e[0]=t[0]),e[1]<t[0]&&(e[1]=t[0]),e},getValueState:function(t){var e=this.option.range,n=this.getExtent();return(e[0]<=n[0]||e[0]<=t)&&(e[1]>=n[1]||t<=e[1])?"inRange":"outOfRange"},findTargetDataIndices:function(t){var e=[];return this.eachTargetSeries(function(n){var i=[],r=n.getData();r.each(this.getDataDimension(r),function(e,n){t[0]<=e&&e<=t[1]&&i.push(n)},this),e.push({seriesId:n.id,dataIndex:i})},this),e},getVisualMeta:function(t){function e(e,n){a.push({value:e,color:t(e,n)})}for(var n=i(this,"outOfRange",this.getExtent()),r=i(this,"inRange",this.option.range.slice()),a=[],o=0,s=0,l=r.length,c=n.length;s<c&&(!r.length||n[s]<=r[0]);s++)n[s]<r[o]&&e(n[s],"outOfRange");for(var u=1;o<l;o++,u=0)u&&a.length&&e(r[o],"outOfRange"),e(r[o],"inRange");for(var u=1;s<c;s++)(!r.length||r[r.length-1]<n[s])&&(u&&(a.length&&e(a[a.length-1].value,"outOfRange"),u=0),e(n[s],"outOfRange"));var h=a.length;return{stops:a,outerColors:[h?a[0].color:"transparent",h?a[h-1].color:"transparent"]}}}),c=l;t.exports=c},function(t,e,n){function i(t,e,n,i){return new p.Polygon({shape:{points:t},draggable:!!n,cursor:e,drift:n,onmousemove:function(t){h.stop(t.event)},ondragend:i})}function r(t,e){return 0===t?[[0,0],[e,0],[e,-e]]:[[0,0],[e,0],[e,e]]}function a(t,e,n,i){return t?[[0,-_(e,b(n,0))],[M,0],[0,_(e,b(i-n,0))]]:[[0,0],[5,-5],[5,5]]}function o(t,e,n){var i=w/2,r=t.get("hoverLinkDataSize");return r&&(i=y(r,e,n,!0)/2),i}function s(t){var e=t.get("hoverLinkOnHandle");return!!(null==e?t.get("realtime"):e)}function l(t){return"vertical"===t?"ns-resize":"ew-resize"}var c=n(0),u=n(99),h=n(23),d=n(231),p=n(2),f=n(3),g=n(54),m=n(232),v=n(4),y=f.linearMap,x=c.each,_=Math.min,b=Math.max,w=12,M=6,S=d.extend({type:"visualMap.continuous",init:function(){S.superApply(this,"init",arguments),this._shapes={},this._dataInterval=[],this._handleEnds=[],this._orient,this._useHandle,this._hoverLinkDataIndices=[],this._dragging,this._hovering},doRender:function(t,e,n,i){i&&"selectDataRange"===i.type&&i.from===this.uid||this._buildView()},_buildView:function(){this.group.removeAll();var t=this.visualMapModel,e=this.group;this._orient=t.get("orient"),this._useHandle=t.get("calculable"),this._resetInterval(),this._renderBar(e);var n=t.get("text");this._renderEndsText(e,n,0),this._renderEndsText(e,n,1),this._updateView(!0),this.renderBackground(e),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(e)},_renderEndsText:function(t,e,n){if(e){var i=e[1-n];i=null!=i?i+"":"";var r=this.visualMapModel,a=r.get("textGap"),o=r.itemSize,s=this._shapes.barGroup,l=this._applyTransform([o[0]/2,0===n?-a:o[1]+a],s),c=this._applyTransform(0===n?"bottom":"top",s),u=this._orient,h=this.visualMapModel.textStyleModel;this.group.add(new p.Text({style:{x:l[0],y:l[1],textVerticalAlign:"horizontal"===u?"middle":c,textAlign:"horizontal"===u?c:"center",text:i,textFont:h.getFont(),textFill:h.getTextColor()}}))}},_renderBar:function(t){var e=this.visualMapModel,n=this._shapes,r=e.itemSize,a=this._orient,o=this._useHandle,s=m.getItemAlign(e,this.api,r),u=n.barGroup=this._createBarGroup(s);u.add(n.outOfRange=i()),u.add(n.inRange=i(null,o?l(this._orient):null,c.bind(this._dragHandle,this,"all",!1),c.bind(this._dragHandle,this,"all",!0)));var h=e.textStyleModel.getTextRect(""),d=b(h.width,h.height);o&&(n.handleThumbs=[],n.handleLabels=[],n.handleLabelPoints=[],this._createHandle(u,0,r,d,a,s),this._createHandle(u,1,r,d,a,s)),this._createIndicator(u,r,d,a),t.add(u)},_createHandle:function(t,e,n,a,o){var s=c.bind(this._dragHandle,this,e,!1),u=c.bind(this._dragHandle,this,e,!0),d=i(r(e,a),l(this._orient),s,u);d.position[0]=n[0],t.add(d);var f=this.visualMapModel.textStyleModel,g=new p.Text({draggable:!0,drift:s,onmousemove:function(t){h.stop(t.event)},ondragend:u,style:{x:0,y:0,text:"",textFont:f.getFont(),textFill:f.getTextColor()}});this.group.add(g);var m=["horizontal"===o?a/2:1.5*a,"horizontal"===o?0===e?-1.5*a:1.5*a:0===e?-a/2:a/2],v=this._shapes;v.handleThumbs[e]=d,v.handleLabelPoints[e]=m,v.handleLabels[e]=g},_createIndicator:function(t,e,n,r){var a=i([[0,0]],"move");a.position[0]=e[0],a.attr({invisible:!0,silent:!0}),t.add(a);var o=this.visualMapModel.textStyleModel,s=new p.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textFont:o.getFont(),textFill:o.getTextColor()}});this.group.add(s);var l=["horizontal"===r?n/2:M+3,0],c=this._shapes;c.indicator=a,c.indicatorLabel=s,c.indicatorLabelPoint=l},_dragHandle:function(t,e,n,i){if(this._useHandle){if(this._dragging=!e,!e){var r=this._applyTransform([n,i],this._shapes.barGroup,!0);this._updateInterval(t,r[1]),this._updateView()}e===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),e?!this._hovering&&this._clearHoverLinkToSeries():s(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[t],!1)}},_resetInterval:function(){var t=this.visualMapModel,e=this._dataInterval=t.getSelected(),n=t.getExtent(),i=[0,t.itemSize[1]];this._handleEnds=[y(e[0],n,i,!0),y(e[1],n,i,!0)]},_updateInterval:function(t,e){e=e||0;var n=this.visualMapModel,i=this._handleEnds,r=[0,n.itemSize[1]];g(e,i,r,t,0);var a=n.getExtent();this._dataInterval=[y(i[0],r,a,!0),y(i[1],r,a,!0)]},_updateView:function(t){var e=this.visualMapModel,n=e.getExtent(),i=this._shapes,r=[0,e.itemSize[1]],a=t?r:this._handleEnds,o=this._createBarVisual(this._dataInterval,n,a,"inRange"),s=this._createBarVisual(n,n,r,"outOfRange");i.inRange.setStyle({fill:o.barColor,opacity:o.opacity}).setShape("points",o.barPoints),i.outOfRange.setStyle({fill:s.barColor,opacity:s.opacity}).setShape("points",s.barPoints),this._updateHandle(a,o)},_createBarVisual:function(t,e,n,i){var r={forceState:i,convertOpacityToAlpha:!0},a=this._makeColorGradient(t,r),o=[this.getControllerVisual(t[0],"symbolSize",r),this.getControllerVisual(t[1],"symbolSize",r)],s=this._createBarPoints(n,o);return{barColor:new u(0,0,0,1,a),barPoints:s,handlesColor:[a[0].color,a[a.length-1].color]}},_makeColorGradient:function(t,e){var n=[],i=(t[1]-t[0])/100;n.push({color:this.getControllerVisual(t[0],"color",e),offset:0});for(var r=1;r<100;r++){var a=t[0]+i*r;if(a>t[1])break;n.push({color:this.getControllerVisual(a,"color",e),offset:r/100})}return n.push({color:this.getControllerVisual(t[1],"color",e),offset:1}),n},_createBarPoints:function(t,e){var n=this.visualMapModel.itemSize;return[[n[0]-e[0],t[0]],[n[0],t[0]],[n[0],t[1]],[n[0]-e[1],t[1]]]},_createBarGroup:function(t){var e=this._orient,n=this.visualMapModel.get("inverse");return new p.Group("horizontal"!==e||n?"horizontal"===e&&n?{scale:"bottom"===t?[-1,1]:[1,1],rotation:-Math.PI/2}:"vertical"!==e||n?{scale:"left"===t?[1,1]:[-1,1]}:{scale:"left"===t?[1,-1]:[-1,-1]}:{scale:"bottom"===t?[1,1]:[-1,1],rotation:Math.PI/2})},_updateHandle:function(t,e){if(this._useHandle){var n=this._shapes,i=this.visualMapModel,r=n.handleThumbs,a=n.handleLabels;x([0,1],function(o){var s=r[o];s.setStyle("fill",e.handlesColor[o]),s.position[1]=t[o];var l=p.applyTransform(n.handleLabelPoints[o],p.getTransform(s,this.group));a[o].setStyle({x:l[0],y:l[1],text:i.formatValueText(this._dataInterval[o]),textVerticalAlign:"middle",textAlign:this._applyTransform("horizontal"===this._orient?0===o?"bottom":"top":"left",n.barGroup)})},this)}},_showIndicator:function(t,e,n,i){var r=this.visualMapModel,o=r.getExtent(),s=r.itemSize,l=[0,s[1]],c=y(t,o,l,!0),u=this._shapes,h=u.indicator;if(h){h.position[1]=c,h.attr("invisible",!1),h.setShape("points",a(!!n,i,c,s[1]));var d={convertOpacityToAlpha:!0},f=this.getControllerVisual(t,"color",d);h.setStyle("fill",f);var g=p.applyTransform(u.indicatorLabelPoint,p.getTransform(h,this.group)),m=u.indicatorLabel;m.attr("invisible",!1);var v=this._applyTransform("left",u.barGroup),x=this._orient;m.setStyle({text:(n||"")+r.formatValueText(e),textVerticalAlign:"horizontal"===x?v:"middle",textAlign:"horizontal"===x?"center":v,x:g[0],y:g[1]})}},_enableHoverLinkToSeries:function(){var t=this;this._shapes.barGroup.on("mousemove",function(e){if(t._hovering=!0,!t._dragging){var n=t.visualMapModel.itemSize,i=t._applyTransform([e.offsetX,e.offsetY],t._shapes.barGroup,!0,!0);i[1]=_(b(0,i[1]),n[1]),t._doHoverLinkToSeries(i[1],0<=i[0]&&i[0]<=n[0])}}).on("mouseout",function(){t._hovering=!1,!t._dragging&&t._clearHoverLinkToSeries()})},_enableHoverLinkFromSeries:function(){var t=this.api.getZr();this.visualMapModel.option.hoverLink?(t.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),t.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},_doHoverLinkToSeries:function(t,e){var n=this.visualMapModel,i=n.itemSize;if(n.option.hoverLink){var r=[0,i[1]],a=n.getExtent();t=_(b(r[0],t),r[1]);var l=o(n,a,r),c=[t-l,t+l],u=y(t,r,a,!0),h=[y(c[0],r,a,!0),y(c[1],r,a,!0)];c[0]<r[0]&&(h[0]=-1/0),c[1]>r[1]&&(h[1]=1/0),e&&(h[0]===-1/0?this._showIndicator(u,h[1],"< ",l):h[1]===1/0?this._showIndicator(u,h[0],"> ",l):this._showIndicator(u,u," ",l));var d=this._hoverLinkDataIndices,p=[];(e||s(n))&&(p=this._hoverLinkDataIndices=n.findTargetDataIndices(h));var f=v.compressBatches(d,p);this._dispatchHighDown("downplay",m.makeHighDownBatch(f[0],n)),this._dispatchHighDown("highlight",m.makeHighDownBatch(f[1],n))}},_hoverLinkFromSeriesMouseOver:function(t){var e=t.target,n=this.visualMapModel;if(e&&null!=e.dataIndex){var i=this.ecModel.getSeriesByIndex(e.seriesIndex);if(n.isTargetSeries(i)){var r=i.getData(e.dataType),a=r.get(n.getDataDimension(r),e.dataIndex,!0);isNaN(a)||this._showIndicator(a,a)}}},_hideIndicator:function(){var t=this._shapes;t.indicator&&t.indicator.attr("invisible",!0),t.indicatorLabel&&t.indicatorLabel.attr("invisible",!0)},_clearHoverLinkToSeries:function(){this._hideIndicator();var t=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",m.makeHighDownBatch(t,this.visualMapModel)),t.length=0},_clearHoverLinkFromSeries:function(){this._hideIndicator();var t=this.api.getZr();t.off("mouseover",this._hoverLinkFromSeriesMouseOver),t.off("mouseout",this._hideIndicator)},_applyTransform:function(t,e,n,i){var r=p.getTransform(e,i?null:this.group);return p[c.isArray(t)?"applyTransform":"transformDirection"](t,r,n)},_dispatchHighDown:function(t,e){e&&e.length&&this.api.dispatchAction({type:t,batch:e})},dispose:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},remove:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()}}),T=S;t.exports=T},function(t,e,n){function i(t,e){var n=t.inverse;("vertical"===t.orient?!n:n)&&e.reverse()}var r=n(5),a=(r.__DEV__,n(0)),o=n(229),s=n(45),l=n(230),c=n(3),u=c.reformIntervals,h=o.extend({type:"visualMap.piecewise",defaultOption:{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieceList:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0,showLabel:null},optionUpdated:function(t,e){h.superApply(this,"optionUpdated",arguments),this._pieceList=[],this.resetExtent();var n=this._mode=this._determineMode();d[this._mode].call(this),this._resetSelected(t,e);var i=this.option.categories;this.resetVisual(function(t,e){"categories"===n?(t.mappingMethod="category",t.categories=a.clone(i)):(t.dataExtent=this.getExtent(),t.mappingMethod="piecewise",t.pieceList=a.map(this._pieceList,function(t){var t=a.clone(t);return"inRange"!==e&&(t.visual=null),t}))})},completeVisualOption:function(){function t(t,e,n){return t&&t[e]&&(a.isObject(t[e])?t[e].hasOwnProperty(n):t[e]===n)}var e=this.option,n={},i=s.listVisualTypes(),r=this.isCategory();a.each(e.pieces,function(t){a.each(i,function(e){t.hasOwnProperty(e)&&(n[e]=1)})}),a.each(n,function(n,i){var o=0;a.each(this.stateList,function(n){o|=t(e,n,i)||t(e.target,n,i)},this),!o&&a.each(this.stateList,function(t){(e[t]||(e[t]={}))[i]=l.get(i,"inRange"===t?"active":"inactive",r)})},this),o.prototype.completeVisualOption.apply(this,arguments)},_resetSelected:function(t,e){var n=this.option,i=this._pieceList,r=(e?n:t).selected||{};if(n.selected=r,a.each(i,function(t,e){var n=this.getSelectedMapKey(t);r.hasOwnProperty(n)||(r[n]=!0)},this),"single"===n.selectedMode){var o=!1;a.each(i,function(t,e){var n=this.getSelectedMapKey(t);r[n]&&(o?r[n]=!1:o=!0)},this)}},getSelectedMapKey:function(t){return"categories"===this._mode?t.value+"":t.index+""},getPieceList:function(){return this._pieceList},_determineMode:function(){var t=this.option;return t.pieces&&t.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},setSelected:function(t){this.option.selected=a.clone(t)},getValueState:function(t){var e=s.findPieceIndex(t,this._pieceList);return null!=e&&this.option.selected[this.getSelectedMapKey(this._pieceList[e])]?"inRange":"outOfRange"},findTargetDataIndices:function(t){var e=[];return this.eachTargetSeries(function(n){var i=[],r=n.getData();r.each(this.getDataDimension(r),function(e,n){s.findPieceIndex(e,this._pieceList)===t&&i.push(n)},this),e.push({seriesId:n.id,dataIndex:i})},this),e},getRepresentValue:function(t){var e;if(this.isCategory())e=t.value;else if(null!=t.value)e=t.value;else{var n=t.interval||[];e=n[0]===-1/0&&n[1]===1/0?0:(n[0]+n[1])/2}return e},getVisualMeta:function(t){function e(e,a){var o=r.getRepresentValue({interval:e});a||(a=r.getValueState(o));var s=t(o,a);e[0]===-1/0?i[0]=s:e[1]===1/0?i[1]=s:n.push({value:e[0],color:s},{value:e[1],color:s})}if(!this.isCategory()){var n=[],i=[],r=this,o=this._pieceList.slice();if(o.length){var s=o[0].interval[0];s!==-1/0&&o.unshift({interval:[-1/0,s]}),s=o[o.length-1].interval[1],s!==1/0&&o.push({interval:[s,1/0]})}else o.push({interval:[-1/0,1/0]});var l=-1/0;return a.each(o,function(t){var n=t.interval;n&&(n[0]>l&&e([l,n[0]],"outOfRange"),e(n.slice()),l=n[1])},this),{stops:n,outerColors:i}}}}),d={splitNumber:function(){var t=this.option,e=this._pieceList,n=Math.min(t.precision,20),i=this.getExtent(),r=t.splitNumber;r=Math.max(parseInt(r,10),1),t.splitNumber=r;for(var o=(i[1]-i[0])/r;+o.toFixed(n)!==o&&n<5;)n++;t.precision=n,o=+o.toFixed(n);var s=0;t.minOpen&&e.push({index:s++,interval:[-1/0,i[0]],close:[0,0]});for(var l=i[0],c=s+r;s<c;l+=o){var h=s===r-1?i[1]:l+o;e.push({index:s++,interval:[l,h],close:[1,1]})}t.maxOpen&&e.push({index:s++,interval:[i[1],1/0],close:[0,0]}),u(e),a.each(e,function(t){t.text=this.formatValueText(t.interval)},this)},categories:function(){var t=this.option;a.each(t.categories,function(t){this._pieceList.push({text:this.formatValueText(t,!0),value:t})},this),i(t,this._pieceList)},pieces:function(){var t=this.option,e=this._pieceList;a.each(t.pieces,function(t,n){a.isObject(t)||(t={value:t});var i={text:"",index:n};if(null!=t.label&&(i.text=t.label),t.hasOwnProperty("value")){var r=i.value=t.value;i.interval=[r,r],i.close=[1,1]}else{for(var o=i.interval=[],l=i.close=[0,0],c=[1,0,1],u=[-1/0,1/0],h=[],d=0;d<2;d++){for(var p=[["gte","gt","min"],["lte","lt","max"]][d],f=0;f<3&&null==o[d];f++)o[d]=t[p[f]],l[d]=c[f],h[d]=2===f;null==o[d]&&(o[d]=u[d])}h[0]&&o[1]===1/0&&(l[0]=0),h[1]&&o[0]===-1/0&&(l[1]=0),o[0]===o[1]&&l[0]&&l[1]&&(i.value=o[0])}i.visual=s.retrieveVisuals(t),e.push(i)},this),i(t,e),u(e),a.each(e,function(t){var e=t.close,n=[["<",""][e[1]],[">",""][e[0]]];t.text=t.text||this.formatValueText(null!=t.value?t.value:t.interval,!1,n)},this)}},p=h;t.exports=p},function(t,e,n){var i=n(0),r=n(231),a=n(2),o=n(19),s=o.createSymbol,l=n(6),c=n(232),u=r.extend({type:"visualMap.piecewise",doRender:function(){function t(t){var o=t.piece,l=new a.Group;l.onclick=i.bind(this._onItemClick,this,o),this._enableHoverLink(l,t.indexInModelPieceList);var d=n.getRepresentValue(o);if(this._createItemSymbol(l,d,[0,0,h[0],h[1]]),f){var p=this.visualMapModel.getValueState(d);l.add(new a.Text({style:{x:"right"===u?-r:h[0]+r,y:h[1]/2,text:o.text,textVerticalAlign:"middle",textAlign:u,textFont:s,textFill:c,opacity:"outOfRange"===p?.5:1}}))}e.add(l)}var e=this.group;e.removeAll();var n=this.visualMapModel,r=n.get("textGap"),o=n.textStyleModel,s=o.getFont(),c=o.getTextColor(),u=this._getItemAlign(),h=n.itemSize,d=this._getViewData(),p=d.endsText,f=i.retrieve(n.get("showLabel",!0),!p);p&&this._renderEndsText(e,p[0],h,f,u),i.each(d.viewPieceList,t,this),p&&this._renderEndsText(e,p[1],h,f,u),l.box(n.get("orient"),e,n.get("itemGap")),this.renderBackground(e),this.positionGroup(e)},_enableHoverLink:function(t,e){function n(t){var n=this.visualMapModel;n.option.hoverLink&&this.api.dispatchAction({type:t,batch:c.makeHighDownBatch(n.findTargetDataIndices(e),n)})}t.on("mouseover",i.bind(n,this,"highlight")).on("mouseout",i.bind(n,this,"downplay"))},_getItemAlign:function(){var t=this.visualMapModel,e=t.option;if("vertical"===e.orient)return c.getItemAlign(t,this.api,t.itemSize);var n=e.align;return n&&"auto"!==n||(n="left"),n},_renderEndsText:function(t,e,n,i,r){if(e){var o=new a.Group,s=this.visualMapModel.textStyleModel;o.add(new a.Text({style:{x:i?"right"===r?n[0]:0:n[0]/2,y:n[1]/2,textVerticalAlign:"middle",textAlign:i?r:"center",text:e,textFont:s.getFont(),textFill:s.getTextColor()}})),t.add(o)}},_getViewData:function(){var t=this.visualMapModel,e=i.map(t.getPieceList(),function(t,e){return{piece:t,indexInModelPieceList:e}}),n=t.get("text"),r=t.get("orient"),a=t.get("inverse");return("horizontal"===r?a:!a)?e.reverse():n&&(n=n.slice().reverse()),{viewPieceList:e,endsText:n}},_createItemSymbol:function(t,e,n){t.add(s(this.getControllerVisual(e,"symbol"),n[0],n[1],n[2],n[3],this.getControllerVisual(e,"color")))},_onItemClick:function(t){var e=this.visualMapModel,n=e.option,r=i.clone(n.selected),a=e.getSelectedMapKey(t);"single"===n.selectedMode?(r[a]=!0,i.each(r,function(t,e){r[e]=e===a})):r[a]=!r[a],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:r})}}),h=u;t.exports=h},function(t,e,n){n(583),(0,n(74).registerPainter)("vml",n(584))},function(t,e,n){var i=n(11),r=n(7),a=r.applyTransform,o=n(8),s=n(24),l=n(17),c=n(77),u=n(161),h=n(59),d=n(47),p=n(39),f=n(10),g=n(49),m=n(79),v=n(235),y=g.CMD,x=Math.round,_=Math.sqrt,b=Math.abs,w=Math.cos,M=Math.sin,S=Math.max;if(!i.canvasSupported){var T=21600,A=T/2,C=function(t){t.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px;",t.coordsize=T+","+T,t.coordorigin="0,0"},L=function(t){return String(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;")},E=function(t,e,n){return"rgb("+[t,e,n].join(",")+")"},I=function(t,e){e&&t&&e.parentNode!==t&&t.appendChild(e)},P=function(t,e){e&&t&&e.parentNode===t&&t.removeChild(e)},D=function(t,e,n){return 1e5*(parseFloat(t)||0)+1e3*(parseFloat(e)||0)+n},R=c.parsePercent,O=function(t,e,n){var i=s.parse(e);n=+n,isNaN(n)&&(n=1),i&&(t.color=E(i[0],i[1],i[2]),t.opacity=n*i[3])},k=function(t){var e=s.parse(t);return[E(e[0],e[1],e[2]),e[3]]},N=function(t,e,n){var i=e.fill;if(null!=i)if(i instanceof m){var r,o=0,s=[0,0],l=0,c=1,u=n.getBoundingRect(),h=u.width,d=u.height;if("linear"===i.type){r="gradient";var p=n.transform,f=[i.x*h,i.y*d],g=[i.x2*h,i.y2*d];p&&(a(f,f,p),a(g,g,p));var v=g[0]-f[0],y=g[1]-f[1];o=180*Math.atan2(v,y)/Math.PI,o<0&&(o+=360),o<1e-6&&(o=0)}else{r="gradientradial";var f=[i.x*h,i.y*d],p=n.transform,x=n.scale,_=h,b=d;s=[(f[0]-u.x)/_,(f[1]-u.y)/b],p&&a(f,f,p),_/=x[0]*T,b/=x[1]*T;var w=S(_,b);l=0/w,c=2*i.r/w-l}var M=i.colorStops.slice();M.sort(function(t,e){return t.offset-e.offset});for(var A=M.length,C=[],L=[],E=0;E<A;E++){var I=M[E],P=k(I.color);L.push(I.offset*c+l+" "+P[0]),0!==E&&E!==A-1||C.push(P)}if(A>=2){var D=C[0][0],R=C[1][0],N=C[0][1]*e.opacity,z=C[1][1]*e.opacity;t.type=r,t.method="none",t.focus="100%",t.angle=o,t.color=D,t.color2=R,t.colors=L.join(","),t.opacity=z,t.opacity2=N}"radial"===r&&(t.focusposition=s.join(","))}else O(t,i,e.opacity)},z=function(t,e){e.lineDash&&(t.dashstyle=e.lineDash.join(" ")),null==e.stroke||e.stroke instanceof m||O(t,e.stroke,e.opacity)},B=function(t,e,n,i){var r="fill"===e,a=t.getElementsByTagName(e)[0];null!=n[e]&&"none"!==n[e]&&(r||!r&&n.lineWidth)?(t[r?"filled":"stroked"]="true",n[e]instanceof m&&P(t,a),a||(a=v.createNode(e)),r?N(a,n,i):z(a,n),I(t,a)):(t[r?"filled":"stroked"]="false",P(t,a))},V=[[],[],[]],F=function(t,e){var n,i,r,o,s,l,c=y.M,u=y.C,h=y.L,d=y.A,p=y.Q,f=[],g=t.data,m=t.len();for(o=0;o<m;){switch(r=g[o++],i="",n=0,r){case c:i=" m ",n=1,s=g[o++],l=g[o++],V[0][0]=s,V[0][1]=l;break;case h:i=" l ",n=1,s=g[o++],l=g[o++],V[0][0]=s,V[0][1]=l;break;case p:case u:i=" c ",n=3;var v,b,S=g[o++],C=g[o++],L=g[o++],E=g[o++];r===p?(v=L,b=E,L=(L+2*S)/3,E=(E+2*C)/3,S=(s+2*S)/3,C=(l+2*C)/3):(v=g[o++],b=g[o++]),V[0][0]=S,V[0][1]=C,V[1][0]=L,V[1][1]=E,V[2][0]=v,V[2][1]=b,s=v,l=b;break;case d:var I=0,P=0,D=1,R=1,O=0;e&&(I=e[4],P=e[5],D=_(e[0]*e[0]+e[1]*e[1]),R=_(e[2]*e[2]+e[3]*e[3]),O=Math.atan2(-e[1]/R,e[0]/D));var k=g[o++],N=g[o++],z=g[o++],B=g[o++],F=g[o++]+O,G=g[o++]+F+O;o++;var H=g[o++],U=k+w(F)*z,j=N+M(F)*B,S=k+w(G)*z,C=N+M(G)*B,W=H?" wa ":" at ";Math.abs(U-S)<1e-4&&(Math.abs(G-F)>.01?H&&(U+=.0125):Math.abs(j-N)<1e-4?H&&U<k||!H&&U>k?C-=.0125:C+=.0125:H&&j<N||!H&&j>N?S+=.0125:S-=.0125),f.push(W,x(((k-z)*D+I)*T-A),",",x(((N-B)*R+P)*T-A),",",x(((k+z)*D+I)*T-A),",",x(((N+B)*R+P)*T-A),",",x((U*D+I)*T-A),",",x((j*R+P)*T-A),",",x((S*D+I)*T-A),",",x((C*R+P)*T-A)),s=S,l=C;break;case y.R:var $=V[0],Y=V[1];$[0]=g[o++],$[1]=g[o++],Y[0]=$[0]+g[o++],Y[1]=$[1]+g[o++],e&&(a($,$,e),a(Y,Y,e)),$[0]=x($[0]*T-A),Y[0]=x(Y[0]*T-A),$[1]=x($[1]*T-A),Y[1]=x(Y[1]*T-A),f.push(" m ",$[0],",",$[1]," l ",Y[0],",",$[1]," l ",Y[0],",",Y[1]," l ",$[0],",",Y[1]);break;case y.Z:f.push(" x ")}if(n>0){f.push(i);for(var X=0;X<n;X++){var q=V[X];e&&a(q,q,e),f.push(x(q[0]*T-A),",",x(q[1]*T-A),X<n-1?",":"")}}}return f.join("")};f.prototype.brushVML=function(t){var e=this.style,n=this._vmlEl;n||(n=v.createNode("shape"),C(n),this._vmlEl=n),B(n,"fill",e,this),B(n,"stroke",e,this);var i=this.transform,r=null!=i,a=n.getElementsByTagName("stroke")[0];if(a){var o=e.lineWidth;if(r&&!e.strokeNoScale){var s=i[0]*i[3]-i[1]*i[2];o*=_(b(s))}a.weight=o+"px"}var l=this.path||(this.path=new g);this.__dirtyPath&&(l.beginPath(),l.subPixelOptimize=!1,this.buildPath(l,this.shape),l.toStatic(),this.__dirtyPath=!1),n.path=F(l,this.transform),n.style.zIndex=D(this.zlevel,this.z,this.z2),I(t,n),null!=e.text?this.drawRectText(t,this.getBoundingRect()):this.removeRectText(t)},f.prototype.onRemove=function(t){P(t,this._vmlEl),this.removeRectText(t)},f.prototype.onAdd=function(t){I(t,this._vmlEl),this.appendRectText(t)};var G=function(t){return"object"==typeof t&&t.tagName&&"IMG"===t.tagName.toUpperCase()};d.prototype.brushVML=function(t){var e,n,i=this.style,r=i.image;if(G(r)){var o=r.src;if(o===this._imageSrc)e=this._imageWidth,n=this._imageHeight;else{var s=r.runtimeStyle,l=s.width,c=s.height;s.width="auto",s.height="auto",e=r.width,n=r.height,s.width=l,s.height=c,this._imageSrc=o,this._imageWidth=e,this._imageHeight=n}r=o}else r===this._imageSrc&&(e=this._imageWidth,n=this._imageHeight);if(r){var u=i.x||0,h=i.y||0,d=i.width,p=i.height,f=i.sWidth,g=i.sHeight,m=i.sx||0,y=i.sy||0,b=f&&g,w=this._vmlEl;w||(w=v.doc.createElement("div"),C(w),this._vmlEl=w);var M,T=w.style,A=!1,L=1,E=1;if(this.transform&&(M=this.transform,L=_(M[0]*M[0]+M[1]*M[1]),E=_(M[2]*M[2]+M[3]*M[3]),A=M[1]||M[2]),A){var P=[u,h],R=[u+d,h],O=[u,h+p],k=[u+d,h+p];a(P,P,M),a(R,R,M),a(O,O,M),a(k,k,M);var N=S(P[0],R[0],O[0],k[0]),z=S(P[1],R[1],O[1],k[1]),B=[];B.push("M11=",M[0]/L,",","M12=",M[2]/E,",","M21=",M[1]/L,",","M22=",M[3]/E,",","Dx=",x(u*L+M[4]),",","Dy=",x(h*E+M[5])),T.padding="0 "+x(N)+"px "+x(z)+"px 0",T.filter="progid:DXImageTransform.Microsoft.Matrix("+B.join("")+", SizingMethod=clip)"}else M&&(u=u*L+M[4],h=h*E+M[5]),T.filter="",T.left=x(u)+"px",T.top=x(h)+"px";var V=this._imageEl,F=this._cropEl;V||(V=v.doc.createElement("div"),this._imageEl=V);var H=V.style;if(b){if(e&&n)H.width=x(L*e*d/f)+"px",H.height=x(E*n*p/g)+"px";else{var U=new Image,j=this;U.onload=function(){U.onload=null,e=U.width,n=U.height,H.width=x(L*e*d/f)+"px",H.height=x(E*n*p/g)+"px",j._imageWidth=e,j._imageHeight=n,j._imageSrc=r},U.src=r}F||(F=v.doc.createElement("div"),F.style.overflow="hidden",this._cropEl=F);var W=F.style;W.width=x((d+m*d/f)*L),W.height=x((p+y*p/g)*E),W.filter="progid:DXImageTransform.Microsoft.Matrix(Dx="+-m*d/f*L+",Dy="+-y*p/g*E+")",F.parentNode||w.appendChild(F),V.parentNode!==F&&F.appendChild(V)}else H.width=x(L*d)+"px",H.height=x(E*p)+"px",w.appendChild(V),F&&F.parentNode&&(w.removeChild(F),this._cropEl=null);var $="",Y=i.opacity;Y<1&&($+=".Alpha(opacity="+x(100*Y)+") "),$+="progid:DXImageTransform.Microsoft.AlphaImageLoader(src="+r+", SizingMethod=scale)",H.filter=$,w.style.zIndex=D(this.zlevel,this.z,this.z2),I(t,w),null!=i.text&&this.drawRectText(t,this.getBoundingRect())}},d.prototype.onRemove=function(t){P(t,this._vmlEl),this._vmlEl=null,this._cropEl=null,this._imageEl=null,this.removeRectText(t)},d.prototype.onAdd=function(t){I(t,this._vmlEl),this.appendRectText(t)};var H,U={},j=0,W=document.createElement("div"),$=function(t){var e=U[t];if(!e){j>100&&(j=0,U={});var n,i=W.style;try{i.font=t,n=i.fontFamily.split(",")[0]}catch(t){}e={style:i.fontStyle||"normal",variant:i.fontVariant||"normal",weight:i.fontWeight||"normal",size:0|parseFloat(i.fontSize||12),family:n||"Microsoft YaHei"},U[t]=e,j++}return e};l.$override("measureText",function(t,e){var n=v.doc;H||(H=n.createElement("div"),H.style.cssText="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;",v.doc.body.appendChild(H));try{H.style.font=e}catch(t){}return H.innerHTML="",H.appendChild(n.createTextNode(t)),{width:H.offsetWidth}});for(var Y=new o,X=function(t,e,n,i){var r=this.style;this.__dirty&&c.normalizeTextStyle(r,!0);var o=r.text;if(null!=o&&(o+=""),o){if(r.rich){var s=l.parseRichText(o,r);o=[];for(var u=0;u<s.lines.length;u++){for(var h=s.lines[u].tokens,d=[],p=0;p<h.length;p++)d.push(h[p].text);o.push(d.join(""))}o=o.join("\n")}var f,g,m=r.textAlign,y=r.textVerticalAlign,_=$(r.font),b=_.style+" "+_.variant+" "+_.weight+" "+_.size+'px "'+_.family+'"';n=n||l.getBoundingRect(o,b,m,y,r.textPadding,r.textLineHeight);var w=this.transform;if(w&&!i&&(Y.copy(e),Y.applyTransform(w),e=Y),i)f=e.x,g=e.y;else{var M=r.textPosition;if(M instanceof Array)f=e.x+R(M[0],e.width),g=e.y+R(M[1],e.height),m=m||"left";else{var S=this.calculateTextPosition?this.calculateTextPosition({},r,e):l.calculateTextPosition({},r,e);f=S.x,g=S.y,m=m||S.textAlign,y=y||S.textVerticalAlign}}f=l.adjustTextX(f,n.width,m),g=l.adjustTextY(g,n.height,y),g+=n.height/2;var T,A,E,P=v.createNode,O=this._textVmlEl;O?(E=O.firstChild,T=E.nextSibling,A=T.nextSibling):(O=P("line"),T=P("path"),A=P("textpath"),E=P("skew"),A.style["v-text-align"]="left",C(O),T.textpathok=!0,A.on=!0,O.from="0 0",O.to="1000 0.05",I(O,E),I(O,T),I(O,A),this._textVmlEl=O);var k=[f,g],N=O.style;w&&i?(a(k,k,w),E.on=!0,E.matrix=w[0].toFixed(3)+","+w[2].toFixed(3)+","+w[1].toFixed(3)+","+w[3].toFixed(3)+",0,0",E.offset=(x(k[0])||0)+","+(x(k[1])||0),E.origin="0 0",N.left="0px",N.top="0px"):(E.on=!1,N.left=x(f)+"px",N.top=x(g)+"px"),A.string=L(o);try{A.style.font=b}catch(t){}B(O,"fill",{fill:r.textFill,opacity:r.opacity},this),B(O,"stroke",{stroke:r.textStroke,opacity:r.opacity,lineDash:r.lineDash||null},this),O.style.zIndex=D(this.zlevel,this.z,this.z2),I(t,O)}},q=function(t){P(t,this._textVmlEl),this._textVmlEl=null},Z=function(t){I(t,this._textVmlEl)},J=[u,h,d,f,p],K=0;K<J.length;K++){var Q=J[K].prototype;Q.drawRectText=X,Q.removeRectText=q,Q.appendRectText=Z}p.prototype.brushVML=function(t){var e=this.style;null!=e.text?this.drawRectText(t,{x:e.x||0,y:e.y||0,width:0,height:0},this.getBoundingRect(),!0):this.removeRectText(t)},p.prototype.onRemove=function(t){this.removeRectText(t)},p.prototype.onAdd=function(t){this.appendRectText(t)}}},function(t,e,n){function i(t){return parseInt(t,10)}function r(t,e){s.initVML(),this.root=t,this.storage=e;var n=document.createElement("div"),i=document.createElement("div");n.style.cssText="display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;",i.style.cssText="position:absolute;left:0;top:0;",t.appendChild(n),this._vmlRoot=i,this._vmlViewport=n,this.resize();var r=e.delFromStorage,a=e.addToStorage;e.delFromStorage=function(t){r.call(e,t),t&&t.onRemove&&t.onRemove(i)},e.addToStorage=function(t){t.onAdd&&t.onAdd(i),a.call(e,t)},this._firstPaint=!0}function a(t){return function(){o('In IE8.0 VML mode painter not support method "'+t+'"')}}var o=n(58),s=n(235),l=n(0),c=l.each;r.prototype={constructor:r,getType:function(){return"vml"},getViewportRoot:function(){return this._vmlViewport},getViewportRootOffset:function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},refresh:function(){var t=this.storage.getDisplayList(!0,!0);this._paintList(t)},_paintList:function(t){for(var e=this._vmlRoot,n=0;n<t.length;n++){var i=t[n];i.invisible||i.ignore?(i.__alreadyNotVisible||i.onRemove(e),i.__alreadyNotVisible=!0):(i.__alreadyNotVisible&&i.onAdd(e),i.__alreadyNotVisible=!1,i.__dirty&&(i.beforeBrush&&i.beforeBrush(),(i.brushVML||i.brush).call(i,e),i.afterBrush&&i.afterBrush())),i.__dirty=!1}this._firstPaint&&(this._vmlViewport.appendChild(e),this._firstPaint=!1)},resize:function(t,e){var t=null==t?this._getWidth():t,e=null==e?this._getHeight():e;if(this._width!==t||this._height!==e){this._width=t,this._height=e;var n=this._vmlViewport.style;n.width=t+"px",n.height=e+"px"}},dispose:function(){this.root.innerHTML="",this._vmlRoot=this._vmlViewport=this.storage=null},getWidth:function(){return this._width},getHeight:function(){return this._height},clear:function(){this._vmlViewport&&this.root.removeChild(this._vmlViewport)},_getWidth:function(){var t=this.root,e=t.currentStyle;return(t.clientWidth||i(e.width))-i(e.paddingLeft)-i(e.paddingRight)|0},_getHeight:function(){var t=this.root,e=t.currentStyle;return(t.clientHeight||i(e.height))-i(e.paddingTop)-i(e.paddingBottom)|0}},c(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],function(t){r.prototype[t]=a(t)});var u=r;t.exports=u},function(t,e,n){n(125),(0,n(74).registerPainter)("svg",n(586))},function(t,e,n){function i(t){return parseInt(t,10)}function r(t){return t instanceof m?S:t instanceof v?T:t instanceof y?A:S}function a(t,e){return e&&t&&e.parentNode!==t}function o(t,e,n){if(a(t,e)&&n){var i=n.nextSibling;i?t.insertBefore(e,i):t.appendChild(e)}}function s(t,e){if(a(t,e)){var n=t.firstChild;n?t.insertBefore(e,n):t.appendChild(e)}}function l(t,e){e&&t&&e.parentNode===t&&t.removeChild(e)}function c(t){return t.__textSvgEl}function u(t){return t.__svgEl}function h(t){return function(){g('In SVG mode painter not support method "'+t+'"')}}var d=n(126),p=d.createElement,f=n(0),g=n(58),m=n(10),v=n(47),y=n(39),x=n(587),_=n(588),b=n(589),w=n(590),M=n(125),S=M.path,T=M.image,A=M.text,C=function(t,e,n,i){this.root=t,this.storage=e,this._opts=n=f.extend({},n||{});var r=p("svg");r.setAttribute("xmlns","http://www.w3.org/2000/svg"),r.setAttribute("version","1.1"),r.setAttribute("baseProfile","full"),r.style.cssText="user-select:none;position:absolute;left:0;top:0;",this.gradientManager=new _(i,r),this.clipPathManager=new b(i,r),this.shadowManager=new w(i,r);var a=document.createElement("div");a.style.cssText="overflow:hidden;position:relative",this._svgRoot=r,this._viewport=a,t.appendChild(a),a.appendChild(r),this.resize(n.width,n.height),this._visibleList=[]};C.prototype={constructor:C,getType:function(){return"svg"},getViewportRoot:function(){return this._viewport},getViewportRootOffset:function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},refresh:function(){var t=this.storage.getDisplayList(!0);this._paintList(t)},setBackgroundColor:function(t){this._viewport.style.background=t},_paintList:function(t){this.gradientManager.markAllUnused(),this.clipPathManager.markAllUnused(),this.shadowManager.markAllUnused();var e,n=this._svgRoot,i=this._visibleList,a=t.length,h=[];for(e=0;e<a;e++){var d=t[e],p=r(d),f=u(d)||c(d);d.invisible||(d.__dirty&&(p&&p.brush(d),this.clipPathManager.update(d),d.style&&(this.gradientManager.update(d.style.fill),this.gradientManager.update(d.style.stroke),this.shadowManager.update(f,d)),d.__dirty=!1),h.push(d))}var g,m=x(i,h);for(e=0;e<m.length;e++){var v=m[e];if(v.removed)for(var y=0;y<v.count;y++){var d=i[v.indices[y]],f=u(d),_=c(d);l(n,f),l(n,_)}}for(e=0;e<m.length;e++){var v=m[e];if(v.added)for(var y=0;y<v.count;y++){var d=h[v.indices[y]],f=u(d),_=c(d);g?o(n,f,g):s(n,f),f?o(n,_,f):g?o(n,_,g):s(n,_),o(n,_,f),g=_||f||g,this.gradientManager.addWithoutUpdate(f||_,d),this.shadowManager.addWithoutUpdate(f||_,d),this.clipPathManager.markUsed(d)}else if(!v.removed)for(var y=0;y<v.count;y++){var d=h[v.indices[y]],f=u(d),_=c(d),f=u(d),_=c(d);this.gradientManager.markUsed(d),this.gradientManager.addWithoutUpdate(f||_,d),this.shadowManager.markUsed(d),this.shadowManager.addWithoutUpdate(f||_,d),this.clipPathManager.markUsed(d),_&&o(n,_,f),g=f||_||g}}this.gradientManager.removeUnused(),this.clipPathManager.removeUnused(),this.shadowManager.removeUnused(),this._visibleList=h},_getDefs:function(t){var e=this._svgRoot,n=this._svgRoot.getElementsByTagName("defs");if(0===n.length){if(t){var n=e.insertBefore(p("defs"),e.firstChild);return n.contains||(n.contains=function(t){var e=n.children;if(!e)return!1;for(var i=e.length-1;i>=0;--i)if(e[i]===t)return!0;return!1}),n}return null}return n[0]},resize:function(t,e){var n=this._viewport;n.style.display="none";var i=this._opts;if(null!=t&&(i.width=t),null!=e&&(i.height=e),t=this._getSize(0),e=this._getSize(1),n.style.display="",this._width!==t||this._height!==e){this._width=t,this._height=e;var r=n.style;r.width=t+"px",r.height=e+"px";var a=this._svgRoot;a.setAttribute("width",t),a.setAttribute("height",e)}},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(t){var e=this._opts,n=["width","height"][t],r=["clientWidth","clientHeight"][t],a=["paddingLeft","paddingTop"][t],o=["paddingRight","paddingBottom"][t];if(null!=e[n]&&"auto"!==e[n])return parseFloat(e[n]);var s=this.root,l=document.defaultView.getComputedStyle(s);return(s[r]||i(l[n])||i(s.style[n]))-(i(l[a])||0)-(i(l[o])||0)|0},dispose:function(){this.root.innerHTML="",this._svgRoot=this._viewport=this.storage=null},clear:function(){this._viewport&&this.root.removeChild(this._viewport)},pathToDataUrl:function(){return this.refresh(),"data:image/svg+xml;charset=UTF-8,"+this._svgRoot.outerHTML}},f.each(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],function(t){C.prototype[t]=h(t)});var L=C;t.exports=L},function(t,e){function n(){}function i(t,e,n,i){for(var r=0,a=e.length,o=0,s=0;r<a;r++){var l=e[r];if(l.removed){for(var c=[],u=s;u<s+l.count;u++)c.push(u);l.indices=c,s+=l.count}else{for(var c=[],u=o;u<o+l.count;u++)c.push(u);l.indices=c,o+=l.count,l.added||(s+=l.count)}}return e}function r(t){return{newPos:t.newPos,components:t.components.slice(0)}}function a(t,e,n){return o.diff(t,e,n)}n.prototype={diff:function(t,e,n){n||(n=function(t,e){return t===e}),this.equals=n;var a=this;t=t.slice(),e=e.slice();var o=e.length,s=t.length,l=1,c=o+s,u=[{newPos:-1,components:[]}],h=this.extractCommon(u[0],e,t,0);if(u[0].newPos+1>=o&&h+1>=s){for(var d=[],p=0;p<e.length;p++)d.push(p);return[{indices:d,count:e.length}]}for(;l<=c;){var f=function(){for(var n=-1*l;n<=l;n+=2){var c,h=u[n-1],d=u[n+1],p=(d?d.newPos:0)-n;h&&(u[n-1]=void 0);var f=h&&h.newPos+1<o,g=d&&0<=p&&p<s;if(f||g){if(!f||g&&h.newPos<d.newPos?(c=r(d),a.pushComponent(c.components,void 0,!0)):(c=h,c.newPos++,a.pushComponent(c.components,!0,void 0)),p=a.extractCommon(c,e,t,n),c.newPos+1>=o&&p+1>=s)return i(a,c.components,e,t);u[n]=c}else u[n]=void 0}l++}();if(f)return f}},pushComponent:function(t,e,n){var i=t[t.length-1];i&&i.added===e&&i.removed===n?t[t.length-1]={count:i.count+1,added:e,removed:n}:t.push({count:1,added:e,removed:n})},extractCommon:function(t,e,n,i){for(var r=e.length,a=n.length,o=t.newPos,s=o-i,l=0;o+1<r&&s+1<a&&this.equals(e[o+1],n[s+1]);)o++,s++,l++;return l&&t.components.push({count:l}),t.newPos=o,s},tokenize:function(t){return t.slice()},join:function(t){return t.slice()}};var o=new n;t.exports=a},function(t,e,n){function i(t,e){r.call(this,t,e,["linearGradient","radialGradient"],"__gradient_in_use__")}var r=n(127),a=n(0),o=n(58),s=n(24);a.inherits(i,r),i.prototype.addWithoutUpdate=function(t,e){if(e&&e.style){var n=this;a.each(["fill","stroke"],function(i){if(e.style[i]&&("linear"===e.style[i].type||"radial"===e.style[i].type)){var r,a=e.style[i],o=n.getDefs(!0);a._dom?(r=a._dom,o.contains(a._dom)||n.addDom(r)):r=n.add(a),n.markUsed(e);var s=r.getAttribute("id");t.setAttribute(i,"url(#"+s+")")}})}},i.prototype.add=function(t){var e;if("linear"===t.type)e=this.createElement("linearGradient");else{if("radial"!==t.type)return o("Illegal gradient type."),null;e=this.createElement("radialGradient")}return t.id=t.id||this.nextId++,e.setAttribute("id","zr"+this._zrId+"-gradient-"+t.id),this.updateDom(t,e),this.addDom(e),e},i.prototype.update=function(t){var e=this;r.prototype.update.call(this,t,function(){var n=t.type,i=t._dom.tagName;"linear"===n&&"linearGradient"===i||"radial"===n&&"radialGradient"===i?e.updateDom(t,t._dom):(e.removeDom(t),e.add(t))})},i.prototype.updateDom=function(t,e){if("linear"===t.type)e.setAttribute("x1",t.x),e.setAttribute("y1",t.y),e.setAttribute("x2",t.x2),e.setAttribute("y2",t.y2);else{if("radial"!==t.type)return void o("Illegal gradient type.");e.setAttribute("cx",t.x),e.setAttribute("cy",t.y),e.setAttribute("r",t.r)}t.global?e.setAttribute("gradientUnits","userSpaceOnUse"):e.setAttribute("gradientUnits","objectBoundingBox"),e.innerHTML="";for(var n=t.colorStops,i=0,r=n.length;i<r;++i){var a=this.createElement("stop");a.setAttribute("offset",100*n[i].offset+"%");var l=n[i].color;if(l.indexOf(!1)){var c=s.parse(l)[3],u=s.toHex(l);a.setAttribute("stop-color","#"+u),a.setAttribute("stop-opacity",c)}else a.setAttribute("stop-color",n[i].color);e.appendChild(a)}t._dom=e},i.prototype.markUsed=function(t){if(t.style){var e=t.style.fill;e&&e._dom&&r.prototype.markUsed.call(this,e._dom),e=t.style.stroke,e&&e._dom&&r.prototype.markUsed.call(this,e._dom)}};var l=i;t.exports=l},function(t,e,n){function i(t,e){r.call(this,t,e,"clipPath","__clippath_in_use__")}var r=n(127),a=n(0),o=n(15);a.inherits(i,r),i.prototype.update=function(t){var e=this.getSvgElement(t);e&&this.updateDom(e,t.__clipPaths,!1);var n=this.getTextSvgElement(t);n&&this.updateDom(n,t.__clipPaths,!0),this.markUsed(t)},i.prototype.updateDom=function(t,e,n){if(e&&e.length>0){var i,r,a=this.getDefs(!0),s=e[0],l=n?"_textDom":"_dom";s[l]?(r=s[l].getAttribute("id"),i=s[l],a.contains(i)||a.appendChild(i)):(r="zr"+this._zrId+"-clip-"+this.nextId,++this.nextId,i=this.createElement("clipPath"),i.setAttribute("id",r),a.appendChild(i),s[l]=i);var c=this.getSvgProxy(s);if(s.transform&&s.parent.invTransform&&!n){var u=Array.prototype.slice.call(s.transform);o.mul(s.transform,s.parent.invTransform,s.transform),c.brush(s),s.transform=u}else c.brush(s);var h=this.getSvgElement(s);i.innerHTML="",i.appendChild(h.cloneNode()),t.setAttribute("clip-path","url(#"+r+")"),e.length>1&&this.updateDom(i,e.slice(1),n)}else t&&t.setAttribute("clip-path","none")},i.prototype.markUsed=function(t){var e=this;t.__clipPaths&&a.each(t.__clipPaths,function(t){t._dom&&r.prototype.markUsed.call(e,t._dom),t._textDom&&r.prototype.markUsed.call(e,t._textDom)})};var s=i;t.exports=s},function(t,e,n){function i(t,e){a.call(this,t,e,["filter"],"__filter_in_use__","_shadowDom")}function r(t){return t&&(t.shadowBlur||t.shadowOffsetX||t.shadowOffsetY||t.textShadowBlur||t.textShadowOffsetX||t.textShadowOffsetY)}var a=n(127);n(0).inherits(i,a),i.prototype.addWithoutUpdate=function(t,e){if(e&&r(e.style)){var n;e._shadowDom?(n=e._shadowDom,this.getDefs(!0).contains(e._shadowDom)||this.addDom(n)):n=this.add(e),this.markUsed(e);var i=n.getAttribute("id");t.style.filter="url(#"+i+")"}},i.prototype.add=function(t){var e=this.createElement("filter");return t._shadowDomId=t._shadowDomId||this.nextId++,e.setAttribute("id","zr"+this._zrId+"-shadow-"+t._shadowDomId),this.updateDom(t,e),this.addDom(e),e},i.prototype.update=function(t,e){if(r(e.style)){var n=this;a.prototype.update.call(this,e,function(){n.updateDom(e,e._shadowDom)})}else this.remove(t,e)},i.prototype.remove=function(t,e){null!=e._shadowDomId&&(this.removeDom(t),t.style.filter="")},i.prototype.updateDom=function(t,e){var n=e.getElementsByTagName("feDropShadow");n=0===n.length?this.createElement("feDropShadow"):n[0];var i,r,a,o,s=t.style,l=t.scale?t.scale[0]||1:1,c=t.scale?t.scale[1]||1:1;if(s.shadowBlur||s.shadowOffsetX||s.shadowOffsetY)i=s.shadowOffsetX||0,r=s.shadowOffsetY||0,a=s.shadowBlur,o=s.shadowColor;else{if(!s.textShadowBlur)return void this.removeDom(e,s);i=s.textShadowOffsetX||0,r=s.textShadowOffsetY||0,a=s.textShadowBlur,o=s.textShadowColor}n.setAttribute("dx",i/l),n.setAttribute("dy",r/c),n.setAttribute("flood-color",o);var u=a/2/l,h=a/2/c,d=u+" "+h;n.setAttribute("stdDeviation",d),e.setAttribute("x","-100%"),e.setAttribute("y","-100%"),e.setAttribute("width",Math.ceil(a/2*200)+"%"),e.setAttribute("height",Math.ceil(a/2*200)+"%"),e.appendChild(n),t._shadowDom=e},i.prototype.markUsed=function(t){t._shadowDom&&a.prototype.markUsed.call(this,t._shadowDom)};var o=i;t.exports=o},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"echarts-chart"},[n("div",{attrs:{id:t.chartid}})])},r=[],a={render:i,staticRenderFns:r};e.a=a},function(t,e,n){"use strict";var i=n(236),r=n(593),a=n(20),o=a(i.a,r.a,!1,null,null,null);e.a=o.exports},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"echarts-chart"},[n("div",{attrs:{id:t.chartid}})])},r=[],a={render:i,staticRenderFns:r};e.a=a},function(t,e,n){"use strict";function i(t){n(595)}var r=n(237),a=n(598),o=n(20),s=i,l=o(r.a,a.a,!1,s,"data-v-788be7c2",null);e.a=l.exports},function(t,e,n){var i=n(596);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n(28)("2c278c3c",i,!0,{})},function(t,e,n){e=t.exports=n(27)(!1),e.push([t.i,".dpk-bar-chart ul.side-labels-container[data-v-788be7c2]{position:absolute;top:0;left:0;padding:0;margin:0}.dpk-bar-chart ul.side-labels-container>li[data-v-788be7c2]{display:block;position:absolute;padding:0;margin:0}.dpk-bar-chart>ul.label-container[data-v-788be7c2]{position:absolute;bottom:0;left:0;right:0;height:30px;padding:2px 0 0;margin:0}.dpk-bar-chart>ul.label-container>li[data-v-788be7c2]{position:absolute;text-align:center;display:block;padding:6px 0 0;margin:0}",""])},function(t,e,n){"use strict";var i=n(238);e.a={props:["values","details","uid"],data:function(){return{chartID:"bar-chart-"+Math.random().toString().split(".").join("")+"-"+Math.random().toString().split(".").join("")+"-"+Math.random().toString().split(".").join(""),ready:!1,wide:1,high:1,ratios:[],sideLabels:[],chartColors:i.a.ChartColors,chartMax:1}},methods:{renderChart:function(){var t=this;t.$data.wide=document.getElementById(this.$data.chartID).parentNode.getBoundingClientRect().width,t.$data.high=document.getElementById(this.$data.chartID).parentNode.getBoundingClientRect().height},collectRatios:function(){var t=this,e=[],n=0,r=0,a=[];if(t.values.length>0)if(t.values[0].value.join){var o=[];for(r=0;r<t.values.length;r++){for(e.push([]),n=0;n<t.values[r].value.length;n++)e[r].push(t.values[r].value[n]);o.push(i.a.getHighest(e[r]))}var s=i.a.getHighest(o),l=[];for(r=0;r<e.length;r++)l.push(i.a.getRatios(e[r],s));a=l}else{for(r=0;r<t.values.length;r++)e.push(t.values[r].value);for(t.$data.chartMax=1,r=0;r<i.a.getHighest(e,!0);r+=1)t.$data.sideLabels.push(r);a=i.a.getRatios(e)}return a},getLiveHeight:function(){return this.$data.high-30},renderPath:function(t,e){},getMargins:function(){return{left:20,right:20,bottom:20,top:20}},getLiveBounds:function(){return{x:this.getMargins().left,y:this.getMargins().top,width:this.wide-(this.getMargins().left+this.getMargins().right),height:this.high-(this.getMargins().top+this.getMargins().bottom)}}},watch:{uid:function(){this.renderChart()}},mounted:function(){var t=this;t.renderChart(),t.$data.ratios=t.collectRatios(),console.log(t.$data.ratios)}}},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dpk-bar-chart",style:"width:"+t.wide.toString()+"px;height:"+t.high.toString()+"px;",attrs:{id:t.chartID}},[n("svg",[t._l(t.ratios,function(e,i){return n("path",{key:"bar-"+i.toString(),attrs:{d:t.renderPath(e,i),fill:t.chartColors[0]}})}),t._v(" "),n("line",{attrs:{x1:"0",x2:"3000",y1:t.getLiveHeight()+1,y2:t.getLiveHeight()+1,stroke:"#000000"}}),t._v(" "),t._l(t.sideLabels,function(e,i){return n("line",{key:"sl="+i.toString(),attrs:{x1:"0",x2:"3000",y1:t.getLiveHeight()/t.sideLabels.length*i+1,y2:t.getLiveHeight()/t.sideLabels.length*i+1,stroke:"#000000"}})})],2),t._v(" "),n("ul",{staticClass:"side-labels-container"},t._l(t.sideLabels,function(e,i){return n("li",{key:"side-"+i.toString(),style:"top:"+(t.getLiveHeight()-t.getLiveHeight()*(t.chartMax*(i+1)/(t.chartMax*t.sideLabels.length))).toString()+"px;"},[t._v(t._s(t.chartMax*(i+1)))])})),t._v(" "),n("ul",{staticClass:"label-container"},t._l(t.values,function(e,i){return n("li",{key:"label_"+i.toString(),style:"top:0;left:"+(t.wide/t.values.length*i).toString()+"px;width:"+(t.wide/t.values.length).toString()+"px;",domProps:{innerHTML:t._s(e.label)}})}))])},r=[],a={render:i,staticRenderFns:r};e.a=a},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.shouldRender?n("sp3d",{staticClass:"prespectiv-view",attrs:{chartdata:t.chartData,perspective:40,distfactor:3,signature:t.signature,colors:t.colors,labels:t.metricNames,select:t.showSubCharts},on:{"point-selection":t.pointClicked,"data-update":t.onDataUpdated}}):t._e(),t._v(" "),t.showSubCharts?n("div",{staticClass:"subcharts-container"},[n("div",[n("h3",[t._v("\n        "+t._s(t.featurNames.split(",")[t.selectedIndex])+"\n      ")]),t._v(" "),n("ul"),t._v(" "),t.chartData.length>0?n("div",[n("dpkbarchart",{attrs:{values:t.subChartData.dpkBar,uid:"n"}})],1):t._e()])]):t._e()],1)},r=[],a={render:i,staticRenderFns:r};e.a=a}]);
//# sourceMappingURL=build.js.map